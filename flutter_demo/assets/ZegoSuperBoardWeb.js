/*! For license information please see ZegoSuperBoardWeb.js.LICENSE.txt */
!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var o=t();for(var r in o)("object"==typeof exports?exports:e)[r]=o[r]}}("undefined"!=typeof self?self:this,(function(){return function(e){var t={};function o(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,o),i.l=!0,i.exports}return o.m=e,o.c=t,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(r,i,function(t){return e[t]}.bind(null,i));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=436)}([function(e,t,o){"use strict";o.d(t,"d",(function(){return r})),o.d(t,"b",(function(){return i})),o.d(t,"a",(function(){return n})),o.d(t,"e",(function(){return a})),o.d(t,"f",(function(){return s})),o.d(t,"g",(function(){return u})),o.d(t,"h",(function(){return d})),o.d(t,"c",(function(){return p})),o.d(t,"l",(function(){return h})),o.d(t,"m",(function(){return _}));var r,i,n,a,s,c,l,u,d,p,h,_,f=o(35);o.d(t,"i",(function(){return f.a})),o.d(t,"j",(function(){return f.b})),o.d(t,"k",(function(){return f.c})),o.d(t,"n",(function(){return f.d})),o.d(t,"o",(function(){return f.e})),o.d(t,"p",(function(){return f.f})),function(e){e[e.PPT=1]="PPT",e[e.DOC=2]="DOC",e[e.ELS=4]="ELS",e[e.PDF=8]="PDF",e[e.IMG=16]="IMG",e[e.TXT=32]="TXT",e[e.PPTH5=512]="PPTH5",e[e.CUSTOM_H5=4096]="CUSTOM_H5"}(r||(r={})),function(e){e[e.Single=1]="Single",e[e.Multi=2]="Multi",e[e.Other=4]="Other"}(i||(i={})),function(e){e[e.Append=1]="Append",e[e.Update=2]="Update",e[e.Delete=4]="Delete",e[e.Move=8]="Move",e[e.Create=32]="Create"}(n||(n={})),function(e){e[e.Local=0]="Local",e[e.Remote=1]="Remote",e[e.UnReDo=2]="UnReDo",e[e.Reload=3]="Reload"}(a||(a={})),function(e){e[e.Pencil=1]="Pencil",e[e.Text=2]="Text",e[e.Line=4]="Line",e[e.Rect=8]="Rect",e[e.Ellipse=16]="Ellipse",e[e.Laser=128]="Laser",e[e.Image=256]="Image",e[e.BgImage=512]="BgImage",e[e.RealTime=999]="RealTime",e[e.Cursor=1024]="Cursor"}(s||(s={})),function(e){e[e.Pc=1]="Pc",e[e.Mobile=2]="Mobile"}(c||(c={})),function(e){e[e.Init=1]="Init",e[e.Down=2]="Down",e[e.Move=3]="Move",e[e.DownMove=4]="DownMove",e[e.DownMoveUp=5]="DownMoveUp",e[e.DownNoMoveUp=6]="DownNoMoveUp",e[e.Leave=7]="Leave",e[e.DownLeave=8]="DownLeave"}(l||(l={})),function(e){e[e.success=1]="success",e[e.error=2]="error"}(u||(u={})),function(e){e[e.InProgress=1]="InProgress",e[e.Pending=2]="Pending"}(d||(d={})),function(e){e[e.BatchSelete=0]="BatchSelete",e[e.ClearPage=1]="ClearPage",e[e.EraserTool=2]="EraserTool"}(p||(p={})),function(e){e[e.None=0]="None",e[e.Scale=1]="Scale",e[e.Scroll=2]="Scroll"}(h||(h={})),function(e){e[e.None=0]="None",e[e.Append=1]="Append",e[e.Update=2]="Update",e[e.Delete=4]="Delete",e[e.Move=8]="Move",e[e.Clear=16]="Clear",e[e.Create=32]="Create"}(_||(_={}))},function(e,t,o){"use strict";o.d(t,"a",(function(){return h})),o.d(t,"b",(function(){return _}));o(39),o(26),o(47),o(59),o(37),o(69),o(185),o(55),o(56),o(36),o(344),o(46),o(350),o(352),o(353),o(354),o(355),o(356),o(358),o(359),o(360),o(361),o(362),o(363),o(364),o(53),o(218),o(151),o(105),o(85);var r=function(){return(r=Object.assign||function(e){for(var t,o=1,r=arguments.length;o<r;o++)for(var i in t=arguments[o])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};var i=function(){function e(e,t){this.appid="",this.roomid="",this.userid="",this.token="",this.version="",this.versionAll={},this.platform="",this.extra={},this.isProd=!1,this.isElectron=!1,this.logLevel=3,this.logCacheSend=[],this.logCacheMax=100,this.platform=e||"",this.isElectron=t,this.openLogServer()}return e.prototype.init=function(e){var t=e.appid,o=e.version,r=e.versionAll,i=e.isProd,n=e.liveroom;this.appid=(t||this.appid)+"",this.version=o||this.version,this.versionAll=r,this.isProd=i,n&&!this.platform.includes("liveroom")&&(this.platform+=",liveroom")},e.prototype.initRoom=function(e){var t=e.roomid,o=e.userid,r=e.token,i=e.logLevel;this.roomid=t||this.roomid,this.userid=o||this.userid,this.token=r||this.token,"number"==typeof i&&(this.logLevel=i)},e.prototype.setLogConfig=function(e){"number"==typeof e&&(this.logLevel=e)},e.prototype.setExtraConfig=function(e){Object.assign(this.extra,e)},e.prototype.getConfig=function(){return{appid:+this.appid,roomid:this.roomid,userid:this.userid,token:this.token}},e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var o=this.log(0,e);if(this.logLevel<=0){var r=console.debug;r(o)}},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var o=this.log(1,e);if(this.logLevel<=1){var r=console.info;r(o)}},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var o=this.log(2,e);if(this.logLevel<=2){var r=console.warn;r(o)}},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var o=this.log(3,e);if(this.logLevel<=3){var r=console.error;r(o)}},e.prototype.writeLocalLog=function(e){},e.prototype.log=function(e,t){var o=this.isProd||this.isElectron?this.logParamList(e,t.join("")):t.join("");return this.isProd&&this.remoteWebSocketLog(e,o),this.isElectron&&this.writeLocalLog(o),o},e.prototype.openLogServer=function(){this.stopWebSocketServer(),this.websocket=new WebSocket("wss://weblogger-edu.zego.im/log")},e.prototype.stopWebSocketServer=function(){this.websocket&&(this.websocket.close(),this.websocket=null)},e.prototype.remoteWebSocketLog=function(e,t){if(!("string"==typeof t&&t.length>4e3))if(null==this.websocket||2==this.websocket.readyState||3==this.websocket.readyState)this.openLogServer(),this.logCacheSend.length<this.logCacheMax&&this.logCacheSend.push(t);else if(0==this.websocket.readyState)this.logCacheSend.length<this.logCacheMax&&this.logCacheSend.push(t);else if(1==this.websocket.readyState)if(this.logCacheSend.length>0){for(var o="",r=0;r<this.logCacheSend.length;r++)(o+this.logCacheSend[r]).length>4e3&&(this.websocket.send(o),o=""),o=o+this.logCacheSend[r]+"\n";t=o+t,this.logCacheSend=[],this.websocket.send(t)}else this.websocket.send(t);else this.logCacheSend.length<this.logCacheMax&&this.logCacheSend.push(t)},e.prototype.getVersion=function(e){var t,o,r="";return e.indexOf(".sb.")>0?r="SUPER_VER":e.indexOf(".wb.")>0?r="WhiteBoard_VER":e.indexOf(".docs.")>0&&(r="Docs_VER"),t=r,o=this.versionAll,t in o?this.versionAll[r]:this.version},e.prototype.logParamList=function(e,t){var o=new Date,i=o.toLocaleString()+"."+o.getMilliseconds(),n=t.indexOf(" "),a=t.substr(0,n)||t,s=t.substr(n+1,4500),l=r(r({time:i,level:e,action:a=""+c+a,content:s,appid:this.appid,userid:this.userid,roomid:this.roomid},this.extra),{version:this.getVersion(a),platform:this.platform,sdk_type:"wb"});return JSON.stringify(l)},e}(),n=function(e,t,o){var r=!(!e||!e.versions.electron);return{electron:r,platform:(r?e.platform:t)+","+o[o.length-2]+","+o[o.length-1]}}(window.process,navigator.platform,navigator.userAgent.split(" ")),a=n.electron,s=n.platform,c=a?"ec.":"web.";var l,u=window.zegoLogger||(window.zegoLogger=new i(s,a)),d=function(){return(d=Object.assign||function(e){for(var t,o=1,r=arguments.length;o<r;o++)for(var i in t=arguments[o])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};!function(e){e[e.debug=0]="debug",e[e.info=1]="info",e[e.warn=2]="warn",e[e.error=3]="error",e[e.report=99]="report",e[e.disable=100]="disable"}(l||(l={}));var p=function(){function e(){}return e.prototype.setDebugVerbose=function(e){},e.prototype.upload=function(e){return Promise.resolve({code:0})},e.prototype.write=function(e,t,o,r){return!0},e.prototype.supportDrivers=function(){return{IndexedDB:!0,webSQL:!0,localStorage:!0}},e.prototype.setHeaderInfo=function(e){},e.prototype.setConfig=function(e){},e.prototype.setCommonField=function(e){return!0},e.prototype.setLogLevel=function(){return!0},e}(),h=function(){function e(t,o,r){if(this.uploadConfig={appID:0,userID:"",token:"",product:"",uploadURL:"",deviceID:""},this.header={version:{},appID:"",userID:"",device:""},this.appID="",this.roomID="",this.userID="",this.token="",this.isTestEnv=!0,this.logLevel=3,this.version="",this.platform="",this.extra={},this.doc_env="",this.wb_env="",this.domain="imzego.com",e.instance)return e.instance;e.env=t,this.product=o,this.logger=new p,this.logger.setDebugVerbose(!1),e.instance=this}return e.getInstance=function(){return window.zegoAddonLogger||(window.zegoAddonLogger=new e(e.env,e.product))},e.prototype.getLogLevel=function(){return this.logLevel},e.prototype.setDocEnv=function(e){this.doc_env=e},e.prototype.setWBEnv=function(e){this.wb_env=e},e.prototype.updateDocToken=function(e){this.token=e,this.uploadConfig.token=e},e.prototype.setDomain=function(e){this.domain=e},e.prototype.setLogConfig=function(e){switch(e.logLevel){case"debug":this.logLevel=0;break;case"info":this.logLevel=1;break;case"warn":this.logLevel=2;break;case"error":this.logLevel=3;break;case"report":this.logLevel=99;break;case"disable":this.logLevel=100}return u.setLogConfig(this.logLevel),this.logger.setLogLevel(e.logLevel||"info")},e.prototype.uploadLog=function(){return this.upload(this.uploadConfig,this.product)},e.prototype.generateUUID=function(){var e=localStorage.getItem("z_deviceID");if(e)return e;var t=(new Date).getTime(),o="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var o=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?o:3&o|8).toString(36)}));return localStorage.setItem("z_deviceID",o),o},e.prototype.getConfig=function(){return{appID:+this.appID,roomID:this.roomID,userID:this.userID,token:this.token,docEnv:this.doc_env,wbEnv:this.wb_env}},e.prototype.upload=function(e,t){return this.logger.upload(d(d({},e),{appID:e.appID+"",product:t}))},e.prototype.report=function(e,t,o){this.logger.write(e,"report",t,this.formatContent(o))},e.prototype.debug=function(e,t,o){this.logger.write(e,"debug",t,this.formatContent(o)),u.debug(e+"_"+t+" ",o)},e.prototype.debug1=function(e,t){var o="string"==typeof t?t:JSON.stringify(t);this.logger.write([e],"debug",e,this.formatContent(o)),u.debug(e+" ",o)},e.prototype.info=function(e,t,o){this.logger.write(e,"info",t,this.formatContent(o)),u.info(e+"_"+t+" ",o)},e.prototype.info1=function(e,t){var o="string"==typeof t?t:JSON.stringify(t);this.logger.write([e],"info",e,this.formatContent(o)),u.info(e+" ",o)},e.prototype.warn=function(e,t,o){this.logger.write(e,"warn",t,this.formatContent(o)),u.warn(e+"_"+t+" ",o)},e.prototype.warn1=function(e,t){var o="string"==typeof t?t:JSON.stringify(t);this.logger.write([e],"warn",e,this.formatContent(o)),u.warn(e+" ",o)},e.prototype.error=function(e,t,o){this.logger.write(e,"error",t,this.formatContent(o)),u.error(e+"_"+t+" ",o),this.uploadLog()},e.prototype.error1=function(e,t){var o="string"==typeof t?t:JSON.stringify(t);this.logger.write([e],"error",e,this.formatContent(o)),u.error(e+" ",o),this.uploadLog()},e.prototype.supportDrivers=function(){return this.logger.supportDrivers()},e.prototype.setConfig=function(e){return this.logger.setConfig(e)},e.prototype.formatContent=function(e){return e?String(e).replace(/\"/g,"'"):""},e.prototype.updateLoggerHeader=function(e){Object.assign(this.header.version,e),this.logger.setHeaderInfo(this.formatContent(JSON.stringify(this.header)))},e.prototype.initInfo=function(e){var t=e.appID,o=e.version,r=e.isTestEnv,i=(e.isProd,e.liveroom);this.isTestEnv=r,this.appID=(t||this.appID)+"",this.version=o||this.version,i&&!this.platform.includes("liveroom")&&(this.platform+=",liveroom"),u.init({appid:t,version:o,versionAll:this.header.version,isProd:!0,liveroom:i})},e.prototype.initRoomInfo=function(e){var t=e.roomID,o=e.userID,r=e.token,i=e.logLevel;this.roomID=t||this.roomID,this.userID=o||this.userID,this.token=r||this.token,"number"==typeof i&&(this.logLevel=i),u.initRoom({roomid:this.roomID,userid:this.userID,token:this.token,logLevel:i})},e.prototype.setUploadConfig=function(e){var t=e.token,o=e.appID,r=e.userID;e.server;t&&(this.uploadConfig={appID:o,userID:r,token:t,product:this.product,uploadURL:this.isTestEnv?"https://detaillog-test."+this.domain+"/zglog/zip":"https://detaillog"+o+"-api."+this.domain+"/zglog/zip",deviceID:this.generateUUID()})},e.prototype.setLoggerHeader=function(e,t){var o=navigator.userAgent,r=e.appID,i=e.userID;this.header.appID=r,this.header.userID=i,this.header.device=o,Object.assign(this.header.version,t),this.logger.setHeaderInfo(this.formatContent(JSON.stringify(this.header))),this.logger.setCommonField(new Map([["userID",i]]))},e}(),_=function(e,t,o,r,i){if(void 0===i&&(i=!1),window.zegoAddonLogger){var n=localStorage.getItem("ZEGO_SDK_VER");if(n){var a=Object.assign(JSON.parse(n),r);h.getInstance().updateLoggerHeader(a)}}else{window.zegoAddonLogger=new h(e,o+"_"+t.appID,i),h.getInstance().supportDrivers().IndexedDB||h.getInstance().setConfig({maxSize:1,maxFiles:3}),localStorage.setItem("ZEGO_SDK_VER",JSON.stringify(r)),h.getInstance().initInfo({appID:t.appID,version:Object.values(r)[0],isTestEnv:t.isTestEnv}),h.getInstance().setLoggerHeader(t,r)}}},function(e,t,o){"use strict";var r,i,n,a,s;o.d(t,"c",(function(){return r})),o.d(t,"e",(function(){return i})),o.d(t,"d",(function(){return n})),o.d(t,"a",(function(){return a})),o.d(t,"b",(function(){return s})),function(e){e.Init="sb.v.l.init",e.SetCustomizedConfig="sb.v.l.set_conf",e.GetCustomizedConfig="sb.v.l.get_conf",e.OnError="sb.v.l.on_error",e.EnableSuperBoardView="sb.v.l.sb_enable",e.GetSuperBoardSubView="sb.v.l.sb_get",e.AttachSuperBoardSubView="sb.v.l.sb_attach",e.CreateWhiteboardView="sb.v.l.wb_create",e.API_CreateWhiteboardView="sb.v.l.wb_create",e.API_CreateFileView="sb.v.l.create_file",e.OnCreateView="sb.v.l.on_create",e.GetDocsViewFileInfo="sb.v.l.get_docs_file",e.API_DestroySuperBoardSubView="sb.v.l.sb_destroy",e.CurrentActivitedView="sb.v.l.cur_activited",e.API_querySuperBoardSubViewModelList="sb.v.l.sb_query_model",e.API_ClearCach="sb.v.l.clear_cach",e.API_ClearCasetDeferredRenderingTimech="sb.v.l.clear_cach_render",e.API_EnableSyncScale="sb.v.l.sync_scale",e.API_EnableResponseScale="sb.v.l.res_scale",e.API_EnableHandwriting="sb.v.l.handwriting",e.API_EnableCustomCursor="sb.v.l.custom_cursor",e.API_EnableRemoteCursorVisible="sb.v.r.cursor_visible",e.API_EnableCustomCursor_Param="sb.v.l.cursor_visible",e.API_SetToolType="sb.v.l.set_tool_type",e.API_GetToolType="sb.v.l.get_tool_type",e.API_GetToolType_FontBold="sb.v.l.toolType_FontBold",e.API_GetBrushSize="sb.v.l.get_brush_size",e.API_SetBrushSize="sb.v.l.set_brush_size",e.API_GetFontSize="sb.v.l.get_font_size",e.API_IsFontItalic="sb.v.l.font_italic",e.API_SetFontSize="sb.v.l.set_font_size",e.API_SetFontBold="sb.v.l.set_font_bold",e.API_SetFontItalic="sb.v.l.set_font_italic",e.API_SetBrushColor="sb.v.l.set_brush_color",e.API_GetBrushColor="sb.v.l.get_brush_color",e.API_SetWhiteboardBackgroundColor="sb.v.l.wb_set_bgc",e.API_IsHandwritingEnabled="sb.v.l.handwriting_enabled",e.API_GetBackgroundColor="sb.v.l.get_bgc",e.API_UploadFile="sb.v.l.up_load_file",e.API_CancelUploadFile="sb.v.l.cancel_up_load_file",e.API_UploadH5File="sb.v.l.up_load_file_h5",e.API_CacheFile="sb.v.l.cache_file",e.CreateAndAttachFileView="sb.v.l.create_file",e.CreateExcelRestFileView="sb.v.l.create_excel_file",e.StopVideo="sb.v.l.stop_video",e.RemoteSubViewAdd="sb.v.r.rem.add_view",e.OnSyncSwitchViewEvent="sb.v.l.on_switch_event",e.OnSyncSwitchViewEvent_Error="sb.v.l.on_switch_event.r",e.OnRemoteSwitchViewEvent="sb.v.r.on_switch_event",e.SwitchView="sb.v.l.switch_view",e.SwitchView_LoadFile="sb.v.l.switch_view_loadFile",e.OnRemoteModAddEvent="sb.v.r.on_add_event",e.RemoteSubViewRemoved="sb.v.r.removed_view",e.API_getSuperBoardView="sb.v.l.getSuperBoardView",e.API_getPageCount="sb.v.l.getPageCount",e.API_getCurrentPage="sb.v.l.getCurrentPage",e.API_getCurrentStep="sb.v.l.getCurrentStep",e.API_getVisibleSize="sb.v.l.getVisibleSize",e.API_flipToPage="sb.v.l.flipToPage",e.FlipToPage="sb.v.l.flipToPage",e.API_flipToPrePage="sb.v.l.flipToPrePage",e.API_flipToNextPage="sb.v.l.flipToNextPage",e.API_switchSpeaker="sb.v.l.switchSpeaker",e.API_preStep="sb.v.l.preStep",e.API_nextStep="sb.v.l.nextStep",e.API_addText="sb.v.l.addText",e.API_addImage="sb.v.l.addImage",e.API_setBackgroundImage="sb.v.l.setBackgroundImage",e.API_clearBackgroundImage="sb.v.l.clearBackgroundImage",e.API_clearAllPage="sb.v.l.clearAllPage",e.API_clearCurrentPage="sb.v.l.clearCurrentPage",e.API_clearSelected="sb.v.l.clearSelected",e.API_undo="sb.v.l.undo",e.API_redo="sb.v.l.redo",e.API_setScaleFactor="sb.v.l.setScaleFactor",e.API_getScaleFactor="sb.v.l.getScaleFactor",e.API_setOperationMode="sb.v.l.setOperationMode",e.API_snapshot="sb.v.l.snapshot",e.API_reloadView="sb.v.l.reloadView",e.API_getCurrentSheetName="sb.v.l.getCurrentSheetName",e.API_getExcelSheetNameList="sb.v.l.getExcelSheetNameList",e.API_getThumbnailUrlList="sb.v.l.getThumbnailUrlList",e.API_getPPTNotes="sb.v.l.getPPTNotes",e.API_stopPlayPPTVideo="sb.v.l.stopPlayPPTVideo",e.SetParentDomID="sb.v.l.SetParentDomID",e.GetParentDomID="sb.v.l.GetParentDomID",e.SetCurrentSuperBoardSubView="sb.v.l.GetParentDomID",e.API_getCurrentSuperBoardSubView="sb.v.l.getCurrentSuperBoardSubView",e.API_switchSuperBoardSubView="sb.v.l.switchSuperBoardSubView"}(r||(r={})),function(e){e.Update_File_Info="wb.v.l.update_file",e.Remote_Add="wb.v.r.add",e.Remote_Removed="wb.v.r.removed",e.Remote_Scroll="wb.v.r.scroll",e.Remote_Scale="wb.v.r.scale",e.Remote_Extra="wb.v.r.extra",e.Update_File_Info_Set="wb.v.l.update_file_set",e.API_Clear="wb.v.l.clear",e.API_GetViewList="wb.v.l.get_list",e.API_GetViewList_Catch="wb.v.l.get_list_catch",e.API_CreateView_Check="wb.v.l.create_check",e.API_CreateView="wb.v.l.create",e.API_CreateView_Success="wb.v.l.create_success",e.API_CreateView_Error="wb.v.l.create_error",e.API_DestroyView="wb.v.l.destroy",e.API_DestroyView_Success="wb.v.l.destroy_success",e.API_DestroyView_Error="wb.v.l.destroy_error",e.API_AttachView_Check_Parent="wb.v.l.attach_check",e.API_AttachView_Null="wb.v.l.attach_null",e.API_AttachView="wb.v.l.attach",e.API_AttachView_Success="wb.v.l.attach.success",e.API_AttachView_Error="wb.v.l.attach.error",e.API_EnableHandwriting="wb.v.l.handwriting",e.API_EnableHandwriting_Success="wb.v.l.handwriting.success",e.API_EnableCustomCursor="wb.v.l.custom_cursor",e.API_EnableRemoteCursorVisible="wb.v.r.custom_cursor",e.SetCursorImage="wb.v.l.cursor_image",e.API_SetCustomCursorAttribute="wb.v.l.cursor_attribute",e.API_SwitchView="wb.v.l.switch",e.LoginRoom="wb.v.l.login_room",e.API_logoutRoom="wb.v.l.login_room",e.API_renewToken="wb.v.l.renewToken",e.Cursor_MousemoveHandle="wb.v.l.cursor_move",e.Cursor_AddCursorHandle="wb.v.l.cursor_add",e.Cursor_DrawGraphicsHandle="wb.v.l.cursor_draw",e.Cursor_drawGraphicsHandle_hidden="wb.v.l.cursor_draw_hidden",e.Cursor_DrawGraphicsHandle_Create="wb.v.l.cursor_draw_create",e.Laser_MouseleaveHandle="wb.v.l.laser_leave",e.Laser_LaserHiddenHandle="wb.v.l.laser_hidden",e.Laser_DrawGraphicsHandle="wb.v.l.laser_draw",e.Laser_PushActualPlaceHandle="wb.v.l.laser_push_place",e.Selector_InitSelectBox="wb.v.l.selector_box",e.Selector_MousedownHandle="wb.v.l.selector_mousedown",e.Selector_MouseupHandle="wb.v.l.selector_mouseup",e.TextArea_UpdateToRemoteHandle="wb.v.r.textArea_update",e.TextArea_AddTextGraphics="wb.v.l.text_area_add",e.TextArea_FocusHandle="wb.v.l.text_area_focus",e.TextArea_BackUpdateGraphicsHandle="wb.v.l.textArea_backUpdate",e.Gra_remote_draw_realtime_timeout="wb.v.r.draw_timeout",e.Gra_remote_draw_realtime_deleted="wb.v.r.draw_deleted",e.Gra_remote_draw_realtime_end="wb.v.r.draw_end",e.Tool_bindEventsHandle="wb.v.l.tool_event",e.Gra_draw_local="wb.v.l.draw",e.Gra_Remote_draw="wb.v.r.draw",e.Gra_Remote_draw_realtime_end="wb.v.r.draw_end",e.Gra_DeleteSelectedGraphics="wb.v.l.del_select_graph",e.SetBackgroundImage="wb.v.l.set_bg_img",e.HandleDragStart="wb.v.l.dragStart",e.DragPage="wb.v.l.dragPage",e.Zegoeventdocs="wb.v.l.eventdocs",e.ReloadViewLayou="wb.v.l.reloadLayou",e.Init="wb.v.l.init",e.Destroy_dom="wb.v.l.destroy_dom",e.Clear_canvas="wb.v.l.clearCanvas",e.ClearEvent="wb.v.l.clearEvent",e.API_clear="wb.v.l.clear",e.Clear_cb="wb.v.l.clear_cb",e.Scroll="wb.v.l.scroll",e.API_getCurrentScrollPercent="wb.v.l.getCurrentScrollPercent",e.API_getHorizontalPercent="wb.v.l.getHorizontalPercent",e.API_getVerticalPercent="wb.v.l.getVerticalPercent",e.API_undo="wb.v.l.undo",e.API_redo="wb.v.l.redo",e.API_getAspectRatio="wb.v.l.getAspectRatio",e.API_getFileInfo="wb.v.l.getFileInfo",e.API_getCurrentPage="wb.v.l.get_cur_page",e.API_getPageCount="wb.v.l.get_bg_img",e.API_setBackgroundImage="wb.v.l.set_bg_img",e.API_clearBackgroundImage="wb.v.l.clear_bg_img",e.API_setToolType="wb.v.l.setToolType",e.API_getToolType="wb.v.l.getToolType",e.API_setBrushColor="wb.v.l.setBrushColor",e.API_getBrushColor="wb.v.l.getBrushColor",e.API_setBrushSize="wb.v.l.setBrushSize",e.API_getBrushSize="wb.v.l.getBrushSize",e.API_setFontSize="wb.v.l.setFontSize",e.API_getFontSize="wb.v.l.getFontSize",e.API_setTextSize="wb.v.l.setTextSize",e.API_setFontBold="wb.v.l.setFontBold",e.API_isFontBold="wb.v.l.isFontBold",e.API_setFontItalic="wb.v.l.setFontItalic",e.API_getFontItalic="wb.v.l.getFontItalic",e.API_setBackgroundColor="wb.v.l.set_bgc",e.API_getBackgroundColor="wb.v.l.get_bgc",e.API_setScaleFactor="wb.v.l.setScaleFactor",e.API_getScaleFactor="wb.v.l.getScaleFactor",e.API_getScaleOffsetX="wb.v.l.getScaleOffsetX",e.API_getScaleOffsetY="wb.v.l.getScaleOffsetY",e.API_clearCurrentPage="wb.v.l.clear_cur_page",e.API_deleteSelectedGraphics="wb.v.l.del_select_gra",e.API_addText="wb.v.l.addText",e.API_addImage="wb.v.l.addImage",e.API_setWhiteboardOperationMode="wb.v.l.set_operationMode",e.API_snapshot="wb.v.l.snapshot",e.API_reloadView="wb.v.l.reloadView",e.API_getVisibleSize="wb.v.l.getVisibleSize"}(i||(i={})),function(e){e.Graph_update_seq="wb.s.l.graph_update",e.Mod_clear_cb="wb.s.l.mod_clear_cb",e.Graph_update_seq_remote="wb.s.r.graph_update",e.Graph_draw_cb="wb.s.l.graph_draw_cb",e.Graph_draw_limit="wb.s.l.graph_draw_limit",e.RoomStateUpdate="wb.s.l.room_state_update",e.New="wb.s.l.new",e.Socket_Response="wb.s.l.scoket_res",e.SendPbMessage="wb.s.l.send_msg",e.Socket_Req="wb.s.l.scoket_req",e.SendSwitchMessage="wb.s.l.send_switch_msg",e.Socket_Req_Catch="wb.s.l.req_catch",e.Socket_Push="wb.s.l.scoket_push",e.Module_update_task_list="wb.s.l.update_task_list",e.Module_set_mod_cb="wb.s.l.set_mod_cb",e.Module_set_mod_cb_tasks="wb.s.l.set_mod_cb_tasks",e.Module_set_mod_cb_push_map="wb.s.l.set_mod_cb_push_map",e.Module_set_mod_cb_cache="wb.s.l.set_mod_cb_cache",e.Module_trans="wb.s.l.module_trans",e.Module_update_h_percent="wb.s.l.update_h_percent",e.Module_update_v_percent="wb.s.l.update_v_percent",e.Module_update_step="wb.s.l.update_step",e.Module_update_name="wb.s.l.update_name",e.Module_update_h5extra="wb.s.l.update_h5extra",e.Module_update_scale="wb.s.l.update_scale",e.Module_update_content="wb.s.l.update_content",e.Module_split_page="wb.s.l.split_page",e.Module_remote="wb.s.r.module_remote",e.Module_update_seq="wb.s.l.update_seq",e.Module_delete_graphic="wb.s.l.delete_graphic",e.Module_remote_draw="wb.s.r.draw",e.Module_remote_add="wb.s.r.add",e.Module_remote_modify="wb.s.r.modify",e.Module_clear_pull_mark="wb.s.l.clear_pull_mark",e.Module_compare="wb.s.l.compare",e.Module_destroy_cb="wb.s.l.destroy_cb",e.Module_create_cb="wb.s.l.create_cb",e.Module_get_info_cb="wb.s.l.get_info_cb",e.Module_get_list_cb="wb.s.l.get_list_cb",e.Get_room_auth_cb="wb.s.l.room_auth_cb",e.Get_user_auth_cb="wb.s.l.user_auth_cb",e.Module_get_list_sync="wb.s.l.get_list_sync",e.Module_sync_room_user_auth_cb="wb.s.l.sync_room_user_auth_cb",e.Module_get_list="wb.s.l.get_list",e.Module_append_extra_origin="wb.s.l.append_extra_origin",e.Module_append_extra_new="wb.s.l.append_extra_new",e.Module_scroll_origin="wb.s.l.scroll_origin",e.Module_scroll_new="wb.s.l.scroll_new",e.Module_scale_origin="wb.s.l.scale_origin",e.Module_scale_new="wb.s.l.scale_new",e.Module_load_by_percent="wb.s.l.load_by_percent",e.Reload_graphics="wb.s.l.reload_gra",e.Unload="wb.s.l.unload",e.Module_set_view_size="wb.s.l.set_view_size",e.Module_set_viewpoart_size="wb.s.l.set_viewpoart_size",e.Module_get_h5extra="wb.s.l.get_h5extra",e.Module_switch_view_origin="wb.s.l.switch_view_origin",e.Module_switch_view_new="wb.s.l.switch_view_new",e.Module_switch_view_remote="wb.s.r.switch_view"}(n||(n={})),function(e){e.Cloud_setting="docs.s.l.cloud_setting",e.GetAccesshubConfig="docs.s.l.getAccesshubConfig",e.Load_error="docs.s.l.load_error",e.CreateView="docs.s.l.createView",e.ResolveLoad="docs.s.l.resolveLoad",e.GetSpeakers="docs.s.l.getSpeakers",e.Preload_performance="docs.s.l.preload_performance",e.GetFileType="docs.s.l.getFileType",e.Preload_quest_changeCDN_error="docs.s.l.changeCDN_error",e.Preload_quest_changeCDN_timeout="docs.s.l.changeCDN_timeout",e.Preload_quest_changeCDN_loadend="docs.s.l.changeCDN_loadend",e.Preload_quest_changeCDN_readystate="docs.s.l.changeCDN_readystate",e.Preload_quest_error="docs.s.l.quest_error",e.Preload_quest_timeout="docs.s.l.quest_timeout",e.Preload_quest_loadend="docs.s.l.quest_loadend",e.Preload_quest_readystate="docs.s.l.quest_readystate",e.Preload_onreadystate_error="docs.s.l.onreadystate_error",e.SwitchOrigin="docs.s.l.switchOrigin",e.RequestProgress="docs.s.l.requestProgress",e.RequestBefore="docs.s.l.requestBefore",e.Request_Retry_RequestProgress="docs.s.l.retry_requestProgress",e.Disconnected="docs.s.l.disconnected",e.SetAccesshubConfig="docs.s.l.setAccesshubConfig",e.WaitHttpInit="docs.s.l.waitHttpInit",e.AccesshubInit="docs.s.l.accesshubInit",e.Accesshub_dispatchResultUpdate="docs.s.l.Accesshub_update",e.Accesshub_disconnected="docs.s.l.accesshub_disconnected",e.Accesshub_connected="docs.s.l.accesshub_connected",e.Accesshub_broken="docs.s.l.accesshub_broken",e.StartHttpRequest_start="docs.s.l.start_http",e.StartHttpRequest_end="docs.s.l.end_http",e.StartHttpRequest="docs.s.l.start_http",e.GetAppConfigByAgent="docs.s.l.getAppConfigByAgent",e.RenewToken="docs.s.l.renewToken",e.ResetTokenTimer="docs.s.l.resetTokenTimer",e.Init="docs.s.l.init",e.New="docs.s.l.new",e.GetDomain="docs.s.l.getDomain",e.IsInvalidDomain="docs.s.l.isInvalidDomain",e.UpdateOriginList="docs.s.l.updateOriginList",e.API_setConfig="docs.s.l.setConfig",e.API_getConfig="docs.s.l.getConfig",e.DecryptImage="docs.s.l.decryptImage",e.API_uploadH5File="docs.s.l.uploadH5File",e.UploadH5File="docs.s.l.uploadH5File",e.API_uploadFile="docs.s.l.uploadFile",e.UploadFile="docs.s.l.uploadFile",e.API_loadFile="docs.s.l.loadFile",e.LoadFile="docs.s.l.loadFile",e.API_cacheFile="docs.s.l.cacheFile",e.CacheFile="docs.s.l.cacheFile",e.API_cancelUploadFile="docs.s.l.cancelUploadFile",e.CancelUploadFile="docs.s.l.cancelUploadFile",e.Preload_iframe_retry="docs.s.l.preload_iframe_retry",e.UploadProgressInit="docs.s.l.uploadProgressInit",e.UploadProgressCvt="docs.s.l.uploadProgressCvt",e.CheckRenderTypeHandle="docs.s.l.checkRenderTypeHandle",e.CheckSizeHandle="docs.s.l.checkSizeHandle",e.UploadProgress="docs.s.l.UploadProgress",e.UploadProgress_query="docs.s.l.uploadProgress_query",e.UploadProgress_status="docs.s.l.uploadProgress_status",e.QueryStatus="docs.s.l.queryStatus",e.CreateCvtDoc="docs.s.l.createCvtDoc"}(a||(a={})),function(e){e.Preload_iframe_postMsg="docs.v.l.preload_iframe_postMsg",e.Preload_iframe_load_error="docs.v.l.preload_iframe_load_error",e.Preload_iframe_retry_cdn="docs.v.l.preload_iframe_retry_cdn",e.Preload_iframe_load="docs.v.l.preload_iframe_load",e.Preload_iframe_error="docs.v.l.preload_iframe_error",e.Preload_quest_error="docs.v.l.preload_quest_error",e.SetParentWidthHeight="docs.v.l.setParentWidthHeight",e.SetDocsViewDomOverflow="docs.v.l.setDocsViewDomOverflow",e.Draw_error="docs.v.l.draw_error",e.Draw_img_cdn="docs.v.l.draw_img_cdn",e.Draw_img_error="docs.v.l.draw_img_error",e.Draw_pdf_cdn="docs.v.l.draw_pdf_cdn",e.Draw_ppt_cdn="docs.v.l.draw_ppt_cdn",e.Draw_h5_cdn="docs.v.l.draw_h5_cdn",e.Draw_h5_cdn_retry="docs.v.l.draw_h5_cdn_retry",e.Draw_h5_error="docs.v.l.draw_h5_error",e.Draw_ppt="docs.v.l.draw_ppt",e.Draw_pdf="docs.v.l.Draw_pdf",e.Draw_pdf_cache_aspec="docs.v.l.draw_pdf_cache_aspec.o",e.Draw_pdf_no_cache_aspec="docs.v.l.draw_pdf_no_cache_aspec.o",e.ReloadView_safari="docs.v.l.reloadView_safari",e.ReleaseCanvas="docs.v.l.releaseCanvas",e.Draw_img_scale="docs.v.l.draw_img_scale",e.Draw_img_full="docs.v.l.draw_img_full",e.UpdateDocsViewLayout="docs.v.l.updateDocsViewLayout",e.Pdf_diff_canvas="docs.v.l.pdf_diff_canvas",e.Draw_cache="docs.v.l.draw_cache",e.Draw_scrolled="docs.v.l.draw_scrolled",e.LoadFileCallback="docs.v.l.loadFileCallback",e.ReloadViewCallback="docs.v.l.reloadViewCallback",e.ReloadViewLayou="docs.v.l.reloadViewLayou",e.PostStepChangeMessage="docs.v.l.postStepChangeMessage",e.Emit_StepChange="docs.v.l.emit_StepChange",e.Emit_Error="docs.v.l.emit_Error",e.Emit_Scroll="docs.v.l.emit_Scroll",e.Zegoeventwb="docs.v.l.zegoeventwb",e.Zegoeventwb_page="docs.v.l.zegoeventwb_page",e.H5_init_timeout="docs.v.l.h5_init_timeout",e.H5_iframe="docs.v.l.h5_iframe",e.DidLoadFinish="docs.v.l.didLoadFinish",e.H5_init_page="docs.v.l.h5_init_page",e.SetDynamicPPTH5Speaker="docs.v.l.setDynamicPPTH5Speaker",e.API_switchSpeaker="docs.v.l.switchSpeaker",e.H5_step="docs.v.l.h5_step",e.H5_queue_done="docs.v.l.h5_queue_done",e.RunGotoPageQueue="docs.v.l.runGotoPageQueue",e.H5_wbqueue_push="docs.v.l.h5_wbqueue_push",e.H5_wbqueue_init="docs.v.l.h5_wbqueue_init",e.H5_wbqueue_pop="docs.v.l.h5_wbqueue_pop",e.ExecMultiDocsQueue="docs.v.l.execMultiDocsQueue",e.H5_mdqueue_pop="docs.v.l.H5_mdqueue_pop",e.H5_queue_timeout="docs.v.l.h5_queue_timeout",e.GotoPage="docs.v.l.gotoPage",e.Addtional_draw="docs.v.l.addtional_draw",e.API_unloadFile="docs.v.l.unloadFile",e.API_getContentSize="docs.v.l.getContentSize",e.API_getVisibleSize="docs.v.l.getVisibleSize",e.API_getFileID="docs.v.l.getFileID",e.API_getFileType="docs.v.l.getFileType",e.API_getCurrentPage="docs.v.l.getCurrentPage",e.API_getCurrentStep="docs.v.l.getCurrentStep",e.API_getPageCount="docs.v.l.getPageCount",e.API_getPPTNotes="docs.v.l.getPPTNotes",e.API_getThumbnailUrlList="docs.v.l.getThumbnailUrlList",e.API_getVerticalPercent="docs.v.l.getVerticalPercent",e.API_scrollTo="docs.v.l.scrollTo",e.API_flipPage="docs.v.l.flipPage",e.H5_mdqueue_push="docs.v.l.h5_mdqueue_push",e.API_previousStep="docs.v.l.previousStep",e.API_nextStep="docs.v.l.nextStep",e.API_switchSheet="docs.v.l.switchSheet",e.API_setScaleFactor="docs.v.l.setScaleFactor",e.API_playAnimation="docs.v.l.playAnimation",e.API_stopPlay="docs.v.l.stopPlay",e.API_setVolume="docs.v.l.setVolume",e.API_reloadView="docs.v.l.reloadView"}(s||(s={}))},function(e,t,o){"use strict";var r,i,n,a,s,c,l,u;o.d(t,"c",(function(){return r})),o.d(t,"d",(function(){return i})),o.d(t,"e",(function(){return n})),o.d(t,"f",(function(){return a})),o.d(t,"g",(function(){return s})),o.d(t,"a",(function(){return c})),o.d(t,"b",(function(){return l})),o.d(t,"h",(function(){return u})),function(e){e.UnloadVideoSrc="unloadVideoSrc",e.DisableH5ImageDrag="disableH5ImageDrag",e.PptStepMode="pptStepMode",e.ThumbnailMode="thumbnailMode",e.Domain="domain",e.DisableH5Mouse="disableH5Mouse",e.EnableSizeReducedImages="enableSizeReducedImages"}(r||(r={})),function(e){e[e.ZegoDocsViewSuccess=0]="ZegoDocsViewSuccess",e[e.ZegoDocsViewErrorInternal=2000001]="ZegoDocsViewErrorInternal",e[e.ZegoDocsViewErrorParamInvalid=2000002]="ZegoDocsViewErrorParamInvalid",e[e.ZegoDocsViewErrorNetworkTimeout=2000003]="ZegoDocsViewErrorNetworkTimeout",e[e.ZegoDocsViewErrorRequestFailure=2000004]="ZegoDocsViewErrorRequestFailure",e[e.ZegoDocsViewErrorFileNotExist=2010001]="ZegoDocsViewErrorFileNotExist",e[e.ZegoDocsViewErrorUploadFailed=2010002]="ZegoDocsViewErrorUploadFailed",e[e.ZegoDocsViewErrorUnsupportRenderType=2010003]="ZegoDocsViewErrorUnsupportRenderType",e[e.ZegoDocsViewErrorFileEncrypt=2020001]="ZegoDocsViewErrorFileEncrypt",e[e.ZegoDocsViewErrorFileSizeLimit=2020002]="ZegoDocsViewErrorFileSizeLimit",e[e.ZegoDocsViewErrorFileSheetLimit=2020003]="ZegoDocsViewErrorFileSheetLimit",e[e.ZegoDocsViewErrorConvertFail=2020004]="ZegoDocsViewErrorConvertFail",e[e.ZegoDocsViewErrorConvertCancel=2020005]="ZegoDocsViewErrorConvertCancel",e[e.ZegoDocsViewErrorFileContentEmpty=2020006]="ZegoDocsViewErrorFileContentEmpty",e[e.ZegoDocsViewErrorFileReadOnly=2020007]="ZegoDocsViewErrorFileReadOnly",e[e.ZegoDocsViewErrorConvertElementNotSupported=2020008]="ZegoDocsViewErrorConvertElementNotSupported",e[e.ZegoDocsViewErrorConvertFileTypeInvalid=2020009]="ZegoDocsViewErrorConvertFileTypeInvalid",e[e.ZegoDocsViewErrorConvertFileUnsafe=2020010]="ZegoDocsViewErrorConvertFileUnsafe",e[e.ZegoDocsViewErrorConvertElementNotExported=2020011]="ZegoDocsViewErrorConvertElementNotExported",e[e.ZegoDocsViewErrorAuthParamInvalid=2030001]="ZegoDocsViewErrorAuthParamInvalid",e[e.ZegoDocsViewErrorFilePathNotAccess=2030002]="ZegoDocsViewErrorFilePathNotAccess",e[e.ZegoDocsViewErrorInitFailed=2030003]="ZegoDocsViewErrorInitFailed",e[e.ZegoDocsViewErrorSizeInvalid=2030004]="ZegoDocsViewErrorSizeInvalid",e[e.ZegoDocsViewErrorFreeSpaceLimit=2030005]="ZegoDocsViewErrorFreeSpaceLimit",e[e.ZegoDocsViewErrorUploadNotSupported=2030006]="ZegoDocsViewErrorUploadNotSupported",e[e.ZegoDocsViewErrorUploadDuplicated=2030007]="ZegoDocsViewErrorUploadDuplicated",e[e.ZegoDocsViewErrorEmptyDomain=2030008]="ZegoDocsViewErrorEmptyDomain",e[e.ZegoDocsViewErrorHaveInit=2030009]="ZegoDocsViewErrorHaveInit",e[e.ZegoDocsViewErrorServerFileNotExist=2030010]="ZegoDocsViewErrorServerFileNotExist",e[e.ZegoDocsViewErrorCacheNotSupported=2030014]="ZegoDocsViewErrorCacheNotSupported",e[e.ZegoDocsViewErrorCacheFailed=2030015]="ZegoDocsViewErrorCacheFailed",e[e.ZegoDocsViewErrorZipFileInvalid=2030016]="ZegoDocsViewErrorZipFileInvalid",e[e.ZegoDocsViewErrorH5FileInvalid=2030017]="ZegoDocsViewErrorH5FileInvalid",e[e.ZegoDocsViewErrorFileCorruption=2030018]="ZegoDocsViewErrorFileCorruption",e[e.ZegoDocsViewErrorFileContentIncomplete=2030019]="ZegoDocsViewErrorFileContentIncomplete",e[e.ZegoDocsViewErrorTokenInvalid=2030020]="ZegoDocsViewErrorTokenInvalid",e[e.ZegoDocsViewErrorGetContextFail=2030021]="ZegoDocsViewErrorGetContextFail",e[e.ZegoDocsViewErrorDrawImageFail=2030022]="ZegoDocsViewErrorDrawImageFail",e[e.ZegoDocsViewErrorSwitchSpeakerFail=2030023]="ZegoDocsViewErrorSwitchSpeakerFail"}(i||(i={})),function(e){e[e.ZegoDocsViewFileTypeUnknown=0]="ZegoDocsViewFileTypeUnknown",e[e.ZegoDocsViewFileTypePPT=1]="ZegoDocsViewFileTypePPT",e[e.ZegoDocsViewFileTypeDOC=2]="ZegoDocsViewFileTypeDOC",e[e.ZegoDocsViewFileTypeELS=4]="ZegoDocsViewFileTypeELS",e[e.ZegoDocsViewFileTypePDF=8]="ZegoDocsViewFileTypePDF",e[e.ZegoDocsViewFileTypeIMG=16]="ZegoDocsViewFileTypeIMG",e[e.ZegoDocsViewFileTypeTXT=32]="ZegoDocsViewFileTypeTXT",e[e.ZegoDocsViewFileTypeDynamicPPTH5=512]="ZegoDocsViewFileTypeDynamicPPTH5",e[e.ZegoDocsViewFileTypeAudio=1024]="ZegoDocsViewFileTypeAudio",e[e.ZegoDocsViewFileTypeVideo=2048]="ZegoDocsViewFileTypeVideo",e[e.ZegoDocsViewFileTypeCustomH5=4096]="ZegoDocsViewFileTypeCustomH5"}(n||(n={})),function(e){e[e.ZegoDocsViewRenderTypeVector=1]="ZegoDocsViewRenderTypeVector",e[e.ZegoDocsViewRenderTypeIMG=2]="ZegoDocsViewRenderTypeIMG",e[e.ZegoDocsViewRenderTypeVectorAndIMG=3]="ZegoDocsViewRenderTypeVectorAndIMG",e[e.ZegoDocsViewRenderTypeDynamicPPTH5=6]="ZegoDocsViewRenderTypeDynamicPPTH5"}(a||(a={})),function(e){e[e.UPLOADING=1]="UPLOADING",e[e.UPLOADED=2]="UPLOADED",e[e.WAITING=4]="WAITING",e[e.CONVERTING=8]="CONVERTING",e[e.CONVERTED=16]="CONVERTED",e[e.CONVERT_FAIL=32]="CONVERT_FAIL",e[e.CONVERT_CANCEL=64]="CONVERT_CANCEL"}(s||(s={})),function(e){e[e.Caching=1]="Caching",e[e.Cached=2]="Cached"}(c||(c={})),function(e){e[e.PNG=1]="PNG",e[e.SVG=2]="SVG"}(l||(l={})),function(e){e[e.Current=1]="Current",e[e.All=2]="All"}(u||(u={}))},function(e,t,o){"use strict";o.d(t,"a",(function(){return r})),o.d(t,"b",(function(){return i})),o.d(t,"c",(function(){return n})),o.d(t,"d",(function(){return a})),o.d(t,"e",(function(){return s}));var r,i,n,a,s;o(105),o(123),o(49),o(26),o(50);!function(e){e.Upload="onUpload",e.LoadFile="onLoadFile",e.StepChange="onStepChange",e.Scroll="onScroll",e.PlayAnimation="onPlayAnimation",e.TokenWillExpire="onTokenWillExpire"}(r||(r={})),function(e){e.LoadFinish="loaFinish"}(i||(i={})),function(e){e.Error="error",e.ViewAdd="viewAdd",e.ViewRemoved="viewRemoved",e.ViewScroll="viewScroll",e.ViewScale="viewScale",e.WhiteboardAuthChange="whiteboardAuthChange",e.WhiteboardGraphicAuthChange="whiteboardGraphicAuthChange"}(n||(n={})),function(e){e.PushAddMod="pushAddMod",e.PushRemovedMod="pushRemovedMod",e.PushDrawPageGraphics="pushDrawPageGraphics",e.PushClearPageGraphics="pushClearPageGraphics",e.PushScroll="pushScroll",e.PushScale="pushScale",e.PushH5ExtraAppended="pushH5ExtraAppended",e.PushAuthChange="pushAuthChange",e.RemoteDelMod="remoteDelMod",e.GetPageGraphicsList="getPageGraphicsList",e.AppendH5Extra="appendH5Extra",e.Scroll="scroll",e.Scale="scale",e.RoomConnected="roomConnected",e.RoomDisConnected="roomDisConnected",e.AttachedView="attachedView",e.SuperRoomConnected="SuperRoomConnected",e.SuperRoomDisConnected="SuperRoomDisConnected",e.SuperDocsLogoutRoom="SuperDocsLogoutRoom",e.AccesshubConnected="accesshubConnected",e.DirectConnected="directConnected"}(a||(a={})),function(e){e.SubViewScrollChanged="superBoardSubViewScrollChanged",e.SubViewScaleChanged="superBoardSubViewScaleChanged",e.RemoteSubViewAdd="remoteSuperBoardSubViewAdded",e.RemoteSubViewRemoved="remoteSuperBoardSubViewRemoved",e.RemoteSubViewSwitched="remoteSuperBoardSubViewSwitched",e.RemoteSubViewExcelSwitched="remoteSuperBoardSubViewExcelSwitched",e.RemoteAuthChange="remoteSuperBoardAuthChanged",e.RemoteGraphicAuthChange="remoteSuperBoardGraphicAuthChanged",e.SyncSwitchMod="syncSwitchMod",e.RemoteSwitchMod="remoteSwitchMod",e.RemoteModAdd="remoteModAdd",e.RemoteModRemoved="remoteModRemoved",e.SyncSwitchModWithWhiteboardID="SyncSwitchModWithWhiteboardID"}(s||(s={}));var c=function(){function e(){var e;this.listeners=((e={})[n.Error]=[],e[r.LoadFile]=[],e[r.Upload]=[],e[r.Scroll]=[],e[r.StepChange]=[],e[r.PlayAnimation]=[],e[r.TokenWillExpire]=[],e[i.LoadFinish]=[],e[a.PushAddMod]=[],e[a.PushRemovedMod]=[],e[a.PushDrawPageGraphics]=[],e[a.PushClearPageGraphics]=[],e[a.PushScroll]=[],e[a.PushScale]=[],e[a.PushH5ExtraAppended]=[],e[a.PushAuthChange]=[],e[a.GetPageGraphicsList]=[],e[a.AppendH5Extra]=[],e[a.Scroll]=[],e[a.Scale]=[],e[a.RoomConnected]=[],e[a.RoomDisConnected]=[],e[a.AttachedView]=[],e[a.SuperRoomConnected]=[],e[a.SuperRoomDisConnected]=[],e[a.RemoteDelMod]=[],e[a.SuperDocsLogoutRoom]=[],e[n.ViewAdd]=[],e[n.ViewRemoved]=[],e[n.ViewScroll]=[],e[n.ViewScale]=[],e[n.WhiteboardAuthChange]=[],e[n.WhiteboardGraphicAuthChange]=[],e[s.RemoteSubViewAdd]=[],e[s.RemoteSubViewRemoved]=[],e[s.RemoteSubViewSwitched]=[],e[s.RemoteSubViewExcelSwitched]=[],e[s.RemoteAuthChange]=[],e[s.RemoteGraphicAuthChange]=[],e[s.SyncSwitchMod]=[],e[s.SyncSwitchModWithWhiteboardID]=[],e[s.RemoteSwitchMod]=[],e[s.RemoteModAdd]=[],e[s.RemoteModRemoved]=[],e[s.SubViewScrollChanged]=[],e[s.SubViewScaleChanged]=[],e[a.AccesshubConnected]=[],e[a.DirectConnected]=[],e)}return e.prototype.on=function(e,t){var o=[a.RoomDisConnected,a.DirectConnected,a.AccesshubConnected];return!!this.listeners[e]&&("function"==typeof t&&(-1!==o.indexOf(e)?-1==this.listeners[e].indexOf(t)&&this.listeners[e].push(t):this.listeners[e][0]=t,!0))},e.prototype.off=function(e,t){if(!this.listeners[e])return!1;var o=this.listeners[e];return t?o.splice(o.indexOf(t),1):this.listeners[e]=[],!0},e.prototype.emit=function(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];this.listeners[e]&&this.listeners[e].forEach((function(e){e.apply(void 0,t)}))},e}();t.f=new c},function(e,t,o){"use strict";var r=o(0),i="ontouchstart"in window||navigator.maxTouchPoints>0;t.a={reservedPrefix:{whiteboardZoom:"zego-whiteboard-zoom",fileWhiteboardCon:"zego-docsview-con",whiteboardCon:"zego-whiteboard-con",whiteboard:"zego-whiteboard",laserContainer:"zego-other-container",graphicsBgContainer:"zego-graphics-bg-container",graphicsBgImageContainer:"zego-graphics-bgImage-container",graphicsContainer:"zego-graphics-container",graphicsSvg:"zego-svg",textareaCon:"zego-textarea",laserCon:"zego-laser",cursorCon:"zego-cursor",graphics:"zego-graphics",boxContainer:"zego-box-container",graphicsBox:"zego-graphics-box"},basicState:{type:r.k.ZegoWhiteboardViewToolPen,size:6,fontSize:24,color:"#f54326",bgColor:"rgb(241, 243, 244)",attributes:'{"bold": false, "italic": false, "stroke": false}'},basicExtraState:{drawSize:0,drawFontSize:0,customImage:{url:"",w:80,h:80},defaultFileBgColor:"rgb(255, 255, 255, 0)"},realTimeState:{localDrawCount:10,remoteDrawDelay:4,remoteDrawCount:2,remoteDrawEndDelay:1e4},customCursor:{enable:!1,remoteVisible:!0,type:r.i.pen,attributes:'{"url": "", "pox_x": 0, "pox_y": 0 }'},scaleModes:{sync:!1,response:!1},handWritingFactor:{step:.016,max_speed:1.2,min_speed:.05,max_width_factor:1.2,min_width_factor:.5,last_size:0,lastX:0,lastY:0},svgPath:{tops:[],bottoms:[]},isTouch:i,boxPadding:0,textareaBoxPadding:24,textareaHPadding:0,textareaVPadding:0,textareaConBorderWidth:1,lineHeight:1,boxBorderWidth:2,selectedBorderCss:"2px solid #b0b3b8",unSelectedBorderCss:"2px solid transparent",maxlength:200,scrollbarSize:20,initLaserX:0,initLaserY:0,hiddenLaserX:-100,hiddenLaserY:-100,hiddenLaserDelay:5e3,mouseEvents:{down:"mousedown",move:"mousemove",up:"mouseup",leave:"mouseleave",mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend",mouseleave:"touchcancel"},calStandard:{sizeWidth:1280,placeWidth:128e4,minFontSize:i?1:12,maxFontSize:100,minLineWidth:1,maxLineWidth:100}}},function(e,t,o){var r=o(11),i=o(76).f,n=o(51),a=o(25),s=o(158),c=o(194),l=o(125);e.exports=function(e,t){var o,u,d,p,h,_=e.target,f=e.global,g=e.stat;if(o=f?r:g?r[_]||s(_,{}):(r[_]||{}).prototype)for(u in t){if(p=t[u],d=e.dontCallGetSet?(h=i(o,u))&&h.value:o[u],!l(f?u:_+(g?".":"#")+u,e.forced)&&void 0!==d){if(typeof p==typeof d)continue;c(p,d)}(e.sham||d&&d.sham)&&n(p,"sham",!0),a(o,u,p,e)}}},function(e,t,o){var r=o(98),i=Function.prototype,n=i.bind,a=i.call,s=r&&n.bind(a,a);e.exports=r?function(e){return e&&s(e)}:function(e){return e&&function(){return a.apply(e,arguments)}}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,o){"use strict";o.d(t,"l",(function(){return j})),o.d(t,"d",(function(){return y})),o.d(t,"o",(function(){return v})),o.d(t,"g",(function(){return w})),o.d(t,"c",(function(){return S})),o.d(t,"m",(function(){return E})),o.d(t,"p",(function(){return P})),o.d(t,"e",(function(){return k})),o.d(t,"q",(function(){return T})),o.d(t,"r",(function(){return x})),o.d(t,"a",(function(){return C})),o.d(t,"b",(function(){return A})),o.d(t,"h",(function(){return D})),o.d(t,"i",(function(){return M})),o.d(t,"u",(function(){return L})),o.d(t,"t",(function(){return N})),o.d(t,"s",(function(){return q})),o.d(t,"f",(function(){return b})),o.d(t,"n",(function(){return O})),o.d(t,"j",(function(){return B})),o.d(t,"k",(function(){return R}));o(94),o(105),o(151),o(186),o(49),o(26),o(50),o(37),o(85),o(121),o(408),o(69),o(410),o(59),o(185),o(412),o(210);var r,i=new Uint8Array(16);function n(){if(!r&&!(r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(i)}var a=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var s=function(e){return"string"==typeof e&&a.test(e)},c=[],l=0;l<256;++l)c.push((l+256).toString(16).substr(1));var u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=(c[e[t+0]]+c[e[t+1]]+c[e[t+2]]+c[e[t+3]]+"-"+c[e[t+4]]+c[e[t+5]]+"-"+c[e[t+6]]+c[e[t+7]]+"-"+c[e[t+8]]+c[e[t+9]]+"-"+c[e[t+10]]+c[e[t+11]]+c[e[t+12]]+c[e[t+13]]+c[e[t+14]]+c[e[t+15]]).toLowerCase();if(!s(o))throw TypeError("Stringified UUID is invalid");return o};var d=function(e,t,o){var r=(e=e||{}).random||(e.rng||n)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){o=o||0;for(var i=0;i<16;++i)t[o+i]=r[i];return t}return u(r)},p=o(398),h=o.n(p),_=o(378),f=o.n(_),g=o(5),m=o(0),y=function(){return""+f()(d())},b=function(){var e=Math.sqrt(Math.sqrt(+f()(d())))*Math.random()|0;return e>99?.3*e|0:e<3?e+10*Math.random()|0:e},v=function(e){if(e){var t=e.parentNode;t?t.removeChild(e):e.remove?e.remove():e.removeNode()}},w=function(e){return e.children||e.childNodes},S=function(e,t,o,r){var i,n=g.a.calStandard,a=n.sizeWidth,s=n.minFontSize,c=n.minLineWidth;return r?i=Math.round(e*a/o):(i=Math.round(o*e/a),m.f.Text===t?i<s&&(i=s):i<c&&(i=c)),i},I=function(e){var t=e[0],o=e[1],r=e[2],i=e[3];return[Math.min(t,r||t),Math.min(o,i||o)]},E=function(e,t){var o;switch(e){case m.f.Pencil:o=function(e){for(var t=e.length,o=.1,r=t-4,i="M"+e[0]+", "+e[1],n=0;n<t-2;n+=2){var a=n?e[n-2]:e[0],s=n?e[n-1]:e[1],c=e[n+0],l=e[n+1],u=e[n+2],d=e[n+3],p=n!==r?e[n+4]:u,h=n!==r?e[n+5]:d;i+=" C"+(Number(c)+(u-a)/6*o)+","+(Number(l)+(d-s)/6*o)+","+(Number(u)-(p-c)/6*o)+","+(Number(d)-(h-l)/6*o)+","+u+","+d}return i}(t);break;case m.f.Line:o={x1:t[0],y1:t[1],x2:t[2]||t[0],y2:t[3]||t[1]};break;case m.f.Rect:var r=Math.abs((t[2]||t[0])-t[0])||1,i=Math.abs((t[3]||t[1])-t[1])||1,n=I(t);o={x:n[0],y:n[1],width:r,height:i};break;case m.f.Ellipse:var a=Math.abs((t[2]||t[0])-t[0])/2||.5,s=Math.abs((t[3]||t[1])-t[1])/2||.5,c=I(t);o={cx:c[0]+a,cy:c[1]+s,rx:a,ry:s};break;default:o=""}return o},O=function(e,t,o){var r=1,i=g.a.handWritingFactor,n=i.step,a=i.max_width_factor,s=i.min_width_factor,c=i.max_speed,l=i.min_speed,u=g.a.handWritingFactor,d=u.lastX,p=u.lastY,h=e.data,_=h.length,f=!0;g.a.svgPath.tops=[],g.a.svgPath.bottoms=[];for(var m={tx1:0,ty1:0,tx2:0,ty2:0,bx1:0,by1:0,bx2:0,by2:0,mtx1:0,mty1:0,mbx1:0,mby1:0},y=2;y<_;y+=2){2===y&&(d=h[0],p=h[1]);var b=d,v=p,w=h[y]-b,S=h[y+1]-v,I=Math.sqrt(Math.pow(w,2)+Math.pow(S,2));if(!(I<o/1280*3*2.5)){if(r++,y===_-2&&2==r)return;var E=I*n;E>c&&(E=c),E<l&&(E=l);var O=a*t,P=s*t,k=(O-P)*(1-E/c)+P;k>O&&(k=O),k<P&&(k=P);var T,x;if(T=k/2*S/I,x=k/2*w/I,m.tx1=d+T,m.ty1=p-x,m.tx2=h[y]+T,m.ty2=h[y+1]-x,m.bx1=d-T,m.by1=p+x,m.bx2=h[y]-T,m.by2=h[y+1]+x,f&&(m.tx1=d,m.ty1=p,m.bx1=d,m.by1=p),m.mtx1=(m.tx1+m.tx2)/2,m.mty1=(m.ty1+m.ty2)/2,m.mbx1=(m.bx1+m.bx2)/2,m.mby1=(m.by1+m.by2)/2,f)g.a.svgPath.tops.push("M"+d+" "+p+" L"+m.mtx1+" "+m.mty1),g.a.svgPath.bottoms.unshift("Q"+m.bx2+" "+m.by2+" "+m.mbx1+" "+m.mby1+" L"+d+" "+p);else if(g.a.svgPath.tops.join("").indexOf("M")<0&&g.a.svgPath.tops.push("M"+m.mtx1+" "+m.mty1),y===_-2){var C=h[_-2],A=h[_-1];E===l?g.a.svgPath.tops.push("Q"+C+" "+A+" "+C+" "+A):g.a.svgPath.tops.push("Q"+m.tx1+" "+m.ty1+" "+C+" "+A)}else g.a.svgPath.tops.push("Q"+m.tx1+" "+m.ty1+" "+m.mtx1+" "+m.mty1),g.a.svgPath.bottoms.unshift("Q"+m.bx2+" "+m.by2+" "+m.mbx1+" "+m.mby1);d=h[y],p=h[y+1],f=!1}}return g.a.svgPath.tops.concat(g.a.svgPath.bottoms).join(" ")},P=function(e,t){t.forEach((function(t){e.setAttribute(t.attr,t.value)}))},k=function(e,t,o,r){var i,n=document.querySelector("#"+e);if(n)return r&&n.setAttribute("data-z",r+""),[i=n.querySelector("#"+t)];n=document.createElementNS("http://www.w3.org/2000/svg","svg");var a=document.createElementNS("http://www.w3.org/2000/svg","g");return i=document.createElementNS("http://www.w3.org/2000/svg",o),n.id=e,n.setAttribute("xmlns","http://www.w3.org/2000/svg"),n.setAttribute("version","1.1"),r&&n.setAttribute("data-z",r+""),i.id=t,a.appendChild(i),n.appendChild(a),[i,n]},T=function(e,t){void 0===t&&(t=1);var o=[],r=[];return e.forEach((function(e,t,o){t%2==0&&r.push({x:e,y:o[t+1]})})),h()(r,t).forEach((function(e){o=o.concat([e.x,e.y])})),o},x=function(e){var t=e.split(",");return{beginX:t[0],beginY:t[1],text:t.slice(2).join(",")}},C=function(e,t,o){return parseInt(t)+","+parseInt(o)+","+e},A=function(e,t){t.forEach((function(t){e.addEventListener(t,(function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}))}))},D=function(e){var t=0,o=0;if(e)for(t+=e.offsetTop,o+=e.offsetLeft;e.offsetParent;)t+=e.offsetParent.offsetTop,o+=e.offsetParent.offsetLeft,e=e.offsetParent;return{offsetTop:t,offsetLeft:o}},M=function(e){var t=0,o=0;if(e)for(t+=e.scrollTop,o+=e.scrollLeft;e.parentNode;)t+=e.parentNode.scrollTop||0,o+=e.parentNode.scrollLeft||0,e=e.parentNode;return{scrollTop:t,scrollLeft:o}},L=function(e,t){var o=e.length>1?m.b.Multi:m.b.Single,r=JSON.parse(JSON.stringify(e));return r.forEach((function(e){e.action_type=o,t&&(e.action=t),delete e.selected,delete e.fontSize,delete e.bgColor})),r},N=function(e,t){return t?e?"#"+(e=e.toString(16)).slice(2).padStart(6,"0"):g.a.basicState.color:(e=function(e){if(0===e.indexOf("#"))return e;var t=e.replace(/rgba?/,"").replace(/\(/,"").replace(/\)/,"").replace(/[\s+]/g,"").split(","),o=parseFloat(t[3]||"1"),r=Math.floor(o*parseInt(t[0])+255*(1-o)),i=Math.floor(o*parseInt(t[1])+255*(1-o)),n=Math.floor(o*parseInt(t[2])+255*(1-o));return"#"+("0"+r.toString(16)).slice(-2)+("0"+i.toString(16)).slice(-2)+("0"+n.toString(16)).slice(-2)}(e),parseInt("0xFF"+e.split("#")[1]))},j=function(e){return"number"==typeof e&&!isNaN(e)},q=function(e){for(var t=e.length,o=.1,r=t-4,i=[e[0],e[1]],n=[],a=0;a<t-2;a+=2){var s=a?e[a-2]:e[0],c=a?e[a-1]:e[1],l=e[a+0],u=e[a+1],d=e[a+2],p=e[a+3],h=a!==r?e[a+4]:d,_=a!==r?e[a+5]:p,f=Number(l)+(d-s)/6*o,g=Number(u)+(p-c)/6*o,m=Number(d)-(h-l)/6*o,y=Number(p)-(_-u)/6*o;n.push([f,g,m,y,d,p])}return{moveTo:i,path:n}},B=function(e){var t=e.type,o=e.attributes;return(t==m.f.Pencil||t==m.f.RealTime)&&JSON.parse(o||g.a.basicState.attributes).stroke},R=function(){return!!window.navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)}},function(e,t,o){"use strict";o.d(t,"b",(function(){return c})),o.d(t,"a",(function(){return l}));o(55);var r,i=o(4),n=o(0),a=((r={})[n.j.ZegoWhiteboardViewErrorInternal]="内部错误",r[n.j.ZegoWhiteboardViewErrorParamInvalid]="参数错误",r[n.j.ZegoWhiteboardViewErrorNetworkTimeout]="网络超时",r[n.j.ZegoWhiteboardViewErrorNetworkDisconnect]="网络断开",r[n.j.ZegoWhiteboardViewErrorInvalidRsp]="网络回包错误",r[n.j.ZegoWhiteboardViewErrorRequestTooMany]="请求过于频繁",r[n.j.ZegoWhiteboardViewErrorNoLoginRoom]="未登录房间",r[n.j.ZegoWhiteboardViewErrorUserNotExist]="用户不存在",r[n.j.ZegoWhiteboardViewErrorTokenInvalid]="Token authentication failed",r[n.j.ZegoWhiteboardViewErrorViewNotExist]="白板view不存在",r[n.j.ZegoWhiteboardViewErrorViewCreateFail]="创建白板view失败",r[n.j.ZegoWhiteboardViewErrorViewModifyFail]="修改白板view失败",r[n.j.ZegoWhiteboardViewErrorViewNameLimit]="白板view名称或者content过长",r[n.j.ZegoWhiteboardViewErrorViewParentNotExist]="白板view的parent不存在",r[n.j.ZegoWhiteboardViewErrorViewNumLimit]="超过白板最大数量限制",r[n.j.ZegoWhiteboardViewErrorGraphicNotExist]="图元不存在",r[n.j.ZegoWhiteboardViewErrorGraphicCreateFail]="创建图元错误",r[n.j.ZegoWhiteboardViewErrorGraphicModifyFail]="修改图元错误",r[n.j.ZegoWhiteboardViewErrorGraphicUnableDraw]="未开启绘制",r[n.j.ZegoWhiteboardViewErrorGraphicDataLimit]="图元数据大小超过限制",r[n.j.ZegoWhiteboardViewErrorGraphicNumLimit]="超过图元最大数量限制",r[n.j.ZegoWhiteboardViewErrorGraphicTextLimit]="文本字数超过上限",r[n.j.ZegoWhiteboardViewErrorGraphicImageSizeLimit]="图片图元大小超限制",r[n.j.ZegoWhiteboardViewErrorGraphicImageTypeNotSupport]="不支持的图片类型",r[n.j.ZegoWhiteboardViewErrorGraphicIllegalUrl]="无效图片地址",r[n.j.ZegoWhiteboardViewErrorGraphicCursorOffsetLimit]="光标设置偏移值超出限制",r[n.j.ZegoWhiteboardViewErrorInitFail]="初始化失败",r[n.j.ZegoWhiteboardViewErrorGetListFail]="拉取白板view列表失败",r[n.j.ZegoWhiteboardViewErrorCreateFail]="创建白板view失败",r[n.j.ZegoWhiteboardViewErrorDestroyFail]="销毁白板view失败",r[n.j.ZegoWhiteboardViewErrorAttachFail]="attach白板view失败",r[n.j.ZegoWhiteboardViewErrorClearFail]="清空白板view失败",r[n.j.ZegoWhiteboardViewErrorScrollFail]="滚动白板view失败",r[n.j.ZegoWhiteboardViewErrorUndoFail]="撤销操作失败",r[n.j.ZegoWhiteboardViewErrorRedoFail]="重做操作失败",r[n.j.ZegoWhiteboardViewErrorLogFolderNotAccess]="日志目录无法创建或写入",r[n.j.ZegoWhiteboardViewErrorCacheFolderNotAccess]="缓目录径无法创建或写入",r[n.j.ZegoWhiteboardViewErrorNoAuthScale]="无白板缩放权限",r[n.j.ZegoWhiteboardViewErrorNoAuthScroll]="无白板滚动权限",r[n.j.ZegoWhiteboardViewErrorNoAuthCreateGraphic]="无图元创建权限",r[n.j.ZegoWhiteboardViewErrorNoAuthUpdateGraphic]="无图元编辑权限",r[n.j.ZegoWhiteboardViewErrorNoAuthMoveGraphic]="无图元移动权限",r[n.j.ZegoWhiteboardViewErrorNoAuthDeleteGraphic]="无图元删除权限",r[n.j.ZegoWhiteboardViewErrorNoAuthClearGraphic]="无白板清空权限",r),s={1003:n.j.ZegoWhiteboardViewErrorNoLoginRoom,1014:n.j.ZegoWhiteboardViewErrorUserNotExist,1101:n.j.ZegoWhiteboardViewErrorViewNotExist,1102:n.j.ZegoWhiteboardViewErrorViewCreateFail,1104:n.j.ZegoWhiteboardViewErrorViewModifyFail,1114:n.j.ZegoWhiteboardViewErrorViewNumLimit,1201:n.j.ZegoWhiteboardViewErrorGraphicModifyFail,1202:n.j.ZegoWhiteboardViewErrorGraphicModifyFail,1212:n.j.ZegoWhiteboardViewErrorGraphicCreateFail,1217:n.j.ZegoWhiteboardViewErrorGraphicDataLimit,1219:n.j.ZegoWhiteboardViewErrorGraphicModifyFail,1222:n.j.ZegoWhiteboardViewErrorGraphicDataLimit,1223:n.j.ZegoWhiteboardViewErrorGraphicNumLimit,60003001:n.j.ZegoWhiteboardViewErrorInvalidRsp,10001e3:n.j.ZegoWhiteboardViewErrorInternal,10001001:n.j.ZegoWhiteboardViewErrorParamInvalid,110000001:n.j.ZegoWhiteboardViewErrorGraphicIllegalUrl,110000003:n.j.ZegoWhiteboardViewErrorGraphicImageTypeNotSupport,110000004:n.j.ZegoWhiteboardViewErrorGraphicImageSizeLimit,110000005:n.j.ZegoWhiteboardViewErrorGraphicIllegalUrl,110000007:n.j.ZegoWhiteboardViewErrorLogFolderNotAccess,110000008:n.j.ZegoWhiteboardViewErrorCacheFolderNotAccess,110000009:n.j.ZegoWhiteboardViewErrorViewNameLimit,111001001:n.j.ZegoWhiteboardViewErrorNetworkDisconnect,111001002:n.j.ZegoWhiteboardViewErrorNetworkTimeout,111101001:n.j.ZegoWhiteboardViewErrorRequestTooMany,112001003:n.j.ZegoWhiteboardViewErrorNoLoginRoom,112001014:n.j.ZegoWhiteboardViewErrorUserNotExist,112001101:n.j.ZegoWhiteboardViewErrorViewNotExist,112001102:n.j.ZegoWhiteboardViewErrorViewCreateFail,112001104:n.j.ZegoWhiteboardViewErrorViewModifyFail,112001114:n.j.ZegoWhiteboardViewErrorViewNumLimit,112001201:n.j.ZegoWhiteboardViewErrorGraphicModifyFail,112001202:n.j.ZegoWhiteboardViewErrorGraphicModifyFail,112001212:n.j.ZegoWhiteboardViewErrorGraphicCreateFail,112001217:n.j.ZegoWhiteboardViewErrorGraphicDataLimit,112001219:n.j.ZegoWhiteboardViewErrorGraphicModifyFail,112001222:n.j.ZegoWhiteboardViewErrorGraphicDataLimit,112001223:n.j.ZegoWhiteboardViewErrorGraphicNumLimit},c=function(e,t,o){return[1201,1202,1219,1212].includes(e),{code:e=s[e]||e,msg:t=a[e]&&o&&t?t:a[e]||t||a[n.j.ZegoWhiteboardViewErrorInternal]}},l=function(e,t,o){var r=c(e,t,o);return i.f.emit(i.c.Error,r),r}},function(e,t,o){(function(t){var o=function(e){return e&&e.Math==Math&&e};e.exports=o("object"==typeof globalThis&&globalThis)||o("object"==typeof window&&window)||o("object"==typeof self&&self)||o("object"==typeof t&&t)||function(){return this}()||Function("return this")()}).call(this,o(153))},function(e,t,o){"use strict";e.exports=o(414)},function(e,t,o){var r=o(98),i=Function.prototype.call;e.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},function(e,t,o){var r=o(20),i=String,n=TypeError;e.exports=function(e){if(r(e))return e;throw n(i(e)+" is not an object")}},function(e,t){e.exports=function(e){return"function"==typeof e}},function(e,t,o){"use strict";var r,i,n,a=o(176),s=o(19),c=o(11),l=o(15),u=o(20),d=o(18),p=o(67),h=o(70),_=o(51),f=o(25),g=o(22).f,m=o(52),y=o(113),b=o(75),v=o(17),w=o(95),S=o(40),I=S.enforce,E=S.get,O=c.Int8Array,P=O&&O.prototype,k=c.Uint8ClampedArray,T=k&&k.prototype,x=O&&y(O),C=P&&y(P),A=Object.prototype,D=c.TypeError,M=v("toStringTag"),L=w("TYPED_ARRAY_TAG"),N=a&&!!b&&"Opera"!==p(c.opera),j=!1,q={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},B={BigInt64Array:8,BigUint64Array:8},R=function(e){var t=y(e);if(u(t)){var o=E(t);return o&&d(o,"TypedArrayConstructor")?o.TypedArrayConstructor:R(t)}},H=function(e){if(!u(e))return!1;var t=p(e);return d(q,t)||d(B,t)};for(r in q)(n=(i=c[r])&&i.prototype)?I(n).TypedArrayConstructor=i:N=!1;for(r in B)(n=(i=c[r])&&i.prototype)&&(I(n).TypedArrayConstructor=i);if((!N||!l(x)||x===Function.prototype)&&(x=function(){throw D("Incorrect invocation")},N))for(r in q)c[r]&&b(c[r],x);if((!N||!C||C===A)&&(C=x.prototype,N))for(r in q)c[r]&&b(c[r].prototype,C);if(N&&y(T)!==C&&b(T,C),s&&!d(C,M))for(r in j=!0,g(C,M,{get:function(){return u(this)?this[L]:void 0}}),q)c[r]&&_(c[r],L,r);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:N,TYPED_ARRAY_TAG:j&&L,aTypedArray:function(e){if(H(e))return e;throw D("Target is not a typed array")},aTypedArrayConstructor:function(e){if(l(e)&&(!b||m(x,e)))return e;throw D(h(e)+" is not a typed array constructor")},exportTypedArrayMethod:function(e,t,o,r){if(s){if(o)for(var i in q){var n=c[i];if(n&&d(n.prototype,e))try{delete n.prototype[e]}catch(o){try{n.prototype[e]=t}catch(e){}}}C[e]&&!o||f(C,e,o?t:N&&P[e]||t,r)}},exportTypedArrayStaticMethod:function(e,t,o){var r,i;if(s){if(b){if(o)for(r in q)if((i=c[r])&&d(i,e))try{delete i[e]}catch(e){}if(x[e]&&!o)return;try{return f(x,e,o?t:N&&x[e]||t)}catch(e){}}for(r in q)!(i=c[r])||i[e]&&!o||f(i,e,t)}},getTypedArrayConstructor:R,isView:function(e){if(!u(e))return!1;var t=p(e);return"DataView"===t||d(q,t)||d(B,t)},isTypedArray:H,TypedArray:x,TypedArrayPrototype:C}},function(e,t,o){var r=o(11),i=o(80),n=o(18),a=o(95),s=o(79),c=o(191),l=i("wks"),u=r.Symbol,d=u&&u.for,p=c?u:u&&u.withoutSetter||a;e.exports=function(e){if(!n(l,e)||!s&&"string"!=typeof l[e]){var t="Symbol."+e;s&&n(u,e)?l[e]=u[e]:l[e]=c&&d?d(t):p(t)}return l[e]}},function(e,t,o){var r=o(7),i=o(29),n=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return n(i(e),t)}},function(e,t,o){var r=o(8);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(e,t,o){var r=o(15);e.exports=function(e){return"object"==typeof e?null!==e:r(e)}},function(e,t,o){"use strict";o.d(t,"b",(function(){return c})),o.d(t,"a",(function(){return i}));var r,i,n=o(3),a=((r={30001:"请求过于频繁",60011:"token无效",60012:"token已过期",60013:"文档转换请求已处理",60014:"不存在的任务ID"})[n.d.ZegoDocsViewSuccess]="执行成功",r[n.d.ZegoDocsViewErrorInternal]="内部错误",r[n.d.ZegoDocsViewErrorParamInvalid]="参数错误",r[n.d.ZegoDocsViewErrorNetworkTimeout]="网络超时",r[n.d.ZegoDocsViewErrorRequestFailure]="请求失败",r[n.d.ZegoDocsViewErrorTokenInvalid]="The token has expired",r[n.d.ZegoDocsViewErrorGetContextFail]="Get canvas context Fail",r[n.d.ZegoDocsViewErrorDrawImageFail]="Cavnas DrawImage Fail",r[n.d.ZegoDocsViewErrorFileNotExist]="找不到对应的本地文件",r[n.d.ZegoDocsViewErrorUploadFailed]="上传失败",r[n.d.ZegoDocsViewErrorUnsupportRenderType]="不支持渲染模式",r[n.d.ZegoDocsViewErrorFileEncrypt]="文件被加密",r[n.d.ZegoDocsViewErrorFileSizeLimit]="文件内容过大",r[n.d.ZegoDocsViewErrorFileSheetLimit]="文件页数过多",r[n.d.ZegoDocsViewErrorConvertFail]="格式转换失败",r[n.d.ZegoDocsViewErrorConvertCancel]="格式转换被取消",r[n.d.ZegoDocsViewErrorFileContentEmpty]="文件内容为空",r[n.d.ZegoDocsViewErrorFileReadOnly]="文件为只读模式",r[n.d.ZegoDocsViewErrorConvertElementNotSupported]="源文件中存在不支持转码的元素",r[n.d.ZegoDocsViewErrorConvertFileTypeInvalid]="文件后缀名不匹配",r[n.d.ZegoDocsViewErrorConvertFileUnsafe]="源文件中存在安全隐患，无法正常打开",r[n.d.ZegoDocsViewErrorConvertElementNotExported]="转码结束后存在图片、音视频文件未正常导出",r[n.d.ZegoDocsViewErrorFileCorruption]="文件损坏",r[n.d.ZegoDocsViewErrorFileContentIncomplete]="文件内容不完整",r[n.d.ZegoDocsViewErrorAuthParamInvalid]="认证参数错误",r[n.d.ZegoDocsViewErrorFilePathNotAccess]="路径权限不足",r[n.d.ZegoDocsViewErrorInitFailed]="初始化失败",r[n.d.ZegoDocsViewErrorSizeInvalid]="无法获取当前 view 宽高",r[n.d.ZegoDocsViewErrorFreeSpaceLimit]="本地空间不足",r[n.d.ZegoDocsViewErrorUploadNotSupported]="不支持文件上传功能",r[n.d.ZegoDocsViewErrorUploadDuplicated]="正在上传相同文件",r[n.d.ZegoDocsViewErrorEmptyDomain]="空域名",r[n.d.ZegoDocsViewErrorHaveInit]="已初始化",r[n.d.ZegoDocsViewErrorServerFileNotExist]="找不到对应的转码后文件",r[n.d.ZegoDocsViewErrorCacheNotSupported]="当前 AppID 不支持动态 PPT 预加载",r[n.d.ZegoDocsViewErrorCacheFailed]="预加载失败",r[n.d.ZegoDocsViewErrorZipFileInvalid]="无效的 ZIP 文件",r[n.d.ZegoDocsViewErrorH5FileInvalid]="无效的 H5 文件，不符合 ZEGO 定义的 H5 文件规范",r[n.d.ZegoDocsViewErrorSwitchSpeakerFail]="Switching speakers is not supported",r),s={4:n.d.ZegoDocsViewErrorParamInvalid,32:n.d.ZegoDocsViewErrorConvertFail,64:n.d.ZegoDocsViewErrorConvertCancel,128:n.d.ZegoDocsViewErrorFileEncrypt,256:n.d.ZegoDocsViewErrorFileSizeLimit,512:n.d.ZegoDocsViewErrorFileSheetLimit,1024:n.d.ZegoDocsViewErrorFileContentEmpty,8192:n.d.ZegoDocsViewErrorFileReadOnly,32768:n.d.ZegoDocsViewErrorConvertElementNotSupported,32769:n.d.ZegoDocsViewErrorConvertFileTypeInvalid,32773:n.d.ZegoDocsViewErrorFileCorruption,32774:n.d.ZegoDocsViewErrorFileContentIncomplete,60002:n.d.ZegoDocsViewErrorFileNotExist,60011:n.d.ZegoDocsViewErrorAuthParamInvalid,60013:n.d.ZegoDocsViewErrorConvertCancel,60015:n.d.ZegoDocsViewErrorUnsupportRenderType,60016:n.d.ZegoDocsViewErrorFileSizeLimit,60018:n.d.ZegoDocsViewErrorServerFileNotExist,60021:n.d.ZegoDocsViewErrorUnsupportRenderType,60036:n.d.ZegoDocsViewErrorZipFileInvalid,60037:n.d.ZegoDocsViewErrorFileEncrypt,60038:n.d.ZegoDocsViewErrorH5FileInvalid,"-102":n.d.ZegoDocsViewErrorNetworkTimeout,"-105":n.d.ZegoDocsViewErrorFileNotExist,"-108":n.d.ZegoDocsViewErrorUnsupportRenderType,"-109":n.d.ZegoDocsViewErrorUploadFailed,"-110":n.d.ZegoDocsViewErrorFilePathNotAccess,"-114":n.d.ZegoDocsViewErrorCacheFailed,"-115":n.d.ZegoDocsViewErrorFreeSpaceLimit,"-116":n.d.ZegoDocsViewErrorInitFailed,"-117":n.d.ZegoDocsViewErrorFileSizeLimit,"-118":n.d.ZegoDocsViewErrorUploadNotSupported,"-119":n.d.ZegoDocsViewErrorUploadDuplicated,"-120":n.d.ZegoDocsViewErrorUnsupportRenderType,"-121":n.d.ZegoDocsViewErrorEmptyDomain,"-123":n.d.ZegoDocsViewErrorFileContentEmpty,"-124":n.d.ZegoDocsViewErrorFilePathNotAccess,"-125":n.d.ZegoDocsViewErrorCacheNotSupported,"-126":n.d.ZegoDocsViewErrorFileEncrypt,"-127":n.d.ZegoDocsViewErrorZipFileInvalid,"-128":n.d.ZegoDocsViewErrorFileEncrypt,"-129":n.d.ZegoDocsViewErrorH5FileInvalid,"-130":n.d.ZegoDocsViewErrorConvertElementNotSupported,"-131":n.d.ZegoDocsViewErrorConvertFileTypeInvalid,"-132":n.d.ZegoDocsViewErrorConvertFileTypeInvalid,"-133":n.d.ZegoDocsViewErrorSwitchSpeakerFail,"-999998":n.d.ZegoDocsViewErrorSizeInvalid,"-999999":n.d.ZegoDocsViewErrorParamInvalid},c=function(e,t){return{code:e=s[e]||e,message:t=a[e]||t||a[n.d.ZegoDocsViewErrorInternal]}};!function(e){e[e.ZegoWhiteboardViewErrorNoAuthScroll=3050002]="ZegoWhiteboardViewErrorNoAuthScroll"}(i||(i={}))},function(e,t,o){var r=o(19),i=o(192),n=o(193),a=o(14),s=o(92),c=TypeError,l=Object.defineProperty,u=Object.getOwnPropertyDescriptor;t.f=r?n?function(e,t,o){if(a(e),t=s(t),a(o),"function"==typeof e&&"prototype"===t&&"value"in o&&"writable"in o&&!o.writable){var r=u(e,t);r&&r.writable&&(e[t]=o.value,o={configurable:"configurable"in o?o.configurable:r.configurable,enumerable:"enumerable"in o?o.enumerable:r.enumerable,writable:!1})}return l(e,t,o)}:l:function(e,t,o){if(a(e),t=s(t),a(o),i)try{return l(e,t,o)}catch(e){}if("get"in o||"set"in o)throw c("Accessors not supported");return"value"in o&&(e[t]=o.value),e}},function(e,t,o){"use strict";o.d(t,"i",(function(){return f})),o.d(t,"j",(function(){return g})),o.d(t,"g",(function(){return h})),o.d(t,"e",(function(){return _})),o.d(t,"a",(function(){return y})),o.d(t,"b",(function(){return b})),o.d(t,"h",(function(){return v})),o.d(t,"d",(function(){return d})),o.d(t,"f",(function(){return w})),o.d(t,"c",(function(){return S}));o(77),o(37),o(85),o(36),o(126),o(26),o(127),o(128),o(129),o(130),o(131),o(132),o(133),o(134),o(135),o(136),o(137),o(138),o(139),o(140),o(141),o(142),o(143),o(144),o(145),o(146),o(147),o(148),o(149),o(150),o(227),o(46),o(225),o(394),o(151),o(121),o(186),o(59),o(185),o(167);var r=o(5),i=o(9),n=o(0),a=r.a.calStandard.placeWidth,s=function(e,t,o){var r=e[t];e[t]=e[o],e[o]=r},c=function(e,t,o,r){var i=r.charCodeAt(t);e[t]=r.charCodeAt(o),e[o]=i},l=function(e){return btoa(String.fromCharCode.apply(null,e))},u=function(e){var t=unescape(encodeURIComponent(e)).split("").map((function(e){return e.charCodeAt(0)}));return new Uint8Array(t)},d=function(e){return decodeURIComponent(escape(String.fromCharCode.apply(String,Array.from(e))))},p=function(e){for(var t=e.split(","),o=new Uint8Array(Int32Array.from([+t[0],+t[1]]).buffer),r=0;r<o.length;r+=4)s(o,r,r+3),s(o,r+1,r+2);var i=u(t.slice(2).join(",")),n=new Uint8Array(o.length+i.length);return n.set(o),n.set(i,o.length),n},h=function(e){return l(u(e))},_=function(e){for(var t=atob(e),o=new Uint8Array(t.length),r=0;r<t.length;r++)o[r]=t.charCodeAt(r);return d(o)},f=function(e,t){var o=e.type,r=e.action,i=e.is_end_draw,a=e.data;if("[object Uint8Array]"==Object.prototype.toString.call(a)&&(a=btoa(Array.prototype.map.call(a,(function(e){return String.fromCharCode(e)})).join(""))),o===n.f.Text)e.data=t?function(e){for(var t=atob(e),o=new Uint8Array(t.length),r=0;r<8;r+=4)c(o,r,r+3,t),c(o,r+1,r+2,t);for(;r<t.length;r++)o[r]=t.charCodeAt(r);var i=new Int32Array(o.slice(0,8).buffer);return i[0]+","+i[1]+","+d(o.slice(8))}(a):l(p(a));else if(o===n.f.Image||o===n.f.BgImage)e.data=t?JSON.parse(_(a)):l(u(JSON.stringify(a)));else if(t)if("[object Array]"==Object.prototype.toString.call(a))e.data=a;else{for(var h=atob(a||""),f=new Uint8Array(h.length),g=0;g<h.length;g+=4)c(f,g,g+3,h),c(f,g+1,g+2,h);e.data=Array.from(new Int32Array(f.buffer)),e.data=e.data.slice(o!==n.f.RealTime&&e.data.length%2?1:0)}else{var m=a.slice();(o!==n.f.Pencil||i||r!==n.a.Create&&r!==n.a.Append)&&m.unshift(m.length/2);for(f=new Uint8Array(Int32Array.from(m).buffer),g=0;g<f.length;g+=4)s(f,g,g+3),s(f,g+1,g+2);e.data=l(f)}},g=function(e,t,o){var r=e.type,i=e.data,a=e.action,c=e.is_end_draw,l=e.attributes;if(r===n.f.Text)e.data=t?function(e){for(var t=0;t<8;t+=4)s(e,t,t+3),s(e,t+1,t+2);var o=new Int32Array(e.slice(0,8).buffer);return o[0]+","+o[1]+","+d(e.slice(8))}(i):p(i);else if(r===n.f.Image||r===n.f.BgImage)e.data=t?JSON.parse(d(i)):u(JSON.stringify(i));else if(t){for(var h=i,_=0;_<h.length;_+=4)s(h,_,_+3),s(h,_+1,_+2);e.data=Array.from(new Int32Array(h.slice().buffer)),e.data=e.data.slice(r!==n.f.RealTime&&e.data.length%2?1:0),o&&l&&(e.attributes=w(l))}else{var f=i.slice();(r!==n.f.Pencil||c||a!==n.a.Create&&a!==n.a.Append)&&f.unshift(f.length/2);for(h=new Uint8Array(Int32Array.from(f).buffer),_=0;_<h.length;_+=4)s(h,_,_+3),s(h,_+1,_+2);e.data=h}},m=function(e,t,o,r,i,n,a){void 0===n&&(n=0),void 0===a&&(a=1);var s=0;return s=r?e*t/o+e*t/o*n/a:(e+(n=e*n/a))*o/t,r&&i?s:Math.round(s)},y=function(e,t,o,r,s){void 0===r&&(r=0),void 0===s&&(s=1);var c=e.type,l=e.px,u=e.py,d=e.x,p=e.y,h=Object(i.j)(e);if(l&&(e.px=m(l,t,a,o,!1)),u&&(e.py=m(u,t,a,o,!1,r,s)),e.x=m(d||0,t,a,o,!1),e.y=m(p||0,t,a,o,!1,r,s),c!==n.f.BgImage)if(c===n.f.Text){var _=e.data.split(",");_[0]=m(+_[0],t,a,o,h)+"",_[1]=m(+_[1],t,a,o,h,r,s)+"",e.data=_.join(",")}else if(c===n.f.Image){var f=e.data;f.x=m(f.x,t,a,o,h),f.y=m(f.y,t,a,o,h,r,s),f.ex=m(f.ex,t,a,o,h),f.ey=m(f.ey,t,a,o,h,r,s),o?(e.initX=f.x,e.initY=f.y,f.x+=e.x,f.y+=e.y,f.ex+=e.x,f.ey+=e.y):e.data=f}else n.f.Cursor,e.data=e.data.map((function(e,i){return i%2==0?m(e,t,a,o,h,0):m(e,t,a,o,h,r,s)}))},b=function(e,t,o,r){var i=r.filePageSize,n=r.pageCount,a=(null==i?void 0:i.fillPPT)?t:o*n;return i&&a-i.height*e*n/i.width||0},v=function(e){return Uint8Array.from(Array.from(unescape(encodeURIComponent(e))).map((function(e){return e.charCodeAt(0)})))},w=function(e){return decodeURIComponent(escape(String.fromCharCode.apply(String,Array.from(e))))},S=function(e,t){var o,r=(""+e).split(".").length<3?(""+e).concat(".0"):""+e,i=(""+t).split(".").length<3?(""+t).concat(".0"):""+t;function n(e){for(var t=e.toString().split("."),o=["","0","00","000","0000"].reverse(),r=0;r<t.length;r++){var i=t[r].length;t[r]=o[i]+t[r]}return t.join("")}return o=i,n(r)<n(o)}},function(e,t,o){var r=o(67),i=String;e.exports=function(e){if("Symbol"===r(e))throw TypeError("Cannot convert a Symbol value to a string");return i(e)}},function(e,t,o){var r=o(15),i=o(22),n=o(219),a=o(158);e.exports=function(e,t,o,s){s||(s={});var c=s.enumerable,l=void 0!==s.name?s.name:t;if(r(o)&&n(o,l,s),s.global)c?e[t]=o:a(t,o);else{try{s.unsafe?e[t]&&(c=!0):delete e[t]}catch(e){}c?e[t]=o:i.f(e,t,{value:o,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return e}},function(e,t,o){var r=o(160),i=o(25),n=o(273);r||i(Object.prototype,"toString",n,{unsafe:!0})},function(e,t,o){var r=o(15),i=o(70),n=TypeError;e.exports=function(e){if(r(e))return e;throw n(i(e)+" is not a function")}},function(e,t,o){"use strict";o.d(t,"b",(function(){return u})),o.d(t,"d",(function(){return d})),o.d(t,"c",(function(){return p})),o.d(t,"a",(function(){return l}));var r,i,n,a,s,c,l,u=15e3,d=6e3,p=36e5;!function(e){e[e.TXT=0]="TXT",e[e.MD=1]="MD",e[e.C=2]="C",e[e.CPP=3]="CPP",e[e.H=4]="H",e[e.HPP=5]="HPP",e[e.PY=6]="PY",e[e.JS=7]="JS",e[e.XML=8]="XML"}(r||(r={})),function(e){e[e.JPG=0]="JPG",e[e.JPEG=1]="JPEG",e[e.PNG=2]="PNG",e[e.BMP=3]="BMP",e[e.SVG=4]="SVG",e[e.HEIC=5]="HEIC"}(i||(i={})),function(e){e[e.PDF=0]="PDF"}(n||(n={})),function(e){e[e.XLSX=0]="XLSX",e[e.XLS=1]="XLS"}(a||(a={})),function(e){e[e.DOC=0]="DOC",e[e.DOCX=1]="DOCX"}(s||(s={})),function(e){e[e.PPT=0]="PPT",e[e.PPTX=1]="PPTX"}(c||(c={})),function(e){e[e.PPT=1]="PPT",e[e.DOC=2]="DOC",e[e.ELS=4]="ELS",e[e.PDF=8]="PDF",e[e.IMG=16]="IMG",e[e.TXT=32]="TXT",e[e.H5=64]="H5",e[e.H5PDF=128]="H5PDF",e[e.IMGAndPDF=256]="IMGAndPDF",e[e.PPTH5=512]="PPTH5",e[e.H5ZIP=4096]="H5ZIP"}(l||(l={}))},function(e,t,o){var r=o(48),i=Object;e.exports=function(e){return i(r(e))}},function(e,t,o){var r=o(45);e.exports=function(e){return r(e.length)}},function(e,t,o){var r=o(34),i=o(7),n=o(91),a=o(29),s=o(30),c=o(164),l=i([].push),u=function(e){var t=1==e,o=2==e,i=3==e,u=4==e,d=6==e,p=7==e,h=5==e||d;return function(_,f,g,m){for(var y,b,v=a(_),w=n(v),S=r(f,g),I=s(w),E=0,O=m||c,P=t?O(_,I):o||p?O(_,0):void 0;I>E;E++)if((h||E in w)&&(b=S(y=w[E],E,v),e))if(t)P[E]=b;else if(b)switch(e){case 3:return!0;case 5:return y;case 6:return E;case 2:l(P,y)}else switch(e){case 4:return!1;case 7:l(P,y)}return d?-1:i||u?u:P}};e.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6),filterReject:u(7)}},function(e,t,o){var r=o(11),i=o(15),n=function(e){return i(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?n(r[e]):r[e]&&r[e][t]}},function(e,t,o){"use strict";var r,i;o.d(t,"a",(function(){return r})),o.d(t,"b",(function(){return i})),function(e){e.Docs="zegoeventdocs",e.Whiteboard="zegoeventwb"}(r||(r={})),function(e){e.WbInit="wbinit",e.WbDragTool="wbdragtool",e.WbScale="wbscale",e.WbDestroy="wbdestroy",e.WbSwitch="wbSwitch",e.WbError="wberror",e.Snapshot="snapshot",e.Page="page",e.Step="step",e.SyncDrag="syncDrag",e.Animation="targetclick",e.H5Snapshot="getH5SnapshotResult",e.DocsAspect="getAspectCache",e.ReloadView="reloadview",e.ClearEvent="clearEvent"}(i||(i={}))},function(e,t,o){var r=o(7),i=o(27),n=o(98),a=r(r.bind);e.exports=function(e,t){return i(e),void 0===t?e:n?a(e,t):function(){return e.apply(t,arguments)}}},function(e,t,o){"use strict";var r,i,n,a,s,c,l,u;o.d(t,"b",(function(){return r})),o.d(t,"c",(function(){return i})),o.d(t,"e",(function(){return a})),o.d(t,"d",(function(){return s})),o.d(t,"f",(function(){return c})),o.d(t,"a",(function(){return l})),function(e){e[e.ZegoWhiteboardViewSuccess=0]="ZegoWhiteboardViewSuccess",e[e.ZegoWhiteboardViewErrorInternal=3000001]="ZegoWhiteboardViewErrorInternal",e[e.ZegoWhiteboardViewErrorParamInvalid=3000002]="ZegoWhiteboardViewErrorParamInvalid",e[e.ZegoWhiteboardViewErrorNetworkTimeout=3000003]="ZegoWhiteboardViewErrorNetworkTimeout",e[e.ZegoWhiteboardViewErrorNetworkDisconnect=3000004]="ZegoWhiteboardViewErrorNetworkDisconnect",e[e.ZegoWhiteboardViewErrorInvalidRsp=3000005]="ZegoWhiteboardViewErrorInvalidRsp",e[e.ZegoWhiteboardViewErrorRequestTooMany=3000006]="ZegoWhiteboardViewErrorRequestTooMany",e[e.ZegoWhiteboardViewErrorVersionMismatch=3000007]="ZegoWhiteboardViewErrorVersionMismatch",e[e.ZegoWhiteboardViewErrorTokenInvalid=3000009]="ZegoWhiteboardViewErrorTokenInvalid",e[e.ZegoWhiteboardViewErrorNoLoginRoom=3010001]="ZegoWhiteboardViewErrorNoLoginRoom",e[e.ZegoWhiteboardViewErrorUserNotExist=3010002]="ZegoWhiteboardViewErrorUserNotExist",e[e.ZegoWhiteboardViewErrorViewNotExist=3020001]="ZegoWhiteboardViewErrorViewNotExist",e[e.ZegoWhiteboardViewErrorViewCreateFail=3020002]="ZegoWhiteboardViewErrorViewCreateFail",e[e.ZegoWhiteboardViewErrorViewModifyFail=3020003]="ZegoWhiteboardViewErrorViewModifyFail",e[e.ZegoWhiteboardViewErrorViewNameLimit=3020004]="ZegoWhiteboardViewErrorViewNameLimit",e[e.ZegoWhiteboardViewErrorViewParentNotExist=3020005]="ZegoWhiteboardViewErrorViewParentNotExist",e[e.ZegoWhiteboardViewErrorViewNumLimit=3020006]="ZegoWhiteboardViewErrorViewNumLimit",e[e.ZegoWhiteboardViewErrorAnimationInfoLimit=3020007]="ZegoWhiteboardViewErrorAnimationInfoLimit",e[e.ZegoWhiteboardViewErrorGraphicNotExist=3030001]="ZegoWhiteboardViewErrorGraphicNotExist",e[e.ZegoWhiteboardViewErrorGraphicCreateFail=3030002]="ZegoWhiteboardViewErrorGraphicCreateFail",e[e.ZegoWhiteboardViewErrorGraphicModifyFail=3030003]="ZegoWhiteboardViewErrorGraphicModifyFail",e[e.ZegoWhiteboardViewErrorGraphicUnableDraw=3030004]="ZegoWhiteboardViewErrorGraphicUnableDraw",e[e.ZegoWhiteboardViewErrorGraphicDataLimit=3030005]="ZegoWhiteboardViewErrorGraphicDataLimit",e[e.ZegoWhiteboardViewErrorGraphicNumLimit=3030006]="ZegoWhiteboardViewErrorGraphicNumLimit",e[e.ZegoWhiteboardViewErrorGraphicTextLimit=3030007]="ZegoWhiteboardViewErrorGraphicTextLimit",e[e.ZegoWhiteboardViewErrorGraphicImageSizeLimit=3030008]="ZegoWhiteboardViewErrorGraphicImageSizeLimit",e[e.ZegoWhiteboardViewErrorGraphicImageTypeNotSupport=3030009]="ZegoWhiteboardViewErrorGraphicImageTypeNotSupport",e[e.ZegoWhiteboardViewErrorGraphicIllegalUrl=3030010]="ZegoWhiteboardViewErrorGraphicIllegalUrl",e[e.ZegoWhiteboardViewErrorGraphicCursorOffsetLimit=3030011]="ZegoWhiteboardViewErrorGraphicCursorOffsetLimit",e[e.ZegoWhiteboardViewErrorInitFail=3040001]="ZegoWhiteboardViewErrorInitFail",e[e.ZegoWhiteboardViewErrorGetListFail=3040002]="ZegoWhiteboardViewErrorGetListFail",e[e.ZegoWhiteboardViewErrorCreateFail=3040003]="ZegoWhiteboardViewErrorCreateFail",e[e.ZegoWhiteboardViewErrorDestroyFail=3040004]="ZegoWhiteboardViewErrorDestroyFail",e[e.ZegoWhiteboardViewErrorAttachFail=3040005]="ZegoWhiteboardViewErrorAttachFail",e[e.ZegoWhiteboardViewErrorClearFail=3040006]="ZegoWhiteboardViewErrorClearFail",e[e.ZegoWhiteboardViewErrorScrollFail=3040007]="ZegoWhiteboardViewErrorScrollFail",e[e.ZegoWhiteboardViewErrorUndoFail=3040008]="ZegoWhiteboardViewErrorUndoFail",e[e.ZegoWhiteboardViewErrorRedoFail=3040009]="ZegoWhiteboardViewErrorRedoFail",e[e.ZegoWhiteboardViewErrorLogFolderNotAccess=3040010]="ZegoWhiteboardViewErrorLogFolderNotAccess",e[e.ZegoWhiteboardViewErrorCacheFolderNotAccess=3040011]="ZegoWhiteboardViewErrorCacheFolderNotAccess",e[e.ZegoWhiteboardViewErrorNoAuthScale=3050001]="ZegoWhiteboardViewErrorNoAuthScale",e[e.ZegoWhiteboardViewErrorNoAuthScroll=3050002]="ZegoWhiteboardViewErrorNoAuthScroll",e[e.ZegoWhiteboardViewErrorNoAuthCreateGraphic=3050003]="ZegoWhiteboardViewErrorNoAuthCreateGraphic",e[e.ZegoWhiteboardViewErrorNoAuthUpdateGraphic=3050004]="ZegoWhiteboardViewErrorNoAuthUpdateGraphic",e[e.ZegoWhiteboardViewErrorNoAuthMoveGraphic=3050005]="ZegoWhiteboardViewErrorNoAuthMoveGraphic",e[e.ZegoWhiteboardViewErrorNoAuthDeleteGraphic=3050006]="ZegoWhiteboardViewErrorNoAuthDeleteGraphic",e[e.ZegoWhiteboardViewErrorNoAuthClearGraphic=3050007]="ZegoWhiteboardViewErrorNoAuthClearGraphic"}(r||(r={})),function(e){e[e.ZegoWhiteboardViewToolPen=1]="ZegoWhiteboardViewToolPen",e[e.ZegoWhiteboardViewToolText=2]="ZegoWhiteboardViewToolText",e[e.ZegoWhiteboardViewToolLine=4]="ZegoWhiteboardViewToolLine",e[e.ZegoWhiteboardViewToolRect=8]="ZegoWhiteboardViewToolRect",e[e.ZegoWhiteboardViewToolEllipse=16]="ZegoWhiteboardViewToolEllipse",e[e.ZegoWhiteboardViewToolSelector=32]="ZegoWhiteboardViewToolSelector",e[e.ZegoWhiteboardViewToolEraser=64]="ZegoWhiteboardViewToolEraser",e[e.ZegoWhiteboardViewToolLaser=128]="ZegoWhiteboardViewToolLaser",e[e.ZegoWhiteboardViewToolClick=256]="ZegoWhiteboardViewToolClick",e[e.ZegoWhitebaordViewToolCustomImage=512]="ZegoWhitebaordViewToolCustomImage"}(i||(i={})),function(e){e[e.ZegoWhiteboardOperationModeNone=1]="ZegoWhiteboardOperationModeNone",e[e.ZegoWhiteboardOperationModeScroll=2]="ZegoWhiteboardOperationModeScroll",e[e.ZegoWhiteboardOperationModeDraw=4]="ZegoWhiteboardOperationModeDraw",e[e.ZegoWhiteboardOperationModeZoom=8]="ZegoWhiteboardOperationModeZoom"}(n||(n={})),function(e){e[e.ZegoWhiteboardViewImageGraphic=0]="ZegoWhiteboardViewImageGraphic",e[e.ZegoWhiteboardViewImageCustom=1]="ZegoWhiteboardViewImageCustom"}(a||(a={})),function(e){e[e.ZegoWhiteboardViewImageFitModeLeft=0]="ZegoWhiteboardViewImageFitModeLeft",e[e.ZegoWhiteboardViewImageFitModeRight=1]="ZegoWhiteboardViewImageFitModeRight",e[e.ZegoWhiteboardViewImageFitModeBottom=2]="ZegoWhiteboardViewImageFitModeBottom",e[e.ZegoWhiteboardViewImageFitModeTop=3]="ZegoWhiteboardViewImageFitModeTop",e[e.ZegoWhiteboardViewImageFitModeCenter=4]="ZegoWhiteboardViewImageFitModeCenter"}(s||(s={})),function(e){e[e.Center=0]="Center",e[e.Horizontal=1]="Horizontal",e[e.Vertical=2]="Vertical"}(c||(c={})),function(e){e[e.pen=1]="pen"}(l||(l={})),function(e){e[e.CURRENT=1]="CURRENT",e[e.ALL=2]="ALL"}(u||(u={}))},function(e,t,o){"use strict";var r=o(41),i=o(108),n=o(93),a=o(40),s=o(22).f,c=o(165),l=o(44),u=o(19),d=a.set,p=a.getterFor("Array Iterator");e.exports=c(Array,"Array",(function(e,t){d(this,{type:"Array Iterator",target:r(e),index:0,kind:t})}),(function(){var e=p(this),t=e.target,o=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==o?{value:r,done:!1}:"values"==o?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values");var h=n.Arguments=n.Array;if(i("keys"),i("values"),i("entries"),!l&&u&&"values"!==h.name)try{s(h,"name",{value:"values"})}catch(e){}},function(e,t,o){"use strict";var r=o(6),i=o(112);r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},function(e,t,o){var r=o(34),i=o(13),n=o(14),a=o(70),s=o(177),c=o(30),l=o(52),u=o(155),d=o(109),p=o(235),h=TypeError,_=function(e,t){this.stopped=e,this.result=t},f=_.prototype;e.exports=function(e,t,o){var g,m,y,b,v,w,S,I=o&&o.that,E=!(!o||!o.AS_ENTRIES),O=!(!o||!o.IS_RECORD),P=!(!o||!o.IS_ITERATOR),k=!(!o||!o.INTERRUPTED),T=r(t,I),x=function(e){return g&&p(g,"normal",e),new _(!0,e)},C=function(e){return E?(n(e),k?T(e[0],e[1],x):T(e[0],e[1])):k?T(e,x):T(e)};if(O)g=e.iterator;else if(P)g=e;else{if(!(m=d(e)))throw h(a(e)+" is not iterable");if(s(m)){for(y=0,b=c(e);b>y;y++)if((v=C(e[y]))&&l(f,v))return v;return new _(!1)}g=u(e,m)}for(w=O?e.next:g.next;!(S=i(w,g)).done;){try{v=C(S.value)}catch(e){p(g,"throw",e)}if("object"==typeof v&&v&&l(f,v))return v}return new _(!1)}},function(e,t,o){var r=o(6),i=o(220);r({target:"Object",stat:!0,arity:2,forced:Object.assign!==i},{assign:i})},function(e,t,o){var r,i,n,a=o(264),s=o(11),c=o(7),l=o(20),u=o(51),d=o(18),p=o(157),h=o(110),_=o(97),f=s.TypeError,g=s.WeakMap;if(a||p.state){var m=p.state||(p.state=new g),y=c(m.get),b=c(m.has),v=c(m.set);r=function(e,t){if(b(m,e))throw new f("Object already initialized");return t.facade=e,v(m,e,t),t},i=function(e){return y(m,e)||{}},n=function(e){return b(m,e)}}else{var w=h("state");_[w]=!0,r=function(e,t){if(d(e,w))throw new f("Object already initialized");return t.facade=e,u(e,w,t),t},i=function(e){return d(e,w)?e[w]:{}},n=function(e){return d(e,w)}}e.exports={set:r,get:i,has:n,enforce:function(e){return n(e)?i(e):r(e,{})},getterFor:function(e){return function(t){var o;if(!l(t)||(o=i(t)).type!==e)throw f("Incompatible receiver, "+e+" required");return o}}}},function(e,t,o){var r=o(91),i=o(48);e.exports=function(e){return r(i(e))}},function(e,t,o){var r=o(266);e.exports=function(e){var t=+e;return t!=t||0===t?0:r(t)}},function(e,t,o){"use strict";var r=o(238),i=Object.prototype.toString;function n(e){return"[object Array]"===i.call(e)}function a(e){return void 0===e}function s(e){return null!==e&&"object"==typeof e}function c(e){return"[object Function]"===i.call(e)}function l(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),n(e))for(var o=0,r=e.length;o<r;o++)t.call(null,e[o],o,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:n,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:function(e){return null!==e&&!a(e)&&null!==e.constructor&&!a(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:s,isUndefined:a,isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:c,isStream:function(e){return s(e)&&c(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:l,merge:function e(){var t={};function o(o,r){"object"==typeof t[r]&&"object"==typeof o?t[r]=e(t[r],o):t[r]=o}for(var r=0,i=arguments.length;r<i;r++)l(arguments[r],o);return t},deepMerge:function e(){var t={};function o(o,r){"object"==typeof t[r]&&"object"==typeof o?t[r]=e(t[r],o):t[r]="object"==typeof o?e({},o):o}for(var r=0,i=arguments.length;r<i;r++)l(arguments[r],o);return t},extend:function(e,t,o){return l(t,(function(t,i){e[i]=o&&"function"==typeof t?r(t,o):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(e,t){e.exports=!1},function(e,t,o){var r=o(42),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t,o){"use strict";var r=o(173).charAt,i=o(24),n=o(40),a=o(165),s=n.set,c=n.getterFor("String Iterator");a(String,"String",(function(e){s(this,{type:"String Iterator",string:i(e),index:0})}),(function(){var e,t=c(this),o=t.string,i=t.index;return i>=o.length?{value:void 0,done:!0}:(e=r(o,i),t.index+=e.length,{value:e,done:!1})}))},function(e,t,o){o(308),o(315),o(316),o(317),o(318),o(319)},function(e,t){var o=TypeError;e.exports=function(e){if(null==e)throw o("Can't call method on "+e);return e}},function(e,t,o){"use strict";var r=o(6),i=o(203);r({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},function(e,t,o){var r=o(11),i=o(204),n=o(205),a=o(203),s=o(51),c=function(e){if(e&&e.forEach!==a)try{s(e,"forEach",a)}catch(t){e.forEach=a}};for(var l in i)i[l]&&c(r[l]&&r[l].prototype);c(n)},function(e,t,o){var r=o(19),i=o(22),n=o(73);e.exports=r?function(e,t,o){return i.f(e,t,n(1,o))}:function(e,t,o){return e[t]=o,e}},function(e,t,o){var r=o(7);e.exports=r({}.isPrototypeOf)},function(e,t,o){var r=o(11),i=o(204),n=o(205),a=o(36),s=o(51),c=o(17),l=c("iterator"),u=c("toStringTag"),d=a.values,p=function(e,t){if(e){if(e[l]!==d)try{s(e,l,d)}catch(t){e[l]=d}if(e[u]||s(e,u,t),i[t])for(var o in a)if(e[o]!==a[o])try{s(e,o,a[o])}catch(t){e[o]=a[o]}}};for(var h in i)p(r[h]&&r[h].prototype,h);p(n,"DOMTokenList")},function(e,t,o){"use strict";o.d(t,"e",(function(){return s})),o.d(t,"b",(function(){return c})),o.d(t,"c",(function(){return l})),o.d(t,"d",(function(){return u})),o.d(t,"f",(function(){return d})),o.d(t,"g",(function(){return p})),o.d(t,"a",(function(){return h})),o.d(t,"h",(function(){return _})),o.d(t,"o",(function(){return f})),o.d(t,"j",(function(){return g})),o.d(t,"k",(function(){return m})),o.d(t,"n",(function(){return y})),o.d(t,"l",(function(){return b})),o.d(t,"m",(function(){return v})),o.d(t,"i",(function(){return w}));o(37),o(376),o(377),o(55),o(56),o(124);var r=o(5),i=o(10),n=o(0),a=function(e){return/^#[0-9a-fA-F]{6}|rgba?\(*.+\d\)$/.test(e)};function s(){return r.a.basicState.type||null}function c(){return r.a.basicState.color}function l(){return r.a.basicState.size}function u(){return r.a.basicState.fontSize}function d(){return JSON.parse(r.a.basicState.attributes).bold}function p(){return JSON.parse(r.a.basicState.attributes).italic}function h(){return r.a.basicState.bgColor}function _(){return JSON.parse(r.a.basicState.attributes).stroke}function f(e){return!e||Object.keys(n.k).includes(String(e))?(r.a.basicState.type=e||0,!0):(Object(i.a)(n.j.ZegoWhiteboardViewErrorParamInvalid),!1)}function g(e){return a(e)?(r.a.basicState.color=e,!0):(Object(i.a)(n.j.ZegoWhiteboardViewErrorParamInvalid,"参数错误：color仅支持16进制、rgba",!0),!1)}function m(e){return/^([1-9]|[1-9]\d|100)$/.test(""+(t=e))&&"number"==typeof t?(r.a.basicState.size=e,!0):(Object(i.a)(n.j.ZegoWhiteboardViewErrorParamInvalid,"参数错误: 画笔粗细为100内的正整数",!0),!1);var t}function y(e){return/^([1-9]|[1-9]\d|100)$/.test(""+(t=e))&&"number"==typeof t?(r.a.basicState.fontSize=e,!0):(Object(i.a)(n.j.ZegoWhiteboardViewErrorParamInvalid,"参数错误: 文本大小为100内的正整数",!0),!1);var t}function b(e){if("boolean"!=typeof e)return Object(i.a)(n.j.ZegoWhiteboardViewErrorParamInvalid),!1;var t=r.a.basicState.attributes,o=JSON.parse(t);return o.bold=e,r.a.basicState.attributes=JSON.stringify(o),!0}function v(e){if("boolean"!=typeof e)return Object(i.a)(n.j.ZegoWhiteboardViewErrorParamInvalid),!1;var t=r.a.basicState.attributes,o=JSON.parse(t);return o.italic=e,r.a.basicState.attributes=JSON.stringify(o),!0}function w(e){return a(e)?(r.a.basicState.bgColor=e,!0):(Object(i.a)(n.j.ZegoWhiteboardViewErrorParamInvalid,"参数错误: color仅支持16进制、rgba",!0),!1)}},function(e,t,o){"use strict";var r=o(6),i=o(99).includes,n=o(8),a=o(108);r({target:"Array",proto:!0,forced:n((function(){return!Array(1).includes()}))},{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a("includes")},function(e,t,o){"use strict";var r=o(6),i=o(7),n=o(256),a=o(48),s=o(24),c=o(257),l=i("".indexOf);r({target:"String",proto:!0,forced:!c("includes")},{includes:function(e){return!!~l(s(a(this)),s(n(e)),arguments.length>1?arguments[1]:void 0)}})},function(e,t,o){var r;e.exports=(r=r||function(e,t){var o=Object.create||function(){function e(){}return function(t){var o;return e.prototype=t,o=new e,e.prototype=null,o}}(),r={},i=r.lib={},n=i.Base={extend:function(e){var t=o(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},a=i.WordArray=n.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||c).stringify(this)},concat:function(e){var t=this.words,o=e.words,r=this.sigBytes,i=e.sigBytes;if(this.clamp(),r%4)for(var n=0;n<i;n++){var a=o[n>>>2]>>>24-n%4*8&255;t[r+n>>>2]|=a<<24-(r+n)%4*8}else for(n=0;n<i;n+=4)t[r+n>>>2]=o[n>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,o=this.sigBytes;t[o>>>2]&=4294967295<<32-o%4*8,t.length=e.ceil(o/4)},clone:function(){var e=n.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var o,r=[],i=function(t){t=t;var o=987654321,r=4294967295;return function(){var i=((o=36969*(65535&o)+(o>>16)&r)<<16)+(t=18e3*(65535&t)+(t>>16)&r)&r;return i/=4294967296,(i+=.5)*(e.random()>.5?1:-1)}},n=0;n<t;n+=4){var s=i(4294967296*(o||e.random()));o=987654071*s(),r.push(4294967296*s()|0)}return new a.init(r,t)}}),s=r.enc={},c=s.Hex={stringify:function(e){for(var t=e.words,o=e.sigBytes,r=[],i=0;i<o;i++){var n=t[i>>>2]>>>24-i%4*8&255;r.push((n>>>4).toString(16)),r.push((15&n).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,o=[],r=0;r<t;r+=2)o[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new a.init(o,t/2)}},l=s.Latin1={stringify:function(e){for(var t=e.words,o=e.sigBytes,r=[],i=0;i<o;i++){var n=t[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(n))}return r.join("")},parse:function(e){for(var t=e.length,o=[],r=0;r<t;r++)o[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new a.init(o,t)}},u=s.Utf8={stringify:function(e){try{return decodeURIComponent(escape(l.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return l.parse(unescape(encodeURIComponent(e)))}},d=i.BufferedBlockAlgorithm=n.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=u.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var o=this._data,r=o.words,i=o.sigBytes,n=this.blockSize,s=i/(4*n),c=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*n,l=e.min(4*c,i);if(c){for(var u=0;u<c;u+=n)this._doProcessBlock(r,u);var d=r.splice(0,c);o.sigBytes-=l}return new a.init(d,l)},clone:function(){var e=n.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),p=(i.Hasher=d.extend({cfg:n.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){d.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,o){return new e.init(o).finalize(t)}},_createHmacHelper:function(e){return function(t,o){return new p.HMAC.init(e,o).finalize(t)}}}),r.algo={});return r}(Math),r)},function(e,t,o){var r,i=o(14),n=o(198),a=o(159),s=o(97),c=o(211),l=o(117),u=o(110),d=u("IE_PROTO"),p=function(){},h=function(e){return"<script>"+e+"<\/script>"},_=function(e){e.write(h("")),e.close();var t=e.parentWindow.Object;return e=null,t},f=function(){try{r=new ActiveXObject("htmlfile")}catch(e){}var e,t;f="undefined"!=typeof document?document.domain&&r?_(r):((t=l("iframe")).style.display="none",c.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(h("document.F=Object")),e.close(),e.F):_(r);for(var o=a.length;o--;)delete f.prototype[a[o]];return f()};s[d]=!0,e.exports=Object.create||function(e,t){var o;return null!==e?(p.prototype=i(e),o=new p,p.prototype=null,o[d]=e):o=f(),void 0===t?o:n.f(o,t)}},function(e,t,o){var r=o(7),i=o(25),n=Date.prototype,a=r(n.toString),s=r(n.getTime);"Invalid Date"!=String(new Date(NaN))&&i(n,"toString",(function(){var e=s(this);return e==e?a(this):"Invalid Date"}))},function(e,t,o){var r=o(42),i=Math.max,n=Math.min;e.exports=function(e,t){var o=r(e);return o<0?i(o+t,0):n(o,t)}},function(e,t,o){o(280),o(283),o(284),o(285),o(286)},function(e,t,o){"use strict";var r=o(6),i=o(19),n=o(11),a=o(7),s=o(18),c=o(15),l=o(52),u=o(24),d=o(22).f,p=o(194),h=n.Symbol,_=h&&h.prototype;if(i&&c(h)&&(!("description"in _)||void 0!==h().description)){var f={},g=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:u(arguments[0]),t=l(_,this)?new h(e):void 0===e?h():h(e);return""===e&&(f[t]=!0),t};p(g,h),g.prototype=_,_.constructor=g;var m="Symbol(test)"==String(h("test")),y=a(_.toString),b=a(_.valueOf),v=/^Symbol\((.*)\)[^)]+$/,w=a("".replace),S=a("".slice);d(_,"description",{configurable:!0,get:function(){var e=b(this),t=y(e);if(s(f,e))return"";var o=m?S(t,7,-1):w(t,v,"$1");return""===o?void 0:o}}),r({global:!0,constructor:!0,forced:!0},{Symbol:g})}},function(e,t,o){o(207)("iterator")},function(e,t,o){var r=o(13);e.exports=function(e){return r(Map.prototype.entries,e)}},function(e,t,o){var r=o(7),i=r({}.toString),n=r("".slice);e.exports=function(e){return n(i(e),8,-1)}},function(e,t,o){var r=o(32);e.exports=r("navigator","userAgent")||""},function(e,t,o){var r=o(160),i=o(15),n=o(65),a=o(17)("toStringTag"),s=Object,c="Arguments"==n(function(){return arguments}());e.exports=r?n:function(e){var t,o,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(o=function(e,t){try{return e[t]}catch(e){}}(t=s(e),a))?o:c?n(t):"Object"==(r=n(t))&&i(t.callee)?"Arguments":r}},function(e,t,o){var r=o(98),i=Function.prototype,n=i.apply,a=i.call;e.exports="object"==typeof Reflect&&Reflect.apply||(r?a.bind(n):function(){return a.apply(n,arguments)})},function(e,t,o){"use strict";var r=o(68),i=o(13),n=o(7),a=o(171),s=o(8),c=o(14),l=o(15),u=o(42),d=o(45),p=o(24),h=o(48),_=o(172),f=o(89),g=o(322),m=o(174),y=o(17)("replace"),b=Math.max,v=Math.min,w=n([].concat),S=n([].push),I=n("".indexOf),E=n("".slice),O="$0"==="a".replace(/./,"$0"),P=!!/./[y]&&""===/./[y]("a","$0");a("replace",(function(e,t,o){var n=P?"$":"$0";return[function(e,o){var r=h(this),n=null==e?void 0:f(e,y);return n?i(n,e,r,o):i(t,p(r),e,o)},function(e,i){var a=c(this),s=p(e);if("string"==typeof i&&-1===I(i,n)&&-1===I(i,"$<")){var h=o(t,a,s,i);if(h.done)return h.value}var f=l(i);f||(i=p(i));var y=a.global;if(y){var O=a.unicode;a.lastIndex=0}for(var P=[];;){var k=m(a,s);if(null===k)break;if(S(P,k),!y)break;""===p(k[0])&&(a.lastIndex=_(s,d(a.lastIndex),O))}for(var T,x="",C=0,A=0;A<P.length;A++){for(var D=p((k=P[A])[0]),M=b(v(u(k.index),s.length),0),L=[],N=1;N<k.length;N++)S(L,void 0===(T=k[N])?T:String(T));var j=k.groups;if(f){var q=w([D],L,M,s);void 0!==j&&S(q,j);var B=p(r(i,void 0,q))}else B=g(D,s,M,L,j,i);M>=C&&(x+=E(s,C,M)+B,C=M+D.length)}return x+E(s,C)}]}),!!s((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}))||!O||P)},function(e,t){var o=String;e.exports=function(e){try{return o(e)}catch(e){return"Object"}}},function(e,t,o){var r=o(14),i=o(199),n=o(17)("species");e.exports=function(e,t){var o,a=r(e).constructor;return void 0===a||null==(o=r(a)[n])?t:i(o)}},function(e,t,o){var r=o(22).f,i=o(18),n=o(17)("toStringTag");e.exports=function(e,t,o){e&&!o&&(e=e.prototype),e&&!i(e,n)&&r(e,n,{configurable:!0,value:t})}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,o){var r=o(195),i=o(159).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,t,o){var r=o(7),i=o(14),n=o(271);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,o={};try{(e=r(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(o,[]),t=o instanceof Array}catch(e){}return function(o,r){return i(o),n(r),t?e(o,r):o.__proto__=r,o}}():void 0)},function(e,t,o){var r=o(19),i=o(13),n=o(116),a=o(73),s=o(41),c=o(92),l=o(18),u=o(192),d=Object.getOwnPropertyDescriptor;t.f=r?d:function(e,t){if(e=s(e),t=c(t),u)try{return d(e,t)}catch(e){}if(l(e,t))return a(!i(n.f,e,t),e[t])}},function(e,t,o){"use strict";var r=o(6),i=o(31).map;r({target:"Array",proto:!0,forced:!o(107)("map")},{map:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,o){e.exports=o(326)},function(e,t,o){var r=o(84),i=o(8);e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},function(e,t,o){var r=o(44),i=o(157);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.24.1",mode:r?"pure":"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.24.1/LICENSE",source:"https://github.com/zloirock/core-js"})},function(e,t,o){var r=o(7);e.exports=r([].slice)},function(e,t,o){var r=o(32),i=o(15),n=o(52),a=o(191),s=Object;e.exports=a?function(e){return"symbol"==typeof e}:function(e){var t=r("Symbol");return i(t)&&n(t.prototype,s(e))}},function(e,t,o){"use strict";var r=o(8);e.exports=function(e,t){var o=[][e];return!!o&&r((function(){o.call(null,t||function(){return 1},1)}))}},function(e,t,o){var r,i,n=o(11),a=o(66),s=n.process,c=n.Deno,l=s&&s.versions||c&&c.version,u=l&&l.v8;u&&(i=(r=u.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(i=+r[1]),e.exports=i},function(e,t,o){"use strict";var r=o(68),i=o(13),n=o(7),a=o(171),s=o(212),c=o(14),l=o(48),u=o(71),d=o(172),p=o(45),h=o(24),_=o(89),f=o(102),g=o(174),m=o(112),y=o(197),b=o(8),v=y.UNSUPPORTED_Y,w=Math.min,S=[].push,I=n(/./.exec),E=n(S),O=n("".slice);a("split",(function(e,t,o){var n;return n="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,o){var n=h(l(this)),a=void 0===o?4294967295:o>>>0;if(0===a)return[];if(void 0===e)return[n];if(!s(e))return i(t,n,e,a);for(var c,u,d,p=[],_=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),g=0,y=new RegExp(e.source,_+"g");(c=i(m,y,n))&&!((u=y.lastIndex)>g&&(E(p,O(n,g,c.index)),c.length>1&&c.index<n.length&&r(S,p,f(c,1)),d=c[0].length,g=u,p.length>=a));)y.lastIndex===c.index&&y.lastIndex++;return g===n.length?!d&&I(y,"")||E(p,""):E(p,O(n,g)),p.length>a?f(p,0,a):p}:"0".split(void 0,0).length?function(e,o){return void 0===e&&0===o?[]:i(t,this,e,o)}:t,[function(t,o){var r=l(this),a=null==t?void 0:_(t,e);return a?i(a,t,r,o):i(n,h(r),t,o)},function(e,r){var i=c(this),a=h(e),s=o(n,i,a,r,n!==t);if(s.done)return s.value;var l=u(i,RegExp),_=i.unicode,f=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.unicode?"u":"")+(v?"g":"y"),m=new l(v?"^(?:"+i.source+")":i,f),y=void 0===r?4294967295:r>>>0;if(0===y)return[];if(0===a.length)return null===g(m,a)?[a]:[];for(var b=0,S=0,I=[];S<a.length;){m.lastIndex=v?0:S;var P,k=g(m,v?O(a,S):a);if(null===k||(P=w(p(m.lastIndex+(v?S:0)),a.length))===b)S=d(a,S,_);else{if(E(I,O(a,b,S)),I.length===y)return I;for(var T=1;T<=k.length-1;T++)if(E(I,k[T]),I.length===y)return I;S=b=P}}return E(I,O(a,b)),I}]}),!!b((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var o="ab".split(e);return 2!==o.length||"a"!==o[0]||"b"!==o[1]})),v)},function(e,t,o){var r=o(52),i=TypeError;e.exports=function(e,t){if(r(t,e))return e;throw i("Incorrect invocation")}},function(e,t,o){o(320),o(321)},function(e,t,o){"use strict";o.d(t,"a",(function(){return r}));var r={host:{main:"zego.im"},ca_root:"http://flexible.zego.im/root/cert.2017",save_local:1,max_virtual_page_size:31457280,virtual_page_count:3,file_type_size_limit:[[1,524288e3],[2,104857600],[4,10485760],[8,104857600],[16,104857600],[32,2097152],[4096,52428800]],dynamicPPT_config:{retry_time:1,timeout:60}}},function(e,t,o){var r=o(27);e.exports=function(e,t){var o=e[t];return null==o?void 0:r(o)}},function(e,t,o){"use strict";(function(e){var r=t;function i(e,t,o){for(var r=Object.keys(t),i=0;i<r.length;++i)void 0!==e[r[i]]&&o||(e[r[i]]=t[r[i]]);return e}function n(e){function t(e,o){if(!(this instanceof t))return new t(e,o);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),o&&i(this,o)}return(t.prototype=Object.create(Error.prototype)).constructor=t,Object.defineProperty(t.prototype,"name",{get:function(){return e}}),t.prototype.toString=function(){return this.name+": "+this.message},t}r.asPromise=o(288),r.base64=o(289),r.EventEmitter=o(290),r.float=o(291),r.inquire=o(292),r.utf8=o(293),r.pool=o(294),r.LongBits=o(368),r.isNode=Boolean(void 0!==e&&e&&e.process&&e.process.versions&&e.process.versions.node),r.global=r.isNode&&e||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,r.emptyArray=Object.freeze?Object.freeze([]):[],r.emptyObject=Object.freeze?Object.freeze({}):{},r.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},r.isString=function(e){return"string"==typeof e||e instanceof String},r.isObject=function(e){return e&&"object"==typeof e},r.isset=r.isSet=function(e,t){var o=e[t];return!(null==o||!e.hasOwnProperty(t))&&("object"!=typeof o||(Array.isArray(o)?o.length:Object.keys(o).length)>0)},r.Buffer=function(){try{var e=r.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),r._Buffer_from=null,r._Buffer_allocUnsafe=null,r.newBuffer=function(e){return"number"==typeof e?r.Buffer?r._Buffer_allocUnsafe(e):new r.Array(e):r.Buffer?r._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},r.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,r.Long=r.global.dcodeIO&&r.global.dcodeIO.Long||r.global.Long||r.inquire("long"),r.key2Re=/^true|false|0|1$/,r.key32Re=/^-?(?:0|[1-9][0-9]*)$/,r.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,r.longToHash=function(e){return e?r.LongBits.from(e).toHash():r.LongBits.zeroHash},r.longFromHash=function(e,t){var o=r.LongBits.fromHash(e);return r.Long?r.Long.fromBits(o.lo,o.hi,t):o.toNumber(Boolean(t))},r.merge=i,r.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},r.newError=n,r.ProtocolError=n("ProtocolError"),r.oneOfGetter=function(e){for(var t={},o=0;o<e.length;++o)t[e[o]]=1;return function(){for(var e=Object.keys(this),o=e.length-1;o>-1;--o)if(1===t[e[o]]&&void 0!==this[e[o]]&&null!==this[e[o]])return e[o]}},r.oneOfSetter=function(e){return function(t){for(var o=0;o<e.length;++o)e[o]!==t&&delete this[e[o]]}},r.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},r._configure=function(){var e=r.Buffer;e?(r._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,o){return new e(t,o)},r._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}):r._Buffer_from=r._Buffer_allocUnsafe=null}}).call(this,o(153))},function(e,t,o){var r=o(7),i=o(8),n=o(65),a=Object,s=r("".split);e.exports=i((function(){return!a("z").propertyIsEnumerable(0)}))?function(e){return"String"==n(e)?s(e,""):a(e)}:a},function(e,t,o){var r=o(163),i=o(82);e.exports=function(e){var t=r(e,"string");return i(t)?t:t+""}},function(e,t){e.exports={}},function(e,t,o){"use strict";var r=o(19),i=o(11),n=o(7),a=o(125),s=o(25),c=o(18),l=o(179),u=o(52),d=o(82),p=o(163),h=o(8),_=o(74).f,f=o(76).f,g=o(22).f,m=o(259),y=o(248).trim,b=i.Number,v=b.prototype,w=i.TypeError,S=n("".slice),I=n("".charCodeAt),E=function(e){var t=p(e,"number");return"bigint"==typeof t?t:O(t)},O=function(e){var t,o,r,i,n,a,s,c,l=p(e,"number");if(d(l))throw w("Cannot convert a Symbol value to a number");if("string"==typeof l&&l.length>2)if(l=y(l),43===(t=I(l,0))||45===t){if(88===(o=I(l,2))||120===o)return NaN}else if(48===t){switch(I(l,1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+l}for(a=(n=S(l,2)).length,s=0;s<a;s++)if((c=I(n,s))<48||c>i)return NaN;return parseInt(n,r)}return+l};if(a("Number",!b(" 0o1")||!b("0b1")||b("+0x1"))){for(var P,k=function(e){var t=arguments.length<1?0:b(E(e)),o=this;return u(v,o)&&h((function(){m(o)}))?l(Object(t),o,k):t},T=r?_(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),x=0;T.length>x;x++)c(b,P=T[x])&&!c(k,P)&&g(k,P,f(b,P));k.prototype=v,v.constructor=k,s(i,"Number",k,{constructor:!0})}},function(e,t,o){var r=o(7),i=0,n=Math.random(),a=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+a(++i+n,36)}},function(e,t,o){var r=o(19),i=o(18),n=Function.prototype,a=r&&Object.getOwnPropertyDescriptor,s=i(n,"name"),c=s&&"something"===function(){}.name,l=s&&(!r||r&&a(n,"name").configurable);e.exports={EXISTS:s,PROPER:c,CONFIGURABLE:l}},function(e,t){e.exports={}},function(e,t,o){var r=o(8);e.exports=!r((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},function(e,t,o){var r=o(41),i=o(60),n=o(30),a=function(e){return function(t,o,a){var s,c=r(t),l=n(c),u=i(a,l);if(e&&o!=o){for(;l>u;)if((s=c[u++])!=s)return!0}else for(;l>u;u++)if((e||u in c)&&c[u]===o)return e||u||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},function(e,t,o){var r=o(195),i=o(159);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t,o){var r=o(65);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,o){var r=o(60),i=o(30),n=o(103),a=Array,s=Math.max;e.exports=function(e,t,o){for(var c=i(e),l=r(t,c),u=r(void 0===o?c:o,c),d=a(s(u-l,0)),p=0;l<u;l++,p++)n(d,p,e[l]);return d.length=p,d}},function(e,t,o){"use strict";var r=o(92),i=o(22),n=o(73);e.exports=function(e,t,o){var a=r(t);a in e?i.f(e,a,n(0,o)):e[a]=o}},function(e,t,o){var r=o(11);e.exports=r.Promise},function(e,t,o){"use strict";var r=o(6),i=o(7),n=o(99).indexOf,a=o(83),s=i([].indexOf),c=!!s&&1/s([1],1,-0)<0,l=a("indexOf");r({target:"Array",proto:!0,forced:c||!l},{indexOf:function(e){var t=arguments.length>1?arguments[1]:void 0;return c?s(this,e,t)||0:n(this,e,t)}})},function(e,t,o){var r=o(19),i=o(96).EXISTS,n=o(7),a=o(22).f,s=Function.prototype,c=n(s.toString),l=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,u=n(l.exec);r&&!i&&a(s,"name",{configurable:!0,get:function(){try{return u(l,c(this))[1]}catch(e){return""}}})},function(e,t,o){var r=o(8),i=o(17),n=o(84),a=i("species");e.exports=function(e){return n>=51||!r((function(){var t=[];return(t.constructor={})[a]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},function(e,t,o){var r=o(17),i=o(58),n=o(22).f,a=r("unscopables"),s=Array.prototype;null==s[a]&&n(s,a,{configurable:!0,value:i(null)}),e.exports=function(e){s[a][e]=!0}},function(e,t,o){var r=o(67),i=o(89),n=o(93),a=o(17)("iterator");e.exports=function(e){if(null!=e)return i(e,a)||i(e,"@@iterator")||n[r(e)]}},function(e,t,o){var r=o(80),i=o(95),n=r("keys");e.exports=function(e){return n[e]||(n[e]=i(e))}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,o){"use strict";var r,i,n=o(13),a=o(7),s=o(24),c=o(196),l=o(197),u=o(80),d=o(58),p=o(40).get,h=o(267),_=o(268),f=u("native-string-replace",String.prototype.replace),g=RegExp.prototype.exec,m=g,y=a("".charAt),b=a("".indexOf),v=a("".replace),w=a("".slice),S=(i=/b*/g,n(g,r=/a/,"a"),n(g,i,"a"),0!==r.lastIndex||0!==i.lastIndex),I=l.BROKEN_CARET,E=void 0!==/()??/.exec("")[1];(S||E||I||h||_)&&(m=function(e){var t,o,r,i,a,l,u,h=this,_=p(h),O=s(e),P=_.raw;if(P)return P.lastIndex=h.lastIndex,t=n(m,P,O),h.lastIndex=P.lastIndex,t;var k=_.groups,T=I&&h.sticky,x=n(c,h),C=h.source,A=0,D=O;if(T&&(x=v(x,"y",""),-1===b(x,"g")&&(x+="g"),D=w(O,h.lastIndex),h.lastIndex>0&&(!h.multiline||h.multiline&&"\n"!==y(O,h.lastIndex-1))&&(C="(?: "+C+")",D=" "+D,A++),o=new RegExp("^(?:"+C+")",x)),E&&(o=new RegExp("^"+C+"$(?!\\s)",x)),S&&(r=h.lastIndex),i=n(g,T?o:h,D),T?i?(i.input=w(i.input,A),i[0]=w(i[0],A),i.index=h.lastIndex,h.lastIndex+=i[0].length):h.lastIndex=0:S&&i&&(h.lastIndex=h.global?i.index+i[0].length:r),E&&i&&i.length>1&&n(f,i[0],o,(function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(i[a]=void 0)})),i&&k)for(i.groups=l=d(null),a=0;a<k.length;a++)l[(u=k[a])[0]]=i[u[1]];return i}),e.exports=m},function(e,t,o){var r=o(18),i=o(15),n=o(29),a=o(110),s=o(270),c=a("IE_PROTO"),l=Object,u=l.prototype;e.exports=s?l.getPrototypeOf:function(e){var t=n(e);if(r(t,c))return t[c];var o=t.constructor;return i(o)&&t instanceof o?o.prototype:t instanceof l?u:null}},function(e,t,o){var r=o(16),i=o(71),n=r.aTypedArrayConstructor,a=r.getTypedArrayConstructor;e.exports=function(e){return n(i(e,a(e)))}},function(e,t,o){"use strict";var r=o(6),i=o(31).filter;r({target:"Array",proto:!0,forced:!o(107)("filter")},{filter:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,o){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,n=i&&!r.call({1:2},1);t.f=n?function(e){var t=i(this,e);return!!t&&t.enumerable}:r},function(e,t,o){var r=o(11),i=o(20),n=r.document,a=i(n)&&i(n.createElement);e.exports=function(e){return a?n.createElement(e):{}}},function(e,t,o){var r=o(7),i=o(15),n=o(157),a=r(Function.toString);i(n.inspectSource)||(n.inspectSource=function(e){return a(e)}),e.exports=n.inspectSource},function(e,t,o){var r=o(11),i=o(104),n=o(15),a=o(125),s=o(118),c=o(17),l=o(314),u=o(234),d=o(44),p=o(84),h=i&&i.prototype,_=c("species"),f=!1,g=n(r.PromiseRejectionEvent),m=a("Promise",(function(){var e=s(i),t=e!==String(i);if(!t&&66===p)return!0;if(d&&(!h.catch||!h.finally))return!0;if(!p||p<51||!/native code/.test(e)){var o=new i((function(e){e(1)})),r=function(e){e((function(){}),(function(){}))};if((o.constructor={})[_]=r,!(f=o.then((function(){}))instanceof r))return!0}return!t&&(l||u)&&!g}));e.exports={CONSTRUCTOR:m,REJECTION_EVENT:g,SUBCLASSING:f}},function(e,t,o){"use strict";var r=o(27),i=function(e){var t,o;this.promise=new e((function(e,r){if(void 0!==t||void 0!==o)throw TypeError("Bad Promise constructor");t=e,o=r})),this.resolve=r(t),this.reject=r(o)};e.exports.f=function(e){return new i(e)}},function(e,t,o){"use strict";var r=o(6),i=o(101),n=o(122),a=o(20),s=o(60),c=o(30),l=o(41),u=o(103),d=o(17),p=o(107),h=o(81),_=p("slice"),f=d("species"),g=Array,m=Math.max;r({target:"Array",proto:!0,forced:!_},{slice:function(e,t){var o,r,d,p=l(this),_=c(p),y=s(e,_),b=s(void 0===t?_:t,_);if(i(p)&&(o=p.constructor,(n(o)&&(o===g||i(o.prototype))||a(o)&&null===(o=o[f]))&&(o=void 0),o===g||void 0===o))return h(p,y,b);for(r=new(void 0===o?g:o)(m(b-y,0)),d=0;y<b;y++,d++)y in p&&u(r,d,p[y]);return r.length=d,r}})},function(e,t,o){var r=o(7),i=o(8),n=o(15),a=o(67),s=o(32),c=o(118),l=function(){},u=[],d=s("Reflect","construct"),p=/^\s*(?:class|function)\b/,h=r(p.exec),_=!p.exec(l),f=function(e){if(!n(e))return!1;try{return d(l,u,e),!0}catch(e){return!1}},g=function(e){if(!n(e))return!1;switch(a(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return _||!!h(p,c(e))}catch(e){return!0}};g.sham=!0,e.exports=!d||i((function(){var e;return f(f.call)||!f(Object)||!f((function(){e=!0}))||e}))?g:f},function(e,t,o){"use strict";var r=o(6),i=o(29),n=o(60),a=o(42),s=o(30),c=o(216),l=o(164),u=o(103),d=o(180),p=o(107)("splice"),h=Math.max,_=Math.min;r({target:"Array",proto:!0,forced:!p},{splice:function(e,t){var o,r,p,f,g,m,y=i(this),b=s(y),v=n(e,b),w=arguments.length;for(0===w?o=r=0:1===w?(o=0,r=b-v):(o=w-2,r=_(h(a(t),0),b-v)),c(b+o-r),p=l(y,r),f=0;f<r;f++)(g=v+f)in y&&u(p,f,y[g]);if(p.length=r,o<r){for(f=v;f<b-r;f++)m=f+o,(g=f+r)in y?y[m]=y[g]:d(y,m);for(f=b;f>b-r+o;f--)d(y,f-1)}else if(o>r)for(f=b-r;f>v;f--)m=f+o-1,(g=f+r-1)in y?y[m]=y[g]:d(y,m);for(f=0;f<o;f++)y[f+v]=arguments[f+2];return y.length=b-r+o,p}})},function(e,t,o){var r=o(6),i=o(29),n=o(100);r({target:"Object",stat:!0,forced:o(8)((function(){n(1)}))},{keys:function(e){return n(i(e))}})},function(e,t,o){var r=o(8),i=o(15),n=/#|\.prototype\./,a=function(e,t){var o=c[s(e)];return o==u||o!=l&&(i(t)?r(t):!!t)},s=a.normalize=function(e){return String(e).replace(n,".").toLowerCase()},c=a.data={},l=a.NATIVE="N",u=a.POLYFILL="P";e.exports=a},function(e,t,o){"use strict";var r=o(6),i=o(7),n=o(8),a=o(175),s=o(14),c=o(60),l=o(45),u=o(71),d=a.ArrayBuffer,p=a.DataView,h=p.prototype,_=i(d.prototype.slice),f=i(h.getUint8),g=i(h.setUint8);r({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:n((function(){return!new d(2).slice(1,void 0).byteLength}))},{slice:function(e,t){if(_&&void 0===t)return _(s(this),e);for(var o=s(this).byteLength,r=c(e,o),i=c(void 0===t?o:t,o),n=new(u(this,d))(l(i-r)),a=new p(this),h=new p(n),m=0;r<i;)g(h,m++,f(a,r++));return n}})},function(e,t,o){o(230)("Uint8",(function(e){return function(t,o,r){return e(this,t,o,r)}}))},function(e,t,o){"use strict";var r=o(7),i=o(16),n=r(o(275)),a=i.aTypedArray;(0,i.exportTypedArrayMethod)("copyWithin",(function(e,t){return n(a(this),e,t,arguments.length>2?arguments[2]:void 0)}))},function(e,t,o){"use strict";var r=o(16),i=o(31).every,n=r.aTypedArray;(0,r.exportTypedArrayMethod)("every",(function(e){return i(n(this),e,arguments.length>1?arguments[1]:void 0)}))},function(e,t,o){"use strict";var r=o(16),i=o(166),n=o(276),a=o(67),s=o(13),c=o(7),l=o(8),u=r.aTypedArray,d=r.exportTypedArrayMethod,p=c("".slice);d("fill",(function(e){var t=arguments.length;u(this);var o="Big"===p(a(this),0,3)?n(e):+e;return s(i,this,o,t>1?arguments[1]:void 0,t>2?arguments[2]:void 0)}),l((function(){var e=0;return new Int8Array(2).fill({valueOf:function(){return e++}}),1!==e})))},function(e,t,o){"use strict";var r=o(16),i=o(31).filter,n=o(277),a=r.aTypedArray;(0,r.exportTypedArrayMethod)("filter",(function(e){var t=i(a(this),e,arguments.length>1?arguments[1]:void 0);return n(this,t)}))},function(e,t,o){"use strict";var r=o(16),i=o(31).find,n=r.aTypedArray;(0,r.exportTypedArrayMethod)("find",(function(e){return i(n(this),e,arguments.length>1?arguments[1]:void 0)}))},function(e,t,o){"use strict";var r=o(16),i=o(31).findIndex,n=r.aTypedArray;(0,r.exportTypedArrayMethod)("findIndex",(function(e){return i(n(this),e,arguments.length>1?arguments[1]:void 0)}))},function(e,t,o){"use strict";var r=o(16),i=o(31).forEach,n=r.aTypedArray;(0,r.exportTypedArrayMethod)("forEach",(function(e){i(n(this),e,arguments.length>1?arguments[1]:void 0)}))},function(e,t,o){"use strict";var r=o(16),i=o(99).includes,n=r.aTypedArray;(0,r.exportTypedArrayMethod)("includes",(function(e){return i(n(this),e,arguments.length>1?arguments[1]:void 0)}))},function(e,t,o){"use strict";var r=o(16),i=o(99).indexOf,n=r.aTypedArray;(0,r.exportTypedArrayMethod)("indexOf",(function(e){return i(n(this),e,arguments.length>1?arguments[1]:void 0)}))},function(e,t,o){"use strict";var r=o(11),i=o(8),n=o(7),a=o(16),s=o(36),c=o(17)("iterator"),l=r.Uint8Array,u=n(s.values),d=n(s.keys),p=n(s.entries),h=a.aTypedArray,_=a.exportTypedArrayMethod,f=l&&l.prototype,g=!i((function(){f[c].call([1])})),m=!!f&&f.values&&f[c]===f.values&&"values"===f.values.name,y=function(){return u(h(this))};_("entries",(function(){return p(h(this))}),g),_("keys",(function(){return d(h(this))}),g),_("values",y,g||!m,{name:"values"}),_(c,y,g||!m,{name:"values"})},function(e,t,o){"use strict";var r=o(16),i=o(7),n=r.aTypedArray,a=r.exportTypedArrayMethod,s=i([].join);a("join",(function(e){return s(n(this),e)}))},function(e,t,o){"use strict";var r=o(16),i=o(68),n=o(231),a=r.aTypedArray;(0,r.exportTypedArrayMethod)("lastIndexOf",(function(e){var t=arguments.length;return i(n,a(this),t>1?[e,arguments[1]]:[e])}))},function(e,t,o){"use strict";var r=o(16),i=o(31).map,n=o(114),a=r.aTypedArray;(0,r.exportTypedArrayMethod)("map",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0,(function(e,t){return new(n(e))(t)}))}))},function(e,t,o){"use strict";var r=o(16),i=o(184).left,n=r.aTypedArray;(0,r.exportTypedArrayMethod)("reduce",(function(e){var t=arguments.length;return i(n(this),e,t,t>1?arguments[1]:void 0)}))},function(e,t,o){"use strict";var r=o(16),i=o(184).right,n=r.aTypedArray;(0,r.exportTypedArrayMethod)("reduceRight",(function(e){var t=arguments.length;return i(n(this),e,t,t>1?arguments[1]:void 0)}))},function(e,t,o){"use strict";var r=o(16),i=r.aTypedArray,n=r.exportTypedArrayMethod,a=Math.floor;n("reverse",(function(){for(var e,t=i(this).length,o=a(t/2),r=0;r<o;)e=this[r],this[r++]=this[--t],this[t]=e;return this}))},function(e,t,o){"use strict";var r=o(11),i=o(13),n=o(16),a=o(30),s=o(202),c=o(29),l=o(8),u=r.RangeError,d=r.Int8Array,p=d&&d.prototype,h=p&&p.set,_=n.aTypedArray,f=n.exportTypedArrayMethod,g=!l((function(){var e=new Uint8ClampedArray(2);return i(h,e,{length:1,0:3},1),3!==e[1]})),m=g&&n.NATIVE_ARRAY_BUFFER_VIEWS&&l((function(){var e=new d(2);return e.set(1),e.set("2",1),0!==e[0]||2!==e[1]}));f("set",(function(e){_(this);var t=s(arguments.length>1?arguments[1]:void 0,1),o=c(e);if(g)return i(h,this,o,t);var r=this.length,n=a(o),l=0;if(n+t>r)throw u("Wrong length");for(;l<n;)this[t+l]=o[l++]}),!g||m)},function(e,t,o){"use strict";var r=o(16),i=o(114),n=o(8),a=o(81),s=r.aTypedArray;(0,r.exportTypedArrayMethod)("slice",(function(e,t){for(var o=a(s(this),e,t),r=i(this),n=0,c=o.length,l=new r(c);c>n;)l[n]=o[n++];return l}),n((function(){new Int8Array(1).slice()})))},function(e,t,o){"use strict";var r=o(16),i=o(31).some,n=r.aTypedArray;(0,r.exportTypedArrayMethod)("some",(function(e){return i(n(this),e,arguments.length>1?arguments[1]:void 0)}))},function(e,t,o){"use strict";var r=o(11),i=o(7),n=o(8),a=o(27),s=o(187),c=o(16),l=o(222),u=o(223),d=o(84),p=o(224),h=c.aTypedArray,_=c.exportTypedArrayMethod,f=r.Uint16Array,g=f&&i(f.prototype.sort),m=!(!g||n((function(){g(new f(2),null)}))&&n((function(){g(new f(2),{})}))),y=!!g&&!n((function(){if(d)return d<74;if(l)return l<67;if(u)return!0;if(p)return p<602;var e,t,o=new f(516),r=Array(516);for(e=0;e<516;e++)t=e%4,o[e]=515-e,r[e]=e-2*t+3;for(g(o,(function(e,t){return(e/4|0)-(t/4|0)})),e=0;e<516;e++)if(o[e]!==r[e])return!0}));_("sort",(function(e){return void 0!==e&&a(e),y?g(this,e):s(h(this),function(e){return function(t,o){return void 0!==e?+e(t,o)||0:o!=o?-1:t!=t?1:0===t&&0===o?1/t>0&&1/o<0?1:-1:t>o}}(e))}),!y||m)},function(e,t,o){"use strict";var r=o(16),i=o(45),n=o(60),a=o(114),s=r.aTypedArray;(0,r.exportTypedArrayMethod)("subarray",(function(e,t){var o=s(this),r=o.length,c=n(e,r);return new(a(o))(o.buffer,o.byteOffset+c*o.BYTES_PER_ELEMENT,i((void 0===t?r:n(t,r))-c))}))},function(e,t,o){"use strict";var r=o(11),i=o(68),n=o(16),a=o(8),s=o(81),c=r.Int8Array,l=n.aTypedArray,u=n.exportTypedArrayMethod,d=[].toLocaleString,p=!!c&&a((function(){d.call(new c(1))}));u("toLocaleString",(function(){return i(d,p?s(l(this)):l(this),s(arguments))}),a((function(){return[1,2].toLocaleString()!=new c([1,2]).toLocaleString()}))||!a((function(){c.prototype.toLocaleString.call([1,2])})))},function(e,t,o){"use strict";var r=o(16).exportTypedArrayMethod,i=o(8),n=o(11),a=o(7),s=n.Uint8Array,c=s&&s.prototype||{},l=[].toString,u=a([].join);i((function(){l.call({})}))&&(l=function(){return u(this)});var d=c.toString!=l;r("toString",l,d)},function(e,t,o){"use strict";var r=o(6),i=o(7),n=o(91),a=o(41),s=o(83),c=i([].join),l=n!=Object,u=s("join",",");r({target:"Array",proto:!0,forced:l||!u},{join:function(e){return c(a(this),void 0===e?",":e)}})},function(e,t,o){var r=o(65),i=o(11);e.exports="process"==r(i.process)},function(e,t){var o;o=function(){return this}();try{o=o||new Function("return this")()}catch(e){"object"==typeof window&&(o=window)}e.exports=o},function(e,t,o){var r=o(17)("iterator"),i=!1;try{var n=0,a={next:function(){return{done:!!n++}},return:function(){i=!0}};a[r]=function(){return this},Array.from(a,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var o=!1;try{var n={};n[r]=function(){return{next:function(){return{done:o=!0}}}},e(n)}catch(e){}return o}},function(e,t,o){var r=o(13),i=o(27),n=o(14),a=o(70),s=o(109),c=TypeError;e.exports=function(e,t){var o=arguments.length<2?s(e):t;if(i(o))return n(r(o,e));throw c(a(e)+" is not iterable")}},function(e,t,o){var r,i,n;e.exports=(n=o(57),i=(r=n).lib.WordArray,r.enc.Base64={stringify:function(e){var t=e.words,o=e.sigBytes,r=this._map;e.clamp();for(var i=[],n=0;n<o;n+=3)for(var a=(t[n>>>2]>>>24-n%4*8&255)<<16|(t[n+1>>>2]>>>24-(n+1)%4*8&255)<<8|t[n+2>>>2]>>>24-(n+2)%4*8&255,s=0;s<4&&n+.75*s<o;s++)i.push(r.charAt(a>>>6*(3-s)&63));var c=r.charAt(64);if(c)for(;i.length%4;)i.push(c);return i.join("")},parse:function(e){var t=e.length,o=this._map,r=this._reverseMap;if(!r){r=this._reverseMap=[];for(var n=0;n<o.length;n++)r[o.charCodeAt(n)]=n}var a=o.charAt(64);if(a){var s=e.indexOf(a);-1!==s&&(t=s)}return function(e,t,o){for(var r=[],n=0,a=0;a<t;a++)if(a%4){var s=o[e.charCodeAt(a-1)]<<a%4*2,c=o[e.charCodeAt(a)]>>>6-a%4*2;r[n>>>2]|=(s|c)<<24-n%4*8,n++}return i.create(r,n)}(e,t,r)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},n.enc.Base64)},function(e,t,o){var r=o(11),i=o(158),n=r["__core-js_shared__"]||i("__core-js_shared__",{});e.exports=n},function(e,t,o){var r=o(11),i=Object.defineProperty;e.exports=function(e,t){try{i(r,e,{value:t,configurable:!0,writable:!0})}catch(o){r[e]=t}return t}},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t,o){var r={};r[o(17)("toStringTag")]="z",e.exports="[object z]"===String(r)},function(e,t,o){var r,i=function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=null;try{t=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(e){}function o(e,t,o){this.low=0|e,this.high=0|t,this.unsigned=!!o}function r(e){return!0===(e&&e.__isLong__)}function i(e){var t=Math.clz32(e&-e);return e?31-t:t}o.prototype.__isLong__,Object.defineProperty(o.prototype,"__isLong__",{value:!0}),o.isLong=r;var n={},a={};function s(e,t){var o,r,i;return t?(i=0<=(e>>>=0)&&e<256)&&(r=a[e])?r:(o=l(e,0,!0),i&&(a[e]=o),o):(i=-128<=(e|=0)&&e<128)&&(r=n[e])?r:(o=l(e,e<0?-1:0,!1),i&&(n[e]=o),o)}function c(e,t){if(isNaN(e))return t?y:m;if(t){if(e<0)return y;if(e>=_)return I}else{if(e<=-f)return E;if(e+1>=f)return S}return e<0?c(-e,t).neg():l(e%h|0,e/h|0,t)}function l(e,t,r){return new o(e,t,r)}o.fromInt=s,o.fromNumber=c,o.fromBits=l;var u=Math.pow;function d(e,t,o){if(0===e.length)throw Error("empty string");if("number"==typeof t?(o=t,t=!1):t=!!t,"NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return t?y:m;if((o=o||10)<2||36<o)throw RangeError("radix");var r;if((r=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return d(e.substring(1),t,o).neg();for(var i=c(u(o,8)),n=m,a=0;a<e.length;a+=8){var s=Math.min(8,e.length-a),l=parseInt(e.substring(a,a+s),o);if(s<8){var p=c(u(o,s));n=n.mul(p).add(c(l))}else n=(n=n.mul(i)).add(c(l))}return n.unsigned=t,n}function p(e,t){return"number"==typeof e?c(e,t):"string"==typeof e?d(e,t):l(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}o.fromString=d,o.fromValue=p;var h=4294967296,_=h*h,f=_/2,g=s(1<<24),m=s(0);o.ZERO=m;var y=s(0,!0);o.UZERO=y;var b=s(1);o.ONE=b;var v=s(1,!0);o.UONE=v;var w=s(-1);o.NEG_ONE=w;var S=l(-1,2147483647,!1);o.MAX_VALUE=S;var I=l(-1,-1,!0);o.MAX_UNSIGNED_VALUE=I;var E=l(0,-2147483648,!1);o.MIN_VALUE=E;var O=o.prototype;O.toInt=function(){return this.unsigned?this.low>>>0:this.low},O.toNumber=function(){return this.unsigned?(this.high>>>0)*h+(this.low>>>0):this.high*h+(this.low>>>0)},O.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(E)){var t=c(e),o=this.div(t),r=o.mul(t).sub(this);return o.toString(e)+r.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var i=c(u(e,6),this.unsigned),n=this,a="";;){var s=n.div(i),l=(n.sub(s.mul(i)).toInt()>>>0).toString(e);if((n=s).isZero())return l+a;for(;l.length<6;)l="0"+l;a=""+l+a}},O.getHighBits=function(){return this.high},O.getHighBitsUnsigned=function(){return this.high>>>0},O.getLowBits=function(){return this.low},O.getLowBitsUnsigned=function(){return this.low>>>0},O.getNumBitsAbs=function(){if(this.isNegative())return this.eq(E)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},O.isZero=function(){return 0===this.high&&0===this.low},O.eqz=O.isZero,O.isNegative=function(){return!this.unsigned&&this.high<0},O.isPositive=function(){return this.unsigned||this.high>=0},O.isOdd=function(){return 1==(1&this.low)},O.isEven=function(){return 0==(1&this.low)},O.equals=function(e){return r(e)||(e=p(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&(this.high===e.high&&this.low===e.low)},O.eq=O.equals,O.notEquals=function(e){return!this.eq(e)},O.neq=O.notEquals,O.ne=O.notEquals,O.lessThan=function(e){return this.comp(e)<0},O.lt=O.lessThan,O.lessThanOrEqual=function(e){return this.comp(e)<=0},O.lte=O.lessThanOrEqual,O.le=O.lessThanOrEqual,O.greaterThan=function(e){return this.comp(e)>0},O.gt=O.greaterThan,O.greaterThanOrEqual=function(e){return this.comp(e)>=0},O.gte=O.greaterThanOrEqual,O.ge=O.greaterThanOrEqual,O.compare=function(e){if(r(e)||(e=p(e)),this.eq(e))return 0;var t=this.isNegative(),o=e.isNegative();return t&&!o?-1:!t&&o?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},O.comp=O.compare,O.negate=function(){return!this.unsigned&&this.eq(E)?E:this.not().add(b)},O.neg=O.negate,O.add=function(e){r(e)||(e=p(e));var t=this.high>>>16,o=65535&this.high,i=this.low>>>16,n=65535&this.low,a=e.high>>>16,s=65535&e.high,c=e.low>>>16,u=0,d=0,h=0,_=0;return h+=(_+=n+(65535&e.low))>>>16,d+=(h+=i+c)>>>16,u+=(d+=o+s)>>>16,u+=t+a,l((h&=65535)<<16|(_&=65535),(u&=65535)<<16|(d&=65535),this.unsigned)},O.subtract=function(e){return r(e)||(e=p(e)),this.add(e.neg())},O.sub=O.subtract,O.multiply=function(e){if(this.isZero())return this;if(r(e)||(e=p(e)),t)return l(t.mul(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned);if(e.isZero())return this.unsigned?y:m;if(this.eq(E))return e.isOdd()?E:m;if(e.eq(E))return this.isOdd()?E:m;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(g)&&e.lt(g))return c(this.toNumber()*e.toNumber(),this.unsigned);var o=this.high>>>16,i=65535&this.high,n=this.low>>>16,a=65535&this.low,s=e.high>>>16,u=65535&e.high,d=e.low>>>16,h=65535&e.low,_=0,f=0,b=0,v=0;return b+=(v+=a*h)>>>16,f+=(b+=n*h)>>>16,b&=65535,f+=(b+=a*d)>>>16,_+=(f+=i*h)>>>16,f&=65535,_+=(f+=n*d)>>>16,f&=65535,_+=(f+=a*u)>>>16,_+=o*h+i*d+n*u+a*s,l((b&=65535)<<16|(v&=65535),(_&=65535)<<16|(f&=65535),this.unsigned)},O.mul=O.multiply,O.divide=function(e){if(r(e)||(e=p(e)),e.isZero())throw Error("division by zero");var o,i,n;if(t)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?l((this.unsigned?t.div_u:t.div_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?y:m;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return y;if(e.gt(this.shru(1)))return v;n=y}else{if(this.eq(E))return e.eq(b)||e.eq(w)?E:e.eq(E)?b:(o=this.shr(1).div(e).shl(1)).eq(m)?e.isNegative()?b:w:(i=this.sub(e.mul(o)),n=o.add(i.div(e)));if(e.eq(E))return this.unsigned?y:m;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();n=m}for(i=this;i.gte(e);){o=Math.max(1,Math.floor(i.toNumber()/e.toNumber()));for(var a=Math.ceil(Math.log(o)/Math.LN2),s=a<=48?1:u(2,a-48),d=c(o),h=d.mul(e);h.isNegative()||h.gt(i);)h=(d=c(o-=s,this.unsigned)).mul(e);d.isZero()&&(d=b),n=n.add(d),i=i.sub(h)}return n},O.div=O.divide,O.modulo=function(e){return r(e)||(e=p(e)),t?l((this.unsigned?t.rem_u:t.rem_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},O.mod=O.modulo,O.rem=O.modulo,O.not=function(){return l(~this.low,~this.high,this.unsigned)},O.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},O.clz=O.countLeadingZeros,O.countTrailingZeros=function(){return this.low?i(this.low):i(this.high)+32},O.ctz=O.countTrailingZeros,O.and=function(e){return r(e)||(e=p(e)),l(this.low&e.low,this.high&e.high,this.unsigned)},O.or=function(e){return r(e)||(e=p(e)),l(this.low|e.low,this.high|e.high,this.unsigned)},O.xor=function(e){return r(e)||(e=p(e)),l(this.low^e.low,this.high^e.high,this.unsigned)},O.shiftLeft=function(e){return r(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?l(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):l(0,this.low<<e-32,this.unsigned)},O.shl=O.shiftLeft,O.shiftRight=function(e){return r(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?l(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):l(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},O.shr=O.shiftRight,O.shiftRightUnsigned=function(e){return r(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?l(this.low>>>e|this.high<<32-e,this.high>>>e,this.unsigned):l(32===e?this.high:this.high>>>e-32,0,this.unsigned)},O.shru=O.shiftRightUnsigned,O.shr_u=O.shiftRightUnsigned,O.rotateLeft=function(e){var t;return r(e)&&(e=e.toInt()),0==(e&=63)?this:32===e?l(this.high,this.low,this.unsigned):e<32?(t=32-e,l(this.low<<e|this.high>>>t,this.high<<e|this.low>>>t,this.unsigned)):(t=32-(e-=32),l(this.high<<e|this.low>>>t,this.low<<e|this.high>>>t,this.unsigned))},O.rotl=O.rotateLeft,O.rotateRight=function(e){var t;return r(e)&&(e=e.toInt()),0==(e&=63)?this:32===e?l(this.high,this.low,this.unsigned):e<32?(t=32-e,l(this.high<<t|this.low>>>e,this.low<<t|this.high>>>e,this.unsigned)):(t=32-(e-=32),l(this.low<<t|this.high>>>e,this.high<<t|this.low>>>e,this.unsigned))},O.rotr=O.rotateRight,O.toSigned=function(){return this.unsigned?l(this.low,this.high,!1):this},O.toUnsigned=function(){return this.unsigned?this:l(this.low,this.high,!0)},O.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},O.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},O.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},o.fromBytes=function(e,t,r){return r?o.fromBytesLE(e,t):o.fromBytesBE(e,t)},o.fromBytesLE=function(e,t){return new o(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},o.fromBytesBE=function(e,t){return new o(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)};var P=o;return e.default=P,"default"in e?e.default:e}({});void 0===(r=function(){return i}.apply(t,[]))||(e.exports=r)},function(e,t,o){var r,i;"undefined"!=typeof self&&self,e.exports=(r=o(366),i=o(161),function(e){var t={};function o(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,o),i.l=!0,i.exports}return o.m=e,o.c=t,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(r,i,function(t){return e[t]}.bind(null,i));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=8)}([function(e,t,o){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.typeMap=t.BrokenType=t.ConnectedType=t.DisconnectedType=t.Method=t.ConnectionClosedAction=t.NetWorkState=t.externalErrorList=t.Stick=t.PcConnectState=t.ENUM_CONNECT_STATE=t.StreamType=t.Mode=t.ZegoconnRunEnv=t.BusinessService=t.AccessHub_Error_Code=t.AccessHubMessageType=t.ENUM_NETWORK_STATE=void 0,function(e){e[e.offline=0]="offline",e[e.online=1]="online"}(t.ENUM_NETWORK_STATE||(t.ENUM_NETWORK_STATE={})),function(e){e[e.MSG_TYPE_STREAM_CLOSED=2]="MSG_TYPE_STREAM_CLOSED",e[e.MSG_TYPE_CLOSE_CONNECTION=3]="MSG_TYPE_CLOSE_CONNECTION",e[e.MSG_TYPE_HTTP_REQUEST=4]="MSG_TYPE_HTTP_REQUEST",e[e.MSG_TYPE_HTTP_RESPONSE=5]="MSG_TYPE_HTTP_RESPONSE",e[e.MSG_TYPE_HB_REQUEST=12]="MSG_TYPE_HB_REQUEST",e[e.MSG_TYPE_HB_RESPONSE=13]="MSG_TYPE_HB_RESPONSE",e[e.MSG_TYPE_GET_CONFIG_REQUEST=14]="MSG_TYPE_GET_CONFIG_REQUEST",e[e.MSG_TYPE_GET_CONFIG_RESPONSE=15]="MSG_TYPE_GET_CONFIG_RESPONSE",e[e.MSG_TYPE_HTTP_REQUEST_ACK=16]="MSG_TYPE_HTTP_REQUEST_ACK",e[e.MSG_TYPE_PC_UPWARD_MESSAGE=17]="MSG_TYPE_PC_UPWARD_MESSAGE",e[e.MSG_TYPE_PC_UPWARD_MESSAGE_ACK=18]="MSG_TYPE_PC_UPWARD_MESSAGE_ACK",e[e.MSG_TYPE_PC_ESTABLISHED=19]="MSG_TYPE_PC_ESTABLISHED",e[e.MSG_TYPE_PC_BROKEN=20]="MSG_TYPE_PC_BROKEN",e[e.MSG_TYPE_PC_DOWNWARD_MESSAGE=21]="MSG_TYPE_PC_DOWNWARD_MESSAGE",e[e.MSG_TYPE_REDIRECT=22]="MSG_TYPE_REDIRECT",e[e.MSG_TYPE_GET_APPCONFIG_REQUEST=23]="MSG_TYPE_GET_APPCONFIG_REQUEST",e[e.MSG_TYPE_GET_APPCONFIG_RESPONSE=24]="MSG_TYPE_GET_APPCONFIG_RESPONSE",e[e.MSG_TYPE_PUSH_APPCONFIG=25]="MSG_TYPE_PUSH_APPCONFIG",e[e.MSG_TYPE_ACCESSHUB_DISPATCH_REQUEST=26]="MSG_TYPE_ACCESSHUB_DISPATCH_REQUEST",e[e.MSG_TYPE_ACCESSHUB_DISPATCH_RESPONSE=27]="MSG_TYPE_ACCESSHUB_DISPATCH_RESPONSE",e[e.MSG_TYPE_PUSH_EXCEPTION=30]="MSG_TYPE_PUSH_EXCEPTION"}(t.AccessHubMessageType||(t.AccessHubMessageType={})),function(e){e[e.ACCESSHUB_INVALID_FRAME=2e4]="ACCESSHUB_INVALID_FRAME",e[e.ACCESSHUB_NEED_ENCRYPT=20001]="ACCESSHUB_NEED_ENCRYPT",e[e.ACCESSHUB_DECRYPT=20002]="ACCESSHUB_DECRYPT",e[e.ACCESSHUB_MSGTYPE=20003]="ACCESSHUB_MSGTYPE",e[e.ACCESSHUB_UNMARSHAL=20004]="ACCESSHUB_UNMARSHAL",e[e.ACCESSHUB_TIMEOUT=20005]="ACCESSHUB_TIMEOUT",e[e.ACCESSHUB_CONNECT=20006]="ACCESSHUB_CONNECT",e[e.ACCESSHUB_BROKEN=20007]="ACCESSHUB_BROKEN",e[e.ACCESSHUB_INTERNAL_ERROR=20008]="ACCESSHUB_INTERNAL_ERROR",e[e.ACCESSHUB_MARSHAL=20009]="ACCESSHUB_MARSHAL",e[e.ACCESSHUB_UNSUPPORTED_SERVICE=20010]="ACCESSHUB_UNSUPPORTED_SERVICE",e[e.ACCESSHUB_TOO_FREQUENTLY=20011]="ACCESSHUB_TOO_FREQUENTLY",e[e.ACCESSHUB_INVALID_APPID=20012]="ACCESSHUB_INVALID_APPID",e[e.ACCESSHUB_HB_TIMEOUT=20013]="ACCESSHUB_HB_TIMEOUT",e[e.ACCESSHUB_INVALID_SIGNATURE=20014]="ACCESSHUB_INVALID_SIGNATURE"}(r=t.AccessHub_Error_Code||(t.AccessHub_Error_Code={})),function(e){e[e.SERVICE_UNSET=0]="SERVICE_UNSET",e[e.SERVICE_MEDIAGW=1]="SERVICE_MEDIAGW",e[e.SERVICE_LIVEROOM=2]="SERVICE_LIVEROOM",e[e.SERVICE_MIX=3]="SERVICE_MIX",e[e.SERVICE_ZEUS=4]="SERVICE_ZEUS",e[e.SERVICE_ZPUSH=5]="SERVICE_ZPUSH",e[e.SERVICE_L3=6]="SERVICE_L3",e[e.SERVICE_TALKLINE=7]="SERVICE_TALKLINE",e[e.SERVICE_EDUSUITE=8]="SERVICE_EDUSUITE",e[e.SERVICE_ZIM=9]="SERVICE_ZIM",e[e.SERVICE_ClOUD_SETTING=10]="SERVICE_ClOUD_SETTING",e[e.SERVICE_ZEUSHB=11]="SERVICE_ZEUSHB",e[e.SERVICE_USER_LOGIC=12]="SERVICE_USER_LOGIC",e[e.SERVICE_UNIFYDISPATCH=13]="SERVICE_UNIFYDISPATCH",e[e.SERVICE_QUALITY=14]="SERVICE_QUALITY",e[e.SERVICE_SECURITY=15]="SERVICE_SECURITY",e[e.SERVICE_KTVCPR=16]="SERVICE_KTVCPR",e[e.SERVICE_SWITCH4LIVEROOM=17]="SERVICE_SWITCH4LIVEROOM",e[e.SERVICE_WEBRTC_SIGNAL=18]="SERVICE_WEBRTC_SIGNAL",e[e.SERVICE_L3_WEBRTC_SIGNAL=19]="SERVICE_L3_WEBRTC_SIGNAL",e[e.SERVICE_VIDEOCPR=20]="SERVICE_VIDEOCPR",e[e.SERVICE_CDN=21]="SERVICE_CDN",e[e.SERVICE_CLOUDRECORD=22]="SERVICE_CLOUDRECORD",e[e.SERVICE_INNER_ECHO=23]="SERVICE_INNER_ECHO",e[e.SERVICE_OUTER_ECHO=24]="SERVICE_OUTER_ECHO",e[e.SERVICE_LOCALHOST_ECHO=25]="SERVICE_LOCALHOST_ECHO",e[e.SERVICE_ECHO=26]="SERVICE_ECHO",e[e.SERVICE_DOCSERVICE=27]="SERVICE_DOCSERVICE",e[e.SERVICE_AUTHSVR=28]="SERVICE_AUTHSVR"}(t.BusinessService||(t.BusinessService={})),function(e){e[e.ZEGOCONN_RUN_ENV_UNSET=0]="ZEGOCONN_RUN_ENV_UNSET",e[e.ZEGOCONN_RUN_ENV_BROWSER=1]="ZEGOCONN_RUN_ENV_BROWSER",e[e.ZEGOCONN_RUN_ENV_APPLET=2]="ZEGOCONN_RUN_ENV_APPLET"}(t.ZegoconnRunEnv||(t.ZegoconnRunEnv={})),function(e){e[e.Mode_UNSET=0]="Mode_UNSET",e[e.MODE_ONLINE=1]="MODE_ONLINE",e[e.MODE_TEST=2]="MODE_TEST",e[e.MODE_ALPHA=3]="MODE_ALPHA"}(t.Mode||(t.Mode={})),function(e){e[e.HTTP=0]="HTTP",e[e.PC=1]="PC",e[e.OTHER=2]="OTHER"}(t.StreamType||(t.StreamType={})),t.ENUM_CONNECT_STATE={disconnect:0,connecting:1,connected:2},function(e){e[e.CONNECTED=0]="CONNECTED",e[e.DISCONNECT=1]="DISCONNECT",e[e.BROKEN=2]="BROKEN"}(t.PcConnectState||(t.PcConnectState={})),t.Stick={DISPATCH:"zego-action-dispatch",RETRY:"zego-action-retry",ABORT:"zego-action-abort",NEXT_GROUP:"zego-action-next-group",PUSH_APP_CONFIG:"push-app-config:"},t.externalErrorList=[r.ACCESSHUB_INVALID_APPID,r.ACCESSHUB_INVALID_SIGNATURE],function(e){e[e.offline=0]="offline",e[e.online=1]="online"}(t.NetWorkState||(t.NetWorkState={})),function(e){e[e.ACTION_RESERVED=0]="ACTION_RESERVED",e[e.ACTION_DISPATCH=1]="ACTION_DISPATCH",e[e.ACTION_RETRY=2]="ACTION_RETRY",e[e.ACTION_NEXT_NODE=3]="ACTION_NEXT_NODE",e[e.ACTION_ABORT=4]="ACTION_ABORT",e[e.ACTION_NEXT_GROUP=5]="ACTION_NEXT_GROUP"}(t.ConnectionClosedAction||(t.ConnectionClosedAction={})),function(e){e[e.METHOD_UNSET=0]="METHOD_UNSET",e[e.METHOD_GET=1]="METHOD_GET",e[e.METHOD_POST=2]="METHOD_POST"}(t.Method||(t.Method={})),function(e){e[e.CLOSE=0]="CLOSE",e[e.TEMP=1]="TEMP",e[e.TIMEOUT=2]="TIMEOUT"}(t.DisconnectedType||(t.DisconnectedType={})),function(e){e[e.AUTO=0]="AUTO",e[e.MANUAL=1]="MANUAL"}(t.ConnectedType||(t.ConnectedType={})),function(e){e[e.EMPTY=0]="EMPTY",e[e.CLOSE=1]="CLOSE"}(t.BrokenType||(t.BrokenType={})),t.typeMap={2:"stream_closed",3:"close_connection",4:"http_request",5:"http_response",12:"hb_request",13:"hb_response",14:"get_config_request",15:"get_config_response",16:"http_request_ack",17:"pc_upward_message",18:"pc_upward_message_ack",19:"pc_established",20:"pc_broken",21:"pc_downward_message",22:"redirect",23:"get_appconfig_request",24:"get_appconfig_response",25:"push_appconfig",26:"accesshub_dispatch_request",27:"accesshub_dispatch_response",30:"push_exception"}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.APP_CONFIG_KEY=t.NET_ACCESS_SERVERS=t.NET_ACCESS_CONFIG=void 0;var r=o(0);t.NET_ACCESS_CONFIG={domains:["accesshub-wss.zego.im"],mode:"online",modeNo:r.Mode.MODE_ONLINE,sdkType:3,connectVer:2,pcEstablishTimeout:15,scheme:"wss",location:"accesshub",wssMessageType:1},t.NET_ACCESS_SERVERS="z_net_access_servers",t.APP_CONFIG_KEY="z_appconfig"},function(e,t){e.exports=r},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.errorCodeList=void 0,t.errorCodeList={TIMEOUT:{code:1100002,msg:"network timeout."},SOCKET_CLOSE:{code:1100003,msg:"socket close"},NET_SOCKET_TIMEOUT:{code:1100004,msg:"net agent timeout"},NET_HB_TIMEOUT:{code:1100005,msg:"net hb timeout"}}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uuidNum=t.decodeString=t.encodeString=void 0,t.encodeString=function(e){return Uint8Array.from(Array.from(unescape(encodeURIComponent(e))).map((function(e){return e.charCodeAt(0)})))},t.decodeString=function(e){return decodeURIComponent(escape(String.fromCharCode.apply(String,Array.from(e))))},t.uuidNum=function(e,t){var o,r="0123456789".split(""),i=[];if(t=r.length,e)for(o=0;o<e;o++)i[o]=r[0|Math.random()*t];else{var n=void 0;for(i[8]=i[13]=i[18]=i[23]="-",i[14]="4",o=0;o<36;o++)i[o]||(n=0|16*Math.random(),i[o]=r[19==o?3&n|8:n])}return i.join("")}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NetAgentPCRequest=void 0;var r=o(0),i=o(1),n=o(6),a=o(4),s=[r.BusinessService.SERVICE_WEBRTC_SIGNAL,r.BusinessService.SERVICE_L3_WEBRTC_SIGNAL],c=function(){function e(e,t,o,i,a){this.logger=e,this.service=t,this.streamManager=o,this.pcEstablishTimeout=i,this.option=a,this.connectState=r.PcConnectState.DISCONNECT,this.lastConnectState=r.PcConnectState.DISCONNECT,this.brokenTimer=null,this.listenerList={connected:[],broken:[]},this.netPcStream=this.streamManager.createStream(r.StreamType.PC),this.eventManager=new n.EventManager,this.netPcStream.onPushEvent=this.onPushEvent.bind(this)}return e.prototype.sendRequest=function(e,t,o){var n,c,l,u=this,d=e.payload;(s.includes(this.service)||(null===(n=this.option)||void 0===n?void 0:n.encode))&&(d=(0,a.encodeString)(e.payload));var p={service_no:this.service,ack:e.ack,payload:d,wss_message_type:i.NET_ACCESS_CONFIG.wssMessageType,wss_path:null===(c=this.option)||void 0===c?void 0:c.path,wss_raw_query:null===(l=this.option)||void 0===l?void 0:l.query,zegoconn_version:i.NET_ACCESS_CONFIG.connectVer};this.netPcStream.isConnect()||this.eventManager.emit("connectStart"),this.netPcStream.sendMessage(r.AccessHubMessageType.MSG_TYPE_PC_UPWARD_MESSAGE,p,(function(){u.logger.info("zn.napr.sr suc"),o&&o()}),(function(e){u.logger.error("zn.napr.sr fail"),t&&t(e)}),null,{isInSendMap:"boolean"==typeof e.isInSendMap&&e.isInSendMap}),this.netPcStream.isFirst=!1},e.prototype.onPushEvent=function(e,t){var o;switch(this.logger.info("zn.napr.ope"+" msgType: ".concat(e)),e){case r.AccessHubMessageType.MSG_TYPE_PC_ESTABLISHED:this.pcEstablished(t);break;case r.AccessHubMessageType.MSG_TYPE_PC_BROKEN:this.pcBroken();break;case r.AccessHubMessageType.MSG_TYPE_PC_DOWNWARD_MESSAGE:var i=t.payload;(s.includes(this.service)||(null===(o=this.option)||void 0===o?void 0:o.encode))&&(i=(0,a.decodeString)(t.payload)),this.eventManager.emit("downLoadMessage",i)}},e.prototype.on=function(e,t){return this.eventManager.addEventHandler(e,t)},e.prototype.off=function(e,t){this.eventManager.removeEventHandler(e,t)},e.prototype.pcEstablished=function(e){this.logger.info("zn.napr.pe call "+JSON.stringify(e)),this.setConnectState(r.PcConnectState.CONNECTED);var t=r.ConnectedType.MANUAL;this.lastConnectState===r.PcConnectState.BROKEN&&this.connectState===r.PcConnectState.CONNECTED&&(t=r.ConnectedType.AUTO),this.eventManager.emit("connected",t),this.eventManager.emit("pcConnectedEvent",{proxy_link_sources:null==e?void 0:e.from}),this.brokenTimer&&clearTimeout(this.brokenTimer)},e.prototype.pcBroken=function(){var e=this;this.logger.info("zn.napr.pb call"),this.setConnectState(r.PcConnectState.BROKEN),this.eventManager.emit("broken"),this.brokenTimer=setTimeout((function(){e.eventManager.emit("disconnected",r.DisconnectedType.TEMP)}),1e3*this.pcEstablishTimeout)},e.prototype.resetBrokenTimer=function(){this.brokenTimer&&clearTimeout(this.brokenTimer)},e.prototype._close=function(e,t){if(this.logger.info("zn.napr.cr call "+this.service+" "+this.connectState),this.connectState!==r.PcConnectState.DISCONNECT){this.netPcStream.closeStream(0,""),this.resetBrokenTimer();var o=this.streamManager.getStreamID();this.netPcStream.refresh(o),this.eventManager.emit(e,t)}this.setConnectState(r.PcConnectState.DISCONNECT)},e.prototype.closePc=function(){this._close("broken")},e.prototype.closeRequest=function(){this._close("disconnected",r.DisconnectedType.CLOSE)},e.prototype.setConnectState=function(e){this.connectState!==e&&(this.lastConnectState=this.connectState,this.connectState=e)},e}();t.NetAgentPCRequest=c},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventManager=void 0;var r=function(){function e(){this.handlerListMap={}}return e.prototype.addEventHandler=function(e,t){if(this.handlerListMap[e]||(this.handlerListMap[e]=[]),"function"!=typeof t)throw new Error("Params callBack is not a Function");return this.handlerListMap[e]&&-1==this.handlerListMap[e].indexOf(t)&&this.handlerListMap[e].push(t),!0},e.prototype.removeEventHandler=function(e,t){return!!this.handlerListMap[e]&&(this.handlerListMap[e]=t?this.handlerListMap[e].filter((function(e){return e!==t})):[],!0)},e.prototype.emit=function(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];this.handlerListMap[e]&&this.handlerListMap[e].forEach((function(e){try{setTimeout((function(){e.apply(void 0,t)}),0)}catch(e){}}))},e}();t.EventManager=r},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NetAgentHttpRequest=void 0;var r=o(0),i=o(4),n=o(1),a=function(){function e(e,t,o){this.logger=e,this.service=t,this.streamManager=o,this.netHttpStream=this.streamManager.createStream(r.StreamType.HTTP)}return e.prototype.sendRequest=function(e,t,o,a,s){var c=this,l={service_no:this.service,ack:e.ack,headers:e.headers,body:(0,i.encodeString)(JSON.stringify(e.body)),id_name:e.idName,method_no:e.method_no,stick:e.stick,location:e.location,zegoconn_version:n.NET_ACCESS_CONFIG.connectVer};this.netHttpStream.sendMessage(r.AccessHubMessageType.MSG_TYPE_HTTP_REQUEST,l,(function(e){var o=(null==e?void 0:e.headers).find((function(e){return"Content-Encoding"===(null==e?void 0:e.name)}));if("gzip"===(null==o?void 0:o.val))c.logger.info("zn.nahr.sr gzip");else if(e.body){var r=(0,i.decodeString)(e.body);e.body=r}c.logger.info("zn.nahr.sr suc "+JSON.stringify(e)),t&&t(e)}),(function(e,t,r){c.logger.error("zn.nahr.sr fail"),o&&o(r||e)}),(function(e){c.logger.error("zn.nahr.sr ack"),a&&a(e)}),s),this.netHttpStream.isFirst=!1},e}();t.NetAgentHttpRequest=a},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Method=t.Mode=t.DisconnectedType=t.ConnectedType=t.NET_ACCESS_CONFIG=t.BrokenType=t.BusinessService=t.NetAgentHttpRequest=t.NetAgentPCRequest=t.ZegoConnectionAgent=void 0;var r=o(0);Object.defineProperty(t,"BrokenType",{enumerable:!0,get:function(){return r.BrokenType}}),Object.defineProperty(t,"BusinessService",{enumerable:!0,get:function(){return r.BusinessService}}),Object.defineProperty(t,"ConnectedType",{enumerable:!0,get:function(){return r.ConnectedType}}),Object.defineProperty(t,"DisconnectedType",{enumerable:!0,get:function(){return r.DisconnectedType}}),Object.defineProperty(t,"Mode",{enumerable:!0,get:function(){return r.Mode}}),Object.defineProperty(t,"Method",{enumerable:!0,get:function(){return r.Method}});var i=o(9);Object.defineProperty(t,"ZegoConnectionAgent",{enumerable:!0,get:function(){return i.ZegoConnectionAgent}});var n=o(7);Object.defineProperty(t,"NetAgentHttpRequest",{enumerable:!0,get:function(){return n.NetAgentHttpRequest}});var a=o(1);Object.defineProperty(t,"NET_ACCESS_CONFIG",{enumerable:!0,get:function(){return a.NET_ACCESS_CONFIG}});var s=o(5);Object.defineProperty(t,"NetAgentPCRequest",{enumerable:!0,get:function(){return s.NetAgentPCRequest}})},function(e,t,o){"use strict";var r=this&&this.__spreadArray||function(e,t,o){if(o||2===arguments.length)for(var r,i=0,n=t.length;i<n;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.ZegoConnectionAgent=void 0;var i=o(0),n=o(10),a=o(13),s=o(18),c=o(19),l=o(20),u=o(1),d=o(6),p=o(21),h=o(3),_=o(22),f=o(4),g=o(23),m=o(7),y=o(24),b=function(){function e(){var e=this;this.linkCheckTimer=null,this.connectServers=[],this.specifiedServers=[],this.getAppConfigFailCount=0,this.getAppConfigTime=0,this.inited=!1,this.linkMsgMaxInterval=90,this.linkMsgCheckInterval=5,this.connectedTime=0,this.connectid="",this.reportSeq=0,this.connectSeq=0,this.primaryDomains=[],this.onConnectedEvent=function(t){if(e.getConfig(),!e.stateCenter.specified){var o=e.reportSeq++;e.eventManager.emit("dispatchEvent",o,"start"),e.dispatch().then((function(t){var r=t.servers,i=t.domains;e.eventManager.emit("dispatchEvent",o,"end",{domains:i}),r.length>0&&e.eventManager.emit("dispatchResultUpdate",{servers:r})})).catch((function(e){}))}e.eventManager.emit("connected"),e.connectedTime=(new Date).getTime(),e.connectid=(0,f.uuidNum)(16),e.eventManager.emit("connectedEvent",e.connectSeq,"end",{servers:t,count:t.length,connectid:e.connectid})},this.onConnectingEvent=function(){e.logger.info("zn.zca.oce call")},this.onDisConnectedEvent=function(t){e.disConnect(),e.netAgentPCRequestMgr.updateConnectState(i.PcConnectState.BROKEN)},this.onPushEvent=function(t,o,r){switch(o){case i.AccessHubMessageType.MSG_TYPE_REDIRECT:e.redirect(r);break;case i.AccessHubMessageType.MSG_TYPE_CLOSE_CONNECTION:e.connectClosed(r);break;case i.AccessHubMessageType.MSG_TYPE_PC_BROKEN:case i.AccessHubMessageType.MSG_TYPE_PC_ESTABLISHED:case i.AccessHubMessageType.MSG_TYPE_PC_DOWNWARD_MESSAGE:e.streamManager.onPushEvent(t,o,r);break;case i.AccessHubMessageType.MSG_TYPE_PUSH_APPCONFIG:e.businessRequestMgr.decodeConfigMessage(r.data)}}}return e.prototype.init=function(){this.logger=new g.ZegoLogger,this.protobuf=new n.AccessHubProtoBuf,this.stateCenter=new _.StateCenter,this.eventManager=new d.EventManager,this.checkLinkMsg(),this.inited=!0},e.prototype.unInit=function(){this.inited=!1},e.prototype.setAppInfo=function(e){this.stateCenter.appInfo=e,this.stateCenter.networkState=navigator?navigator.onLine?i.ENUM_NETWORK_STATE.online:i.ENUM_NETWORK_STATE.offline:i.ENUM_NETWORK_STATE.online,0===e.env?this.bindWindowListener():1===e.env&&this.bindWxListener(),this.zegoLink=new a.ZegoWssLink(e.appID,e.env,this.protobuf,this.logger,this.stateCenter),this.zegoLink.initEvent(this.onConnectedEvent,this.onDisConnectedEvent,this.onConnectingEvent,this.onPushEvent),this.streamManager=new y.StreamManager(this.zegoLink),this.businessRequestMgr=new s.NetAgentBusinessRequestMgr(this.streamManager,this.protobuf,this.logger,this.stateCenter),this.netHeartBeatHandler=new c.NetHeartBeatHandler(this.streamManager,this.logger),this.netAgentPCRequestMgr=new l.NetAgentPCRequestMgr(this.streamManager,this.logger),this.heartBeatHandler()},e.prototype.setUserInfo=function(e){this.stateCenter.userId=e},e.prototype.setNetAgentDefaultServers=function(e){this.connectServers=r([],e,!0)},e.prototype.setNetAgentSpecifiedServers=function(e){this.logger.info("zn.sss.0 "+JSON.stringify(e)),this.stateCenter.specified=!0,this.specifiedServers=r([],e,!0)},e.prototype.setBackupDomains=function(e){this.primaryDomains=e},e.prototype.setDispatchConnectServers=function(e){this.connect(e)},e.prototype.startHttpRequest=function(e,t,o,r,i){var n=this,a=this.reportSeq++;this.eventManager.emit("requestEvent",a,"start"),this.isConnect()||this.connectUa(),new m.NetAgentHttpRequest(this.logger,e.service,this.streamManager).sendRequest(e,(function(o){n.eventManager.emit("requestEvent",a,"end",{na_req_location:e.location,status_code:o.status_code,err_code:0}),t&&t(o)}),(function(t){n.eventManager.emit("requestEvent",a,"end",{na_req_location:e.location,err_code:t.code||0}),o&&o(t)}),r,i)},e.prototype.getAppConfigByAgent=function(e,t,o){return this.isConnect()||this.connectUa(),this.getAppConfig(e,this.stateCenter.userId,t,o)},e.prototype.getPCRequest=function(e,t){var o=this,r=this.netAgentPCRequestMgr.getRequest(e,t);return r.on("disconnected",(function(t){o.logger.warn("zn.zca.gpr "+e+" disconnect "+t),t===i.DisconnectedType.TEMP&&(o.disConnect(),o.connectStart())})),r.on("connectStart",(function(){o.connectUa()})),r},e.prototype.connectUa=function(){this.logger.info("zn.zca.cua call"),this.retryLinkHandler&&(this.retryLinkHandler.init(),this.connectStart(!1,!0))},e.prototype.destroyConnect=function(){this.logger.info("zn.zca.dc.0 call"),this.resetNetAgent()},e.prototype.isConnect=function(){return this.zegoLink&&this.zegoLink.isConnect()},e.prototype.on=function(e,t){return this.logger.info("zn.zca.o.0 "+e),this.eventManager.addEventHandler(e,t)},e.prototype.off=function(e,t){this.logger.info("zn.zca.o.1 "+e),this.eventManager.removeEventHandler(e,t)},e.prototype.setLogger=function(e){this.logger=e},e.prototype.setAccess=function(e){this.stateCenter.useNetAgent=e},e.prototype.heartBeatHandler=function(){var e=this;this.netHeartBeatHandler.netHbLogout=function(t){e.retryLinkHandler&&([h.errorCodeList.NET_HB_TIMEOUT.code].includes(t.code)?(e.retryLinkHandler.startMaxTime(),e.disConnect(),e.connectStart()):(e.retryLinkHandler.stopMaxTime(),e.retryLinkHandler.invalid(),e.eventManager.emit("disconnected")))}},e.prototype.bindWindowListener=function(){var e=this;window.addEventListener("offline",(function(){e.netOffLineHandle()})),window.addEventListener("online",(function(){e.netOnLineHandle()}))},e.prototype.bindWxListener=function(){var e=this;wx.onNetworkStatusChange((function(t){t.isConnected?e.netOnLineHandle():e.netOffLineHandle()}))},e.prototype.netOnLineHandle=function(){this.logger.info("zn.zca.noh.0 network is online"),this.stateCenter.networkState=i.ENUM_NETWORK_STATE.online,this.stateCenter.useNetAgent&&this.netOnLineHandler()},e.prototype.netOffLineHandle=function(){this.logger.info("zn.zca.noh.1 network is broken"),this.stateCenter.networkState=i.ENUM_NETWORK_STATE.offline,this.stateCenter.useNetAgent&&this.netOffLineHandler()},e.prototype.checkLinkMsg=function(){var e=this;if(this.stateCenter.useNetAgent){if(this.isConnect()){var t=Date.now()-this.zegoLink.updatedMsgTime;if(t>1e3*this.linkMsgMaxInterval)return this.logger.info("zn.zca.clm interval: "+t),void this.resetNetAgent()}this.linkCheckTimer&&clearTimeout(this.linkCheckTimer),this.linkCheckTimer=setTimeout((function(){e.checkLinkMsg()}),1e3*this.linkMsgCheckInterval)}},e.prototype.connect=function(e){var t=this;e.length>0&&(this.connectServers=r([],e,!0)),this.stateCenter.specified&&this.specifiedServers.length>0&&(this.connectServers=this.specifiedServers),this.zegoLink.createSocket(this.connectServers),this.retryLinkHandler||(this.retryLinkHandler=new p.NetRetryLinkHandler(this.logger,this.stateCenter)),this.retryLinkHandler.init(),this.retryLinkHandler.initLink(this.zegoLink),this.retryLinkHandler.onactive=function(e,o){o===h.errorCodeList.NET_SOCKET_TIMEOUT&&(t.eventManager.emit("disconnected",o),t.netAgentPCRequestMgr.updateConnectState(i.PcConnectState.DISCONNECT,i.DisconnectedType.TIMEOUT,o))},this.connectStart(!1,!0)},e.prototype.resetNetAgent=function(){this.netHeartBeatHandler.reset(),this.zegoLink.destroySocket()},e.prototype.getConfig=function(){var e=this,t=function(t,o,r){r?e.logger.info("zn.zca.gc fail "+JSON.stringify(r)):0===t.code?(e.logger.info("zn.zca.gc suc "+JSON.stringify(t)),e.getConfigSuccess(t)):e.logger.info("zn.zca.gc fail")};this.businessRequestMgr.getConfig(t,t)},e.prototype.getConfigSuccess=function(e){this.netHeartBeatHandler.init(e),this.netAgentPCRequestMgr.setEstablishTimeout(e.data.pc_establish_timeout)},e.prototype.dispatch=function(){var e=this;return new Promise((function(t,o){e.businessRequestMgr.dispatchURL((function(o){var r=o.data.wss_groups;e.logger.info("zn.nab.du wss_groups: "+JSON.stringify(r));var i=e.getConnectionDomains(r,e.primaryDomains),n=e.handleWssGroups(i);t({servers:n,domains:r})}),(function(e){o(e)}))}))},e.prototype.handleWssGroups=function(e){return Array.isArray(e)&&e.length>0?e.map((function(e){return u.NET_ACCESS_CONFIG.scheme+"://"+e.host+"/"+u.NET_ACCESS_CONFIG.location})):[]},e.prototype.getConnectionDomains=function(e,t){var o=r([],e,!0);return t.forEach((function(t){e.forEach((function(e){var r;if(e.main_domain)r=e.main_domain;else{var i=e.host.split(".");r=i[i.length-2]+"."+i[i.length-1]}if(r!==t){var n=e.host.replace(r,t);o.push({group:e.group,host:n})}}))})),o},e.prototype.getAppConfig=function(e,t,o,r){var n=this;return new Promise((function(a,s){"string"==typeof t&&"string"==typeof o?n.businessRequestMgr.getAppConfig(e,t,o,r).then((function(e){a(e)})).catch((function(r){if(n.logger.error("zn.zca.gac "+JSON.stringify(r)),i.externalErrorList.indexOf(r.code)>-1)return n.getAppConfigFailCount=0,void s(r);n.getAppConfigFailCount++,20008===r.code&&n.getAppConfigFailCount<3?n.getAppConfig(e,t,o).then((function(e){return a(e)})).catch((function(e){return s(e)})):(n.getAppConfigFailCount=0,s(r))})):n.logger.error("zn.zca.gac userID or token must be string")}))},e.prototype.reportDisConnectEvent=function(){var e=(new Date).getTime()-this.connectedTime;this.eventManager.emit("disConnectedEvent",{duration:e,server:this.zegoLink.connectServer})},e.prototype.redirect=function(e){this.logger.info("zn.zca.rd"+" ".concat(JSON.stringify(e.wss_groups)));var t=this.handleWssGroups(e.wss_groups);t&&Array.isArray(t)&&t.length>0?(this.disConnect(),this.stateCenter.specified&&(this.logger.info("zn.zca.rd specified"),t=this.specifiedServers),this.zegoLink.createSocket(t),this.connectStart(!1,!0)):this.logger.warn("zn.zca.rd wss_groups null")},e.prototype.connectClosed=function(e){var t=this;switch(this.logger.info("zn.zca.cc"+" ".concat(e.reason," ").concat(e.msg," ").concat(e.action)),e.action){case i.ConnectionClosedAction.ACTION_DISPATCH:var o=this.reportSeq++;this.eventManager.emit("dispatchEvent",o,"start"),this.dispatch().then((function(e){var r=e.servers,i=e.domains;if(t.eventManager.emit("dispatchEvent",o,"end",{domains:i,reason:"ConnectClosed"}),Array.isArray(r)&&r.length>0){t.eventManager.emit("dispatchResultUpdate",{servers:r});var n=t.stateCenter.specified?t.specifiedServers:r;t.disConnect(),t.zegoLink.createSocket(n),t.connectStart(!1,!0)}})).catch((function(e){t.logger.info("zn.zca.cc dispatch fail")}));break;case i.ConnectionClosedAction.ACTION_RETRY:this.disConnect(),this.connectStart(!1);break;case i.ConnectionClosedAction.ACTION_NEXT_GROUP:this.netAgentPCRequestMgr.closePCs(),this.eventManager.emit("broken",i.BrokenType.CLOSE),this.connectStart();break;case i.ConnectionClosedAction.ACTION_ABORT:case i.ConnectionClosedAction.ACTION_RESERVED:}},e.prototype.netOnLineHandler=function(){this.retryLinkHandler&&(this.zegoLink.isConnect()?this.retryLinkHandler.stopMaxTime():this.connectStart())},e.prototype.netOffLineHandler=function(){this.disConnect(),this.retryLinkHandler&&(this.retryLinkHandler.invalid(),this.retryLinkHandler.startMaxTime(),this.zegoLink.setState(i.ENUM_CONNECT_STATE.disconnect))},e.prototype.connectStart=function(e,t){this.retryLinkHandler.active(e,t)&&this.reportConnectEvent()},e.prototype.reportConnectEvent=function(){var e=this.reportSeq++;this.connectSeq=e,this.eventManager.emit("connectedEvent",e,"start")},e.prototype.disConnect=function(){this.netAgentPCRequestMgr.closePCs(),this.eventManager.emit("broken"),this.reportDisConnectEvent()},e.prototype.testConnect=function(){this.startHttpRequest({service:i.BusinessService.SERVICE_ClOUD_SETTING,headers:[],body:{appid:3349318446,biztype:0,deviceid:"27a315ae-ff78-4ded-8581-8b7b7afe6f2e",files:["init","room"],id_name:"sample1647345322471",mode:"online",param:{},product:"Web_SDK",timestamp:1647345362932,token:"eyJ2ZXIiOjEsImhhc2giOiIwOGQxMDYzMzQ0M2EzNjk1ZmE4YTg2ZDNmZGRlNGNiNyIsIm5vbmNlIjoiYWEyZDFmMDJmOGRiYjBlM2Q1YjY5NzA3NzMzOGYyODIiLCJleHBpcmVkIjoxNjQ5OTM3MzI2fQ=="},idName:"sample1647345322471",ack:!0,stick:"zego-action-dispatch",method_no:i.Method.METHOD_POST,location:"/cloud-setting/get"},(function(e){}),(function(e){}),(function(e){}))},e}();t.ZegoConnectionAgent=b},function(e,t,o){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,o=1,r=arguments.length;o<r;o++)for(var i in t=arguments[o])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,o,r){void 0===r&&(r=o);var i=Object.getOwnPropertyDescriptor(t,o);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[o]}}),Object.defineProperty(e,r,i)}:function(e,t,o,r){void 0===r&&(r=o),e[r]=t[o]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)"default"!==o&&Object.prototype.hasOwnProperty.call(e,o)&&i(t,e,o);return n(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.AccessHubProtoBuf=void 0;var c=s(o(11)),l=a(o(2)),u=o(0),d=s(o(12));l.util.Long=c.default,l.configure();var p=function(){function e(){var e;this.protoInstance=d.default,this.protoMap=((e={})[u.AccessHubMessageType.MSG_TYPE_STREAM_CLOSED]=["proto_accesshub","ConnectionClosed"],e[u.AccessHubMessageType.MSG_TYPE_CLOSE_CONNECTION]=["proto_accesshub","CloseConnection"],e[u.AccessHubMessageType.MSG_TYPE_HTTP_REQUEST]=["proto_accesshub","HTTPRequest"],e[u.AccessHubMessageType.MSG_TYPE_HTTP_RESPONSE]=["proto_accesshub","HTTPResponse"],e[u.AccessHubMessageType.MSG_TYPE_HB_REQUEST]=["proto_accesshub","HBRequest"],e[u.AccessHubMessageType.MSG_TYPE_HB_RESPONSE]=["proto_accesshub","HBResponse"],e[u.AccessHubMessageType.MSG_TYPE_GET_CONFIG_REQUEST]=["proto_accesshub","GetConfigRequest"],e[u.AccessHubMessageType.MSG_TYPE_GET_CONFIG_RESPONSE]=["proto_accesshub","GetConfigResponse"],e[u.AccessHubMessageType.MSG_TYPE_HTTP_REQUEST_ACK]=["proto_accesshub","HBResponse"],e[u.AccessHubMessageType.MSG_TYPE_PC_UPWARD_MESSAGE]=["proto_accesshub","PCUpwardMessage"],e[u.AccessHubMessageType.MSG_TYPE_PC_UPWARD_MESSAGE_ACK]=["proto_accesshub","PCUpwardMessageAck"],e[u.AccessHubMessageType.MSG_TYPE_PC_ESTABLISHED]=["proto_accesshub","PCEstablished"],e[u.AccessHubMessageType.MSG_TYPE_PC_BROKEN]=["proto_accesshub","PCBroken"],e[u.AccessHubMessageType.MSG_TYPE_PC_DOWNWARD_MESSAGE]=["proto_accesshub","PCDownwardMessage"],e[u.AccessHubMessageType.MSG_TYPE_REDIRECT]=["proto_accesshub","Redirect"],e[u.AccessHubMessageType.MSG_TYPE_GET_APPCONFIG_REQUEST]=["proto_accesshub","GetAppConfigRequest"],e[u.AccessHubMessageType.MSG_TYPE_GET_APPCONFIG_RESPONSE]=["proto_accesshub","GetAppConfigResponse"],e[u.AccessHubMessageType.MSG_TYPE_PUSH_APPCONFIG]=["proto_accesshub","PushAppConfig"],e[u.AccessHubMessageType.MSG_TYPE_ACCESSHUB_DISPATCH_REQUEST]=["proto_accesshub","AccesshubDispatchRequest"],e[u.AccessHubMessageType.MSG_TYPE_ACCESSHUB_DISPATCH_RESPONSE]=["proto_accesshub","AccesshubDispatchResponse"],e[u.AccessHubMessageType.MSG_TYPE_PUSH_EXCEPTION]=["proto_accesshub","PushException"],e)}return e.prototype.encodeRequest=function(e,t,o){var r=this.protoMap[e],i=r[0],n=r[1],a=this.encode(this.protoInstance[i][n],t),s=a.length,c=new Uint8Array(13+s);return c[0]=175,c[1]=0,c[2]=e>>8,c[3]=e-(c[2]<<8),c.set(new Uint8Array(Int32Array.from([s]).buffer).reverse(),4),c.set(new Uint8Array(Int32Array.from([o]).buffer).reverse(),8),c[12]=0,c.set(a,13),c},e.prototype.decodeResponse=function(e){var t=(e[2]<<8)+e[3],o=new DataView(e.buffer).getUint32(8),r=e.slice(13);try{var i=this.protoMap[t],n=i[0],a=i[1];return[o,t,this.decode(this.protoInstance[n][a],r)]}catch(e){return[o,t,{code:1}]}},e.prototype.decodeConfigMessage=function(e){return this.decode(this.protoInstance.proto_initconfig.InitConfig,e)},e.prototype.encode=function(e,t){return e.encode(new e(t)).finish()},e.prototype.decode=function(e,t){return r({},e.decode(t))},e}();t.AccessHubProtoBuf=p},function(e,t){e.exports=i},function(e,t,o){"use strict";o.r(t),o.d(t,"proto_accesshub",(function(){return c})),o.d(t,"proto_initconfig",(function(){return l})),o.d(t,"default",(function(){return s}));var r=o(2);const i=r.Reader,n=r.Writer,a=r.util,s=r.roots.default||(r.roots.default={}),c=s.proto_accesshub=(()=>{const e={};return e.MessageType=function(){const e={},t=Object.create(e);return t[e[0]="MSG_TYPE_EMPTY"]=0,t[e[1]="MSG_TYPE_CONNECTION_CLOSED"]=1,t[e[2]="MSG_TYPE_STREAM_CLOSED"]=2,t[e[3]="MSG_TYPE_CLOSE_CONNECTION"]=3,t[e[4]="MSG_TYPE_HTTP_REQUEST"]=4,t[e[5]="MSG_TYPE_HTTP_RESPONSE"]=5,t[e[6]="MSG_TYPE_HTTP_REQUEST_DROPED"]=6,t[e[7]="MSG_TYPE_PROXY_CONNECT"]=7,t[e[8]="MSG_TYPE_PROXY_CONNECTED"]=8,t[e[9]="MSG_TYPE_PROXY_CONNECTION_CLOSED"]=9,t[e[10]="MSG_TYPE_PROXY_SEND_DATA"]=10,t[e[11]="MSG_TYPE_PROXY_RECV_DATA"]=11,t[e[12]="MSG_TYPE_HB_REQUEST"]=12,t[e[13]="MSG_TYPE_HB_RESPONSE"]=13,t[e[14]="MSG_TYPE_GET_CONFIG_REQUEST"]=14,t[e[15]="MSG_TYPE_GET_CONFIG_RESPONSE"]=15,t[e[16]="MSG_TYPE_HTTP_REQUEST_ACK"]=16,t[e[17]="MSG_TYPE_PC_UPWARD_MESSAGE"]=17,t[e[18]="MSG_TYPE_PC_UPWARD_MESSAGE_ACK"]=18,t[e[19]="MSG_TYPE_PC_ESTABLISHED"]=19,t[e[20]="MSG_TYPE_PC_BROKEN"]=20,t[e[21]="MSG_TYPE_PC_DOWNWARD_MESSAGE"]=21,t[e[22]="MSG_TYPE_REDIRECT"]=22,t[e[23]="MSG_TYPE_GET_APPCONFIG_REQUEST"]=23,t[e[24]="MSG_TYPE_GET_APPCONFIG_RESPONSE"]=24,t[e[25]="MSG_TYPE_PUSH_APPCONFIG"]=25,t[e[26]="MSG_TYPE_ACCESSHUB_DISPATCH_REQUEST"]=26,t[e[27]="MSG_TYPE_ACCESSHUB_DISPATCH_RESPONSE"]=27,t[e[28]="MSG_TYPE_GET_IM_CONFIG_REQUEST"]=28,t[e[29]="MSG_TYPE_GET_IM_CONFIG_RESPONSE"]=29,t[e[30]="MSG_TYPE_PUSH_EXCEPTION"]=30,t[e[50]="MSG_TYPE_UA_DISPATCH_REQUEST"]=50,t[e[51]="MSG_TYPE_UA_DISPATCH_RESPONSE"]=51,t[e[52]="MSG_TYPE_UA_ECHO_REQUEST"]=52,t[e[53]="MSG_TYPE_UA_ECHO_RESPONSE"]=53,t[e[100]="MSG_TYPE_NODE_REGISTER_REQUEST"]=100,t[e[101]="MSG_TYPE_NODE_REGISTER_RESPONSE"]=101,t[e[102]="MSG_TYPE_NODE_HB_REQUEST"]=102,t[e[103]="MSG_TYPE_NODE_HB_RESPONSE"]=103,t}(),e.ErrorCode=function(){const e={},t=Object.create(e);return t[e[0]="OK"]=0,t[e[1e4]="DISPATCH_NO_AVAILABLE_NODE"]=1e4,t[e[10001]="DISPATCH_INTERNAL_ERROR"]=10001,t[e[10002]="DISPATCH_INVALID_FRAME"]=10002,t[e[10003]="DISPATCH_UNMARSHAL"]=10003,t[e[10004]="DISPATCH_MSGTYPE"]=10004,t[e[10005]="DISPATCH_MARSHAL"]=10005,t[e[10006]="DISPATCH_TOO_FREQUENTLY"]=10006,t[e[2e4]="ACCESSHUB_INVALID_FRAME"]=2e4,t[e[20001]="ACCESSHUB_NEED_ENCRYPT"]=20001,t[e[20002]="ACCESSHUB_DECRYPT"]=20002,t[e[20003]="ACCESSHUB_MSGTYPE"]=20003,t[e[20004]="ACCESSHUB_UNMARSHAL"]=20004,t[e[20005]="ACCESSHUB_TIMEOUT"]=20005,t[e[20006]="ACCESSHUB_CONNECT"]=20006,t[e[20007]="ACCESSHUB_BROKEN"]=20007,t[e[20008]="ACCESSHUB_INTERNAL_ERROR"]=20008,t[e[20009]="ACCESSHUB_MARSHAL"]=20009,t[e[20010]="ACCESSHUB_UNSUPPORTED_SERVICE"]=20010,t[e[20011]="ACCESSHUB_TOO_FREQUENTLY"]=20011,t[e[20012]="ACCESSHUB_INVALID_APPID"]=20012,t[e[20013]="ACCESSHUB_HB_TIMEOUT"]=20013,t[e[20014]="ACCESSHUB_INVALID_SIGNATURE"]=20014,t[e[20015]="ACCESSHUB_AUTH_FAILED"]=20015,t[e[3e4]="ACCESSHUB_GET_STREAM_FAILED"]=3e4,t[e[30001]="ACCESSHUB_GET_CONN_FAILED"]=30001,t[e[30002]="ACCESSHUB_DO_HTTP_REQUEST_FAILED"]=30002,t[e[30003]="ACCESSHUB_UNMARSHAL_HB_FAILED"]=30003,t[e[30004]="ACCESSHUB_DO_BACKEND_DISPATCH_FAILED"]=30004,t}(),e.Mode=function(){const e={},t=Object.create(e);return t[e[0]="Mode_UNSET"]=0,t[e[1]="MODE_ONLINE"]=1,t[e[2]="MODE_TEST"]=2,t[e[3]="MODE_ALPHA"]=3,t}(),e.Service=function(){const e={},t=Object.create(e);return t[e[0]="SERVICE_UNSET"]=0,t[e[1]="SERVICE_MEDIAGW"]=1,t[e[2]="SERVICE_LIVEROOM"]=2,t[e[3]="SERVICE_MIX"]=3,t[e[4]="SERVICE_ZEUS"]=4,t[e[5]="SERVICE_ZPUSH"]=5,t[e[6]="SERVICE_L3"]=6,t[e[7]="SERVICE_TALKLINE"]=7,t[e[8]="SERVICE_EDUSUITE"]=8,t[e[9]="SERVICE_ZIM"]=9,t[e[10]="SERVICE_ClOUD_SETTING"]=10,t[e[11]="SERVICE_ZEUSHB"]=11,t[e[12]="SERVICE_USER_LOGIC"]=12,t[e[13]="SERVICE_UNIFYDISPATCH"]=13,t[e[14]="SERVICE_QUALITY"]=14,t[e[15]="SERVICE_SECURITY"]=15,t[e[16]="SERVICE_KTVCPR"]=16,t[e[17]="SERVICE_SWITCH4LIVEROOM"]=17,t[e[18]="SERVICE_WEBRTC_SIGNAL"]=18,t[e[19]="SERVICE_L3_WEBRTC_SIGNAL"]=19,t[e[20]="SERVICE_VIDEOCPR"]=20,t[e[21]="SERVICE_CDN"]=21,t[e[22]="SERVICE_CLOUDRECORD"]=22,t[e[23]="SERVICE_INNER_ECHO"]=23,t[e[24]="SERVICE_OUTER_ECHO"]=24,t[e[25]="SERVICE_LOCALHOST_ECHO"]=25,t[e[26]="SERVICE_ECHO"]=26,t[e[27]="SERVICE_DOCSERVICE"]=27,t[e[28]="SERVICE_AUTHSVR"]=28,t[e[29]="SERVICE_WEBLIVEROOM"]=29,t[e[30]="SERVICE_WHITEBOARD"]=30,t[e[31]="SERVICE_METAWORLD"]=31,t}(),e.Method=function(){const e={},t=Object.create(e);return t[e[0]="METHOD_UNSET"]=0,t[e[1]="METHOD_GET"]=1,t[e[2]="METHOD_POST"]=2,t}(),e.SdkType=function(){const e={},t=Object.create(e);return t[e[0]="SDK_TYPE_UNSET"]=0,t[e[1]="SDK_TYPE_QUIC_MTCP_NATIVE"]=1,t[e[2]="SDK_TYPE_WSS_NATIVE"]=2,t[e[3]="SDK_TYPE_WSS_WEB"]=3,t}(),e.ZegoconnRunEnv=function(){const e={},t=Object.create(e);return t[e[0]="ZEGOCONN_RUN_ENV_UNSET"]=0,t[e[1]="ZEGOCONN_RUN_ENV_BROWSER"]=1,t[e[2]="ZEGOCONN_RUN_ENV_APPLET"]=2,t}(),e.BackendConnType=function(){const e={},t=Object.create(e);return t[e[0]="BACKEND_CONN_TYPE_UNSET"]=0,t[e[1]="BACKEND_CONN_TYPE_TCP"]=1,t[e[2]="BACKEND_CONN_TYPE_WSS"]=2,t}(),e.ConnectionClosed=function(){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.code=0,e.prototype.msg="",e.encode=function(e,t){return t||(t=n.create()),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(8).int32(e.code),null!=e.msg&&Object.hasOwnProperty.call(e,"msg")&&t.uint32(18).string(e.msg),t},e.decode=function(e,t){e instanceof i||(e=i.create(e));let o=void 0===t?e.len:e.pos+t,r=new s.proto_accesshub.ConnectionClosed;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.code=e.int32();break;case 2:r.msg=e.string();break;default:e.skipType(7&t)}}return r},e}(),e.StreamClosed=function(){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.code=0,e.prototype.msg="",e.encode=function(e,t){return t||(t=n.create()),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(8).int32(e.code),null!=e.msg&&Object.hasOwnProperty.call(e,"msg")&&t.uint32(18).string(e.msg),t},e.decode=function(e,t){e instanceof i||(e=i.create(e));let o=void 0===t?e.len:e.pos+t,r=new s.proto_accesshub.StreamClosed;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.code=e.int32();break;case 2:r.msg=e.string();break;default:e.skipType(7&t)}}return r},e}(),e.CloseConnection=function(){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.reason=0,e.prototype.msg="",e.prototype.action=0,e.encode=function(e,t){return t||(t=n.create()),null!=e.reason&&Object.hasOwnProperty.call(e,"reason")&&t.uint32(8).int32(e.reason),null!=e.msg&&Object.hasOwnProperty.call(e,"msg")&&t.uint32(18).string(e.msg),null!=e.action&&Object.hasOwnProperty.call(e,"action")&&t.uint32(24).int32(e.action),t},e.decode=function(e,t){e instanceof i||(e=i.create(e));let o=void 0===t?e.len:e.pos+t,r=new s.proto_accesshub.CloseConnection;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.reason=e.int32();break;case 2:r.msg=e.string();break;case 3:r.action=e.int32();break;default:e.skipType(7&t)}}return r},e.Action=function(){const e={},t=Object.create(e);return t[e[0]="ACTION_RESERVED"]=0,t[e[1]="ACTION_DISPATCH"]=1,t[e[2]="ACTION_RETRY"]=2,t[e[3]="ACTION_NEXT_NODE"]=3,t[e[4]="ACTION_ABORT"]=4,t[e[5]="ACTION_NEXT_GROUP"]=5,t}(),e}(),e.HTTPRequest=function(){function e(e){if(this.headers=[],e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.txid=a.Long?a.Long.fromBits(0,0,!0):0,e.prototype.appid=0,e.prototype.biz_type=0,e.prototype.mode="",e.prototype.id_name="",e.prototype.reqid="",e.prototype.stick="",e.prototype.service="",e.prototype.location="",e.prototype.method="",e.prototype.headers=a.emptyArray,e.prototype.body=a.newBuffer([]),e.prototype.ack=!1,e.prototype.mode_no=0,e.prototype.service_no=0,e.prototype.method_no=0,e.prototype.sdk_type=0,e.prototype.zegoconn_run_env=0,e.prototype.zegoconn_version=0,e.encode=function(e,t){if(t||(t=n.create()),null!=e.txid&&Object.hasOwnProperty.call(e,"txid")&&t.uint32(8).uint64(e.txid),null!=e.appid&&Object.hasOwnProperty.call(e,"appid")&&t.uint32(16).uint32(e.appid),null!=e.biz_type&&Object.hasOwnProperty.call(e,"biz_type")&&t.uint32(24).uint32(e.biz_type),null!=e.mode&&Object.hasOwnProperty.call(e,"mode")&&t.uint32(34).string(e.mode),null!=e.id_name&&Object.hasOwnProperty.call(e,"id_name")&&t.uint32(42).string(e.id_name),null!=e.reqid&&Object.hasOwnProperty.call(e,"reqid")&&t.uint32(50).string(e.reqid),null!=e.stick&&Object.hasOwnProperty.call(e,"stick")&&t.uint32(58).string(e.stick),null!=e.service&&Object.hasOwnProperty.call(e,"service")&&t.uint32(66).string(e.service),null!=e.location&&Object.hasOwnProperty.call(e,"location")&&t.uint32(74).string(e.location),null!=e.method&&Object.hasOwnProperty.call(e,"method")&&t.uint32(82).string(e.method),null!=e.headers&&e.headers.length)for(let o=0;o<e.headers.length;++o)s.proto_accesshub.HTTPRequest.HTTPHeader.encode(e.headers[o],t.uint32(90).fork()).ldelim();return null!=e.body&&Object.hasOwnProperty.call(e,"body")&&t.uint32(98).bytes(e.body),null!=e.ack&&Object.hasOwnProperty.call(e,"ack")&&t.uint32(104).bool(e.ack),null!=e.mode_no&&Object.hasOwnProperty.call(e,"mode_no")&&t.uint32(112).int32(e.mode_no),null!=e.service_no&&Object.hasOwnProperty.call(e,"service_no")&&t.uint32(120).int32(e.service_no),null!=e.method_no&&Object.hasOwnProperty.call(e,"method_no")&&t.uint32(128).int32(e.method_no),null!=e.sdk_type&&Object.hasOwnProperty.call(e,"sdk_type")&&t.uint32(136).int32(e.sdk_type),null!=e.zegoconn_run_env&&Object.hasOwnProperty.call(e,"zegoconn_run_env")&&t.uint32(144).int32(e.zegoconn_run_env),null!=e.zegoconn_version&&Object.hasOwnProperty.call(e,"zegoconn_version")&&t.uint32(152).uint32(e.zegoconn_version),t},e.decode=function(e,t){e instanceof i||(e=i.create(e));let o=void 0===t?e.len:e.pos+t,r=new s.proto_accesshub.HTTPRequest;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.txid=e.uint64();break;case 2:r.appid=e.uint32();break;case 3:r.biz_type=e.uint32();break;case 4:r.mode=e.string();break;case 5:r.id_name=e.string();break;case 6:r.reqid=e.string();break;case 7:r.stick=e.string();break;case 8:r.service=e.string();break;case 9:r.location=e.string();break;case 10:r.method=e.string();break;case 11:r.headers&&r.headers.length||(r.headers=[]),r.headers.push(s.proto_accesshub.HTTPRequest.HTTPHeader.decode(e,e.uint32()));break;case 12:r.body=e.bytes();break;case 13:r.ack=e.bool();break;case 14:r.mode_no=e.int32();break;case 15:r.service_no=e.int32();break;case 16:r.method_no=e.int32();break;case 17:r.sdk_type=e.int32();break;case 18:r.zegoconn_run_env=e.int32();break;case 19:r.zegoconn_version=e.uint32();break;default:e.skipType(7&t)}}return r},e.HTTPHeader=function(){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.name="",e.prototype.val="",e.encode=function(e,t){return t||(t=n.create()),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.val&&Object.hasOwnProperty.call(e,"val")&&t.uint32(18).string(e.val),t},e.decode=function(e,t){e instanceof i||(e=i.create(e));let o=void 0===t?e.len:e.pos+t,r=new s.proto_accesshub.HTTPRequest.HTTPHeader;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.name=e.string();break;case 2:r.val=e.string();break;default:e.skipType(7&t)}}return r},e}(),e}(),e.HTTPResponse=function(){function e(e){if(this.headers=[],e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.txid=a.Long?a.Long.fromBits(0,0,!0):0,e.prototype.headers=a.emptyArray,e.prototype.status_code=0,e.prototype.body=a.newBuffer([]),e.encode=function(e,t){if(t||(t=n.create()),null!=e.txid&&Object.hasOwnProperty.call(e,"txid")&&t.uint32(8).uint64(e.txid),null!=e.headers&&e.headers.length)for(let o=0;o<e.headers.length;++o)s.proto_accesshub.HTTPRequest.HTTPHeader.encode(e.headers[o],t.uint32(18).fork()).ldelim();return null!=e.status_code&&Object.hasOwnProperty.call(e,"status_code")&&t.uint32(24).int32(e.status_code),null!=e.body&&Object.hasOwnProperty.call(e,"body")&&t.uint32(34).bytes(e.body),t},e.decode=function(e,t){e instanceof i||(e=i.create(e));let o=void 0===t?e.len:e.pos+t,r=new s.proto_accesshub.HTTPResponse;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.txid=e.uint64();break;case 2:r.headers&&r.headers.length||(r.headers=[]),r.headers.push(s.proto_accesshub.HTTPRequest.HTTPHeader.decode(e,e.uint32()));break;case 3:r.status_code=e.int32();break;case 4:r.body=e.bytes();break;default:e.skipType(7&t)}}return r},e}(),e.HTTPRequestAck=function(){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.txid=a.Long?a.Long.fromBits(0,0,!0):0,e.encode=function(e,t){return t||(t=n.create()),null!=e.txid&&Object.hasOwnProperty.call(e,"txid")&&t.uint32(8).uint64(e.txid),t},e.decode=function(e,t){e instanceof i||(e=i.create(e));let o=void 0===t?e.len:e.pos+t,r=new s.proto_accesshub.HTTPRequestAck;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.txid=e.uint64();break;default:e.skipType(7&t)}}return r},e}(),e.HTTPRequestDroped=function(){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.txid=a.Long?a.Long.fromBits(0,0,!0):0,e.prototype.reason=0,e.prototype.msg="",e.encode=function(e,t){return t||(t=n.create()),null!=e.txid&&Object.hasOwnProperty.call(e,"txid")&&t.uint32(8).uint64(e.txid),null!=e.reason&&Object.hasOwnProperty.call(e,"reason")&&t.uint32(16).int32(e.reason),null!=e.msg&&Object.hasOwnProperty.call(e,"msg")&&t.uint32(26).string(e.msg),t},e.decode=function(e,t){e instanceof i||(e=i.create(e));let o=void 0===t?e.len:e.pos+t,r=new s.proto_accesshub.HTTPRequestDroped;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.txid=e.uint64();break;case 2:r.reason=e.int32();break;case 3:r.msg=e.string();break;default:e.skipType(7&t)}}return r},e}(),e.ProxyConnectionClosed=function(){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.code=0,e.prototype.msg="",e.prototype.connected=0,e.encode=function(e,t){return t||(t=n.create()),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(8).int32(e.code),null!=e.msg&&Object.hasOwnProperty.call(e,"msg")&&t.uint32(18).string(e.msg),null!=e.connected&&Object.hasOwnProperty.call(e,"connected")&&t.uint32(24).int32(e.connected),t},e.decode=function(e,t){e instanceof i||(e=i.create(e));let o=void 0===t?e.len:e.pos+t,r=new s.proto_accesshub.ProxyConnectionClosed;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.code=e.int32();break;case 2:r.msg=e.string();break;case 3:r.connected=e.int32();break;default:e.skipType(7&t)}}return r},e}(),e.HBRequest=function(){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.txid=a.Long?a.Long.fromBits(0,0,!0):0,e.prototype.ts=a.Long?a.Long.fromBits(0,0,!1):0,e.encode=function(e,t){return t||(t=n.create()),null!=e.txid&&Object.hasOwnProperty.call(e,"txid")&&t.uint32(8).uint64(e.txid),null!=e.ts&&Object.hasOwnProperty.call(e,"ts")&&t.uint32(16).int64(e.ts),t},e.decode=function(e,t){e instanceof i||(e=i.create(e));let o=void 0===t?e.len:e.pos+t,r=new s.proto_accesshub.HBRequest;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.txid=e.uint64();break;case 2:r.ts=e.int64();break;default:e.skipType(7&t)}}return r},e}(),e.HBResponse=function(){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.txid=a.Long?a.Long.fromBits(0,0,!0):0,e.prototype.ts=a.Long?a.Long.fromBits(0,0,!1):0,e.encode=function(e,t){return t||(t=n.create()),null!=e.txid&&Object.hasOwnProperty.call(e,"txid")&&t.uint32(8).uint64(e.txid),null!=e.ts&&Object.hasOwnProperty.call(e,"ts")&&t.uint32(16).int64(e.ts),t},e.decode=function(e,t){e instanceof i||(e=i.create(e));let o=void 0===t?e.len:e.pos+t,r=new s.proto_accesshub.HBResponse;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.txid=e.uint64();break;case 2:r.ts=e.int64();break;default:e.skipType(7&t)}}return r},e}(),e.GetConfigRequest=function(){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.txid=a.Long?a.Long.fromBits(0,0,!0):0,e.prototype.appid=0,e.prototype.biz_type=0,e.prototype.mode="",e.prototype.id_name="",e.prototype.reqid="",e.prototype.zegoconn_version=0,e.prototype.sdk_type=0,e.prototype.zegoconn_run_env=0,e.encode=function(e,t){return t||(t=n.create()),null!=e.txid&&Object.hasOwnProperty.call(e,"txid")&&t.uint32(8).uint64(e.txid),null!=e.appid&&Object.hasOwnProperty.call(e,"appid")&&t.uint32(16).uint32(e.appid),null!=e.biz_type&&Object.hasOwnProperty.call(e,"biz_type")&&t.uint32(24).uint32(e.biz_type),null!=e.mode&&Object.hasOwnProperty.call(e,"mode")&&t.uint32(34).string(e.mode),null!=e.id_name&&Object.hasOwnProperty.call(e,"id_name")&&t.uint32(42).string(e.id_name),null!=e.reqid&&Object.hasOwnProperty.call(e,"reqid")&&t.uint32(50).string(e.reqid),null!=e.zegoconn_version&&Object.hasOwnProperty.call(e,"zegoconn_version")&&t.uint32(56).uint32(e.zegoconn_version),null!=e.sdk_type&&Object.hasOwnProperty.call(e,"sdk_type")&&t.uint32(64).int32(e.sdk_type),null!=e.zegoconn_run_env&&Object.hasOwnProperty.call(e,"zegoconn_run_env")&&t.uint32(72).int32(e.zegoconn_run_env),t},e.decode=function(e,t){e instanceof i||(e=i.create(e));let o=void 0===t?e.len:e.pos+t,r=new s.proto_accesshub.GetConfigRequest;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.txid=e.uint64();break;case 2:r.appid=e.uint32();break;case 3:r.biz_type=e.uint32();break;case 4:r.mode=e.string();break;case 5:r.id_name=e.string();break;case 6:r.reqid=e.string();break;case 7:r.zegoconn_version=e.uint32();break;case 8:r.sdk_type=e.int32();break;case 9:r.zegoconn_run_env=e.int32();break;default:e.skipType(7&t)}}return r},e}(),e.GetConfigResponseData=function(){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.txid=a.Long?a.Long.fromBits(0,0,!0):0,e.prototype.quic_hb_interval=0,e.prototype.quic_hb_timeout=0,e.prototype.logic_hb_interval=0,e.prototype.logic_hb_timeout=0,e.prototype.pc_establish_timeout=0,e.prototype.sdk_link_detect_interval=0,e.prototype.sdk_link_detect_duration=0,e.prototype.client_outer_ip="",e.encode=function(e,t){return t||(t=n.create()),null!=e.txid&&Object.hasOwnProperty.call(e,"txid")&&t.uint32(8).uint64(e.txid),null!=e.quic_hb_interval&&Object.hasOwnProperty.call(e,"quic_hb_interval")&&t.uint32(16).uint32(e.quic_hb_interval),null!=e.quic_hb_timeout&&Object.hasOwnProperty.call(e,"quic_hb_timeout")&&t.uint32(24).uint32(e.quic_hb_timeout),null!=e.logic_hb_interval&&Object.hasOwnProperty.call(e,"logic_hb_interval")&&t.uint32(32).uint32(e.logic_hb_interval),null!=e.logic_hb_timeout&&Object.hasOwnProperty.call(e,"logic_hb_timeout")&&t.uint32(40).uint32(e.logic_hb_timeout),null!=e.pc_establish_timeout&&Object.hasOwnProperty.call(e,"pc_establish_timeout")&&t.uint32(48).uint32(e.pc_establish_timeout),null!=e.sdk_link_detect_interval&&Object.hasOwnProperty.call(e,"sdk_link_detect_interval")&&t.uint32(56).uint32(e.sdk_link_detect_interval),null!=e.sdk_link_detect_duration&&Object.hasOwnProperty.call(e,"sdk_link_detect_duration")&&t.uint32(64).uint32(e.sdk_link_detect_duration),null!=e.client_outer_ip&&Object.hasOwnProperty.call(e,"client_outer_ip")&&t.uint32(74).string(e.client_outer_ip),t},e.decode=function(e,t){e instanceof i||(e=i.create(e));let o=void 0===t?e.len:e.pos+t,r=new s.proto_accesshub.GetConfigResponseData;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.txid=e.uint64();break;case 2:r.quic_hb_interval=e.uint32();break;case 3:r.quic_hb_timeout=e.uint32();break;case 4:r.logic_hb_interval=e.uint32();break;case 5:r.logic_hb_timeout=e.uint32();break;case 6:r.pc_establish_timeout=e.uint32();break;case 7:r.sdk_link_detect_interval=e.uint32();break;case 8:r.sdk_link_detect_duration=e.uint32();break;case 9:r.client_outer_ip=e.string();break;default:e.skipType(7&t)}}return r},e}(),e.GetConfigResponse=function(){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.code=0,e.prototype.message="",e.prototype.data=null,e.encode=function(e,t){return t||(t=n.create()),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(8).int32(e.code),null!=e.message&&Object.hasOwnProperty.call(e,"message")&&t.uint32(18).string(e.message),null!=e.data&&Object.hasOwnProperty.call(e,"data")&&s.proto_accesshub.GetConfigResponseData.encode(e.data,t.uint32(26).fork()).ldelim(),t},e.decode=function(e,t){e instanceof i||(e=i.create(e));let o=void 0===t?e.len:e.pos+t,r=new s.proto_accesshub.GetConfigResponse;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.code=e.int32();break;case 2:r.message=e.string();break;case 3:r.data=s.proto_accesshub.GetConfigResponseData.decode(e,e.uint32());break;default:e.skipType(7&t)}}return r},e}(),e.PCUpwardMessage=function(){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.txid=a.Long?a.Long.fromBits(0,0,!0):0,e.prototype.appid=0,e.prototype.biz_type=0,e.prototype.mode_no=0,e.prototype.id_name="",e.prototype.service_no=0,e.prototype.ack=!1,e.prototype.payload=a.newBuffer([]),e.prototype.sdk_type=0,e.prototype.wss_message_type=0,e.prototype.wss_path="",e.prototype.wss_raw_query="",e.prototype.zegoconn_version=0,e.prototype.zegoconn_run_env=0,e.prototype.backend_conn_type=0,e.encode=function(e,t){return t||(t=n.create()),null!=e.txid&&Object.hasOwnProperty.call(e,"txid")&&t.uint32(8).uint64(e.txid),null!=e.appid&&Object.hasOwnProperty.call(e,"appid")&&t.uint32(16).uint32(e.appid),null!=e.biz_type&&Object.hasOwnProperty.call(e,"biz_type")&&t.uint32(24).uint32(e.biz_type),null!=e.mode_no&&Object.hasOwnProperty.call(e,"mode_no")&&t.uint32(32).int32(e.mode_no),null!=e.id_name&&Object.hasOwnProperty.call(e,"id_name")&&t.uint32(42).string(e.id_name),null!=e.service_no&&Object.hasOwnProperty.call(e,"service_no")&&t.uint32(48).int32(e.service_no),null!=e.ack&&Object.hasOwnProperty.call(e,"ack")&&t.uint32(56).bool(e.ack),null!=e.payload&&Object.hasOwnProperty.call(e,"payload")&&t.uint32(66).bytes(e.payload),null!=e.sdk_type&&Object.hasOwnProperty.call(e,"sdk_type")&&t.uint32(72).int32(e.sdk_type),null!=e.wss_message_type&&Object.hasOwnProperty.call(e,"wss_message_type")&&t.uint32(80).uint32(e.wss_message_type),null!=e.wss_path&&Object.hasOwnProperty.call(e,"wss_path")&&t.uint32(90).string(e.wss_path),null!=e.wss_raw_query&&Object.hasOwnProperty.call(e,"wss_raw_query")&&t.uint32(98).string(e.wss_raw_query),null!=e.zegoconn_version&&Object.hasOwnProperty.call(e,"zegoconn_version")&&t.uint32(104).uint32(e.zegoconn_version),null!=e.zegoconn_run_env&&Object.hasOwnProperty.call(e,"zegoconn_run_env")&&t.uint32(112).int32(e.zegoconn_run_env),null!=e.backend_conn_type&&Object.hasOwnProperty.call(e,"backend_conn_type")&&t.uint32(120).int32(e.backend_conn_type),t},e.decode=function(e,t){e instanceof i||(e=i.create(e));let o=void 0===t?e.len:e.pos+t,r=new s.proto_accesshub.PCUpwardMessage;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.txid=e.uint64();break;case 2:r.appid=e.uint32();break;case 3:r.biz_type=e.uint32();break;case 4:r.mode_no=e.int32();break;case 5:r.id_name=e.string();break;case 6:r.service_no=e.int32();break;case 7:r.ack=e.bool();break;case 8:r.payload=e.bytes();break;case 9:r.sdk_type=e.int32();break;case 10:r.wss_message_type=e.uint32();break;case 11:r.wss_path=e.string();break;case 12:r.wss_raw_query=e.string();break;case 13:r.zegoconn_version=e.uint32();break;case 14:r.zegoconn_run_env=e.int32();break;case 15:r.backend_conn_type=e.int32();break;default:e.skipType(7&t)}}return r},e}(),e.PCUpwardMessageAck=function(){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.txid=a.Long?a.Long.fromBits(0,0,!0):0,e.encode=function(e,t){return t||(t=n.create()),null!=e.txid&&Object.hasOwnProperty.call(e,"txid")&&t.uint32(8).uint64(e.txid),t},e.decode=function(e,t){e instanceof i||(e=i.create(e));let o=void 0===t?e.len:e.pos+t,r=new s.proto_accesshub.PCUpwardMessageAck;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.txid=e.uint64();break;default:e.skipType(7&t)}}return r},e}(),e.PCEstablished=function(){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.elapse=0,e.prototype.from=0,e.encode=function(e,t){return t||(t=n.create()),null!=e.elapse&&Object.hasOwnProperty.call(e,"elapse")&&t.uint32(8).uint32(e.elapse),null!=e.from&&Object.hasOwnProperty.call(e,"from")&&t.uint32(16).uint32(e.from),t},e.decode=function(e,t){e instanceof i||(e=i.create(e));let o=void 0===t?e.len:e.pos+t,r=new s.proto_accesshub.PCEstablished;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.elapse=e.uint32();break;case 2:r.from=e.uint32();break;default:e.skipType(7&t)}}return r},e}(),e.PCBroken=function(){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.encode=function(e,t){return t||(t=n.create()),t},e.decode=function(e,t){e instanceof i||(e=i.create(e));let o=void 0===t?e.len:e.pos+t,r=new s.proto_accesshub.PCBroken;for(;e.pos<o;){let t=e.uint32();e.skipType(7&t)}return r},e}(),e.PCDownwardMessage=function(){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.payload=a.newBuffer([]),e.prototype.wss_message_type=0,e.encode=function(e,t){return t||(t=n.create()),null!=e.payload&&Object.hasOwnProperty.call(e,"payload")&&t.uint32(10).bytes(e.payload),null!=e.wss_message_type&&Object.hasOwnProperty.call(e,"wss_message_type")&&t.uint32(16).uint32(e.wss_message_type),t},e.decode=function(e,t){e instanceof i||(e=i.create(e));let o=void 0===t?e.len:e.pos+t,r=new s.proto_accesshub.PCDownwardMessage;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.payload=e.bytes();break;case 2:r.wss_message_type=e.uint32();break;default:e.skipType(7&t)}}return r},e}(),e.Redirect=function(){function e(e){if(this.groups=[],this.opt_ports=[],this.wss_groups=[],e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.rand="",e.prototype.secret="",e.prototype.groups=a.emptyArray,e.prototype.opt_ports=a.emptyArray,e.prototype.wss_groups=a.emptyArray,e.encode=function(e,t){if(t||(t=n.create()),null!=e.rand&&Object.hasOwnProperty.call(e,"rand")&&t.uint32(10).string(e.rand),null!=e.secret&&Object.hasOwnProperty.call(e,"secret")&&t.uint32(18).string(e.secret),null!=e.groups&&e.groups.length)for(let o=0;o<e.groups.length;++o)s.proto_accesshub.AccesshubDispatchGroup.encode(e.groups[o],t.uint32(26).fork()).ldelim();if(null!=e.opt_ports&&e.opt_ports.length)for(let o=0;o<e.opt_ports.length;++o)t.uint32(32).uint32(e.opt_ports[o]);if(null!=e.wss_groups&&e.wss_groups.length)for(let o=0;o<e.wss_groups.length;++o)s.proto_accesshub.WssAccesshubDispatchGroup.encode(e.wss_groups[o],t.uint32(42).fork()).ldelim();return t},e.decode=function(e,t){e instanceof i||(e=i.create(e));let o=void 0===t?e.len:e.pos+t,r=new s.proto_accesshub.Redirect;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.rand=e.string();break;case 2:r.secret=e.string();break;case 3:r.groups&&r.groups.length||(r.groups=[]),r.groups.push(s.proto_accesshub.AccesshubDispatchGroup.decode(e,e.uint32()));break;case 4:if(r.opt_ports&&r.opt_ports.length||(r.opt_ports=[]),2==(7&t)){let t=e.uint32()+e.pos;for(;e.pos<t;)r.opt_ports.push(e.uint32())}else r.opt_ports.push(e.uint32());break;case 5:r.wss_groups&&r.wss_groups.length||(r.wss_groups=[]),r.wss_groups.push(s.proto_accesshub.WssAccesshubDispatchGroup.decode(e,e.uint32()));break;default:e.skipType(7&t)}}return r},e}(),e.GetAppConfigRequest=function(){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.txid=a.Long?a.Long.fromBits(0,0,!0):0,e.prototype.appid=0,e.prototype.biz_type=0,e.prototype.mode_no=0,e.prototype.id_name="",e.prototype.config_key="",e.prototype.ts=a.Long?a.Long.fromBits(0,0,!0):0,e.prototype.signature=a.newBuffer([]),e.prototype.lite_sign="",e.prototype.token="",e.prototype.sdk_type=0,e.prototype.zegoconn_version=0,e.prototype.zegoconn_run_env=0,e.encode=function(e,t){return t||(t=n.create()),null!=e.txid&&Object.hasOwnProperty.call(e,"txid")&&t.uint32(8).uint64(e.txid),null!=e.appid&&Object.hasOwnProperty.call(e,"appid")&&t.uint32(16).uint32(e.appid),null!=e.biz_type&&Object.hasOwnProperty.call(e,"biz_type")&&t.uint32(24).uint32(e.biz_type),null!=e.mode_no&&Object.hasOwnProperty.call(e,"mode_no")&&t.uint32(32).int32(e.mode_no),null!=e.id_name&&Object.hasOwnProperty.call(e,"id_name")&&t.uint32(42).string(e.id_name),null!=e.config_key&&Object.hasOwnProperty.call(e,"config_key")&&t.uint32(50).string(e.config_key),null!=e.ts&&Object.hasOwnProperty.call(e,"ts")&&t.uint32(56).uint64(e.ts),null!=e.signature&&Object.hasOwnProperty.call(e,"signature")&&t.uint32(66).bytes(e.signature),null!=e.lite_sign&&Object.hasOwnProperty.call(e,"lite_sign")&&t.uint32(74).string(e.lite_sign),null!=e.token&&Object.hasOwnProperty.call(e,"token")&&t.uint32(82).string(e.token),null!=e.sdk_type&&Object.hasOwnProperty.call(e,"sdk_type")&&t.uint32(88).int32(e.sdk_type),null!=e.zegoconn_version&&Object.hasOwnProperty.call(e,"zegoconn_version")&&t.uint32(96).uint32(e.zegoconn_version),null!=e.zegoconn_run_env&&Object.hasOwnProperty.call(e,"zegoconn_run_env")&&t.uint32(104).int32(e.zegoconn_run_env),t},e.decode=function(e,t){e instanceof i||(e=i.create(e));let o=void 0===t?e.len:e.pos+t,r=new s.proto_accesshub.GetAppConfigRequest;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.txid=e.uint64();break;case 2:r.appid=e.uint32();break;case 3:r.biz_type=e.uint32();break;case 4:r.mode_no=e.int32();break;case 5:r.id_name=e.string();break;case 6:r.config_key=e.string();break;case 7:r.ts=e.uint64();break;case 8:r.signature=e.bytes();break;case 9:r.lite_sign=e.string();break;case 10:r.token=e.string();break;case 11:r.sdk_type=e.int32();break;case 12:r.zegoconn_version=e.uint32();break;case 13:r.zegoconn_run_env=e.int32();break;default:e.skipType(7&t)}}return r},e}(),e.GetAppConfigResponseData=function(){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.txid=a.Long?a.Long.fromBits(0,0,!0):0,e.prototype.data=a.newBuffer([]),e.prototype.ts=a.Long?a.Long.fromBits(0,0,!0):0,e.encode=function(e,t){return t||(t=n.create()),null!=e.txid&&Object.hasOwnProperty.call(e,"txid")&&t.uint32(8).uint64(e.txid),null!=e.data&&Object.hasOwnProperty.call(e,"data")&&t.uint32(18).bytes(e.data),null!=e.ts&&Object.hasOwnProperty.call(e,"ts")&&t.uint32(24).uint64(e.ts),t},e.decode=function(e,t){e instanceof i||(e=i.create(e));let o=void 0===t?e.len:e.pos+t,r=new s.proto_accesshub.GetAppConfigResponseData;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.txid=e.uint64();break;case 2:r.data=e.bytes();break;case 3:r.ts=e.uint64();break;default:e.skipType(7&t)}}return r},e}(),e.GetAppConfigResponse=function(){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.code=0,e.prototype.message="",e.prototype.data=null,e.encode=function(e,t){return t||(t=n.create()),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(8).int32(e.code),null!=e.message&&Object.hasOwnProperty.call(e,"message")&&t.uint32(18).string(e.message),null!=e.data&&Object.hasOwnProperty.call(e,"data")&&s.proto_accesshub.GetAppConfigResponseData.encode(e.data,t.uint32(26).fork()).ldelim(),t},e.decode=function(e,t){e instanceof i||(e=i.create(e));let o=void 0===t?e.len:e.pos+t,r=new s.proto_accesshub.GetAppConfigResponse;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.code=e.int32();break;case 2:r.message=e.string();break;case 3:r.data=s.proto_accesshub.GetAppConfigResponseData.decode(e,e.uint32());break;default:e.skipType(7&t)}}return r},e}(),e.PushAppConfig=function(){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.config_key="",e.prototype.data=a.newBuffer([]),e.encode=function(e,t){return t||(t=n.create()),null!=e.config_key&&Object.hasOwnProperty.call(e,"config_key")&&t.uint32(10).string(e.config_key),null!=e.data&&Object.hasOwnProperty.call(e,"data")&&t.uint32(18).bytes(e.data),t},e.decode=function(e,t){e instanceof i||(e=i.create(e));let o=void 0===t?e.len:e.pos+t,r=new s.proto_accesshub.PushAppConfig;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.config_key=e.string();break;case 2:r.data=e.bytes();break;default:e.skipType(7&t)}}return r},e}(),e.AccesshubDispatchRequest=function(){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.txid=a.Long?a.Long.fromBits(0,0,!0):0,e.prototype.appid=0,e.prototype.biz_type=0,e.prototype.mode_no=0,e.prototype.id_name="",e.prototype.sdk_type=0,e.prototype.zegoconn_version=0,e.prototype.zegoconn_run_env=0,e.encode=function(e,t){return t||(t=n.create()),null!=e.txid&&Object.hasOwnProperty.call(e,"txid")&&t.uint32(8).uint64(e.txid),null!=e.appid&&Object.hasOwnProperty.call(e,"appid")&&t.uint32(16).uint32(e.appid),null!=e.biz_type&&Object.hasOwnProperty.call(e,"biz_type")&&t.uint32(24).uint32(e.biz_type),null!=e.mode_no&&Object.hasOwnProperty.call(e,"mode_no")&&t.uint32(32).int32(e.mode_no),null!=e.id_name&&Object.hasOwnProperty.call(e,"id_name")&&t.uint32(42).string(e.id_name),null!=e.sdk_type&&Object.hasOwnProperty.call(e,"sdk_type")&&t.uint32(48).int32(e.sdk_type),null!=e.zegoconn_version&&Object.hasOwnProperty.call(e,"zegoconn_version")&&t.uint32(56).uint32(e.zegoconn_version),null!=e.zegoconn_run_env&&Object.hasOwnProperty.call(e,"zegoconn_run_env")&&t.uint32(64).int32(e.zegoconn_run_env),t},e.decode=function(e,t){e instanceof i||(e=i.create(e));let o=void 0===t?e.len:e.pos+t,r=new s.proto_accesshub.AccesshubDispatchRequest;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.txid=e.uint64();break;case 2:r.appid=e.uint32();break;case 3:r.biz_type=e.uint32();break;case 4:r.mode_no=e.int32();break;case 5:r.id_name=e.string();break;case 6:r.sdk_type=e.int32();break;case 7:r.zegoconn_version=e.uint32();break;case 8:r.zegoconn_run_env=e.int32();break;default:e.skipType(7&t)}}return r},e}(),e.AccesshubDispatchGroup=function(){function e(e){if(this.quic_nodes=[],this.mtcp_nodes=[],this.wss_nodes=[],e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.group="",e.prototype.quic_nodes=a.emptyArray,e.prototype.mtcp_nodes=a.emptyArray,e.prototype.wss_nodes=a.emptyArray,e.encode=function(e,t){if(t||(t=n.create()),null!=e.group&&Object.hasOwnProperty.call(e,"group")&&t.uint32(10).string(e.group),null!=e.quic_nodes&&e.quic_nodes.length)for(let o=0;o<e.quic_nodes.length;++o)t.uint32(18).string(e.quic_nodes[o]);if(null!=e.mtcp_nodes&&e.mtcp_nodes.length)for(let o=0;o<e.mtcp_nodes.length;++o)t.uint32(26).string(e.mtcp_nodes[o]);if(null!=e.wss_nodes&&e.wss_nodes.length)for(let o=0;o<e.wss_nodes.length;++o)t.uint32(34).string(e.wss_nodes[o]);return t},e.decode=function(e,t){e instanceof i||(e=i.create(e));let o=void 0===t?e.len:e.pos+t,r=new s.proto_accesshub.AccesshubDispatchGroup;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.group=e.string();break;case 2:r.quic_nodes&&r.quic_nodes.length||(r.quic_nodes=[]),r.quic_nodes.push(e.string());break;case 3:r.mtcp_nodes&&r.mtcp_nodes.length||(r.mtcp_nodes=[]),r.mtcp_nodes.push(e.string());break;case 4:r.wss_nodes&&r.wss_nodes.length||(r.wss_nodes=[]),r.wss_nodes.push(e.string());break;default:e.skipType(7&t)}}return r},e}(),e.WssAccesshubDispatchGroup=function(){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.group="",e.prototype.host="",e.prototype.main_domain="",e.encode=function(e,t){return t||(t=n.create()),null!=e.group&&Object.hasOwnProperty.call(e,"group")&&t.uint32(10).string(e.group),null!=e.host&&Object.hasOwnProperty.call(e,"host")&&t.uint32(18).string(e.host),null!=e.main_domain&&Object.hasOwnProperty.call(e,"main_domain")&&t.uint32(26).string(e.main_domain),t},e.decode=function(e,t){e instanceof i||(e=i.create(e));let o=void 0===t?e.len:e.pos+t,r=new s.proto_accesshub.WssAccesshubDispatchGroup;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.group=e.string();break;case 2:r.host=e.string();break;case 3:r.main_domain=e.string();break;default:e.skipType(7&t)}}return r},e}(),e.AccesshubDispatchResponseData=function(){function e(e){if(this.groups=[],this.opt_ports=[],this.wss_groups=[],e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.txid=a.Long?a.Long.fromBits(0,0,!0):0,e.prototype.rand="",e.prototype.secret="",e.prototype.groups=a.emptyArray,e.prototype.opt_ports=a.emptyArray,e.prototype.wss_groups=a.emptyArray,e.encode=function(e,t){if(t||(t=n.create()),null!=e.txid&&Object.hasOwnProperty.call(e,"txid")&&t.uint32(8).uint64(e.txid),null!=e.rand&&Object.hasOwnProperty.call(e,"rand")&&t.uint32(18).string(e.rand),null!=e.secret&&Object.hasOwnProperty.call(e,"secret")&&t.uint32(26).string(e.secret),null!=e.groups&&e.groups.length)for(let o=0;o<e.groups.length;++o)s.proto_accesshub.AccesshubDispatchGroup.encode(e.groups[o],t.uint32(34).fork()).ldelim();if(null!=e.opt_ports&&e.opt_ports.length)for(let o=0;o<e.opt_ports.length;++o)t.uint32(40).uint32(e.opt_ports[o]);if(null!=e.wss_groups&&e.wss_groups.length)for(let o=0;o<e.wss_groups.length;++o)s.proto_accesshub.WssAccesshubDispatchGroup.encode(e.wss_groups[o],t.uint32(50).fork()).ldelim();return t},e.decode=function(e,t){e instanceof i||(e=i.create(e));let o=void 0===t?e.len:e.pos+t,r=new s.proto_accesshub.AccesshubDispatchResponseData;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.txid=e.uint64();break;case 2:r.rand=e.string();break;case 3:r.secret=e.string();break;case 4:r.groups&&r.groups.length||(r.groups=[]),r.groups.push(s.proto_accesshub.AccesshubDispatchGroup.decode(e,e.uint32()));break;case 5:if(r.opt_ports&&r.opt_ports.length||(r.opt_ports=[]),2==(7&t)){let t=e.uint32()+e.pos;for(;e.pos<t;)r.opt_ports.push(e.uint32())}else r.opt_ports.push(e.uint32());break;case 6:r.wss_groups&&r.wss_groups.length||(r.wss_groups=[]),r.wss_groups.push(s.proto_accesshub.WssAccesshubDispatchGroup.decode(e,e.uint32()));break;default:e.skipType(7&t)}}return r},e}(),e.AccesshubDispatchResponse=function(){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.code=0,e.prototype.message="",e.prototype.data=null,e.encode=function(e,t){return t||(t=n.create()),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(8).int32(e.code),null!=e.message&&Object.hasOwnProperty.call(e,"message")&&t.uint32(18).string(e.message),null!=e.data&&Object.hasOwnProperty.call(e,"data")&&s.proto_accesshub.AccesshubDispatchResponseData.encode(e.data,t.uint32(26).fork()).ldelim(),t},e.decode=function(e,t){e instanceof i||(e=i.create(e));let o=void 0===t?e.len:e.pos+t,r=new s.proto_accesshub.AccesshubDispatchResponse;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.code=e.int32();break;case 2:r.message=e.string();break;case 3:r.data=s.proto_accesshub.AccesshubDispatchResponseData.decode(e,e.uint32());break;default:e.skipType(7&t)}}return r},e}(),e.PushException=function(){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.reason=0,e.prototype.msg="",e.prototype.txid=a.Long?a.Long.fromBits(0,0,!0):0,e.encode=function(e,t){return t||(t=n.create()),null!=e.reason&&Object.hasOwnProperty.call(e,"reason")&&t.uint32(8).int32(e.reason),null!=e.msg&&Object.hasOwnProperty.call(e,"msg")&&t.uint32(18).string(e.msg),null!=e.txid&&Object.hasOwnProperty.call(e,"txid")&&t.uint32(24).uint64(e.txid),t},e.decode=function(e,t){e instanceof i||(e=i.create(e));let o=void 0===t?e.len:e.pos+t,r=new s.proto_accesshub.PushException;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.reason=e.int32();break;case 2:r.msg=e.string();break;case 3:r.txid=e.uint64();break;default:e.skipType(7&t)}}return r},e}(),e})(),l=s.proto_initconfig=(()=>{const e={};return e.ResourceType=function(){const e={},t=Object.create(e);return t[e[0]="CDN"]=0,t[e[1]="RTC"]=1,t[e[2]="L3"]=2,t}(),e.ProtocolType=function(){const e={},t=Object.create(e);return t[e[0]="UDP"]=0,t[e[1]="RTMP"]=1,t[e[2]="FLV"]=2,t[e[3]="HLS"]=3,t[e[4]="WEBRTC"]=4,t}(),e.ResolveType=function(){const e={},t=Object.create(e);return t[e[0]="LOCAL_DNS"]=0,t[e[1]="DISPATCH"]=1,t}(),e.AppConfig=function(){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}let t;return e.prototype.test_id=null,e.prototype.domain=null,e.prototype.flexible_domain=null,e.prototype.replace_flexible_domain=null,Object.defineProperty(e.prototype,"_test_id",{get:a.oneOfGetter(t=["test_id"]),set:a.oneOfSetter(t)}),Object.defineProperty(e.prototype,"_domain",{get:a.oneOfGetter(t=["domain"]),set:a.oneOfSetter(t)}),Object.defineProperty(e.prototype,"_flexible_domain",{get:a.oneOfGetter(t=["flexible_domain"]),set:a.oneOfSetter(t)}),Object.defineProperty(e.prototype,"_replace_flexible_domain",{get:a.oneOfGetter(t=["replace_flexible_domain"]),set:a.oneOfSetter(t)}),e.encode=function(e,t){return t||(t=n.create()),null!=e.test_id&&Object.hasOwnProperty.call(e,"test_id")&&t.uint32(8).int32(e.test_id),null!=e.domain&&Object.hasOwnProperty.call(e,"domain")&&t.uint32(18).string(e.domain),null!=e.flexible_domain&&Object.hasOwnProperty.call(e,"flexible_domain")&&t.uint32(26).string(e.flexible_domain),null!=e.replace_flexible_domain&&Object.hasOwnProperty.call(e,"replace_flexible_domain")&&t.uint32(34).string(e.replace_flexible_domain),t},e.decode=function(e,t){e instanceof i||(e=i.create(e));let o=void 0===t?e.len:e.pos+t,r=new s.proto_initconfig.AppConfig;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.test_id=e.int32();break;case 2:r.domain=e.string();break;case 3:r.flexible_domain=e.string();break;case 4:r.replace_flexible_domain=e.string();break;default:e.skipType(7&t)}}return r},e}(),e.MediaServiceProtocolInfo=function(){function e(e){if(this.cdn_quic_version=[],e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}let t;return e.prototype.config_id=null,e.prototype.protocol=null,e.prototype.url_template=null,e.prototype.resolve_type=null,e.prototype.push_cdn_authentication=null,e.prototype.cdn_quic_version=a.emptyArray,Object.defineProperty(e.prototype,"_config_id",{get:a.oneOfGetter(t=["config_id"]),set:a.oneOfSetter(t)}),Object.defineProperty(e.prototype,"_protocol",{get:a.oneOfGetter(t=["protocol"]),set:a.oneOfSetter(t)}),Object.defineProperty(e.prototype,"_url_template",{get:a.oneOfGetter(t=["url_template"]),set:a.oneOfSetter(t)}),Object.defineProperty(e.prototype,"_resolve_type",{get:a.oneOfGetter(t=["resolve_type"]),set:a.oneOfSetter(t)}),Object.defineProperty(e.prototype,"_push_cdn_authentication",{get:a.oneOfGetter(t=["push_cdn_authentication"]),set:a.oneOfSetter(t)}),e.encode=function(e,t){if(t||(t=n.create()),null!=e.config_id&&Object.hasOwnProperty.call(e,"config_id")&&t.uint32(10).string(e.config_id),null!=e.protocol&&Object.hasOwnProperty.call(e,"protocol")&&t.uint32(16).int32(e.protocol),null!=e.url_template&&Object.hasOwnProperty.call(e,"url_template")&&t.uint32(26).string(e.url_template),null!=e.resolve_type&&Object.hasOwnProperty.call(e,"resolve_type")&&t.uint32(32).int32(e.resolve_type),null!=e.push_cdn_authentication&&Object.hasOwnProperty.call(e,"push_cdn_authentication")&&t.uint32(40).int32(e.push_cdn_authentication),null!=e.cdn_quic_version&&e.cdn_quic_version.length){t.uint32(50).fork();for(let o=0;o<e.cdn_quic_version.length;++o)t.int32(e.cdn_quic_version[o]);t.ldelim()}return t},e.decode=function(e,t){e instanceof i||(e=i.create(e));let o=void 0===t?e.len:e.pos+t,r=new s.proto_initconfig.MediaServiceProtocolInfo;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.config_id=e.string();break;case 2:r.protocol=e.int32();break;case 3:r.url_template=e.string();break;case 4:r.resolve_type=e.int32();break;case 5:r.push_cdn_authentication=e.int32();break;case 6:if(r.cdn_quic_version&&r.cdn_quic_version.length||(r.cdn_quic_version=[]),2==(7&t)){let t=e.uint32()+e.pos;for(;e.pos<t;)r.cdn_quic_version.push(e.int32())}else r.cdn_quic_version.push(e.int32());break;default:e.skipType(7&t)}}return r},e}(),e.MediaResourceInfo=function(){function e(e){if(this.service_info=[],e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}let t;return e.prototype.resource_type=null,e.prototype.service_info=a.emptyArray,Object.defineProperty(e.prototype,"_resource_type",{get:a.oneOfGetter(t=["resource_type"]),set:a.oneOfSetter(t)}),e.encode=function(e,t){if(t||(t=n.create()),null!=e.resource_type&&Object.hasOwnProperty.call(e,"resource_type")&&t.uint32(8).int32(e.resource_type),null!=e.service_info&&e.service_info.length)for(let o=0;o<e.service_info.length;++o)s.proto_initconfig.MediaServiceProtocolInfo.encode(e.service_info[o],t.uint32(18).fork()).ldelim();return t},e.decode=function(e,t){e instanceof i||(e=i.create(e));let o=void 0===t?e.len:e.pos+t,r=new s.proto_initconfig.MediaResourceInfo;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.resource_type=e.int32();break;case 2:r.service_info&&r.service_info.length||(r.service_info=[]),r.service_info.push(s.proto_initconfig.MediaServiceProtocolInfo.decode(e,e.uint32()));break;default:e.skipType(7&t)}}return r},e}(),e.MediaPublishConfig=function(){function e(e){if(this.resource_info=[],e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.resource_info=a.emptyArray,e.encode=function(e,t){if(t||(t=n.create()),null!=e.resource_info&&e.resource_info.length)for(let o=0;o<e.resource_info.length;++o)s.proto_initconfig.MediaResourceInfo.encode(e.resource_info[o],t.uint32(18).fork()).ldelim();return t},e.decode=function(e,t){e instanceof i||(e=i.create(e));let o=void 0===t?e.len:e.pos+t,r=new s.proto_initconfig.MediaPublishConfig;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 2:r.resource_info&&r.resource_info.length||(r.resource_info=[]),r.resource_info.push(s.proto_initconfig.MediaResourceInfo.decode(e,e.uint32()));break;default:e.skipType(7&t)}}return r},e}(),e.MediaPlayConfig=function(){function e(e){if(this.resource_info=[],e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.resource_info=a.emptyArray,e.encode=function(e,t){if(t||(t=n.create()),null!=e.resource_info&&e.resource_info.length)for(let o=0;o<e.resource_info.length;++o)s.proto_initconfig.MediaResourceInfo.encode(e.resource_info[o],t.uint32(42).fork()).ldelim();return t},e.decode=function(e,t){e instanceof i||(e=i.create(e));let o=void 0===t?e.len:e.pos+t,r=new s.proto_initconfig.MediaPlayConfig;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 5:r.resource_info&&r.resource_info.length||(r.resource_info=[]),r.resource_info.push(s.proto_initconfig.MediaResourceInfo.decode(e,e.uint32()));break;default:e.skipType(7&t)}}return r},e}(),e.MediaConfig=function(){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}let t;return e.prototype.play_config=null,e.prototype.publish_config=null,Object.defineProperty(e.prototype,"_play_config",{get:a.oneOfGetter(t=["play_config"]),set:a.oneOfSetter(t)}),Object.defineProperty(e.prototype,"_publish_config",{get:a.oneOfGetter(t=["publish_config"]),set:a.oneOfSetter(t)}),e.encode=function(e,t){return t||(t=n.create()),null!=e.play_config&&Object.hasOwnProperty.call(e,"play_config")&&s.proto_initconfig.MediaPlayConfig.encode(e.play_config,t.uint32(10).fork()).ldelim(),null!=e.publish_config&&Object.hasOwnProperty.call(e,"publish_config")&&s.proto_initconfig.MediaPublishConfig.encode(e.publish_config,t.uint32(18).fork()).ldelim(),t},e.decode=function(e,t){e instanceof i||(e=i.create(e));let o=void 0===t?e.len:e.pos+t,r=new s.proto_initconfig.MediaConfig;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.play_config=s.proto_initconfig.MediaPlayConfig.decode(e,e.uint32());break;case 2:r.publish_config=s.proto_initconfig.MediaPublishConfig.decode(e,e.uint32());break;default:e.skipType(7&t)}}return r},e}(),e.InitConfig=function(){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}let t;return e.prototype.app_config=null,e.prototype.media_config=null,Object.defineProperty(e.prototype,"_app_config",{get:a.oneOfGetter(t=["app_config"]),set:a.oneOfSetter(t)}),Object.defineProperty(e.prototype,"_media_config",{get:a.oneOfGetter(t=["media_config"]),set:a.oneOfSetter(t)}),e.encode=function(e,t){return t||(t=n.create()),null!=e.app_config&&Object.hasOwnProperty.call(e,"app_config")&&s.proto_initconfig.AppConfig.encode(e.app_config,t.uint32(10).fork()).ldelim(),null!=e.media_config&&Object.hasOwnProperty.call(e,"media_config")&&s.proto_initconfig.MediaConfig.encode(e.media_config,t.uint32(42).fork()).ldelim(),t},e.decode=function(e,t){e instanceof i||(e=i.create(e));let o=void 0===t?e.len:e.pos+t,r=new s.proto_initconfig.InitConfig;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.app_config=s.proto_initconfig.AppConfig.decode(e,e.uint32());break;case 5:r.media_config=s.proto_initconfig.MediaConfig.decode(e,e.uint32());break;default:e.skipType(7&t)}}return r},e}(),e})()},function(e,t,o){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,o=1,r=arguments.length;o<r;o++)for(var i in t=arguments[o])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},a=this&&this.__spreadArray||function(e,t,o){if(o||2===arguments.length)for(var r,i=0,n=t.length;i<n;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.ZegoWssLink=void 0;var s=o(14),c=o(0),l=o(15),u=o(16),d=o(3),p=o(1),h=function(e){function t(t,o,r,i,n){var a=e.call(this)||this;return a.appID=t,a.env=o,a.protobuf=r,a.logger=i,a.stateCenter=n,a.socketService=new u.NetSocketService(a.env),a.urlIndex=0,a.updatedMsgTime=0,a.unUpdateMsgTimeTypes=[c.AccessHubMessageType.MSG_TYPE_HB_REQUEST,c.AccessHubMessageType.MSG_TYPE_HB_RESPONSE,c.AccessHubMessageType.MSG_TYPE_GET_CONFIG_REQUEST,c.AccessHubMessageType.MSG_TYPE_GET_CONFIG_RESPONSE],a.netLinkState=c.ENUM_CONNECT_STATE.disconnect,a.sendCommandList=new s.LinkedList,a.unSendCommandList=new s.LinkedList,a.sendCommandMap={},a.unSendCommandMap={},a.sendDataCheckOnceCount=100,a.sendDataDropTimeout=1e4,a.sendDataCheckInterval=2e3,a.timeout=5e3,a.connectInterval=1e4,a.connectTimer=null,a.connectRsp={},a.unlogTypes=[12,13],a.tryServers=[],a.updatedMsgTime=Date.now(),a}return i(t,e),t.prototype.initEvent=function(e,t,o,r){this.onConnectedEvent=e,this.onDisConnectedEvent=t,this.onConnectingEvent=o,this.onPushEvent=r},t.prototype.createSocket=function(e){this.servers=e,this.urlIndex=0},t.prototype.destroySocket=function(){this.logger.info("zn.wl.ds.0 call"),this.socketService.closeSocket(),this.netLinkState=c.ENUM_CONNECT_STATE.disconnect,this.resetConnect()},t.prototype.refreshServers=function(e){this.servers=a(a([],e,!0),this.servers,!0)},t.prototype.connectSocket=function(e,t,o){var r=this;if(void 0===e&&(e=!0),this.logger.info("zn.wl.cs.0 call"),this.connectRsp.suc=t,this.connectRsp.fail=o,this.stateCenter.networkState!==c.ENUM_NETWORK_STATE.online)return!1;e&&(this.urlIndex=(this.urlIndex+1)%this.servers.length);var i=this.servers[this.urlIndex];return this.connectServer=i,this.logger.info("zn.wl.cs.0 server "+i),this.tryServers.push(i),this.closeSocket(),this.netLinkState=c.ENUM_CONNECT_STATE.connecting,this.socketService.createSocket(i),this.onConnectingEvent&&this.onConnectingEvent(!0),this.bindSocketEvent(),this.connectTimer=setTimeout((function(){r.logger.info("zn.wl.cs.0 timeout"),r.connectRsp.fail&&r.connectRsp.fail()}),this.connectInterval),!0},t.prototype.bindSocketEvent=function(){var e=this;this.openHandler((function(){e.logger.info("zn.wl.bse open"),e.resetConnect(),e.connectRsp.suc&&e.connectRsp.suc(),e.netLinkState=c.ENUM_CONNECT_STATE.connected,e.onConnectedEvent&&e.onConnectedEvent(e.tryServers),e.checkUnSendMsgs(e.unSendCommandList),e.startCheck()})),this.closeHandler((function(t){e.logger.warn("zn.wl.bse close "+JSON.stringify(t)),e.resetConnect(),e.connectRsp.fail&&e.connectRsp.fail(),e.onDisConnectedEvent&&e.onDisConnectedEvent(!0),e.netLinkState=c.ENUM_CONNECT_STATE.disconnect})),this.errorHandler((function(t){e.logger.warn("zn.wl.bse error "+JSON.stringify(t)),e.resetConnect(),e.connectRsp.fail&&e.connectRsp.fail(),e.onDisConnectedEvent&&e.onDisConnectedEvent(!0),e.netLinkState=c.ENUM_CONNECT_STATE.disconnect})),this.onMessage()},t.prototype.closeSocket=function(){this.logger.info("zn.wl.cs.1 call"),this.socketService.closeSocket(),this.netLinkState=c.ENUM_CONNECT_STATE.disconnect},t.prototype.resetConnect=function(){this.connectTimer&&(clearTimeout(this.connectTimer),this.connectTimer=null),this.stopCheck()},t.prototype.isConnect=function(){return this.netLinkState===c.ENUM_CONNECT_STATE.connected},t.prototype.isDisConnect=function(){return!this.socketService||this.socketService.isDisConnect()},t.prototype.isConnecting=function(){return this.netLinkState===c.ENUM_CONNECT_STATE.connecting},t.prototype.setState=function(e){this.netLinkState=e},t.prototype.closeHandler=function(e){this.socketService.closeHandler(e)},t.prototype.openHandler=function(e){this.socketService.openHandler(e)},t.prototype.errorHandler=function(e){this.socketService.errorHandler(e)},t.prototype.updateMsgTime=function(){this.updatedMsgTime=Date.now()},t.prototype.sendMessage=function(e,t,o,r,i,a,s,l){var u;void 0===r&&(r=!0),void 0===i&&(i=null),void 0===a&&(a=null),void 0===s&&(s=null),void 0===l&&(l={}),void 0===l.timeout&&(l.timeout=5e3),void 0===l.isInSendMap&&(l.isInSendMap=!0),this.txid++;var d={appid:this.appID,biz_type:0,mode_no:(null===(u=this.stateCenter.appInfo)||void 0===u?void 0:u.mode)||p.NET_ACCESS_CONFIG.modeNo,id_name:this.stateCenter.userId,sdk_type:p.NET_ACCESS_CONFIG.sdkType,zegoconn_run_env:0===this.env?c.ZegoconnRunEnv.ZEGOCONN_RUN_ENV_BROWSER:c.ZegoconnRunEnv.ZEGOCONN_RUN_ENV_APPLET},h=n(n({txid:this.txid},d),o),_={data:h,txid:this.txid,sendTime:Date.now(),streamID:t,type:e,timeOut:l.timeout||this.timeout,ack:o.ack,success:i,error:a,ackFunc:s,isSend:!0,isCheck:e!==c.AccessHubMessageType.MSG_TYPE_PC_UPWARD_MESSAGE};if(l.isInSendMap){var f=this.sendCommandList.push(_);this.sendCommandMap[this.txid]=f}if(this.unUpdateMsgTimeTypes.includes(e)||(this.updatedMsgTime=Date.now()),-1===this.unlogTypes.indexOf(e)&&this.logger.info("zn.wl.sm type: "+e+"-"+c.typeMap[e]+" streamID: "+t+" txid: "+this.txid),this.isConnect())this.sendUint8Data(e,h,t);else{_.isSend=!1;var g=this.unSendCommandList.push(_);this.unSendCommandMap[this.txid]=g}},t.prototype.checkUnSendMsgs=function(e){for(var t,o=e.getFirst();null!=o;)e.remove(o),o._data&&!1===(null===(t=o._data)||void 0===t?void 0:t.isSend)&&o._data.type&&o._data.streamID&&o._data.data&&(this.sendUint8Data(o._data.type,o._data.data,o._data.streamID),o._data.isSend=!0),o=e.getFirst()},t.prototype.sendUint8Data=function(e,t,o){var r=this.protobuf.encodeRequest(e,t,o);this.socketService.sendMessage(r)},t.prototype.onMessage=function(){var e=this;this.socketService.onMessage=function(t){var o,r,i,n=new Uint8Array(t),a=e.protobuf.decodeResponse(n),s=a[0],l=a[1],u=a[2];e.unUpdateMsgTimeTypes.includes(l)||(e.updatedMsgTime=Date.now()),-1===e.unlogTypes.indexOf(l)&&e.logger.info("zn.wl.om"+" streamID: ".concat(s,", msgType: ").concat(l,"-").concat(c.typeMap[l])),((null==u?void 0:u.txid)||(null===(o=null==u?void 0:u.data)||void 0===o?void 0:o.txid))&&e.isRspMsg((null==u?void 0:u.txid)||(null===(r=null==u?void 0:u.data)||void 0===r?void 0:r.txid))?e.handleSendCommandMsgRsp(s,l,(null==u?void 0:u.txid)||(null===(i=null==u?void 0:u.data)||void 0===i?void 0:i.txid),u):e.onPushEvent(s,l,u)}},t.prototype.isRspMsg=function(e){return void 0!==this.sendCommandMap[e]},t.prototype.startCheck=function(){var e=this;this.checkMessageListTimeout(this.sendCommandList,this.sendCommandMap),this.sendDataCheckTimer=setTimeout((function(){e.startCheck()}),this.sendDataCheckInterval)},t.prototype.stopCheck=function(){this.checkSendMessageList(this.sendCommandList),clearTimeout(this.sendDataCheckTimer)},t.prototype.checkMessageListTimeout=function(e,t){for(var o,r=e.getFirst(),i=Date.now(),n=0,a=function(){if(r._data&&r._data.sendTime+r._data.timeOut>i)return"break";if(r._data&&delete t[r._data.data.txid],e.remove(r),r._data&&null==r._data.error||r._data&&r._data.sendTime+s.sendDataDropTimeout<i);else{var a=r&&r._data&&r._data.error,c=r&&r._data&&r._data.txid,l=r&&r._data&&(null===(o=r._data)||void 0===o?void 0:o.isCheck);setTimeout((function(){l&&a&&a({},c,d.errorCodeList.TIMEOUT)}),0)}if(++n>=s.sendDataCheckOnceCount)return"break";r=e.getFirst()},s=this;null!=r&&"break"!==a(););},t.prototype.checkSendMessageList=function(e){for(var t,o=e.getFirst(),r=function(){if(e.remove(o),o._data.isSend&&o._data.error){var r=o&&o._data&&o._data.error,i=o&&o._data&&o._data.txid,n=o&&o._data&&(null===(t=o._data)||void 0===t?void 0:t.isCheck);setTimeout((function(){n&&r&&r({},i,d.errorCodeList.TIMEOUT)}),0)}o=e.getFirst()};null!=o&&o._data;)r()},t.prototype.handleSendCommandMsgRsp=function(e,t,o,r){var i=this.sendCommandMap[o];if(null!=i){var n=i._data;(null==n?void 0:n.ack)||(delete this.sendCommandMap[o],this.sendCommandList.remove(i)),r.code&&0!==r.code?n&&null!=n.error&&n.error(r,o):t===c.AccessHubMessageType.MSG_TYPE_PUSH_EXCEPTION?(r.code=r.reason,r.message=r.msg,n&&null!=n.error&&n.error(r,o)):t===c.AccessHubMessageType.MSG_TYPE_HTTP_REQUEST_ACK?n&&null!=n.ackFunc&&n.ackFunc(r,o):n&&null!=n.success&&n.success(r,o)}},t}(l.ZegoLink);t.ZegoWssLink=h},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LinkedList=t.ListNode=void 0;var r=function(){function e(e,t){void 0===e&&(e=null),void 0===t&&(t=null),this.next=null,this.prev=null,this._id=e,this._data=t}return Object.defineProperty(e.prototype,"id",{get:function(){return this._id?this._id:null},set:function(e){this._id=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this._data},set:function(e){this._data=e},enumerable:!1,configurable:!0}),e.prototype.hasNext=function(){return this.next&&this.next.id},e.prototype.hasPrev=function(){return this.prev&&this.prev.id},e}();t.ListNode=r;var i=function(){function e(){this.start=new r,this.end=new r,this._idCounter=0,this._numNodes=0,this.start.next=this.end,this.start.prev=null,this.end.prev=this.start,this.end.next=null}return e.prototype.insertBefore=function(e,t){var o=new r(this._idCounter,t);return o.next=e,o.prev=e.prev,e.prev&&(e.prev.next=o),e.prev=o,++this._idCounter,++this._numNodes,o},e.prototype.addLast=function(e){return this.insertBefore(this.end,e)},e.prototype.add=function(e){return this.addLast(e)},e.prototype.getFirst=function(){return 0===this._numNodes?null:this.start.next},e.prototype.getLast=function(){return 0===this._numNodes?null:this.end.prev},e.prototype.size=function(){return this._numNodes},e.prototype.getFromFirst=function(e){var t=0,o=this.start.next;if(e>=0)for(;t<e&&null!==o;)o=o.next,++t;else o=null;if(null===o)throw"Index out of bounds.";return o},e.prototype.get=function(e){return 0===e?this.getFirst():e===this._numNodes-1?this.getLast():this.getFromFirst(e)},e.prototype.remove=function(e){return e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),--this._numNodes,e},e.prototype.removeFirst=function(){var e=null;return this._numNodes>0&&this.start.next&&(e=this.remove(this.start.next)),e},e.prototype.removeLast=function(){var e=null;return this._numNodes>0&&this.end.prev&&(e=this.remove(this.end.prev)),e},e.prototype.removeAll=function(){this.start.next=this.end,this.end.prev=this.start,this._numNodes=0,this._idCounter=0},e.prototype.each=function(e){for(var t=this.start;t.hasNext();)e(t=t.next)},e.prototype.find=function(e){for(var t=this.start,o=!1,r=null;t.hasNext()&&!o;)e(t=t.next)&&(r=t,o=!0);return r},e.prototype.map=function(e){for(var t=this.start,o=[];t.hasNext();)e(t=t.next)&&o.push(t);return o},e.prototype.push=function(e){return this.addLast(e)},e.prototype.unshift=function(e){this._numNodes>0?this.insertBefore(this.start.next,e):this.insertBefore(this.end,e)},e.prototype.pop=function(){return this.removeLast()},e.prototype.shift=function(){return this.removeFirst()},e}();t.LinkedList=i},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ZegoLink=void 0;var r=function(){function e(){this.txid=0,this.linkRetryTime=60,this.updatedMsgTime=0,this.connectServer=""}return e.prototype.createSocket=function(e){},e.prototype.setState=function(e){},e.prototype.initEvent=function(e,t,o,r){},e.prototype.sendMessage=function(e,t,o,r,i,n,a,s){void 0===r&&(r=!0),void 0===i&&(i=null),void 0===n&&(n=null),void 0===a&&(a=null),void 0===s&&(s={timeout:5e3,isInSendMap:!0})},e}();t.ZegoLink=r},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NetSocketService=void 0;var r=o(17),i=function(){function e(e){this.socket=null,this.ENV=e}return e.prototype.createSocket=function(e){this.socket=(0,r.createZegoWebSocket)(e,this.ENV%2)},e.prototype.openHandler=function(e){var t=this;this.socket&&(this.socket.onopen=function(o){t.socket.binaryType="arraybuffer",t.responseHandler(),e(o)})},e.prototype.responseHandler=function(){var e=this;this.socket&&(this.socket.onmessage=function(t){var o="string"==typeof t.data?JSON.parse(t.data):t.data;e.onMessage(o)})},e.prototype.onMessage=function(e){},e.prototype.closeHandler=function(e){this.socket&&(this.socket.onclose=function(t){e(t)})},e.prototype.errorHandler=function(e){this.socket&&(this.socket.onerror=e)},e.prototype.closeSocket=function(){this.socket&&(this.socket.onclose=null,this.socket.onerror=null,this.socket.close(),this.socket=null)},e.prototype.isDisConnect=function(){return!this.socket||1!==this.socket.readyState},e.prototype.sendMessage=function(e){this.isDisConnect()||this.socket&&(this.ENV%2==1||this.socket.send(e))},e}();t.NetSocketService=i},function(e,t,o){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.createZegoWebSocket=t.ZegoWeiXinMiniWebSocket=t.ZEGO_ENV=void 0,function(e){e[e.BROWSER=0]="BROWSER",e[e.WEIXINMINI=1]="WEIXINMINI"}(r=t.ZEGO_ENV||(t.ZEGO_ENV={}));var i=function(){function e(e,t){this.url=e,this.readyState=3,this._websocket=wx.connectSocket({url:e}),this.init()}return e.prototype.init=function(){var e=this;this._websocket&&(this.readyState=0,this._websocket.onOpen((function(t){e.readyState=e._websocket.readyState,"function"==typeof e.onopen&&(e.onopen(t),e._websocket.onClose((function(t){e.readyState=e._websocket.readyState,"function"==typeof e.onclose&&e.onclose(t)})),e._websocket.onMessage((function(t){"function"==typeof e.onmessage&&e.onmessage(t)})))})),this._websocket.onError((function(t){e.readyState=e._websocket.readyState,"function"==typeof e.onerror&&e.onerror(t)})))},e.prototype.onopen=function(e){},e.prototype.onerror=function(e){},e.prototype.onclose=function(e){},e.prototype.onmessage=function(e){},e.prototype.send=function(e){this._websocket&&this._websocket.send({data:e})},e.prototype.close=function(){this._websocket&&this._websocket.close()},e}();t.ZegoWeiXinMiniWebSocket=i,t.createZegoWebSocket=function(e,t){return t%2===r.BROWSER?new WebSocket(e):new i(e)}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NetAgentBusinessRequestMgr=void 0;var r=o(0),i=o(1),n=function(){function e(e,t,o,r){this.streamManager=e,this.protobuf=t,this.logger=o,this.stateCenter=r}return e.prototype.getConfig=function(e,t){this.logger.info("zn.nab.gc call"),this.streamManager.createStream(r.StreamType.OTHER).sendMessage(r.AccessHubMessageType.MSG_TYPE_GET_CONFIG_REQUEST,{zegoconn_version:i.NET_ACCESS_CONFIG.connectVer},e,t)},e.prototype.dispatchURL=function(e,t){var o=this;this.logger.info("zn.nab.du call"),this.streamManager.createStream(r.StreamType.OTHER).sendMessage(r.AccessHubMessageType.MSG_TYPE_ACCESSHUB_DISPATCH_REQUEST,{},(function(t){o.logger.info("zn.nab.du suc "),e&&e(t)}),(function(e,r,i){o.logger.info("zn.nab.du fail"),t&&t(i||e)}))},e.prototype.getAppConfig=function(e,t,o,n){var a=this;return new Promise((function(s,c){var l;a.logger.info("zn.nab.gac call");var u={id_name:t,config_key:e,token:o,mode_no:(null===(l=a.stateCenter.appInfo)||void 0===l?void 0:l.mode)||i.NET_ACCESS_CONFIG.modeNo},d=function(e,t,o){if(o)return a.logger.error("zn.nab.gac fail "+JSON.stringify(o)),void c(o);if(0===e.code){a.logger.info("zn.nab.gac suc");var r=a.decodeConfigMessage(e.data.data);s({code:0,data:r})}else a.logger.error("zn.nab.gac fail "+e.code),c({code:e.code})};a.streamManager.createStream(r.StreamType.OTHER).sendMessage(r.AccessHubMessageType.MSG_TYPE_GET_APPCONFIG_REQUEST,u,d,d,null,{timeout:n})}))},e.prototype.decodeConfigMessage=function(e){return this.protobuf.decodeConfigMessage(e)},e}();t.NetAgentBusinessRequestMgr=n},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NetHeartBeatHandler=void 0;var r=o(3),i=o(0),n=function(){function e(e,t){this.streamManager=e,this.logger=t,this.hbTimer=null,this.hbInterval=5,this.hbTimeout=10,this.hbTimeoutMaxCount=0,this.tryHbCount=0}return e.prototype.init=function(e){var t=this;this.logger.info("zn.nhb.ii call"),this.hbStream||(this.hbStream=this.streamManager.createStream(i.StreamType.OTHER)),e.data.logic_hb_interval>=1&&e.data.logic_hb_interval<=10&&(this.hbInterval=e.data.logic_hb_interval),e.data.logic_hb_timeout>=3&&e.data.logic_hb_timeout<=30&&(this.hbTimeout=e.data.logic_hb_timeout),this.tryHbCount=0,this.hbTimeoutMaxCount=this.hbTimeout/this.hbInterval,this.hbTimer&&clearTimeout(this.hbTimer),this.hbTimer=setTimeout((function(){t.start()}),1e3*this.hbInterval)},e.prototype.start=function(){var e=this;if(this.logger.debug("zn.nhb.s call "),this.tryHbCount++>this.hbTimeoutMaxCount)return this.logger.error("zn.nhb.s come to try limit"),this.reset(),void this.netHbLogout(r.errorCodeList.NET_HB_TIMEOUT);var t=(new Date).getTime(),o=function(o,r,i){e.logger.debug("zn.nhb.s hb callback "+((new Date).getTime()-t)),i&&0!==(null==i?void 0:i.code)?e.logger.info("zn.nhb.s fail "+JSON.stringify(i)):e.tryHbCount=0},n={ts:Date.now()};this.hbStream.sendMessage(i.AccessHubMessageType.MSG_TYPE_HB_REQUEST,n,o,o,null),this.hbTimer&&clearTimeout(this.hbTimer),this.hbTimer=setTimeout((function(){e.start()}),1e3*this.hbInterval)},e.prototype.netHbLogout=function(e){},e.prototype.reset=function(){this.hbTimer&&(clearTimeout(this.hbTimer),this.hbTimer=null),this.tryHbCount=0},e}();t.NetHeartBeatHandler=n},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NetAgentPCRequestMgr=void 0;var r=o(0),i=o(1),n=o(5),a=function(){function e(e,t){this.streamManager=e,this.logger=t,this.pcStreamRequests=[],this.pcEstablishTimeout=i.NET_ACCESS_CONFIG.pcEstablishTimeout}return e.prototype.getRequest=function(e,t){var o=new n.NetAgentPCRequest(this.logger,e,this.streamManager,this.pcEstablishTimeout,t);return this.pcStreamRequests.push(o),o},e.prototype.updateConnectState=function(e,t,o){this.pcStreamRequests.forEach((function(i){e===r.PcConnectState.BROKEN?i.eventManager.emit("broken"):e===r.PcConnectState.DISCONNECT&&i.eventManager.emit("disconnected",t,o)}))},e.prototype.closePCs=function(){this.pcStreamRequests.forEach((function(e){e.closePc()}))},e.prototype.setEstablishTimeout=function(e){this.pcEstablishTimeout=e},e}();t.NetAgentPCRequestMgr=a},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NetRetryLinkHandler=void 0;var r=o(3),i=o(0),n=function(){function e(e,t){this.logger=e,this.stateCenter=t,this.RETRY_START_TIME_INTERVAL=4,this.RETRY_CONTINUE_COUNT=2,this.RETRY_MAX_TIME_INTERVAL=32,this.retryTimer=null,this.maxTimer=null,this.retryStartTime=0,this.retryActiveCount=1,this.isOverTime=!1,this.RETRY_MAX_TIME=90}return e.prototype.initLink=function(e){this.link=e},e.prototype.startMaxTime=function(){var e=this;this.maxTimer||(this.maxTimer=setTimeout((function(){e.logger.warn("zn.rlh.sm"+" over max time ".concat(e.RETRY_MAX_TIME,"s, stop retry")),e.isOverTime=!0,e.link.destroySocket(),e.stopMaxTime(),e.invalid(),e.onactive(!1,r.errorCodeList.NET_SOCKET_TIMEOUT)}),1e3*this.RETRY_MAX_TIME))},e.prototype.stopMaxTime=function(){this.maxTimer&&clearTimeout(this.maxTimer),this.maxTimer=null},e.prototype.active=function(e,t){var o=this;if(this.logger.info("zn.rlh.at call "+e+" "+t),this.stateCenter.networkState==i.ENUM_NETWORK_STATE.offline)return this.logger.info("zn.rlh.at network is broken, stop retry"),!1;if(this.retryTimer)return this.logger.info("zn.rlh.at has actived, ignore"),!1;if(this.isOverTime)return this.logger.info("zn.rlh.at retry over time, stop retry"),!1;if(1==this.retryActiveCount)this.retryActiveInterval=Math.floor(Math.random()*(1-this.RETRY_START_TIME_INTERVAL)+this.RETRY_START_TIME_INTERVAL);else{var r=Math.pow(2,Math.round(this.retryActiveCount/this.RETRY_CONTINUE_COUNT+1));this.retryActiveInterval=r>this.RETRY_MAX_TIME_INTERVAL?this.RETRY_MAX_TIME_INTERVAL:r}return this.logger.info("zn.rlh.at interval "+this.retryActiveInterval),this.retryTimer=setTimeout((function(){o.link.destroySocket(),o.link.connectSocket(e,(function(){o.logger.info("zn.rlh.at suc"),o.stopMaxTime(),o.invalid(),o.onactive(!0)}),(function(){o.logger.info("zn.rlh.at fail"),!o.maxTimer&&o.startMaxTime(),o.active(!0)})),o.retryTimer&&clearTimeout(o.retryTimer),o.retryTimer=null,o.retryActiveCount++}),t?0:1e3*this.retryActiveInterval),!0},e.prototype.onactive=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},e.prototype.init=function(e,t,o,r){this.invalid(),this.stopMaxTime(),this.isOverTime=!1,"number"==typeof e&&e<3600&&(this.RETRY_MAX_TIME=e),"number"==typeof t&&(this.RETRY_START_TIME_INTERVAL=t),"number"==typeof o&&(this.RETRY_CONTINUE_COUNT=o),"number"==typeof r&&(this.RETRY_MAX_TIME_INTERVAL=r)},e.prototype.invalid=function(){this.retryTimer&&clearTimeout(this.retryTimer),this.retryTimer=null,this.retryStartTime=0,this.retryActiveCount=1},e}();t.NetRetryLinkHandler=n},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StateCenter=void 0;var r=o(0);t.StateCenter=function(){this.networkState=r.ENUM_NETWORK_STATE.offline,this.useNetAgent=!0,this.specified=!1}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ZegoLogger=void 0;var r=function(){function e(){}return e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];e.join(" ")},e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];e.join(" ")},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];e.join(" ")},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];e.join(" ")},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];e.join(" ")},e}();t.ZegoLogger=r},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StreamManager=void 0;var r=o(0),i=o(25),n=function(){function e(e){this.zegoLink=e,this.streamID=1,this.httpStreams=[],this.pcStreams=[]}return e.prototype.createStream=function(e){if(e===r.StreamType.HTTP)return this.getStream(e,this.httpStreams);if(e===r.StreamType.PC){var t=new i.ZegoLinkStream(e,this.streamID++,this.zegoLink);return this.pcStreams.push(t),t}return this.getStream(e,this.httpStreams)},e.prototype.getStream=function(e,t){var o=t.find((function(e){return!0===e.isFree}));if(o)return o.isFree=!1,o.isFirst=!1,o;var r=new i.ZegoLinkStream(e,this.streamID++,this.zegoLink);return this.httpStreams.push(r),r},e.prototype.onPushEvent=function(e,t,o){var r=this.pcStreams.find((function(t){return t.StreamID===e}));r&&r.onPushEvent(t,o)},e.prototype.getStreamID=function(){return this.streamID++},e}();t.StreamManager=n},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ZegoLinkStream=void 0;var r=o(0),i=function(){function e(e,t,o){this.type=e,this.streamID=t,this.zegoLink=o,this.isFree=!1,this.isFirst=!0}return Object.defineProperty(e.prototype,"StreamID",{get:function(){return this.streamID},enumerable:!1,configurable:!0}),e.prototype.refresh=function(e){this.streamID=e},e.prototype.sendMessage=function(e,t,o,i,n,a){var s=this;void 0===o&&(o=null),void 0===i&&(i=null),void 0===n&&(n=null),void 0===a&&(a={timeout:5e3,isInSendMap:!0}),this.zegoLink.sendMessage(e,this.streamID,t,this.isFirst,(function(e){s.type!==r.StreamType.PC&&(s.isFree=!0),o&&o(e)}),(function(e,t,o){s.type!==r.StreamType.PC&&(s.isFree=!0),i&&i(e,t,o)}),n,a)},e.prototype.onPushEvent=function(e,t){},e.prototype.closeStream=function(e,t){this.zegoLink.sendMessage(r.AccessHubMessageType.MSG_TYPE_STREAM_CLOSED,this.streamID,{code:e,msg:t})},e.prototype.isConnect=function(){return this.zegoLink.isConnect()},e}();t.ZegoLinkStream=i}]))},function(e,t,o){var r=o(13),i=o(20),n=o(82),a=o(89),s=o(263),c=o(17),l=TypeError,u=c("toPrimitive");e.exports=function(e,t){if(!i(e)||n(e))return e;var o,c=a(e,u);if(c){if(void 0===t&&(t="default"),o=r(c,e,t),!i(o)||n(o))return o;throw l("Can't convert object to primitive value")}return void 0===t&&(t="number"),s(e,t)}},function(e,t,o){var r=o(269);e.exports=function(e,t){return new(r(e))(0===t?0:t)}},function(e,t,o){"use strict";var r=o(6),i=o(13),n=o(44),a=o(96),s=o(15),c=o(221),l=o(113),u=o(75),d=o(72),p=o(51),h=o(25),_=o(17),f=o(93),g=o(200),m=a.PROPER,y=a.CONFIGURABLE,b=g.IteratorPrototype,v=g.BUGGY_SAFARI_ITERATORS,w=_("iterator"),S=function(){return this};e.exports=function(e,t,o,a,_,g,I){c(o,t,a);var E,O,P,k=function(e){if(e===_&&D)return D;if(!v&&e in C)return C[e];switch(e){case"keys":case"values":case"entries":return function(){return new o(this,e)}}return function(){return new o(this)}},T=t+" Iterator",x=!1,C=e.prototype,A=C[w]||C["@@iterator"]||_&&C[_],D=!v&&A||k(_),M="Array"==t&&C.entries||A;if(M&&(E=l(M.call(new e)))!==Object.prototype&&E.next&&(n||l(E)===b||(u?u(E,b):s(E[w])||h(E,w,S)),d(E,T,!0,!0),n&&(f[T]=S)),m&&"values"==_&&A&&"values"!==A.name&&(!n&&y?p(C,"name","values"):(x=!0,D=function(){return i(A,this)})),_)if(O={values:k("values"),keys:g?D:k("keys"),entries:k("entries")},I)for(P in O)(v||x||!(P in C))&&h(C,P,O[P]);else r({target:t,proto:!0,forced:v||x},O);return n&&!I||C[w]===D||h(C,w,D,{name:_}),f[t]=D,O}},function(e,t,o){"use strict";var r=o(29),i=o(60),n=o(30);e.exports=function(e){for(var t=r(this),o=n(t),a=arguments.length,s=i(a>1?arguments[1]:void 0,o),c=a>2?arguments[2]:void 0,l=void 0===c?o:i(c,o);l>s;)t[s++]=e;return t}},function(e,t,o){"use strict";var r=o(6),i=o(7),n=o(101),a=i([].reverse),s=[1,2];r({target:"Array",proto:!0,forced:String(s)===String(s.reverse())},{reverse:function(){return n(this)&&(this.length=this.length),a(this)}})},function(e,t,o){"use strict";var r=o(6),i=o(31).find,n=o(108),a=!0;"find"in[]&&Array(1).find((function(){a=!1})),r({target:"Array",proto:!0,forced:a},{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n("find")},function(e,t,o){"use strict";var r=o(6),i=o(31).findIndex,n=o(108),a=!0;"findIndex"in[]&&Array(1).findIndex((function(){a=!1})),r({target:"Array",proto:!0,forced:a},{findIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n("findIndex")},function(e,t,o){"use strict";o.d(t,"b",(function(){return h})),o.d(t,"a",(function(){return _}));o(59),o(374),o(77),o(26),o(47);var r=o(251),i=o.n(r),n=o(156),a=o.n(n),s=o(252),c=o.n(s),l=o(253),u=o.n(l),d=o(88),p=function(e,t){return a.a.stringify(c()(t,e))},h=function(e){var t=Math.max.apply(Math,d.a.file_type_size_limit.map((function(e){return e[1]})))/1024/1024,o=e.access_key_id,r=e.access_key_secret,n=e.bucket_name,a=e.security_token,s=e.endpoint,c=e.object_name,l=e.timeout,u=void 0===l?1:l,h=e.maxSize,_=function(e,t){var o=new Date;o.setHours(o.getHours()+e);var r={expiration:o.toISOString(),conditions:[["content-length-range",0,1024*t*1024]]};return i.a.Base64.encode(JSON.stringify(r))}(u,void 0===h?t:h);return{url:"https://"+n+"."+s,signature:p(r,_),securityToken:a,policy:_,key:c,OSSAccessKeyId:o,successActionStatus:"200",objectName:c}},_=function(e){return new Promise((function(t,o){try{var r=File.prototype.slice||File.prototype.mozSlice||File.prototype.webkitSlice,i=Math.ceil(e.size/1048576),n=new u.a.ArrayBuffer,a=0,s=new FileReader;s.onload=function(){var e=s.result||s.content;e?(n.append(e),++a<i?c():t(n.end())):o({code:2020006,message:"文件内容为空"})},s.onerror=function(){o({code:2010001,message:"找不到对应的本地文件"})};var c=function(){var t=1048576*a,o=t+1048576>=e.size?e.size:t+1048576,i=r.call(e,t,o);s.readAsArrayBuffer(i)};c()}catch(e){o(e)}}))}},function(e,t,o){"use strict";o(37);var r=o(7),i=o(25),n=o(112),a=o(8),s=o(17),c=o(51),l=s("species"),u=RegExp.prototype;e.exports=function(e,t,o,d){var p=s(e),h=!a((function(){var t={};return t[p]=function(){return 7},7!=""[e](t)})),_=h&&!a((function(){var t=!1,o=/a/;return"split"===e&&((o={}).constructor={},o.constructor[l]=function(){return o},o.flags="",o[p]=/./[p]),o.exec=function(){return t=!0,null},o[p](""),!t}));if(!h||!_||o){var f=r(/./[p]),g=t(p,""[e],(function(e,t,o,i,a){var s=r(e),c=t.exec;return c===n||c===u.exec?h&&!a?{done:!0,value:f(t,o,i)}:{done:!0,value:s(o,t,i)}:{done:!1}}));i(String.prototype,e,g[0]),i(u,p,g[1])}d&&c(u[p],"sham",!0)}},function(e,t,o){"use strict";var r=o(173).charAt;e.exports=function(e,t,o){return t+(o?r(e,t).length:1)}},function(e,t,o){var r=o(7),i=o(42),n=o(24),a=o(48),s=r("".charAt),c=r("".charCodeAt),l=r("".slice),u=function(e){return function(t,o){var r,u,d=n(a(t)),p=i(o),h=d.length;return p<0||p>=h?e?"":void 0:(r=c(d,p))<55296||r>56319||p+1===h||(u=c(d,p+1))<56320||u>57343?e?s(d,p):r:e?l(d,p,p+2):u-56320+(r-55296<<10)+65536}};e.exports={codeAt:u(!1),charAt:u(!0)}},function(e,t,o){var r=o(13),i=o(14),n=o(15),a=o(65),s=o(112),c=TypeError;e.exports=function(e,t){var o=e.exec;if(n(o)){var l=r(o,e,t);return null!==l&&i(l),l}if("RegExp"===a(e))return r(s,e,t);throw c("RegExp#exec called on incompatible receiver")}},function(e,t,o){"use strict";var r=o(11),i=o(7),n=o(19),a=o(176),s=o(96),c=o(51),l=o(183),u=o(8),d=o(86),p=o(42),h=o(45),_=o(201),f=o(272),g=o(113),m=o(75),y=o(74).f,b=o(22).f,v=o(166),w=o(102),S=o(72),I=o(40),E=s.PROPER,O=s.CONFIGURABLE,P=I.get,k=I.set,T=r.ArrayBuffer,x=T,C=x&&x.prototype,A=r.DataView,D=A&&A.prototype,M=Object.prototype,L=r.Array,N=r.RangeError,j=i(v),q=i([].reverse),B=f.pack,R=f.unpack,H=function(e){return[255&e]},V=function(e){return[255&e,e>>8&255]},z=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},F=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},Z=function(e){return B(e,23,4)},G=function(e){return B(e,52,8)},U=function(e,t){b(e.prototype,t,{get:function(){return P(this)[t]}})},W=function(e,t,o,r){var i=_(o),n=P(e);if(i+t>n.byteLength)throw N("Wrong index");var a=P(n.buffer).bytes,s=i+n.byteOffset,c=w(a,s,s+t);return r?c:q(c)},Y=function(e,t,o,r,i,n){var a=_(o),s=P(e);if(a+t>s.byteLength)throw N("Wrong index");for(var c=P(s.buffer).bytes,l=a+s.byteOffset,u=r(+i),d=0;d<t;d++)c[l+d]=u[n?d:t-d-1]};if(a){var J=E&&"ArrayBuffer"!==T.name;if(u((function(){T(1)}))&&u((function(){new T(-1)}))&&!u((function(){return new T,new T(1.5),new T(NaN),J&&!O})))J&&O&&c(T,"name","ArrayBuffer");else{(x=function(e){return d(this,C),new T(_(e))}).prototype=C;for(var X,Q=y(T),K=0;Q.length>K;)(X=Q[K++])in x||c(x,X,T[X]);C.constructor=x}m&&g(D)!==M&&m(D,M);var $=new A(new x(2)),ee=i(D.setInt8);$.setInt8(0,2147483648),$.setInt8(1,2147483649),!$.getInt8(0)&&$.getInt8(1)||l(D,{setInt8:function(e,t){ee(this,e,t<<24>>24)},setUint8:function(e,t){ee(this,e,t<<24>>24)}},{unsafe:!0})}else C=(x=function(e){d(this,C);var t=_(e);k(this,{bytes:j(L(t),0),byteLength:t}),n||(this.byteLength=t)}).prototype,D=(A=function(e,t,o){d(this,D),d(e,C);var r=P(e).byteLength,i=p(t);if(i<0||i>r)throw N("Wrong offset");if(i+(o=void 0===o?r-i:h(o))>r)throw N("Wrong length");k(this,{buffer:e,byteLength:o,byteOffset:i}),n||(this.buffer=e,this.byteLength=o,this.byteOffset=i)}).prototype,n&&(U(x,"byteLength"),U(A,"buffer"),U(A,"byteLength"),U(A,"byteOffset")),l(D,{getInt8:function(e){return W(this,1,e)[0]<<24>>24},getUint8:function(e){return W(this,1,e)[0]},getInt16:function(e){var t=W(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=W(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return F(W(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return F(W(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return R(W(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return R(W(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){Y(this,1,e,H,t)},setUint8:function(e,t){Y(this,1,e,H,t)},setInt16:function(e,t){Y(this,2,e,V,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){Y(this,2,e,V,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){Y(this,4,e,z,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){Y(this,4,e,z,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){Y(this,4,e,Z,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){Y(this,8,e,G,t,arguments.length>2?arguments[2]:void 0)}});S(x,"ArrayBuffer"),S(A,"DataView"),e.exports={ArrayBuffer:x,DataView:A}},function(e,t){e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},function(e,t,o){var r=o(17),i=o(93),n=r("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||a[n]===e)}},function(e,t,o){"use strict";var r=o(32),i=o(22),n=o(17),a=o(19),s=n("species");e.exports=function(e){var t=r(e),o=i.f;a&&t&&!t[s]&&o(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,o){var r=o(15),i=o(20),n=o(75);e.exports=function(e,t,o){var a,s;return n&&r(a=t.constructor)&&a!==o&&i(s=a.prototype)&&s!==o.prototype&&n(e,s),e}},function(e,t,o){"use strict";var r=o(70),i=TypeError;e.exports=function(e,t){if(!delete e[t])throw i("Cannot delete property "+r(t)+" of "+r(e))}},function(e,t){var o=TypeError;e.exports=function(e,t){if(e<t)throw o("Not enough arguments");return e}},function(e,t,o){"use strict";o.d(t,"a",(function(){return I}));o(26),o(47),o(61),o(62),o(63),o(36),o(46),o(53),o(124),o(87),o(37),o(59),o(85),o(168),o(106),o(126),o(127),o(128),o(129),o(130),o(131),o(132),o(133),o(134),o(135),o(136),o(137),o(138),o(139),o(140),o(141),o(142),o(143),o(144),o(145),o(146),o(147),o(148),o(149),o(150);var r,i,n=o(28),a=o(162),s=o(4),c=o(1),l=o(2),u=function(e,t,o,r){return new(o||(o=Promise))((function(i,n){function a(e){try{c(r.next(e))}catch(e){n(e)}}function s(e){try{c(r.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},d=function(e,t){var o,r,i,n,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(n){return function(s){return function(n){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,r&&(i=2&n[0]?r.return:n[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,n[1])).done)return i;switch(r=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,r=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==n[0]&&2!==n[0])){a=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){a.label=n[1];break}if(6===n[0]&&a.label<i[1]){a.label=i[1],i=n;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(n);break}i[2]&&a.ops.pop(),a.trys.pop();continue}n=t.call(e,a)}catch(e){n=[6,e],r=0}finally{o=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,s])}}},p=o(343),h="dispatchResultUpdate",_="disconnected",f="connected",g="broken";!function(e){e[e.prod=1]="prod",e[e.test=2]="test"}(r||(r={})),function(e){e[e.BROWSER=0]="BROWSER",e[e.WEIXINMINI=1]="WEIXINMINI"}(i||(i={}));var m=function(){function e(){this.accesshub=new a.ZegoConnectionAgent,this.updateDispatchServers=[],this.accesshubInit()}return e.getInstance=function(){return 0===Object.keys(this.instance).length&&e.accesshubConfig.appID&&(this.instance=new e),this.instance},e.destroyInstance=function(){this.instance={}},e.prototype.accesshubInit=function(){c.a.getInstance().info1(l.a.AccesshubInit,"start call"),this.accesshub.init(),this.bindDispatchResultUpdate(),this.bindDisconnected(),this.bindConnected(),this.bindBroken();var t="alpha"===e.accesshubConfig.env,o="prod"===e.accesshubConfig.env;this.accesshub.setAppInfo({appID:e.accesshubConfig.appID,env:0,mode:t||o?1:2}),this.accesshub.setUserInfo(e.accesshubConfig.userID),this.accesshubDefaultServers=["wss://accesshub-wss.zego.im/accesshub"],this.accesshub.setNetAgentDefaultServers(this.accesshubDefaultServers);var r=this.getDispatchServers();this.accesshub.setDispatchConnectServers(r),this.accesshub.getAppConfigByAgent("init",e.accesshubConfig.token).then((function(t){0===t.code?(c.a.getInstance().setDomain(t.data.app_config.domain),c.a.getInstance().setUploadConfig(e.accesshubConfig)):c.a.getInstance().error1(l.a.GetAppConfigByAgent,t.code)})).catch((function(e){throw c.a.getInstance().error1(l.a.GetAppConfigByAgent,e),e})),c.a.getInstance().info1(l.a.AccesshubInit,{appID:e.accesshubConfig.appID,env:0,mode:t||o?1:2,userID:e.accesshubConfig.userID,DefaultServers:this.accesshubDefaultServers,dispatchServers:r})},e.prototype.bindDispatchResultUpdate=function(){this.accesshub.on(h,(function(e){c.a.getInstance().info1(l.a.Accesshub_dispatchResultUpdate,e.serversp),e&&e.servers&&localStorage.setItem("accesshubDispatchServers",JSON.stringify(e.servers))}))},e.prototype.bindDisconnected=function(){this.accesshub.on(_,(function(e){c.a.getInstance().warn1(l.a.Accesshub_disconnected,e)}))},e.prototype.bindConnected=function(){this.accesshub.on(f,(function(e){c.a.getInstance().info1(l.a.Accesshub_connected,"accesshub connected"),s.f.emit(s.d.AccesshubConnected,{})}))},e.prototype.bindBroken=function(){this.accesshub.on(g,(function(e){c.a.getInstance().warn1(l.a.Accesshub_broken,"accesshub broken")}))},e.prototype.getDispatchServers=function(){var e=localStorage.getItem("accesshubDispatchServers"),t=[];return e&&(t=JSON.parse(e)),t},e.prototype.destroyAccesshub=function(){this.accesshub.destroyConnect()},e.prototype.unInit=function(){this.accesshub.unInit()},e.prototype.isConnected=function(){return this.accesshub.isConnect()},e.setAccesshubConfig=function(t){e.accesshubConfig=t},e.prototype.axios=function(e){return this.request(e)},e.prototype.request=function(t){var o=this;return c.a.getInstance().info1(l.a.StartHttpRequest_start,{fileid:t.data.file_id,time:(new Date).toLocaleString()}),new Promise((function(r,i){return u(o,void 0,void 0,(function(){var o,s,u,h,_,f,g,m;return d(this,(function(d){return o=t.url.split("/"),s="/"+o[3]+"/"+o[4],u=t.data,h=a.BusinessService.SERVICE_DOCSERVICE,_=u,!1,f=e.accesshubConfig.userID,g=a.Method.METHOD_POST,m={service:h,body:_,ack:!1,idName:f,method_no:g,location:s,headers:[{name:"Accept-Encoding",val:"gzip"}]},this.accesshub.startHttpRequest(m,(function(e){var o;if(200===e.status_code){var n=e.headers.find((function(e){return"Content-Encoding"==e.name}));if(n&&"gzip"===n.val){var a=new Uint8Array(e.body);o=p.inflate(a,{to:"string"})}else o=e.body;var s={data:JSON.parse(o)};r(s),c.a.getInstance().info1(l.a.StartHttpRequest_end,{fileid:t.data.file_id,time:(new Date).toLocaleString()})}else{var u={code:e.status_code,msg:e.body};c.a.getInstance().error1(l.a.StartHttpRequest,{rej:u}),i(e)}}),(function(e){c.a.getInstance().warn1(l.a.StartHttpRequest,{err:e}),i(e)}),(function(e){}),{timeout:n.d}),[2]}))}))}))},e.instance={},e}(),y=o(78),b=o.n(y),v=function(){function e(){b.a.defaults.timeout=n.b}return e.getInstance=function(){return 0===Object.keys(this.instance).length&&(this.instance=new e),this.instance},e.prototype.axios=function(e){return b()(e)},e.setAccesshubConfig=function(e){},e.instance={},e}(),w=function(e,t,o,r){return new(o||(o=Promise))((function(i,n){function a(e){try{c(r.next(e))}catch(e){n(e)}}function s(e){try{c(r.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},S=function(e,t){var o,r,i,n,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(n){return function(s){return function(n){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,r&&(i=2&n[0]?r.return:n[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,n[1])).done)return i;switch(r=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,r=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==n[0]&&2!==n[0])){a=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){a.label=n[1];break}if(6===n[0]&&a.label<i[1]){a.label=i[1],i=n;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(n);break}i[2]&&a.ops.pop(),a.trys.pop();continue}n=t.call(e,a)}catch(e){n=[6,e],r=0}finally{o=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,s])}}},I=function(){function e(){this.api={},s.f.on("disconnected",(function(){c.a.getInstance().warn1(l.a.Disconnected,"统一接入连接已断开")}))}return e.getInstance=function(){return 0===Object.keys(this.instance).length&&(this.instance=new e),this.instance},e.prototype.axios=function(t){return e.instance.api.axios(t)},e.setAccesshubConfig=function(t){return w(this,void 0,void 0,(function(){var o=this;return S(this,(function(r){return c.a.getInstance().info1(l.a.SetAccesshubConfig,{isAccesshub:t.isAccesshub}),[2,new Promise((function(r){return w(o,void 0,void 0,(function(){var o;return S(this,(function(i){switch(i.label){case 0:return o=!0,e.instance.api.unInit&&(e.instance.api.unInit(),e.instance.api.destroyAccesshub(),m.destroyInstance()),e.accesshubConfig=t,t.isAccesshub?(m.setAccesshubConfig(t),e.instance.api=m.getInstance(),[4,this.waitHttpInit()]):[3,2];case 1:return o=i.sent(),c.a.getInstance().info1(l.a.WaitHttpInit,o),o||(e.instance.api=v.getInstance(),s.f.emit(s.d.DirectConnected),c.a.getInstance().setUploadConfig(t)),[3,3];case 2:e.instance.api=v.getInstance(),s.f.emit(s.d.DirectConnected),c.a.getInstance().setUploadConfig(t),i.label=3;case 3:return r(o),[2]}}))}))}))]}))}))},e.waitHttpInit=function(){return new Promise((function(t){var o=setTimeout((function(){e.instance.api.unInit(),e.instance.api.destroyAccesshub(),m.destroyInstance(),t(!1)}),12e3);s.f.on(s.d.AccesshubConnected,(function(){t(!0),clearTimeout(o)}))}))},e.instance={},e.accesshubConnected=!0,e}()},function(e,t,o){var r=o(25);e.exports=function(e,t,o){for(var i in t)r(e,i,t[i],o);return e}},function(e,t,o){var r=o(27),i=o(29),n=o(91),a=o(30),s=TypeError,c=function(e){return function(t,o,c,l){r(o);var u=i(t),d=n(u),p=a(u),h=e?p-1:0,_=e?-1:1;if(c<2)for(;;){if(h in d){l=d[h],h+=_;break}if(h+=_,e?h<0:p<=h)throw s("Reduce of empty array with no initial value")}for(;e?h>=0:p>h;h+=_)h in d&&(l=o(l,d[h],h,u));return l}};e.exports={left:c(!1),right:c(!0)}},function(e,t,o){"use strict";var r=o(96).PROPER,i=o(25),n=o(14),a=o(24),s=o(8),c=o(279),l=RegExp.prototype.toString,u=s((function(){return"/a/b"!=l.call({source:"a",flags:"b"})})),d=r&&"toString"!=l.name;(u||d)&&i(RegExp.prototype,"toString",(function(){var e=n(this);return"/"+a(e.source)+"/"+a(c(e))}),{unsafe:!0})},function(e,t,o){"use strict";var r=o(6),i=o(8),n=o(101),a=o(20),s=o(29),c=o(30),l=o(216),u=o(103),d=o(164),p=o(107),h=o(17),_=o(84),f=h("isConcatSpreadable"),g=_>=51||!i((function(){var e=[];return e[f]=!1,e.concat()[0]!==e})),m=p("concat"),y=function(e){if(!a(e))return!1;var t=e[f];return void 0!==t?!!t:n(e)};r({target:"Array",proto:!0,arity:1,forced:!g||!m},{concat:function(e){var t,o,r,i,n,a=s(this),p=d(a,0),h=0;for(t=-1,r=arguments.length;t<r;t++)if(y(n=-1===t?a:arguments[t]))for(i=c(n),l(h+i),o=0;o<i;o++,h++)o in n&&u(p,h,n[o]);else l(h+1),u(p,h++,n);return p.length=h,p}})},function(e,t,o){var r=o(102),i=Math.floor,n=function(e,t){var o=e.length,c=i(o/2);return o<8?a(e,t):s(e,n(r(e,0,c),t),n(r(e,c),t),t)},a=function(e,t){for(var o,r,i=e.length,n=1;n<i;){for(r=n,o=e[n];r&&t(e[r-1],o)>0;)e[r]=e[--r];r!==n++&&(e[r]=o)}return e},s=function(e,t,o,r){for(var i=t.length,n=o.length,a=0,s=0;a<i||s<n;)e[a+s]=a<i&&s<n?r(t[a],o[s])<=0?t[a++]:o[s++]:a<i?t[a++]:o[s++];return e};e.exports=n},function(e,t,o){"use strict";var r=o(6),i=o(31).some;r({target:"Array",proto:!0,forced:!o(83)("some")},{some:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},function(e,t,o){"use strict";(function(e){var r=t;function i(e,t,o){for(var r=Object.keys(t),i=0;i<r.length;++i)void 0!==e[r[i]]&&o||(e[r[i]]=t[r[i]]);return e}function n(e){function t(e,o){if(!(this instanceof t))return new t(e,o);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),o&&i(this,o)}return(t.prototype=Object.create(Error.prototype)).constructor=t,Object.defineProperty(t.prototype,"name",{get:function(){return e}}),t.prototype.toString=function(){return this.name+": "+this.message},t}r.asPromise=o(288),r.base64=o(289),r.EventEmitter=o(290),r.float=o(291),r.inquire=o(292),r.utf8=o(293),r.pool=o(294),r.LongBits=o(415),r.isNode=Boolean(void 0!==e&&e&&e.process&&e.process.versions&&e.process.versions.node),r.global=r.isNode&&e||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,r.emptyArray=Object.freeze?Object.freeze([]):[],r.emptyObject=Object.freeze?Object.freeze({}):{},r.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},r.isString=function(e){return"string"==typeof e||e instanceof String},r.isObject=function(e){return e&&"object"==typeof e},r.isset=r.isSet=function(e,t){var o=e[t];return!(null==o||!e.hasOwnProperty(t))&&("object"!=typeof o||(Array.isArray(o)?o.length:Object.keys(o).length)>0)},r.Buffer=function(){try{var e=r.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),r._Buffer_from=null,r._Buffer_allocUnsafe=null,r.newBuffer=function(e){return"number"==typeof e?r.Buffer?r._Buffer_allocUnsafe(e):new r.Array(e):r.Buffer?r._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},r.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,r.Long=r.global.dcodeIO&&r.global.dcodeIO.Long||r.global.Long||r.inquire("long"),r.key2Re=/^true|false|0|1$/,r.key32Re=/^-?(?:0|[1-9][0-9]*)$/,r.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,r.longToHash=function(e){return e?r.LongBits.from(e).toHash():r.LongBits.zeroHash},r.longFromHash=function(e,t){var o=r.LongBits.fromHash(e);return r.Long?r.Long.fromBits(o.lo,o.hi,t):o.toNumber(Boolean(t))},r.merge=i,r.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},r.newError=n,r.ProtocolError=n("ProtocolError"),r.oneOfGetter=function(e){for(var t={},o=0;o<e.length;++o)t[e[o]]=1;return function(){for(var e=Object.keys(this),o=e.length-1;o>-1;--o)if(1===t[e[o]]&&void 0!==this[e[o]]&&null!==this[e[o]])return e[o]}},r.oneOfSetter=function(e){return function(t){for(var o=0;o<e.length;++o)e[o]!==t&&delete this[e[o]]}},r.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},r._configure=function(){var e=r.Buffer;e?(r._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,o){return new e(t,o)},r._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}):r._Buffer_from=r._Buffer_allocUnsafe=null}}).call(this,o(153))},function(e,t,o){var r=o(79);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(e,t,o){var r=o(19),i=o(8),n=o(117);e.exports=!r&&!i((function(){return 7!=Object.defineProperty(n("div"),"a",{get:function(){return 7}}).a}))},function(e,t,o){var r=o(19),i=o(8);e.exports=r&&i((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},function(e,t,o){var r=o(18),i=o(265),n=o(76),a=o(22);e.exports=function(e,t,o){for(var s=i(t),c=a.f,l=n.f,u=0;u<s.length;u++){var d=s[u];r(e,d)||o&&r(o,d)||c(e,d,l(t,d))}}},function(e,t,o){var r=o(7),i=o(18),n=o(41),a=o(99).indexOf,s=o(97),c=r([].push);e.exports=function(e,t){var o,r=n(e),l=0,u=[];for(o in r)!i(s,o)&&i(r,o)&&c(u,o);for(;t.length>l;)i(r,o=t[l++])&&(~a(u,o)||c(u,o));return u}},function(e,t,o){"use strict";var r=o(14);e.exports=function(){var e=r(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},function(e,t,o){var r=o(8),i=o(11).RegExp,n=r((function(){var e=i("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),a=n||r((function(){return!i("a","y").sticky})),s=n||r((function(){var e=i("^r","gy");return e.lastIndex=2,null!=e.exec("str")}));e.exports={BROKEN_CARET:s,MISSED_STICKY:a,UNSUPPORTED_Y:n}},function(e,t,o){var r=o(19),i=o(193),n=o(22),a=o(14),s=o(41),c=o(100);t.f=r&&!i?Object.defineProperties:function(e,t){a(e);for(var o,r=s(t),i=c(t),l=i.length,u=0;l>u;)n.f(e,o=i[u++],r[o]);return e}},function(e,t,o){var r=o(122),i=o(70),n=TypeError;e.exports=function(e){if(r(e))return e;throw n(i(e)+" is not a constructor")}},function(e,t,o){"use strict";var r,i,n,a=o(8),s=o(15),c=o(58),l=o(113),u=o(25),d=o(17),p=o(44),h=d("iterator"),_=!1;[].keys&&("next"in(n=[].keys())?(i=l(l(n)))!==Object.prototype&&(r=i):_=!0),null==r||a((function(){var e={};return r[h].call(e)!==e}))?r={}:p&&(r=c(r)),s(r[h])||u(r,h,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:_}},function(e,t,o){var r=o(42),i=o(45),n=RangeError;e.exports=function(e){if(void 0===e)return 0;var t=r(e),o=i(t);if(t!==o)throw n("Wrong length or index");return o}},function(e,t,o){var r=o(274),i=RangeError;e.exports=function(e,t){var o=r(e);if(o%t)throw i("Wrong offset");return o}},function(e,t,o){"use strict";var r=o(31).forEach,i=o(83)("forEach");e.exports=i?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(e,t,o){var r=o(117)("span").classList,i=r&&r.constructor&&r.constructor.prototype;e.exports=i===Object.prototype?void 0:i},function(e,t,o){var r=o(17);t.f=r},function(e,t,o){var r=o(281),i=o(18),n=o(206),a=o(22).f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});i(t,e)||a(t,e,{value:n.f(e)})}},function(e,t,o){var r=o(79);e.exports=r&&!!Symbol.for&&!!Symbol.keyFor},function(e,t,o){var r=o(6),i=o(7),n=o(97),a=o(20),s=o(18),c=o(22).f,l=o(74),u=o(217),d=o(347),p=o(95),h=o(258),_=!1,f=p("meta"),g=0,m=function(e){c(e,f,{value:{objectID:"O"+g++,weakData:{}}})},y=e.exports={enable:function(){y.enable=function(){},_=!0;var e=l.f,t=i([].splice),o={};o[f]=1,e(o).length&&(l.f=function(o){for(var r=e(o),i=0,n=r.length;i<n;i++)if(r[i]===f){t(r,i,1);break}return r},r({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:u.f}))},fastKey:function(e,t){if(!a(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!s(e,f)){if(!d(e))return"F";if(!t)return"E";m(e)}return e[f].objectID},getWeakData:function(e,t){if(!s(e,f)){if(!d(e))return!0;if(!t)return!1;m(e)}return e[f].weakData},onFreeze:function(e){return h&&_&&d(e)&&!s(e,f)&&m(e),e}};n[f]=!0},function(e,t,o){"use strict";var r=o(13),i=o(171),n=o(14),a=o(45),s=o(24),c=o(48),l=o(89),u=o(172),d=o(174);i("match",(function(e,t,o){return[function(t){var o=c(this),i=null==t?void 0:l(t,e);return i?r(i,t,o):new RegExp(t)[e](s(o))},function(e){var r=n(this),i=s(e),c=o(t,r,i);if(c.done)return c.value;if(!r.global)return d(r,i);var l=r.unicode;r.lastIndex=0;for(var p,h=[],_=0;null!==(p=d(r,i));){var f=s(p[0]);h[_]=f,""===f&&(r.lastIndex=u(i,a(r.lastIndex),l)),_++}return 0===_?null:h}]}))},function(e,t,o){var r=o(32);e.exports=r("document","documentElement")},function(e,t,o){var r=o(20),i=o(65),n=o(17)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[n])?!!t:"RegExp"==i(e))}},function(e,t,o){var r=o(11),i=o(8),n=o(154),a=o(16).NATIVE_ARRAY_BUFFER_VIEWS,s=r.ArrayBuffer,c=r.Int8Array;e.exports=!a||!i((function(){c(1)}))||!i((function(){new c(-1)}))||!n((function(e){new c,new c(null),new c(1.5),new c(e)}),!0)||i((function(){return 1!==new c(new s(2),1,void 0).length}))},function(e,t,o){var r=o(20),i=Math.floor;e.exports=Number.isInteger||function(e){return!r(e)&&isFinite(e)&&i(e)===e}},function(e,t,o){var r=o(34),i=o(13),n=o(199),a=o(29),s=o(30),c=o(155),l=o(109),u=o(177),d=o(16).aTypedArrayConstructor;e.exports=function(e){var t,o,p,h,_,f,g=n(this),m=a(e),y=arguments.length,b=y>1?arguments[1]:void 0,v=void 0!==b,w=l(m);if(w&&!u(w))for(f=(_=c(m,w)).next,m=[];!(h=i(f,_)).done;)m.push(h.value);for(v&&y>2&&(b=r(b,arguments[2])),o=s(m),p=new(d(g))(o),t=0;o>t;t++)p[t]=v?b(m[t],t):m[t];return p}},function(e,t){var o=TypeError;e.exports=function(e){if(e>9007199254740991)throw o("Maximum allowed index exceeded");return e}},function(e,t,o){var r=o(65),i=o(41),n=o(74).f,a=o(102),s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return s&&"Window"==r(e)?function(e){try{return n(e)}catch(e){return a(s)}}(e):n(i(e))}},function(e,t,o){var r=o(6),i=o(365).values;r({target:"Object",stat:!0},{values:function(e){return i(e)}})},function(e,t,o){var r=o(8),i=o(15),n=o(18),a=o(19),s=o(96).CONFIGURABLE,c=o(118),l=o(40),u=l.enforce,d=l.get,p=Object.defineProperty,h=a&&!r((function(){return 8!==p((function(){}),"length",{value:8}).length})),_=String(String).split("String"),f=e.exports=function(e,t,o){"Symbol("===String(t).slice(0,7)&&(t="["+String(t).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),o&&o.getter&&(t="get "+t),o&&o.setter&&(t="set "+t),(!n(e,"name")||s&&e.name!==t)&&(a?p(e,"name",{value:t,configurable:!0}):e.name=t),h&&o&&n(o,"arity")&&e.length!==o.arity&&p(e,"length",{value:o.arity});try{o&&n(o,"constructor")&&o.constructor?a&&p(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var r=u(e);return n(r,"source")||(r.source=_.join("string"==typeof t?t:"")),e};Function.prototype.toString=f((function(){return i(this)&&d(this).source||c(this)}),"toString")},function(e,t,o){"use strict";var r=o(19),i=o(7),n=o(13),a=o(8),s=o(100),c=o(111),l=o(116),u=o(29),d=o(91),p=Object.assign,h=Object.defineProperty,_=i([].concat);e.exports=!p||a((function(){if(r&&1!==p({b:1},p(h({},"a",{enumerable:!0,get:function(){h(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},o=Symbol();return e[o]=7,"abcdefghijklmnopqrst".split("").forEach((function(e){t[e]=e})),7!=p({},e)[o]||"abcdefghijklmnopqrst"!=s(p({},t)).join("")}))?function(e,t){for(var o=u(e),i=arguments.length,a=1,p=c.f,h=l.f;i>a;)for(var f,g=d(arguments[a++]),m=p?_(s(g),p(g)):s(g),y=m.length,b=0;y>b;)f=m[b++],r&&!n(h,g,f)||(o[f]=g[f]);return o}:p},function(e,t,o){"use strict";var r=o(200).IteratorPrototype,i=o(58),n=o(73),a=o(72),s=o(93),c=function(){return this};e.exports=function(e,t,o,l){var u=t+" Iterator";return e.prototype=i(r,{next:n(+!l,o)}),a(e,u,!1,!0),s[u]=c,e}},function(e,t,o){var r=o(66).match(/firefox\/(\d+)/i);e.exports=!!r&&+r[1]},function(e,t,o){var r=o(66);e.exports=/MSIE|Trident/.test(r)},function(e,t,o){var r=o(66).match(/AppleWebKit\/(\d+)\./);e.exports=!!r&&+r[1]},function(e,t,o){"use strict";var r=o(213);(0,o(16).exportTypedArrayStaticMethod)("from",o(215),r)},function(e,t,o){var r=o(6),i=o(7),n=Date,a=i(n.prototype.getTime);r({target:"Date",stat:!0},{now:function(){return a(new n)}})},function(e,t,o){var r=o(6),i=o(287);r({target:"Array",stat:!0,forced:!o(154)((function(e){Array.from(e)}))},{from:i})},function(e,t,o){"use strict";var r=o(6),i=o(7),n=o(42),a=o(259),s=o(262),c=o(8),l=RangeError,u=String,d=Math.floor,p=i(s),h=i("".slice),_=i(1..toFixed),f=function(e,t,o){return 0===t?o:t%2==1?f(e,t-1,o*e):f(e*e,t/2,o)},g=function(e,t,o){for(var r=-1,i=o;++r<6;)i+=t*e[r],e[r]=i%1e7,i=d(i/1e7)},m=function(e,t){for(var o=6,r=0;--o>=0;)r+=e[o],e[o]=d(r/t),r=r%t*1e7},y=function(e){for(var t=6,o="";--t>=0;)if(""!==o||0===t||0!==e[t]){var r=u(e[t]);o=""===o?r:o+p("0",7-r.length)+r}return o};r({target:"Number",proto:!0,forced:c((function(){return"0.000"!==_(8e-5,3)||"1"!==_(.9,0)||"1.25"!==_(1.255,2)||"1000000000000000128"!==_(0xde0b6b3a7640080,0)}))||!c((function(){_({})}))},{toFixed:function(e){var t,o,r,i,s=a(this),c=n(e),d=[0,0,0,0,0,0],_="",b="0";if(c<0||c>20)throw l("Incorrect fraction digits");if(s!=s)return"NaN";if(s<=-1e21||s>=1e21)return u(s);if(s<0&&(_="-",s=-s),s>1e-21)if(o=(t=function(e){for(var t=0,o=e;o>=4096;)t+=12,o/=4096;for(;o>=2;)t+=1,o/=2;return t}(s*f(2,69,1))-69)<0?s*f(2,-t,1):s/f(2,t,1),o*=4503599627370496,(t=52-t)>0){for(g(d,0,o),r=c;r>=7;)g(d,1e7,0),r-=7;for(g(d,f(10,r,1),0),r=t-1;r>=23;)m(d,1<<23),r-=23;m(d,1<<r),g(d,1,1),m(d,2),b=y(d)}else g(d,0,o),g(d,1<<-t,0),b=y(d)+p("0",c);return b=c>0?_+((i=b.length)<=c?"0."+p("0",c-i)+b:h(b,0,i-c)+"."+h(b,i-c)):_+b}})},function(e,t,o){"use strict";var r=o(6),i=o(7),n=o(27),a=o(29),s=o(30),c=o(180),l=o(24),u=o(8),d=o(187),p=o(83),h=o(222),_=o(223),f=o(84),g=o(224),m=[],y=i(m.sort),b=i(m.push),v=u((function(){m.sort(void 0)})),w=u((function(){m.sort(null)})),S=p("sort"),I=!u((function(){if(f)return f<70;if(!(h&&h>3)){if(_)return!0;if(g)return g<603;var e,t,o,r,i="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:o=3;break;case 68:case 71:o=4;break;default:o=2}for(r=0;r<47;r++)m.push({k:t+r,v:o})}for(m.sort((function(e,t){return t.v-e.v})),r=0;r<m.length;r++)t=m[r].k.charAt(0),i.charAt(i.length-1)!==t&&(i+=t);return"DGBEFHACIJK"!==i}}));r({target:"Array",proto:!0,forced:v||!w||!S||!I},{sort:function(e){void 0!==e&&n(e);var t=a(this);if(I)return void 0===e?y(t):y(t,e);var o,r,i=[],u=s(t);for(r=0;r<u;r++)r in t&&b(i,t[r]);for(d(i,function(e){return function(t,o){return void 0===o?-1:void 0===t?1:void 0!==e?+e(t,o)||0:l(t)>l(o)?1:-1}}(e)),o=i.length,r=0;r<o;)t[r]=i[r++];for(;r<u;)c(t,r++);return t}})},function(e,t,o){"use strict";var r=o(6),i=o(11),n=o(13),a=o(19),s=o(213),c=o(16),l=o(175),u=o(86),d=o(73),p=o(51),h=o(214),_=o(45),f=o(201),g=o(202),m=o(92),y=o(18),b=o(67),v=o(20),w=o(82),S=o(58),I=o(52),E=o(75),O=o(74).f,P=o(215),k=o(31).forEach,T=o(178),x=o(22),C=o(76),A=o(40),D=o(179),M=A.get,L=A.set,N=A.enforce,j=x.f,q=C.f,B=Math.round,R=i.RangeError,H=l.ArrayBuffer,V=H.prototype,z=l.DataView,F=c.NATIVE_ARRAY_BUFFER_VIEWS,Z=c.TYPED_ARRAY_TAG,G=c.TypedArray,U=c.TypedArrayPrototype,W=c.aTypedArrayConstructor,Y=c.isTypedArray,J=function(e,t){W(e);for(var o=0,r=t.length,i=new e(r);r>o;)i[o]=t[o++];return i},X=function(e,t){j(e,t,{get:function(){return M(this)[t]}})},Q=function(e){var t;return I(V,e)||"ArrayBuffer"==(t=b(e))||"SharedArrayBuffer"==t},K=function(e,t){return Y(e)&&!w(t)&&t in e&&h(+t)&&t>=0},$=function(e,t){return t=m(t),K(e,t)?d(2,e[t]):q(e,t)},ee=function(e,t,o){return t=m(t),!(K(e,t)&&v(o)&&y(o,"value"))||y(o,"get")||y(o,"set")||o.configurable||y(o,"writable")&&!o.writable||y(o,"enumerable")&&!o.enumerable?j(e,t,o):(e[t]=o.value,e)};a?(F||(C.f=$,x.f=ee,X(U,"buffer"),X(U,"byteOffset"),X(U,"byteLength"),X(U,"length")),r({target:"Object",stat:!0,forced:!F},{getOwnPropertyDescriptor:$,defineProperty:ee}),e.exports=function(e,t,o){var a=e.match(/\d+$/)[0]/8,c=e+(o?"Clamped":"")+"Array",l="get"+e,d="set"+e,h=i[c],m=h,y=m&&m.prototype,b={},w=function(e,t){j(e,t,{get:function(){return function(e,t){var o=M(e);return o.view[l](t*a+o.byteOffset,!0)}(this,t)},set:function(e){return function(e,t,r){var i=M(e);o&&(r=(r=B(r))<0?0:r>255?255:255&r),i.view[d](t*a+i.byteOffset,r,!0)}(this,t,e)},enumerable:!0})};F?s&&(m=t((function(e,t,o,r){return u(e,y),D(v(t)?Q(t)?void 0!==r?new h(t,g(o,a),r):void 0!==o?new h(t,g(o,a)):new h(t):Y(t)?J(m,t):n(P,m,t):new h(f(t)),e,m)})),E&&E(m,G),k(O(h),(function(e){e in m||p(m,e,h[e])})),m.prototype=y):(m=t((function(e,t,o,r){u(e,y);var i,s,c,l=0,d=0;if(v(t)){if(!Q(t))return Y(t)?J(m,t):n(P,m,t);i=t,d=g(o,a);var p=t.byteLength;if(void 0===r){if(p%a)throw R("Wrong length");if((s=p-d)<0)throw R("Wrong length")}else if((s=_(r)*a)+d>p)throw R("Wrong length");c=s/a}else c=f(t),i=new H(s=c*a);for(L(e,{buffer:i,byteOffset:d,byteLength:s,length:c,view:new z(i)});l<c;)w(e,l++)})),E&&E(m,G),y=m.prototype=S(U)),y.constructor!==m&&p(y,"constructor",m),N(y).TypedArrayConstructor=m,Z&&p(y,Z,c);var I=m!=h;b[c]=m,r({global:!0,constructor:!0,forced:I,sham:!F},b),"BYTES_PER_ELEMENT"in m||p(m,"BYTES_PER_ELEMENT",a),"BYTES_PER_ELEMENT"in y||p(y,"BYTES_PER_ELEMENT",a),T(c)}):e.exports=function(){}},function(e,t,o){"use strict";var r=o(68),i=o(41),n=o(42),a=o(30),s=o(83),c=Math.min,l=[].lastIndexOf,u=!!l&&1/[1].lastIndexOf(1,-0)<0,d=s("lastIndexOf"),p=u||!d;e.exports=p?function(e){if(u)return r(l,this,arguments)||0;var t=i(this),o=a(t),s=o-1;for(arguments.length>1&&(s=c(s,n(arguments[1]))),s<0&&(s=o+s);s>=0;s--)if(s in t&&t[s]===e)return s||0;return-1}:l},function(e,t,o){var r,i,n,a,s=o(11),c=o(68),l=o(34),u=o(15),d=o(18),p=o(8),h=o(211),_=o(81),f=o(117),g=o(181),m=o(233),y=o(152),b=s.setImmediate,v=s.clearImmediate,w=s.process,S=s.Dispatch,I=s.Function,E=s.MessageChannel,O=s.String,P=0,k={};try{r=s.location}catch(e){}var T=function(e){if(d(k,e)){var t=k[e];delete k[e],t()}},x=function(e){return function(){T(e)}},C=function(e){T(e.data)},A=function(e){s.postMessage(O(e),r.protocol+"//"+r.host)};b&&v||(b=function(e){g(arguments.length,1);var t=u(e)?e:I(e),o=_(arguments,1);return k[++P]=function(){c(t,void 0,o)},i(P),P},v=function(e){delete k[e]},y?i=function(e){w.nextTick(x(e))}:S&&S.now?i=function(e){S.now(x(e))}:E&&!m?(a=(n=new E).port2,n.port1.onmessage=C,i=l(a.postMessage,a)):s.addEventListener&&u(s.postMessage)&&!s.importScripts&&r&&"file:"!==r.protocol&&!p(A)?(i=A,s.addEventListener("message",C,!1)):i="onreadystatechange"in f("script")?function(e){h.appendChild(f("script")).onreadystatechange=function(){h.removeChild(this),T(e)}}:function(e){setTimeout(x(e),0)}),e.exports={set:b,clear:v}},function(e,t,o){var r=o(66);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},function(e,t){e.exports="object"==typeof Deno&&Deno&&"object"==typeof Deno.version},function(e,t,o){var r=o(13),i=o(14),n=o(89);e.exports=function(e,t,o){var a,s;i(e);try{if(!(a=n(e,"return"))){if("throw"===t)throw o;return o}a=r(a,e)}catch(e){s=!0,a=e}if("throw"===t)throw o;if(s)throw a;return i(a),o}},function(e,t,o){var r=o(104),i=o(154),n=o(119).CONSTRUCTOR;e.exports=n||!i((function(e){r.all(e).then(void 0,(function(){}))}))},function(e,t,o){var r=o(11),i=o(68),n=o(15),a=o(66),s=o(81),c=o(181),l=/MSIE .\./.test(a),u=r.Function,d=function(e){return l?function(t,o){var r=c(arguments.length,1)>2,a=n(t)?t:u(t),l=r?s(arguments,2):void 0;return e(r?function(){i(a,this,l)}:a,o)}:e};e.exports={setTimeout:d(r.setTimeout),setInterval:d(r.setInterval)}},function(e,t,o){"use strict";e.exports=function(e,t){return function(){for(var o=new Array(arguments.length),r=0;r<o.length;r++)o[r]=arguments[r];return e.apply(t,o)}}},function(e,t,o){"use strict";var r=o(43);function i(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,o){if(!t)return e;var n;if(o)n=o(t);else if(r.isURLSearchParams(t))n=t.toString();else{var a=[];r.forEach(t,(function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),a.push(i(t)+"="+i(e))})))})),n=a.join("&")}if(n){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+n}return e}},function(e,t,o){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,o){"use strict";(function(t){var r=o(43),i=o(332),n={"Content-Type":"application/x-www-form-urlencoded"};function a(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var s,c={adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==t&&"[object process]"===Object.prototype.toString.call(t))&&(s=o(242)),s),transformRequest:[function(e,t){return i(t,"Accept"),i(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(a(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)?(a(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};c.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],(function(e){c.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){c.headers[e]=r.merge(n)})),e.exports=c}).call(this,o(331))},function(e,t,o){"use strict";var r=o(43),i=o(333),n=o(239),a=o(335),s=o(338),c=o(339),l=o(243);e.exports=function(e){return new Promise((function(t,u){var d=e.data,p=e.headers;r.isFormData(d)&&delete p["Content-Type"];var h=new XMLHttpRequest;if(e.auth){var _=e.auth.username||"",f=e.auth.password||"";p.Authorization="Basic "+btoa(_+":"+f)}var g=a(e.baseURL,e.url);if(h.open(e.method.toUpperCase(),n(g,e.params,e.paramsSerializer),!0),h.timeout=e.timeout,h.onreadystatechange=function(){if(h&&4===h.readyState&&(0!==h.status||h.responseURL&&0===h.responseURL.indexOf("file:"))){var o="getAllResponseHeaders"in h?s(h.getAllResponseHeaders()):null,r={data:e.responseType&&"text"!==e.responseType?h.response:h.responseText,status:h.status,statusText:h.statusText,headers:o,config:e,request:h};i(t,u,r),h=null}},h.onabort=function(){h&&(u(l("Request aborted",e,"ECONNABORTED",h)),h=null)},h.onerror=function(){u(l("Network Error",e,null,h)),h=null},h.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),u(l(t,e,"ECONNABORTED",h)),h=null},r.isStandardBrowserEnv()){var m=o(340),y=(e.withCredentials||c(g))&&e.xsrfCookieName?m.read(e.xsrfCookieName):void 0;y&&(p[e.xsrfHeaderName]=y)}if("setRequestHeader"in h&&r.forEach(p,(function(e,t){void 0===d&&"content-type"===t.toLowerCase()?delete p[t]:h.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(h.withCredentials=!!e.withCredentials),e.responseType)try{h.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&h.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&h.upload&&h.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){h&&(h.abort(),u(e),h=null)})),void 0===d&&(d=null),h.send(d)}))}},function(e,t,o){"use strict";var r=o(334);e.exports=function(e,t,o,i,n){var a=new Error(e);return r(a,t,o,i,n)}},function(e,t,o){"use strict";var r=o(43);e.exports=function(e,t){t=t||{};var o={},i=["url","method","params","data"],n=["headers","auth","proxy"],a=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];r.forEach(i,(function(e){void 0!==t[e]&&(o[e]=t[e])})),r.forEach(n,(function(i){r.isObject(t[i])?o[i]=r.deepMerge(e[i],t[i]):void 0!==t[i]?o[i]=t[i]:r.isObject(e[i])?o[i]=r.deepMerge(e[i]):void 0!==e[i]&&(o[i]=e[i])})),r.forEach(a,(function(r){void 0!==t[r]?o[r]=t[r]:void 0!==e[r]&&(o[r]=e[r])}));var s=i.concat(n).concat(a),c=Object.keys(t).filter((function(e){return-1===s.indexOf(e)}));return r.forEach(c,(function(r){void 0!==t[r]?o[r]=t[r]:void 0!==e[r]&&(o[r]=e[r])})),o}},function(e,t,o){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},function(e,t,o){"use strict";e.exports=d;var r,i=o(90),n=i.LongBits,a=i.base64,s=i.utf8;function c(e,t,o){this.fn=e,this.len=t,this.next=void 0,this.val=o}function l(){}function u(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function d(){this.len=0,this.head=new c(l,0,0),this.tail=this.head,this.states=null}var p=function(){return i.Buffer?function(){return(d.create=function(){return new r})()}:function(){return new d}};function h(e,t,o){t[o]=255&e}function _(e,t){this.len=e,this.next=void 0,this.val=t}function f(e,t,o){for(;e.hi;)t[o++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[o++]=127&e.lo|128,e.lo=e.lo>>>7;t[o++]=e.lo}function g(e,t,o){t[o]=255&e,t[o+1]=e>>>8&255,t[o+2]=e>>>16&255,t[o+3]=e>>>24}d.create=p(),d.alloc=function(e){return new i.Array(e)},i.Array!==Array&&(d.alloc=i.pool(d.alloc,i.Array.prototype.subarray)),d.prototype._push=function(e,t,o){return this.tail=this.tail.next=new c(e,t,o),this.len+=t,this},_.prototype=Object.create(c.prototype),_.prototype.fn=function(e,t,o){for(;e>127;)t[o++]=127&e|128,e>>>=7;t[o]=e},d.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new _((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},d.prototype.int32=function(e){return e<0?this._push(f,10,n.fromNumber(e)):this.uint32(e)},d.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},d.prototype.uint64=function(e){var t=n.from(e);return this._push(f,t.length(),t)},d.prototype.int64=d.prototype.uint64,d.prototype.sint64=function(e){var t=n.from(e).zzEncode();return this._push(f,t.length(),t)},d.prototype.bool=function(e){return this._push(h,1,e?1:0)},d.prototype.fixed32=function(e){return this._push(g,4,e>>>0)},d.prototype.sfixed32=d.prototype.fixed32,d.prototype.fixed64=function(e){var t=n.from(e);return this._push(g,4,t.lo)._push(g,4,t.hi)},d.prototype.sfixed64=d.prototype.fixed64,d.prototype.float=function(e){return this._push(i.float.writeFloatLE,4,e)},d.prototype.double=function(e){return this._push(i.float.writeDoubleLE,8,e)};var m=i.Array.prototype.set?function(e,t,o){t.set(e,o)}:function(e,t,o){for(var r=0;r<e.length;++r)t[o+r]=e[r]};d.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(h,1,0);if(i.isString(e)){var o=d.alloc(t=a.length(e));a.decode(e,o,0),e=o}return this.uint32(t)._push(m,t,e)},d.prototype.string=function(e){var t=s.length(e);return t?this.uint32(t)._push(s.write,t,e):this._push(h,1,0)},d.prototype.fork=function(){return this.states=new u(this),this.head=this.tail=new c(l,0,0),this.len=0,this},d.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new c(l,0,0),this.len=0),this},d.prototype.ldelim=function(){var e=this.head,t=this.tail,o=this.len;return this.reset().uint32(o),o&&(this.tail.next=e.next,this.tail=t,this.len+=o),this},d.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),o=0;e;)e.fn(e.val,t,o),o+=e.len,e=e.next;return t},d._configure=function(e){r=e,d.create=p(),r._configure()}},function(e,t,o){"use strict";e.exports=c;var r,i=o(90),n=i.LongBits,a=i.utf8;function s(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function c(e){this.buf=e,this.pos=0,this.len=e.length}var l,u="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new c(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new c(e);throw Error("illegal buffer")},d=function(){return i.Buffer?function(e){return(c.create=function(e){return i.Buffer.isBuffer(e)?new r(e):u(e)})(e)}:u};function p(){var e=new n(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw s(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw s(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function h(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function _(){if(this.pos+8>this.len)throw s(this,8);return new n(h(this.buf,this.pos+=4),h(this.buf,this.pos+=4))}c.create=d(),c.prototype._slice=i.Array.prototype.subarray||i.Array.prototype.slice,c.prototype.uint32=(l=4294967295,function(){if(l=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return l;if((this.pos+=5)>this.len)throw this.pos=this.len,s(this,10);return l}),c.prototype.int32=function(){return 0|this.uint32()},c.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},c.prototype.bool=function(){return 0!==this.uint32()},c.prototype.fixed32=function(){if(this.pos+4>this.len)throw s(this,4);return h(this.buf,this.pos+=4)},c.prototype.sfixed32=function(){if(this.pos+4>this.len)throw s(this,4);return 0|h(this.buf,this.pos+=4)},c.prototype.float=function(){if(this.pos+4>this.len)throw s(this,4);var e=i.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},c.prototype.double=function(){if(this.pos+8>this.len)throw s(this,4);var e=i.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},c.prototype.bytes=function(){var e=this.uint32(),t=this.pos,o=this.pos+e;if(o>this.len)throw s(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,o):t===o?new this.buf.constructor(0):this._slice.call(this.buf,t,o)},c.prototype.string=function(){var e=this.bytes();return a.read(e,0,e.length)},c.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw s(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw s(this)}while(128&this.buf[this.pos++]);return this},c.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},c._configure=function(e){r=e,c.create=d(),r._configure();var t=i.Long?"toLong":"toNumber";i.merge(c.prototype,{int64:function(){return p.call(this)[t](!1)},uint64:function(){return p.call(this)[t](!0)},sint64:function(){return p.call(this).zzDecode()[t](!1)},fixed64:function(){return _.call(this)[t](!0)},sfixed64:function(){return _.call(this)[t](!1)}})}},function(e,t,o){var r=o(7),i=o(48),n=o(24),a=o(249),s=r("".replace),c="["+a+"]",l=RegExp("^"+c+c+"*"),u=RegExp(c+c+"*$"),d=function(e){return function(t){var o=n(i(t));return 1&e&&(o=s(o,l,"")),2&e&&(o=s(o,u,"")),o}};e.exports={start:d(1),end:d(2),trim:d(3)}},function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},function(e,t,o){"use strict";var r,i=o(6),n=o(7),a=o(76).f,s=o(45),c=o(24),l=o(256),u=o(48),d=o(257),p=o(44),h=n("".startsWith),_=n("".slice),f=Math.min,g=d("startsWith");i({target:"String",proto:!0,forced:!!(p||g||(r=a(String.prototype,"startsWith"),!r||r.writable))&&!g},{startsWith:function(e){var t=c(u(this));l(e);var o=s(f(arguments.length>1?arguments[1]:void 0,t.length)),r=c(e);return h?h(t,r,o):_(t,o,o+r.length)===r}})},function(e,t,o){(function(o){var r;!function(o,i){e.exports=function(o){"use strict";var i,n=(o=o||{}).Base64,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=function(e){for(var t={},o=0,r=e.length;o<r;o++)t[e.charAt(o)]=o;return t}(a),c=String.fromCharCode,l=function(e){if(e.length<2)return(t=e.charCodeAt(0))<128?e:t<2048?c(192|t>>>6)+c(128|63&t):c(224|t>>>12&15)+c(128|t>>>6&63)+c(128|63&t);var t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return c(240|t>>>18&7)+c(128|t>>>12&63)+c(128|t>>>6&63)+c(128|63&t)},u=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,d=function(e){return e.replace(u,l)},p=function(e){var t=[0,2,1][e.length%3],o=e.charCodeAt(0)<<16|(e.length>1?e.charCodeAt(1):0)<<8|(e.length>2?e.charCodeAt(2):0);return[a.charAt(o>>>18),a.charAt(o>>>12&63),t>=2?"=":a.charAt(o>>>6&63),t>=1?"=":a.charAt(63&o)].join("")},h=o.btoa&&"function"==typeof o.btoa?function(e){return o.btoa(e)}:function(e){if(e.match(/[^\x00-\xFF]/))throw new RangeError("The string contains invalid characters.");return e.replace(/[\s\S]{1,3}/g,p)},_=function(e){return h(d(String(e)))},f=function(e){return e.replace(/[+\/]/g,(function(e){return"+"==e?"-":"_"})).replace(/=/g,"")},g=function(e,t){return t?f(_(e)):_(e)};o.Uint8Array&&(i=function(e,t){for(var o="",r=0,i=e.length;r<i;r+=3){var n=e[r],s=e[r+1],c=e[r+2],l=n<<16|s<<8|c;o+=a.charAt(l>>>18)+a.charAt(l>>>12&63)+(void 0!==s?a.charAt(l>>>6&63):"=")+(void 0!==c?a.charAt(63&l):"=")}return t?f(o):o});var m,y=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,b=function(e){switch(e.length){case 4:var t=((7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3))-65536;return c(55296+(t>>>10))+c(56320+(1023&t));case 3:return c((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return c((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},v=function(e){return e.replace(y,b)},w=function(e){var t=e.length,o=t%4,r=(t>0?s[e.charAt(0)]<<18:0)|(t>1?s[e.charAt(1)]<<12:0)|(t>2?s[e.charAt(2)]<<6:0)|(t>3?s[e.charAt(3)]:0),i=[c(r>>>16),c(r>>>8&255),c(255&r)];return i.length-=[0,0,2,1][o],i.join("")},S=o.atob&&"function"==typeof o.atob?function(e){return o.atob(e)}:function(e){return e.replace(/\S{1,4}/g,w)},I=function(e){return S(String(e).replace(/[^A-Za-z0-9\+\/]/g,""))},E=function(e){return String(e).replace(/[-_]/g,(function(e){return"-"==e?"+":"/"})).replace(/[^A-Za-z0-9\+\/]/g,"")},O=function(e){return function(e){return v(S(e))}(E(e))};o.Uint8Array&&(m=function(e){return Uint8Array.from(I(E(e)),(function(e){return e.charCodeAt(0)}))});var P=function(){var e=o.Base64;return o.Base64=n,e};if(o.Base64={VERSION:"2.6.4",atob:I,btoa:h,fromBase64:O,toBase64:g,utob:d,encode:g,encodeURI:function(e){return g(e,!0)},btou:v,decode:O,noConflict:P,fromUint8Array:i,toUint8Array:m},"function"==typeof Object.defineProperty){var k=function(e){return{value:e,enumerable:!1,writable:!0,configurable:!0}};o.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",k((function(){return O(this)}))),Object.defineProperty(String.prototype,"toBase64",k((function(e){return g(this,e)}))),Object.defineProperty(String.prototype,"toBase64URI",k((function(){return g(this,!0)})))}}o.Meteor&&(Base64=o.Base64);e.exports?e.exports.Base64=o.Base64:void 0===(r=function(){return o.Base64}.apply(t,[]))||(e.exports=r);return{Base64:o.Base64}}(o)}("undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==o?o:this)}).call(this,o(153))},function(e,t,o){var r;e.exports=(r=o(57),o(260),o(261),r.HmacSHA1)},function(e,t,o){e.exports=function(e){"use strict";var t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function o(e,t){var o=e[0],r=e[1],i=e[2],n=e[3];r=((r+=((i=((i+=((n=((n+=((o=((o+=(r&i|~r&n)+t[0]-680876936|0)<<7|o>>>25)+r|0)&r|~o&i)+t[1]-389564586|0)<<12|n>>>20)+o|0)&o|~n&r)+t[2]+606105819|0)<<17|i>>>15)+n|0)&n|~i&o)+t[3]-1044525330|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((n=((n+=((o=((o+=(r&i|~r&n)+t[4]-176418897|0)<<7|o>>>25)+r|0)&r|~o&i)+t[5]+1200080426|0)<<12|n>>>20)+o|0)&o|~n&r)+t[6]-1473231341|0)<<17|i>>>15)+n|0)&n|~i&o)+t[7]-45705983|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((n=((n+=((o=((o+=(r&i|~r&n)+t[8]+1770035416|0)<<7|o>>>25)+r|0)&r|~o&i)+t[9]-1958414417|0)<<12|n>>>20)+o|0)&o|~n&r)+t[10]-42063|0)<<17|i>>>15)+n|0)&n|~i&o)+t[11]-1990404162|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((n=((n+=((o=((o+=(r&i|~r&n)+t[12]+1804603682|0)<<7|o>>>25)+r|0)&r|~o&i)+t[13]-40341101|0)<<12|n>>>20)+o|0)&o|~n&r)+t[14]-1502002290|0)<<17|i>>>15)+n|0)&n|~i&o)+t[15]+1236535329|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((n=((n+=((o=((o+=(r&n|i&~n)+t[1]-165796510|0)<<5|o>>>27)+r|0)&i|r&~i)+t[6]-1069501632|0)<<9|n>>>23)+o|0)&r|o&~r)+t[11]+643717713|0)<<14|i>>>18)+n|0)&o|n&~o)+t[0]-373897302|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((n=((n+=((o=((o+=(r&n|i&~n)+t[5]-701558691|0)<<5|o>>>27)+r|0)&i|r&~i)+t[10]+38016083|0)<<9|n>>>23)+o|0)&r|o&~r)+t[15]-660478335|0)<<14|i>>>18)+n|0)&o|n&~o)+t[4]-405537848|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((n=((n+=((o=((o+=(r&n|i&~n)+t[9]+568446438|0)<<5|o>>>27)+r|0)&i|r&~i)+t[14]-1019803690|0)<<9|n>>>23)+o|0)&r|o&~r)+t[3]-187363961|0)<<14|i>>>18)+n|0)&o|n&~o)+t[8]+1163531501|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((n=((n+=((o=((o+=(r&n|i&~n)+t[13]-1444681467|0)<<5|o>>>27)+r|0)&i|r&~i)+t[2]-51403784|0)<<9|n>>>23)+o|0)&r|o&~r)+t[7]+1735328473|0)<<14|i>>>18)+n|0)&o|n&~o)+t[12]-1926607734|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((n=((n+=((o=((o+=(r^i^n)+t[5]-378558|0)<<4|o>>>28)+r|0)^r^i)+t[8]-2022574463|0)<<11|n>>>21)+o|0)^o^r)+t[11]+1839030562|0)<<16|i>>>16)+n|0)^n^o)+t[14]-35309556|0)<<23|r>>>9)+i|0,r=((r+=((i=((i+=((n=((n+=((o=((o+=(r^i^n)+t[1]-1530992060|0)<<4|o>>>28)+r|0)^r^i)+t[4]+1272893353|0)<<11|n>>>21)+o|0)^o^r)+t[7]-155497632|0)<<16|i>>>16)+n|0)^n^o)+t[10]-1094730640|0)<<23|r>>>9)+i|0,r=((r+=((i=((i+=((n=((n+=((o=((o+=(r^i^n)+t[13]+681279174|0)<<4|o>>>28)+r|0)^r^i)+t[0]-358537222|0)<<11|n>>>21)+o|0)^o^r)+t[3]-722521979|0)<<16|i>>>16)+n|0)^n^o)+t[6]+76029189|0)<<23|r>>>9)+i|0,r=((r+=((i=((i+=((n=((n+=((o=((o+=(r^i^n)+t[9]-640364487|0)<<4|o>>>28)+r|0)^r^i)+t[12]-421815835|0)<<11|n>>>21)+o|0)^o^r)+t[15]+530742520|0)<<16|i>>>16)+n|0)^n^o)+t[2]-995338651|0)<<23|r>>>9)+i|0,r=((r+=((n=((n+=(r^((o=((o+=(i^(r|~n))+t[0]-198630844|0)<<6|o>>>26)+r|0)|~i))+t[7]+1126891415|0)<<10|n>>>22)+o|0)^((i=((i+=(o^(n|~r))+t[14]-1416354905|0)<<15|i>>>17)+n|0)|~o))+t[5]-57434055|0)<<21|r>>>11)+i|0,r=((r+=((n=((n+=(r^((o=((o+=(i^(r|~n))+t[12]+1700485571|0)<<6|o>>>26)+r|0)|~i))+t[3]-1894986606|0)<<10|n>>>22)+o|0)^((i=((i+=(o^(n|~r))+t[10]-1051523|0)<<15|i>>>17)+n|0)|~o))+t[1]-2054922799|0)<<21|r>>>11)+i|0,r=((r+=((n=((n+=(r^((o=((o+=(i^(r|~n))+t[8]+1873313359|0)<<6|o>>>26)+r|0)|~i))+t[15]-30611744|0)<<10|n>>>22)+o|0)^((i=((i+=(o^(n|~r))+t[6]-1560198380|0)<<15|i>>>17)+n|0)|~o))+t[13]+1309151649|0)<<21|r>>>11)+i|0,r=((r+=((n=((n+=(r^((o=((o+=(i^(r|~n))+t[4]-145523070|0)<<6|o>>>26)+r|0)|~i))+t[11]-1120210379|0)<<10|n>>>22)+o|0)^((i=((i+=(o^(n|~r))+t[2]+718787259|0)<<15|i>>>17)+n|0)|~o))+t[9]-343485551|0)<<21|r>>>11)+i|0,e[0]=o+e[0]|0,e[1]=r+e[1]|0,e[2]=i+e[2]|0,e[3]=n+e[3]|0}function r(e){var t,o=[];for(t=0;t<64;t+=4)o[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return o}function i(e){var t,o=[];for(t=0;t<64;t+=4)o[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return o}function n(e){var t,i,n,a,s,c,l=e.length,u=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=l;t+=64)o(u,r(e.substring(t-64,t)));for(i=(e=e.substring(t-64)).length,n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<i;t+=1)n[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(n[t>>2]|=128<<(t%4<<3),t>55)for(o(u,n),t=0;t<16;t+=1)n[t]=0;return a=(a=8*l).toString(16).match(/(.*?)(.{0,8})$/),s=parseInt(a[2],16),c=parseInt(a[1],16)||0,n[14]=s,n[15]=c,o(u,n),u}function a(e){var o,r="";for(o=0;o<4;o+=1)r+=t[e>>8*o+4&15]+t[e>>8*o&15];return r}function s(e){var t;for(t=0;t<e.length;t+=1)e[t]=a(e[t]);return e.join("")}function c(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),e}function l(e){var t,o=[],r=e.length;for(t=0;t<r-1;t+=2)o.push(parseInt(e.substr(t,2),16));return String.fromCharCode.apply(String,o)}function u(){this.reset()}return s(n("hello")),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function t(e,t){return(e=0|e||0)<0?Math.max(e+t,0):Math.min(e,t)}ArrayBuffer.prototype.slice=function(o,r){var i,n,a,s,c=this.byteLength,l=t(o,c),u=c;return r!==e&&(u=t(r,c)),l>u?new ArrayBuffer(0):(i=u-l,n=new ArrayBuffer(i),a=new Uint8Array(n),s=new Uint8Array(this,l,i),a.set(s),n)}}(),u.prototype.append=function(e){return this.appendBinary(c(e)),this},u.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var t,i=this._buff.length;for(t=64;t<=i;t+=64)o(this._hash,r(this._buff.substring(t-64,t)));return this._buff=this._buff.substring(t-64),this},u.prototype.end=function(e){var t,o,r=this._buff,i=r.length,n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<i;t+=1)n[t>>2]|=r.charCodeAt(t)<<(t%4<<3);return this._finish(n,i),o=s(this._hash),e&&(o=l(o)),this.reset(),o},u.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},u.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},u.prototype.setState=function(e){return this._buff=e.buff,this._length=e.length,this._hash=e.hash,this},u.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},u.prototype._finish=function(e,t){var r,i,n,a=t;if(e[a>>2]|=128<<(a%4<<3),a>55)for(o(this._hash,e),a=0;a<16;a+=1)e[a]=0;r=(r=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),i=parseInt(r[2],16),n=parseInt(r[1],16)||0,e[14]=i,e[15]=n,o(this._hash,e)},u.hash=function(e,t){return u.hashBinary(c(e),t)},u.hashBinary=function(e,t){var o=s(n(e));return t?l(o):o},u.ArrayBuffer=function(){this.reset()},u.ArrayBuffer.prototype.append=function(e){var t,r,n,a,s,c=(r=this._buff.buffer,n=e,a=!0,(s=new Uint8Array(r.byteLength+n.byteLength)).set(new Uint8Array(r)),s.set(new Uint8Array(n),r.byteLength),a?s:s.buffer),l=c.length;for(this._length+=e.byteLength,t=64;t<=l;t+=64)o(this._hash,i(c.subarray(t-64,t)));return this._buff=t-64<l?new Uint8Array(c.buffer.slice(t-64)):new Uint8Array(0),this},u.ArrayBuffer.prototype.end=function(e){var t,o,r=this._buff,i=r.length,n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<i;t+=1)n[t>>2]|=r[t]<<(t%4<<3);return this._finish(n,i),o=s(this._hash),e&&(o=l(o)),this.reset(),o},u.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},u.ArrayBuffer.prototype.getState=function(){var e,t=u.prototype.getState.call(this);return t.buff=(e=t.buff,String.fromCharCode.apply(null,new Uint8Array(e))),t},u.ArrayBuffer.prototype.setState=function(e){return e.buff=function(e,t){var o,r=e.length,i=new ArrayBuffer(r),n=new Uint8Array(i);for(o=0;o<r;o+=1)n[o]=e.charCodeAt(o);return t?n:i}(e.buff,!0),u.prototype.setState.call(this,e)},u.ArrayBuffer.prototype.destroy=u.prototype.destroy,u.ArrayBuffer.prototype._finish=u.prototype._finish,u.ArrayBuffer.hash=function(e,t){var r=s(function(e){var t,r,n,a,s,c,l=e.length,u=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=l;t+=64)o(u,i(e.subarray(t-64,t)));for(e=t-64<l?e.subarray(t-64):new Uint8Array(0),r=e.length,n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<r;t+=1)n[t>>2]|=e[t]<<(t%4<<3);if(n[t>>2]|=128<<(t%4<<3),t>55)for(o(u,n),t=0;t<16;t+=1)n[t]=0;return a=(a=8*l).toString(16).match(/(.*?)(.{0,8})$/),s=parseInt(a[2],16),c=parseInt(a[1],16)||0,n[14]=s,n[15]=c,o(u,n),u}(new Uint8Array(e)));return t?l(r):r},u}()},function(e,t,o){var r;e.exports=(r=o(57),r.enc.Hex)},function(e,t,o){var r=o(14),i=o(20),n=o(120);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var o=n.f(e);return(0,o.resolve)(t),o.promise}},function(e,t,o){var r=o(212),i=TypeError;e.exports=function(e){if(r(e))throw i("The method doesn't accept regular expressions");return e}},function(e,t,o){var r=o(17)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(o){try{return t[r]=!1,"/./"[e](t)}catch(e){}}return!1}},function(e,t,o){var r=o(8);e.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},function(e,t,o){var r=o(7);e.exports=r(1..valueOf)},function(e,t,o){var r,i,n,a,s,c,l,u;e.exports=(u=o(57),i=(r=u).lib,n=i.WordArray,a=i.Hasher,s=r.algo,c=[],l=s.SHA1=a.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var o=this._hash.words,r=o[0],i=o[1],n=o[2],a=o[3],s=o[4],l=0;l<80;l++){if(l<16)c[l]=0|e[t+l];else{var u=c[l-3]^c[l-8]^c[l-14]^c[l-16];c[l]=u<<1|u>>>31}var d=(r<<5|r>>>27)+s+c[l];d+=l<20?1518500249+(i&n|~i&a):l<40?1859775393+(i^n^a):l<60?(i&n|i&a|n&a)-1894007588:(i^n^a)-899497514,s=a,a=n,n=i<<30|i>>>2,i=r,r=d}o[0]=o[0]+r|0,o[1]=o[1]+i|0,o[2]=o[2]+n|0,o[3]=o[3]+a|0,o[4]=o[4]+s|0},_doFinalize:function(){var e=this._data,t=e.words,o=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[14+(r+64>>>9<<4)]=Math.floor(o/4294967296),t[15+(r+64>>>9<<4)]=o,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=a.clone.call(this);return e._hash=this._hash.clone(),e}}),r.SHA1=a._createHelper(l),r.HmacSHA1=a._createHmacHelper(l),u.SHA1)},function(e,t,o){var r,i,n,a;e.exports=(r=o(57),n=(i=r).lib.Base,a=i.enc.Utf8,void(i.algo.HMAC=n.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=a.parse(t));var o=e.blockSize,r=4*o;t.sigBytes>r&&(t=e.finalize(t)),t.clamp();for(var i=this._oKey=t.clone(),n=this._iKey=t.clone(),s=i.words,c=n.words,l=0;l<o;l++)s[l]^=1549556828,c[l]^=909522486;i.sigBytes=n.sigBytes=r,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,o=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(o))}})))},function(e,t,o){"use strict";var r=o(42),i=o(24),n=o(48),a=RangeError;e.exports=function(e){var t=i(n(this)),o="",s=r(e);if(s<0||s==1/0)throw a("Wrong number of repetitions");for(;s>0;(s>>>=1)&&(t+=t))1&s&&(o+=t);return o}},function(e,t,o){var r=o(13),i=o(15),n=o(20),a=TypeError;e.exports=function(e,t){var o,s;if("string"===t&&i(o=e.toString)&&!n(s=r(o,e)))return s;if(i(o=e.valueOf)&&!n(s=r(o,e)))return s;if("string"!==t&&i(o=e.toString)&&!n(s=r(o,e)))return s;throw a("Can't convert object to primitive value")}},function(e,t,o){var r=o(11),i=o(15),n=o(118),a=r.WeakMap;e.exports=i(a)&&/native code/.test(n(a))},function(e,t,o){var r=o(32),i=o(7),n=o(74),a=o(111),s=o(14),c=i([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=n.f(s(e)),o=a.f;return o?c(t,o(e)):t}},function(e,t){var o=Math.ceil,r=Math.floor;e.exports=Math.trunc||function(e){var t=+e;return(t>0?r:o)(t)}},function(e,t,o){var r=o(8),i=o(11).RegExp;e.exports=r((function(){var e=i(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))},function(e,t,o){var r=o(8),i=o(11).RegExp;e.exports=r((function(){var e=i("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},function(e,t,o){var r=o(101),i=o(122),n=o(20),a=o(17)("species"),s=Array;e.exports=function(e){var t;return r(e)&&(t=e.constructor,(i(t)&&(t===s||r(t.prototype))||n(t)&&null===(t=t[a]))&&(t=void 0)),void 0===t?s:t}},function(e,t,o){var r=o(8);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},function(e,t,o){var r=o(15),i=String,n=TypeError;e.exports=function(e){if("object"==typeof e||r(e))return e;throw n("Can't set "+i(e)+" as a prototype")}},function(e,t){var o=Array,r=Math.abs,i=Math.pow,n=Math.floor,a=Math.log,s=Math.LN2;e.exports={pack:function(e,t,c){var l,u,d,p=o(c),h=8*c-t-1,_=(1<<h)-1,f=_>>1,g=23===t?i(2,-24)-i(2,-77):0,m=e<0||0===e&&1/e<0?1:0,y=0;for((e=r(e))!=e||e===1/0?(u=e!=e?1:0,l=_):(l=n(a(e)/s),e*(d=i(2,-l))<1&&(l--,d*=2),(e+=l+f>=1?g/d:g*i(2,1-f))*d>=2&&(l++,d/=2),l+f>=_?(u=0,l=_):l+f>=1?(u=(e*d-1)*i(2,t),l+=f):(u=e*i(2,f-1)*i(2,t),l=0));t>=8;)p[y++]=255&u,u/=256,t-=8;for(l=l<<t|u,h+=t;h>0;)p[y++]=255&l,l/=256,h-=8;return p[--y]|=128*m,p},unpack:function(e,t){var o,r=e.length,n=8*r-t-1,a=(1<<n)-1,s=a>>1,c=n-7,l=r-1,u=e[l--],d=127&u;for(u>>=7;c>0;)d=256*d+e[l--],c-=8;for(o=d&(1<<-c)-1,d>>=-c,c+=t;c>0;)o=256*o+e[l--],c-=8;if(0===d)d=1-s;else{if(d===a)return o?NaN:u?-1/0:1/0;o+=i(2,t),d-=s}return(u?-1:1)*o*i(2,d-t)}}},function(e,t,o){"use strict";var r=o(160),i=o(67);e.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},function(e,t,o){var r=o(42),i=RangeError;e.exports=function(e){var t=r(e);if(t<0)throw i("The argument can't be less than 0");return t}},function(e,t,o){"use strict";var r=o(29),i=o(60),n=o(30),a=o(180),s=Math.min;e.exports=[].copyWithin||function(e,t){var o=r(this),c=n(o),l=i(e,c),u=i(t,c),d=arguments.length>2?arguments[2]:void 0,p=s((void 0===d?c:i(d,c))-u,c-l),h=1;for(u<l&&l<u+p&&(h=-1,u+=p-1,l+=p-1);p-- >0;)u in o?o[l]=o[u]:a(o,l),l+=h,u+=h;return o}},function(e,t,o){var r=o(163),i=TypeError;e.exports=function(e){var t=r(e,"number");if("number"==typeof t)throw i("Can't convert number to bigint");return BigInt(t)}},function(e,t,o){var r=o(278),i=o(114);e.exports=function(e,t){return r(i(e),t)}},function(e,t,o){var r=o(30);e.exports=function(e,t){for(var o=0,i=r(t),n=new e(i);i>o;)n[o]=t[o++];return n}},function(e,t,o){var r=o(13),i=o(18),n=o(52),a=o(196),s=RegExp.prototype;e.exports=function(e){var t=e.flags;return void 0!==t||"flags"in s||i(e,"flags")||!n(s,e)?t:r(a,e)}},function(e,t,o){"use strict";var r=o(6),i=o(11),n=o(13),a=o(7),s=o(44),c=o(19),l=o(79),u=o(8),d=o(18),p=o(52),h=o(14),_=o(41),f=o(92),g=o(24),m=o(73),y=o(58),b=o(100),v=o(74),w=o(217),S=o(111),I=o(76),E=o(22),O=o(198),P=o(116),k=o(25),T=o(80),x=o(110),C=o(97),A=o(95),D=o(17),M=o(206),L=o(207),N=o(282),j=o(72),q=o(40),B=o(31).forEach,R=x("hidden"),H=q.set,V=q.getterFor("Symbol"),z=Object.prototype,F=i.Symbol,Z=F&&F.prototype,G=i.TypeError,U=i.QObject,W=I.f,Y=E.f,J=w.f,X=P.f,Q=a([].push),K=T("symbols"),$=T("op-symbols"),ee=T("wks"),te=!U||!U.prototype||!U.prototype.findChild,oe=c&&u((function(){return 7!=y(Y({},"a",{get:function(){return Y(this,"a",{value:7}).a}})).a}))?function(e,t,o){var r=W(z,t);r&&delete z[t],Y(e,t,o),r&&e!==z&&Y(z,t,r)}:Y,re=function(e,t){var o=K[e]=y(Z);return H(o,{type:"Symbol",tag:e,description:t}),c||(o.description=t),o},ie=function(e,t,o){e===z&&ie($,t,o),h(e);var r=f(t);return h(o),d(K,r)?(o.enumerable?(d(e,R)&&e[R][r]&&(e[R][r]=!1),o=y(o,{enumerable:m(0,!1)})):(d(e,R)||Y(e,R,m(1,{})),e[R][r]=!0),oe(e,r,o)):Y(e,r,o)},ne=function(e,t){h(e);var o=_(t),r=b(o).concat(le(o));return B(r,(function(t){c&&!n(ae,o,t)||ie(e,t,o[t])})),e},ae=function(e){var t=f(e),o=n(X,this,t);return!(this===z&&d(K,t)&&!d($,t))&&(!(o||!d(this,t)||!d(K,t)||d(this,R)&&this[R][t])||o)},se=function(e,t){var o=_(e),r=f(t);if(o!==z||!d(K,r)||d($,r)){var i=W(o,r);return!i||!d(K,r)||d(o,R)&&o[R][r]||(i.enumerable=!0),i}},ce=function(e){var t=J(_(e)),o=[];return B(t,(function(e){d(K,e)||d(C,e)||Q(o,e)})),o},le=function(e){var t=e===z,o=J(t?$:_(e)),r=[];return B(o,(function(e){!d(K,e)||t&&!d(z,e)||Q(r,K[e])})),r};l||(k(Z=(F=function(){if(p(Z,this))throw G("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?g(arguments[0]):void 0,t=A(e),o=function(e){this===z&&n(o,$,e),d(this,R)&&d(this[R],t)&&(this[R][t]=!1),oe(this,t,m(1,e))};return c&&te&&oe(z,t,{configurable:!0,set:o}),re(t,e)}).prototype,"toString",(function(){return V(this).tag})),k(F,"withoutSetter",(function(e){return re(A(e),e)})),P.f=ae,E.f=ie,O.f=ne,I.f=se,v.f=w.f=ce,S.f=le,M.f=function(e){return re(D(e),e)},c&&(Y(Z,"description",{configurable:!0,get:function(){return V(this).description}}),s||k(z,"propertyIsEnumerable",ae,{unsafe:!0}))),r({global:!0,constructor:!0,wrap:!0,forced:!l,sham:!l},{Symbol:F}),B(b(ee),(function(e){L(e)})),r({target:"Symbol",stat:!0,forced:!l},{useSetter:function(){te=!0},useSimple:function(){te=!1}}),r({target:"Object",stat:!0,forced:!l,sham:!c},{create:function(e,t){return void 0===t?y(e):ne(y(e),t)},defineProperty:ie,defineProperties:ne,getOwnPropertyDescriptor:se}),r({target:"Object",stat:!0,forced:!l},{getOwnPropertyNames:ce}),N(),j(F,"Symbol"),C[R]=!0},function(e,t,o){var r=o(11);e.exports=r},function(e,t,o){var r=o(13),i=o(32),n=o(17),a=o(25);e.exports=function(){var e=i("Symbol"),t=e&&e.prototype,o=t&&t.valueOf,s=n("toPrimitive");t&&!t[s]&&a(t,s,(function(e){return r(o,this)}),{arity:1})}},function(e,t,o){var r=o(6),i=o(32),n=o(18),a=o(24),s=o(80),c=o(208),l=s("string-to-symbol-registry"),u=s("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!c},{for:function(e){var t=a(e);if(n(l,t))return l[t];var o=i("Symbol")(t);return l[t]=o,u[o]=t,o}})},function(e,t,o){var r=o(6),i=o(18),n=o(82),a=o(70),s=o(80),c=o(208),l=s("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!c},{keyFor:function(e){if(!n(e))throw TypeError(a(e)+" is not a symbol");if(i(l,e))return l[e]}})},function(e,t,o){var r=o(6),i=o(32),n=o(68),a=o(13),s=o(7),c=o(8),l=o(101),u=o(15),d=o(20),p=o(82),h=o(81),_=o(79),f=i("JSON","stringify"),g=s(/./.exec),m=s("".charAt),y=s("".charCodeAt),b=s("".replace),v=s(1..toString),w=/[\uD800-\uDFFF]/g,S=/^[\uD800-\uDBFF]$/,I=/^[\uDC00-\uDFFF]$/,E=!_||c((function(){var e=i("Symbol")();return"[null]"!=f([e])||"{}"!=f({a:e})||"{}"!=f(Object(e))})),O=c((function(){return'"\\udf06\\ud834"'!==f("\udf06\ud834")||'"\\udead"'!==f("\udead")})),P=function(e,t){var o=h(arguments),r=t;if((d(t)||void 0!==e)&&!p(e))return l(t)||(t=function(e,t){if(u(r)&&(t=a(r,this,e,t)),!p(t))return t}),o[1]=t,n(f,null,o)},k=function(e,t,o){var r=m(o,t-1),i=m(o,t+1);return g(S,e)&&!g(I,i)||g(I,e)&&!g(S,r)?"\\u"+v(y(e,0),16):e};f&&r({target:"JSON",stat:!0,arity:3,forced:E||O},{stringify:function(e,t,o){var r=h(arguments),i=n(E?P:f,null,r);return O&&"string"==typeof i?b(i,w,k):i}})},function(e,t,o){var r=o(6),i=o(79),n=o(8),a=o(111),s=o(29);r({target:"Object",stat:!0,forced:!i||n((function(){a.f(1)}))},{getOwnPropertySymbols:function(e){var t=a.f;return t?t(s(e)):[]}})},function(e,t,o){"use strict";var r=o(34),i=o(13),n=o(29),a=o(324),s=o(177),c=o(122),l=o(30),u=o(103),d=o(155),p=o(109),h=Array;e.exports=function(e){var t=n(e),o=c(this),_=arguments.length,f=_>1?arguments[1]:void 0,g=void 0!==f;g&&(f=r(f,_>2?arguments[2]:void 0));var m,y,b,v,w,S,I=p(t),E=0;if(!I||this===h&&s(I))for(m=l(t),y=o?new this(m):h(m);m>E;E++)S=g?f(t[E],E):t[E],u(y,E,S);else for(w=(v=d(t,I)).next,y=o?new this:[];!(b=i(w,v)).done;E++)S=g?a(v,f,[b.value,E],!0):b.value,u(y,E,S);return y.length=E,y}},function(e,t,o){"use strict";e.exports=function(e,t){var o=new Array(arguments.length-1),r=0,i=2,n=!0;for(;i<arguments.length;)o[r++]=arguments[i++];return new Promise((function(i,a){o[r]=function(e){if(n)if(n=!1,e)a(e);else{for(var t=new Array(arguments.length-1),o=0;o<t.length;)t[o++]=arguments[o];i.apply(null,t)}};try{e.apply(t||null,o)}catch(e){n&&(n=!1,a(e))}}))}},function(e,t,o){"use strict";var r=t;r.length=function(e){var t=e.length;if(!t)return 0;for(var o=0;--t%4>1&&"="===e.charAt(t);)++o;return Math.ceil(3*e.length)/4-o};for(var i=new Array(64),n=new Array(123),a=0;a<64;)n[i[a]=a<26?a+65:a<52?a+71:a<62?a-4:a-59|43]=a++;r.encode=function(e,t,o){for(var r,n=null,a=[],s=0,c=0;t<o;){var l=e[t++];switch(c){case 0:a[s++]=i[l>>2],r=(3&l)<<4,c=1;break;case 1:a[s++]=i[r|l>>4],r=(15&l)<<2,c=2;break;case 2:a[s++]=i[r|l>>6],a[s++]=i[63&l],c=0}s>8191&&((n||(n=[])).push(String.fromCharCode.apply(String,a)),s=0)}return c&&(a[s++]=i[r],a[s++]=61,1===c&&(a[s++]=61)),n?(s&&n.push(String.fromCharCode.apply(String,a.slice(0,s))),n.join("")):String.fromCharCode.apply(String,a.slice(0,s))};r.decode=function(e,t,o){for(var r,i=o,a=0,s=0;s<e.length;){var c=e.charCodeAt(s++);if(61===c&&a>1)break;if(void 0===(c=n[c]))throw Error("invalid encoding");switch(a){case 0:r=c,a=1;break;case 1:t[o++]=r<<2|(48&c)>>4,r=c,a=2;break;case 2:t[o++]=(15&r)<<4|(60&c)>>2,r=c,a=3;break;case 3:t[o++]=(3&r)<<6|c,a=0}}if(1===a)throw Error("invalid encoding");return o-i},r.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},function(e,t,o){"use strict";function r(){this._listeners={}}e.exports=r,r.prototype.on=function(e,t,o){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:o||this}),this},r.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var o=this._listeners[e],r=0;r<o.length;)o[r].fn===t?o.splice(r,1):++r;return this},r.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var o=[],r=1;r<arguments.length;)o.push(arguments[r++]);for(r=0;r<t.length;)t[r].fn.apply(t[r++].ctx,o)}return this}},function(e,t,o){"use strict";function r(e){return"undefined"!=typeof Float32Array?function(){var t=new Float32Array([-0]),o=new Uint8Array(t.buffer),r=128===o[3];function i(e,r,i){t[0]=e,r[i]=o[0],r[i+1]=o[1],r[i+2]=o[2],r[i+3]=o[3]}function n(e,r,i){t[0]=e,r[i]=o[3],r[i+1]=o[2],r[i+2]=o[1],r[i+3]=o[0]}function a(e,r){return o[0]=e[r],o[1]=e[r+1],o[2]=e[r+2],o[3]=e[r+3],t[0]}function s(e,r){return o[3]=e[r],o[2]=e[r+1],o[1]=e[r+2],o[0]=e[r+3],t[0]}e.writeFloatLE=r?i:n,e.writeFloatBE=r?n:i,e.readFloatLE=r?a:s,e.readFloatBE=r?s:a}():function(){function t(e,t,o,r){var i=t<0?1:0;if(i&&(t=-t),0===t)e(1/t>0?0:2147483648,o,r);else if(isNaN(t))e(2143289344,o,r);else if(t>34028234663852886e22)e((i<<31|2139095040)>>>0,o,r);else if(t<11754943508222875e-54)e((i<<31|Math.round(t/1401298464324817e-60))>>>0,o,r);else{var n=Math.floor(Math.log(t)/Math.LN2);e((i<<31|n+127<<23|8388607&Math.round(t*Math.pow(2,-n)*8388608))>>>0,o,r)}}function o(e,t,o){var r=e(t,o),i=2*(r>>31)+1,n=r>>>23&255,a=8388607&r;return 255===n?a?NaN:i*(1/0):0===n?1401298464324817e-60*i*a:i*Math.pow(2,n-150)*(a+8388608)}e.writeFloatLE=t.bind(null,i),e.writeFloatBE=t.bind(null,n),e.readFloatLE=o.bind(null,a),e.readFloatBE=o.bind(null,s)}(),"undefined"!=typeof Float64Array?function(){var t=new Float64Array([-0]),o=new Uint8Array(t.buffer),r=128===o[7];function i(e,r,i){t[0]=e,r[i]=o[0],r[i+1]=o[1],r[i+2]=o[2],r[i+3]=o[3],r[i+4]=o[4],r[i+5]=o[5],r[i+6]=o[6],r[i+7]=o[7]}function n(e,r,i){t[0]=e,r[i]=o[7],r[i+1]=o[6],r[i+2]=o[5],r[i+3]=o[4],r[i+4]=o[3],r[i+5]=o[2],r[i+6]=o[1],r[i+7]=o[0]}function a(e,r){return o[0]=e[r],o[1]=e[r+1],o[2]=e[r+2],o[3]=e[r+3],o[4]=e[r+4],o[5]=e[r+5],o[6]=e[r+6],o[7]=e[r+7],t[0]}function s(e,r){return o[7]=e[r],o[6]=e[r+1],o[5]=e[r+2],o[4]=e[r+3],o[3]=e[r+4],o[2]=e[r+5],o[1]=e[r+6],o[0]=e[r+7],t[0]}e.writeDoubleLE=r?i:n,e.writeDoubleBE=r?n:i,e.readDoubleLE=r?a:s,e.readDoubleBE=r?s:a}():function(){function t(e,t,o,r,i,n){var a=r<0?1:0;if(a&&(r=-r),0===r)e(0,i,n+t),e(1/r>0?0:2147483648,i,n+o);else if(isNaN(r))e(0,i,n+t),e(2146959360,i,n+o);else if(r>17976931348623157e292)e(0,i,n+t),e((a<<31|2146435072)>>>0,i,n+o);else{var s;if(r<22250738585072014e-324)e((s=r/5e-324)>>>0,i,n+t),e((a<<31|s/4294967296)>>>0,i,n+o);else{var c=Math.floor(Math.log(r)/Math.LN2);1024===c&&(c=1023),e(4503599627370496*(s=r*Math.pow(2,-c))>>>0,i,n+t),e((a<<31|c+1023<<20|1048576*s&1048575)>>>0,i,n+o)}}}function o(e,t,o,r,i){var n=e(r,i+t),a=e(r,i+o),s=2*(a>>31)+1,c=a>>>20&2047,l=4294967296*(1048575&a)+n;return 2047===c?l?NaN:s*(1/0):0===c?5e-324*s*l:s*Math.pow(2,c-1075)*(l+4503599627370496)}e.writeDoubleLE=t.bind(null,i,0,4),e.writeDoubleBE=t.bind(null,n,4,0),e.readDoubleLE=o.bind(null,a,0,4),e.readDoubleBE=o.bind(null,s,4,0)}(),e}function i(e,t,o){t[o]=255&e,t[o+1]=e>>>8&255,t[o+2]=e>>>16&255,t[o+3]=e>>>24}function n(e,t,o){t[o]=e>>>24,t[o+1]=e>>>16&255,t[o+2]=e>>>8&255,t[o+3]=255&e}function a(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function s(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}e.exports=r(r)},function(module,exports,__webpack_require__){"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},function(e,t,o){"use strict";var r=t;r.length=function(e){for(var t=0,o=0,r=0;r<e.length;++r)(o=e.charCodeAt(r))<128?t+=1:o<2048?t+=2:55296==(64512&o)&&56320==(64512&e.charCodeAt(r+1))?(++r,t+=4):t+=3;return t},r.read=function(e,t,o){if(o-t<1)return"";for(var r,i=null,n=[],a=0;t<o;)(r=e[t++])<128?n[a++]=r:r>191&&r<224?n[a++]=(31&r)<<6|63&e[t++]:r>239&&r<365?(r=((7&r)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,n[a++]=55296+(r>>10),n[a++]=56320+(1023&r)):n[a++]=(15&r)<<12|(63&e[t++])<<6|63&e[t++],a>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,n)),a=0);return i?(a&&i.push(String.fromCharCode.apply(String,n.slice(0,a))),i.join("")):String.fromCharCode.apply(String,n.slice(0,a))},r.write=function(e,t,o){for(var r,i,n=o,a=0;a<e.length;++a)(r=e.charCodeAt(a))<128?t[o++]=r:r<2048?(t[o++]=r>>6|192,t[o++]=63&r|128):55296==(64512&r)&&56320==(64512&(i=e.charCodeAt(a+1)))?(r=65536+((1023&r)<<10)+(1023&i),++a,t[o++]=r>>18|240,t[o++]=r>>12&63|128,t[o++]=r>>6&63|128,t[o++]=63&r|128):(t[o++]=r>>12|224,t[o++]=r>>6&63|128,t[o++]=63&r|128);return o-n}},function(e,t,o){"use strict";e.exports=function(e,t,o){var r=o||8192,i=r>>>1,n=null,a=r;return function(o){if(o<1||o>i)return e(o);a+o>r&&(n=e(r),a=0);var s=t.call(n,a,a+=o);return 7&a&&(a=1+(7|a)),s}}},function(e,t,o){var r=o(7),i=o(45),n=o(24),a=o(262),s=o(48),c=r(a),l=r("".slice),u=Math.ceil,d=function(e){return function(t,o,r){var a,d,p=n(s(t)),h=i(o),_=p.length,f=void 0===r?" ":n(r);return h<=_||""==f?p:((d=c(f,u((a=h-_)/f.length))).length>a&&(d=l(d,0,a)),e?p+d:d+p)}};e.exports={start:d(!1),end:d(!0)}},function(e,t,o){var r=o(6),i=o(258),n=o(8),a=o(20),s=o(209).onFreeze,c=Object.freeze;r({target:"Object",stat:!0,forced:n((function(){c(1)})),sham:!i},{freeze:function(e){return c&&a(e)?c(s(e)):e}})},function(e,t,o){var r=o(6),i=o(166),n=o(108);r({target:"Array",proto:!0},{fill:i}),n("fill")},function(e,t,o){var r=o(8),i=o(17),n=o(44),a=i("iterator");e.exports=!r((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,o="";return e.pathname="c%20d",t.forEach((function(e,r){t.delete("b"),o+=r+e})),n&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[a]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==o||"x"!==new URL("http://x",void 0).host}))},function(e,t,o){"use strict";o(36);var r=o(6),i=o(11),n=o(13),a=o(7),s=o(19),c=o(298),l=o(25),u=o(183),d=o(72),p=o(221),h=o(40),_=o(86),f=o(15),g=o(18),m=o(34),y=o(67),b=o(14),v=o(20),w=o(24),S=o(58),I=o(73),E=o(155),O=o(109),P=o(181),k=o(17),T=o(187),x=k("iterator"),C=h.set,A=h.getterFor("URLSearchParams"),D=h.getterFor("URLSearchParamsIterator"),M=Object.getOwnPropertyDescriptor,L=function(e){if(!s)return i[e];var t=M(i,e);return t&&t.value},N=L("fetch"),j=L("Request"),q=L("Headers"),B=j&&j.prototype,R=q&&q.prototype,H=i.RegExp,V=i.TypeError,z=i.decodeURIComponent,F=i.encodeURIComponent,Z=a("".charAt),G=a([].join),U=a([].push),W=a("".replace),Y=a([].shift),J=a([].splice),X=a("".split),Q=a("".slice),K=/\+/g,$=Array(4),ee=function(e){return $[e-1]||($[e-1]=H("((?:%[\\da-f]{2}){"+e+"})","gi"))},te=function(e){try{return z(e)}catch(t){return e}},oe=function(e){var t=W(e,K," "),o=4;try{return z(t)}catch(e){for(;o;)t=W(t,ee(o--),te);return t}},re=/[!'()~]|%20/g,ie={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},ne=function(e){return ie[e]},ae=function(e){return W(F(e),re,ne)},se=p((function(e,t){C(this,{type:"URLSearchParamsIterator",iterator:E(A(e).entries),kind:t})}),"Iterator",(function(){var e=D(this),t=e.kind,o=e.iterator.next(),r=o.value;return o.done||(o.value="keys"===t?r.key:"values"===t?r.value:[r.key,r.value]),o}),!0),ce=function(e){this.entries=[],this.url=null,void 0!==e&&(v(e)?this.parseObject(e):this.parseQuery("string"==typeof e?"?"===Z(e,0)?Q(e,1):e:w(e)))};ce.prototype={type:"URLSearchParams",bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t,o,r,i,a,s,c,l=O(e);if(l)for(o=(t=E(e,l)).next;!(r=n(o,t)).done;){if(a=(i=E(b(r.value))).next,(s=n(a,i)).done||(c=n(a,i)).done||!n(a,i).done)throw V("Expected sequence with length 2");U(this.entries,{key:w(s.value),value:w(c.value)})}else for(var u in e)g(e,u)&&U(this.entries,{key:u,value:w(e[u])})},parseQuery:function(e){if(e)for(var t,o,r=X(e,"&"),i=0;i<r.length;)(t=r[i++]).length&&(o=X(t,"="),U(this.entries,{key:oe(Y(o)),value:oe(G(o,"="))}))},serialize:function(){for(var e,t=this.entries,o=[],r=0;r<t.length;)e=t[r++],U(o,ae(e.key)+"="+ae(e.value));return G(o,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var le=function(){_(this,ue);var e=arguments.length>0?arguments[0]:void 0;C(this,new ce(e))},ue=le.prototype;if(u(ue,{append:function(e,t){P(arguments.length,2);var o=A(this);U(o.entries,{key:w(e),value:w(t)}),o.updateURL()},delete:function(e){P(arguments.length,1);for(var t=A(this),o=t.entries,r=w(e),i=0;i<o.length;)o[i].key===r?J(o,i,1):i++;t.updateURL()},get:function(e){P(arguments.length,1);for(var t=A(this).entries,o=w(e),r=0;r<t.length;r++)if(t[r].key===o)return t[r].value;return null},getAll:function(e){P(arguments.length,1);for(var t=A(this).entries,o=w(e),r=[],i=0;i<t.length;i++)t[i].key===o&&U(r,t[i].value);return r},has:function(e){P(arguments.length,1);for(var t=A(this).entries,o=w(e),r=0;r<t.length;)if(t[r++].key===o)return!0;return!1},set:function(e,t){P(arguments.length,1);for(var o,r=A(this),i=r.entries,n=!1,a=w(e),s=w(t),c=0;c<i.length;c++)(o=i[c]).key===a&&(n?J(i,c--,1):(n=!0,o.value=s));n||U(i,{key:a,value:s}),r.updateURL()},sort:function(){var e=A(this);T(e.entries,(function(e,t){return e.key>t.key?1:-1})),e.updateURL()},forEach:function(e){for(var t,o=A(this).entries,r=m(e,arguments.length>1?arguments[1]:void 0),i=0;i<o.length;)r((t=o[i++]).value,t.key,this)},keys:function(){return new se(this,"keys")},values:function(){return new se(this,"values")},entries:function(){return new se(this,"entries")}},{enumerable:!0}),l(ue,x,ue.entries,{name:"entries"}),l(ue,"toString",(function(){return A(this).serialize()}),{enumerable:!0}),d(le,"URLSearchParams"),r({global:!0,constructor:!0,forced:!c},{URLSearchParams:le}),!c&&f(q)){var de=a(R.has),pe=a(R.set),he=function(e){if(v(e)){var t,o=e.body;if("URLSearchParams"===y(o))return t=e.headers?new q(e.headers):new q,de(t,"content-type")||pe(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),S(e,{body:I(0,w(o)),headers:I(0,t)})}return e};if(f(N)&&r({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(e){return N(e,arguments.length>1?he(arguments[1]):{})}}),f(j)){var _e=function(e){return _(this,B),new j(e,arguments.length>1?he(arguments[1]):{})};B.constructor=_e,_e.prototype=B,r({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:_e})}}e.exports={URLSearchParams:le,getState:A}},function(e,t,o){var r,i,n,a,s,c,l,u;e.exports=(u=o(57),o(260),o(261),i=(r=u).lib,n=i.Base,a=i.WordArray,s=r.algo,c=s.MD5,l=s.EvpKDF=n.extend({cfg:n.extend({keySize:4,hasher:c,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var o=this.cfg,r=o.hasher.create(),i=a.create(),n=i.words,s=o.keySize,c=o.iterations;n.length<s;){l&&r.update(l);var l=r.update(e).finalize(t);r.reset();for(var u=1;u<c;u++)l=r.finalize(l),r.reset();i.concat(l)}return i.sigBytes=4*s,i}}),r.EvpKDF=function(e,t,o){return l.create(o).compute(e,t)},u.EvpKDF)},function(e,t,o){var r;e.exports=(r=o(57),o(300),void(r.lib.Cipher||function(e){var t=r,o=t.lib,i=o.Base,n=o.WordArray,a=o.BufferedBlockAlgorithm,s=t.enc,c=(s.Utf8,s.Base64),l=t.algo.EvpKDF,u=o.Cipher=a.extend({cfg:i.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,o){this.cfg=this.cfg.extend(o),this._xformMode=e,this._key=t,this.reset()},reset:function(){a.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?b:m}return function(t){return{encrypt:function(o,r,i){return e(r).encrypt(t,o,r,i)},decrypt:function(o,r,i){return e(r).decrypt(t,o,r,i)}}}}()}),d=(o.StreamCipher=u.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),t.mode={}),p=o.BlockCipherMode=i.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),h=d.CBC=function(){var e=p.extend();function t(e,t,o){var r=this._iv;if(r){var i=r;this._iv=void 0}else i=this._prevBlock;for(var n=0;n<o;n++)e[t+n]^=i[n]}return e.Encryptor=e.extend({processBlock:function(e,o){var r=this._cipher,i=r.blockSize;t.call(this,e,o,i),r.encryptBlock(e,o),this._prevBlock=e.slice(o,o+i)}}),e.Decryptor=e.extend({processBlock:function(e,o){var r=this._cipher,i=r.blockSize,n=e.slice(o,o+i);r.decryptBlock(e,o),t.call(this,e,o,i),this._prevBlock=n}}),e}(),_=(t.pad={}).Pkcs7={pad:function(e,t){for(var o=4*t,r=o-e.sigBytes%o,i=r<<24|r<<16|r<<8|r,a=[],s=0;s<r;s+=4)a.push(i);var c=n.create(a,r);e.concat(c)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},f=(o.BlockCipher=u.extend({cfg:u.cfg.extend({mode:h,padding:_}),reset:function(){u.reset.call(this);var e=this.cfg,t=e.iv,o=e.mode;if(this._xformMode==this._ENC_XFORM_MODE)var r=o.createEncryptor;else r=o.createDecryptor,this._minBufferSize=1;this._mode&&this._mode.__creator==r?this._mode.init(this,t&&t.words):(this._mode=r.call(o,this,t&&t.words),this._mode.__creator=r)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){e.pad(this._data,this.blockSize);var t=this._process(!0)}else t=this._process(!0),e.unpad(t);return t},blockSize:4}),o.CipherParams=i.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}})),g=(t.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext,o=e.salt;if(o)var r=n.create([1398893684,1701076831]).concat(o).concat(t);else r=t;return r.toString(c)},parse:function(e){var t=c.parse(e),o=t.words;if(1398893684==o[0]&&1701076831==o[1]){var r=n.create(o.slice(2,4));o.splice(0,4),t.sigBytes-=16}return f.create({ciphertext:t,salt:r})}},m=o.SerializableCipher=i.extend({cfg:i.extend({format:g}),encrypt:function(e,t,o,r){r=this.cfg.extend(r);var i=e.createEncryptor(o,r),n=i.finalize(t),a=i.cfg;return f.create({ciphertext:n,key:o,iv:a.iv,algorithm:e,mode:a.mode,padding:a.padding,blockSize:e.blockSize,formatter:r.format})},decrypt:function(e,t,o,r){return r=this.cfg.extend(r),t=this._parse(t,r.format),e.createDecryptor(o,r).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),y=(t.kdf={}).OpenSSL={execute:function(e,t,o,r){r||(r=n.random(8));var i=l.create({keySize:t+o}).compute(e,r),a=n.create(i.words.slice(t),4*o);return i.sigBytes=4*t,f.create({key:i,iv:a,salt:r})}},b=o.PasswordBasedCipher=m.extend({cfg:m.cfg.extend({kdf:y}),encrypt:function(e,t,o,r){var i=(r=this.cfg.extend(r)).kdf.execute(o,e.keySize,e.ivSize);r.iv=i.iv;var n=m.encrypt.call(this,e,t,i.key,r);return n.mixIn(i),n},decrypt:function(e,t,o,r){r=this.cfg.extend(r),t=this._parse(t,r.format);var i=r.kdf.execute(o,e.keySize,e.ivSize,t.salt);return r.iv=i.iv,m.decrypt.call(this,e,t,i.key,r)}})}()))},function(e,t,o){o(6)({target:"Object",stat:!0},{setPrototypeOf:o(75)})},function(e,t,o){o(6)({target:"Object",stat:!0,sham:!o(19)},{create:o(58)})},function(e,t,o){var r;e.exports=(r=o(57),o(156),o(391),o(300),o(301),function(){var e=r,t=e.lib.BlockCipher,o=e.algo,i=[],n=[],a=[],s=[],c=[],l=[],u=[],d=[],p=[],h=[];!function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var o=0,r=0;for(t=0;t<256;t++){var _=r^r<<1^r<<2^r<<3^r<<4;_=_>>>8^255&_^99,i[o]=_,n[_]=o;var f=e[o],g=e[f],m=e[g],y=257*e[_]^16843008*_;a[o]=y<<24|y>>>8,s[o]=y<<16|y>>>16,c[o]=y<<8|y>>>24,l[o]=y,y=16843009*m^65537*g^257*f^16843008*o,u[_]=y<<24|y>>>8,d[_]=y<<16|y>>>16,p[_]=y<<8|y>>>24,h[_]=y,o?(o=f^e[e[e[m^f]]],r^=e[e[r]]):o=r=1}}();var _=[0,1,2,4,8,16,32,64,128,27,54],f=o.AES=t.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,o=e.sigBytes/4,r=4*((this._nRounds=o+6)+1),n=this._keySchedule=[],a=0;a<r;a++)if(a<o)n[a]=t[a];else{var s=n[a-1];a%o?o>6&&a%o==4&&(s=i[s>>>24]<<24|i[s>>>16&255]<<16|i[s>>>8&255]<<8|i[255&s]):(s=i[(s=s<<8|s>>>24)>>>24]<<24|i[s>>>16&255]<<16|i[s>>>8&255]<<8|i[255&s],s^=_[a/o|0]<<24),n[a]=n[a-o]^s}for(var c=this._invKeySchedule=[],l=0;l<r;l++)a=r-l,s=l%4?n[a]:n[a-4],c[l]=l<4||a<=4?s:u[i[s>>>24]]^d[i[s>>>16&255]]^p[i[s>>>8&255]]^h[i[255&s]]}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,a,s,c,l,i)},decryptBlock:function(e,t){var o=e[t+1];e[t+1]=e[t+3],e[t+3]=o,this._doCryptBlock(e,t,this._invKeySchedule,u,d,p,h,n),o=e[t+1],e[t+1]=e[t+3],e[t+3]=o},_doCryptBlock:function(e,t,o,r,i,n,a,s){for(var c=this._nRounds,l=e[t]^o[0],u=e[t+1]^o[1],d=e[t+2]^o[2],p=e[t+3]^o[3],h=4,_=1;_<c;_++){var f=r[l>>>24]^i[u>>>16&255]^n[d>>>8&255]^a[255&p]^o[h++],g=r[u>>>24]^i[d>>>16&255]^n[p>>>8&255]^a[255&l]^o[h++],m=r[d>>>24]^i[p>>>16&255]^n[l>>>8&255]^a[255&u]^o[h++],y=r[p>>>24]^i[l>>>16&255]^n[u>>>8&255]^a[255&d]^o[h++];l=f,u=g,d=m,p=y}f=(s[l>>>24]<<24|s[u>>>16&255]<<16|s[d>>>8&255]<<8|s[255&p])^o[h++],g=(s[u>>>24]<<24|s[d>>>16&255]<<16|s[p>>>8&255]<<8|s[255&l])^o[h++],m=(s[d>>>24]<<24|s[p>>>16&255]<<16|s[l>>>8&255]<<8|s[255&u])^o[h++],y=(s[p>>>24]<<24|s[l>>>16&255]<<16|s[u>>>8&255]<<8|s[255&d])^o[h++],e[t]=f,e[t+1]=g,e[t+2]=m,e[t+3]=y},keySize:8});e.AES=t._createHelper(f)}(),r.AES)},function(e,t,o){var r;e.exports=(r=o(57),o(301),r.pad.NoPadding={pad:function(){},unpad:function(){}},r.pad.NoPadding)},function(e,t,o){"use strict";o.d(t,"a",(function(){return oe}));o(39),o(26),o(47),o(61),o(62),o(63),o(36),o(46),o(53),o(105),o(59),o(55),o(87),o(56),o(37),o(69),o(85),o(167),o(49),o(50),o(121),o(384);var r=o(21),i=(o(106),o(77),o(297),o(186),o(126),o(127),o(128),o(129),o(130),o(131),o(132),o(133),o(134),o(135),o(136),o(137),o(138),o(139),o(140),o(141),o(142),o(143),o(144),o(145),o(146),o(147),o(148),o(149),o(150),o(323),o(325),o(78)),n=o.n(i),a=o(182),s=(o(210),o(185),o(169),o(388),o(94),o(225),o(389),o(304)),c=o.n(s),l=o(254),u=o.n(l),d=o(156),p=o.n(d),h=o(305),_=o.n(h),f=o(57),g=o.n(f),m=o(28),y=o(3),b=function(){function e(){}return e.base64encode=function(t){var o,r,i,n,a,s;for(i=t.length,r=0,o="";r<i;){if(n=255&t.charCodeAt(r++),r==i){o+=e.base64EncodeChars.charAt(n>>2),o+=e.base64EncodeChars.charAt((3&n)<<4),o+="==";break}if(a=t.charCodeAt(r++),r==i){o+=e.base64EncodeChars.charAt(n>>2),o+=e.base64EncodeChars.charAt((3&n)<<4|(240&a)>>4),o+=e.base64EncodeChars.charAt((15&a)<<2),o+="=";break}s=t.charCodeAt(r++),o+=e.base64EncodeChars.charAt(n>>2),o+=e.base64EncodeChars.charAt((3&n)<<4|(240&a)>>4),o+=e.base64EncodeChars.charAt((15&a)<<2|(192&s)>>6),o+=e.base64EncodeChars.charAt(63&s)}return o},e.base64decode=function(t){var o,r,i,n,a,s,c;for(s=t.length,a=0,c="";a<s;){do{o=e.base64DecodeChars[255&t.charCodeAt(a++)]}while(a<s&&-1==o);if(-1==o)break;do{r=e.base64DecodeChars[255&t.charCodeAt(a++)]}while(a<s&&-1==r);if(-1==r)break;c+=String.fromCharCode(o<<2|(48&r)>>4);do{if(61==(i=255&t.charCodeAt(a++)))return c;i=e.base64DecodeChars[i]}while(a<s&&-1==i);if(-1==i)break;c+=String.fromCharCode((15&r)<<4|(60&i)>>2);do{if(61==(n=255&t.charCodeAt(a++)))return c;n=e.base64DecodeChars[n]}while(a<s&&-1==n);if(-1==n)break;c+=String.fromCharCode((3&i)<<6|n)}return c},e.utf16to8=function(e){var t,o,r,i;for(t="",r=e.length,o=0;o<r;o++)(i=e.charCodeAt(o))>=1&&i<=127?t+=e.charAt(o):i>2047?(t+=String.fromCharCode(224|i>>12&15),t+=String.fromCharCode(128|i>>6&63),t+=String.fromCharCode(128|i>>0&63)):(t+=String.fromCharCode(192|i>>6&31),t+=String.fromCharCode(128|i>>0&63));return t},e.utf8to16=function(e){var t,o,r,i,n,a;for(t="",r=e.length,o=0;o<r;)switch((i=e.charCodeAt(o++))>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:t+=e.charAt(o-1);break;case 12:case 13:n=e.charCodeAt(o++),t+=String.fromCharCode((31&i)<<6|63&n);break;case 14:n=e.charCodeAt(o++),a=e.charCodeAt(o++),t+=String.fromCharCode((15&i)<<12|(63&n)<<6|(63&a)<<0)}return t},e.base64EncodeChars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e.base64DecodeChars=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1],e}(),v=o(1),w=o(2),S=u.a.parse("89c78c018ed563571a3024342073c002"),I=u.a.parse("0d9d89c53bd0a086834b411fe8387946"),E={},O=function(e){return e&&!isNaN(e)&&/^[1-9]\d*$/.test(String(e))},P=function(e){var t=y.e.ZegoDocsViewFileTypeUnknown,o=("string"==typeof e?e:e.name).split(".").pop();switch(o?o.toUpperCase():o){case"XLSX":case"XLS":t=y.e.ZegoDocsViewFileTypeELS;break;case"DOC":case"DOCX":t=y.e.ZegoDocsViewFileTypeDOC;break;case"PPT":case"PPTX":t=y.e.ZegoDocsViewFileTypePPT;break;case"TXT":case"MD":case"C":case"CPP":case"H":case"HPP":case"PY":case"JS":case"XML":t=y.e.ZegoDocsViewFileTypeTXT;break;case"PDF":t=y.e.ZegoDocsViewFileTypePDF;break;case"JPG":case"JPEG":case"PNG":case"BMP":case"SVG":case"HEIC":t=y.e.ZegoDocsViewFileTypeIMG;break;case"ZIP":t=y.e.ZegoDocsViewFileTypeCustomH5}return v.a.getInstance().info1(w.a.GetFileType,{result:t}),t};var k=function(e){var t=function(e){for(var t=e.length,o=[],r=0;r<t;r++)o[r>>>2]|=(255&e[r])<<24-r%4*8;return g.a.lib.WordArray.create(o,t)}(e).toString(p.a);return function(e){for(var t=e.words,o=e.sigBytes,r=new Uint8Array(o),i=0;i<o;i++){var n=t[i>>>2]>>>24-i%4*8&255;r[i]=n}return r}(c.a.decrypt(t,S,{iv:I,mode:g.a.mode.CBC,padding:_.a}))},T=function(e,t){var o=y.e.ZegoDocsViewFileTypeDynamicPPTH5,r=t.file_type,i=t.expect_file_type,n=t.file_name,a=t.width,s=t.height,c=t.split_file_list,l=t.file_urls,u=i===o?o:r,d=u===y.e.ZegoDocsViewFileTypeELS,p={file_id:e,file_name:n,file_type:u,width:a,height:s,file_size:t.file_size,file_hash:t.file_hash,expect_file_type:i,file_urls:l,notes:t.notes||[],thumbnails:t.thumbnails||[],cdn_hosts:t.cdn_hosts||[],preload:t.preload||[]};if(c){var h=1;p.file_list=c.map((function(e){var o={};if(d){var r=Math.floor(e.width),i=Math.floor(e.height);o.name=n,o.file_name=e.file_name.replace(/\.[a-zA-Z]+$/,""),o.page_count=e.file_urls.length,o.page_list=e.file_urls.map((function(e,t){return{width:r,height:i,src:e,virtual_page_list:[{width:r,height:i,virtual_page_number:t+h}]}})),h+=e.file_urls.length}else{var a=0,s=[];e.split_data.forEach((function(e){e.page_data.forEach((function(e){for(var t=Math.floor(e[0]),o=Math.floor(e[1]),r=e[3],i=0;i<r;i++)s.push({width:t,height:o,src:l[a++],virtual_page_list:[{width:t,height:o,virtual_page_number:a}]})}))})),o.file_name=n,o.page_count=t.page_count,o.page_list=s}return o}))}else p.file_list=[{file_name:n,page_count:t.page_count,page_list:l.map((function(e,t){return{width:a,height:s,src:e,virtual_page_list:[{width:a,height:s,virtual_page_number:t+1}]}}))}];return p};function x(e,t,o,r,i){var n,a=E;if(e&&t.length){a[e]=1;var s=(t.findIndex((function(t){return t===e}))+1)%t.length;if(!a[t[s]]){var c=t[s],l=new XMLHttpRequest;if(l.timeout=6e4,o.includes("player.js")||o.includes("ppt.js")?l.open("GET",c+"/"+o):l.open("GET",c+r+o),l.onerror=function(e){A(w.a.Preload_quest_changeCDN_error,o,c,e)},l.ontimeout=function(e){A(w.a.Preload_quest_changeCDN_timeout,o,c,"资源请求超时")},l.onloadend=function(){var e=o.includes("player.js")||o.includes("ppt.js");if(200!==l.status&&e){var t={status:l.status,src:c+"/"+o,msg:l.responseText};A(w.a.Preload_quest_changeCDN_loadend,o,c,t)}e&&C(c+"/"+o,i)},l.onreadystatechange=function(){if(4==l.readyState)if(200!=l.status){n=!1;var e={status:l.status,src:c+o};A(w.a.Preload_quest_changeCDN_readystate,o,c,e)}else n=!0},l.send(null),!n)return!1}return!0}return!1}var C=function(e,t){window.performance||window.performance.getEntries?window.performance.getEntries().forEach((function(o){if(o.name.includes(e)){var r={event:t,name:o.name,duration:o.duration,redirectTime:o.redirectEnd-o.redirectStart,DNSTime:o.domainLookupEnd-o.domainLookupStart,appacche:o.domainLookupStart-o.fetchStart,HTTPQuest:o.responseEnd-o.requestStart,TCP:o.connectEnd-o.connectStart,origin:o};v.a.getInstance().info1(w.a.Preload_performance,{data:r})}})):v.a.getInstance().error1(w.a.Preload_performance,{result:"该浏览器不支持监测 performance"})},A=function(e,t,o,r){if(t.includes("player.js")||t.includes("ppt.js")){var i={message:r,src:o+t};v.a.getInstance().error1(e,{result:i})}};var D=function(e){try{var t=Uint8Array.from(b.base64decode(e),(function(e){return e.charCodeAt(0)})),o=new DataView(t.buffer),r=void 0;return r="function"==typeof o.getBigInt64?o.getBigUint64(0):function(e,t,o){var r=o.getUint32(e,t),i=o.getUint32(e+4,t),n=t?r+Math.pow(2,32)*i:Math.pow(2,32)*r+i;return Number.isSafeInteger(n),n}(0,!1,o),Number(r>0?r:o.getBigUint64(0,!0))}catch(e){}return-1},M=o(170),L=o(88),N="docservice",j="docservice-base",q="/doc/query_status",B="/doc/cvt_doc",R="/doc/cancel_cvt",H="/doc/access",V="/doc/upload_file",z="/doc/access",F=["https://"+N+"."+L.a.host.main,"https://"+j+"."+L.a.host.main],Z={queryStatusUrl:""+F[0]+q,createCvtUrl:""+F[0]+B,cancelCvtUrl:""+F[0]+R,queryUrl:""+F[0]+H,uploadH5Url:""+F[0]+V,accessUrl:""+F[0]+z},G={API_Label:"/doc/",Try_Time:6,updateFullURL:function(){return Z={queryStatusUrl:""+F[0]+q,createCvtUrl:""+F[0]+B,cancelCvtUrl:""+F[0]+R,queryUrl:""+F[0]+H,uploadH5Url:""+F[0]+V,accessUrl:""+F[0]+z}},updateOriginList:function(e,t,o){return F="-alpha"===e||"-test"===e?["https://docservice"+e+"."+L.a.host.main]:t?[o]:["https://"+N+"."+L.a.host.main,"https://"+j+"."+L.a.host.main],G.updateFullURL(),F},switchOrigin:function(){return F.reverse(),G.updateFullURL(),F},getOriginList:function(){return F},getFileLimit:function(){return L.a.file_type_size_limit},getFullURL:function(){return Z}},U=o(4),W=function(e,t,o,r){return new(o||(o=Promise))((function(i,n){function a(e){try{c(r.next(e))}catch(e){n(e)}}function s(e){try{c(r.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},Y=function(e,t){var o,r,i,n,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(n){return function(s){return function(n){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,r&&(i=2&n[0]?r.return:n[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,n[1])).done)return i;switch(r=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,r=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==n[0]&&2!==n[0])){a=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){a.label=n[1];break}if(6===n[0]&&a.label<i[1]){a.label=i[1],i=n;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(n);break}i[2]&&a.ops.pop(),a.trys.pop();continue}n=t.call(e,a)}catch(e){n=[6,e],r=0}finally{o=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,s])}}},J=a.a.getInstance(),X=function(){function e(){var e=this;this.axios=n.a.create({timeout:m.b}),this.accessInstance=J.axios,this.requestStatus=1,this.getFileName=function(e){return e.name},U.f.on(U.d.AccesshubConnected,(function(){e.requestStatus=2})),U.f.on(U.d.DirectConnected,(function(){e.requestStatus=3}))}return e.prototype.getMd5=function(e){return Object(M.a)(e)},e.prototype.getFileSize=function(e){return Promise.resolve(e.size)},e.prototype.requestProgress=function(e,t,o,i){return W(this,void 0,void 0,(function(){var n,a,s,c,l,u,d;return Y(this,(function(p){switch(p.label){case 0:n=0,a=e.length,p.label=1;case 1:if(!(n<a))return[3,9];n&&n!==a-1&&(s=G.switchOrigin(),v.a.getInstance().info1(w.a.SwitchOrigin,s)),c=e[n],t.url=c,p.label=2;case 2:return p.trys.push([2,7,,8]),v.a.getInstance().info1(w.a.RequestProgress,{tryTime:n+1,status:"start",params:t}),2!=this.requestStatus?[3,4]:[4,this.accessInstance(t)];case 3:return u=p.sent(),[3,6];case 4:return[4,this.axios(t)];case 5:u=p.sent(),p.label=6;case 6:return l=u,v.a.getInstance().info1(w.a.Request_Retry_RequestProgress,{tryTime:n+1,status:"end",params:t,result:l.data}),o(l),[3,9];case 7:return d=p.sent(),v.a.getInstance().error1(w.a.RequestProgress,{tryTime:n+1,status:"end",params:t,result:d}),n===a-1&&i(Object(r.b)(y.d.ZegoDocsViewErrorRequestFailure)),[3,8];case 8:return n++,[3,1];case 9:return[2]}}))}))},e.prototype.requestBefore=function(e){var t=G.getOriginList(),o=e.url,r=G.API_Label+o.split(G.API_Label)[1],i=[];return t=t.map((function(e){return e+r})),new Array(G.Try_Time).fill("").forEach((function(){i=i.concat.apply(i,t)})),v.a.getInstance().info1(w.a.RequestBefore,i),i},e.prototype.request=function(e){return this.post(e)},e.prototype.post=function(e){var t=this;return"arraybuffer"===e.responseType?2===this.requestStatus?this.accessInstance(e):this.axios(e):new Promise((function(o,r){var i=t.requestBefore(e);t.requestProgress(i,e,o,r)}))},e.prototype.requestAxios=function(e){var t=this;return"arraybuffer"===e.responseType?this.axios(e):new Promise((function(o,r){var i=t.requestBefore(e);t.requestProgress(i,e,o,r)}))},e.prototype.decryptImage=function(e){return this.requestAxios({url:e,method:"get",timeout:m.b,responseType:"arraybuffer"}).then((function(e){var t=new Uint8Array(e.data),o=k(t.slice(0,1024));return URL.createObjectURL(new Blob([o,t.slice(1024)],{type:"image/jpg"}))})).catch((function(e){throw e}))},e.prototype.uploadDoc=function(e,t,o){var i=e.fileServerProvider;return"oss"===i?this.uploadDocToOss(e,t):"sfs"===i?this.uploadDocToSfs(e,o):Promise.reject(Object(r.b)(y.d.ZegoDocsViewErrorParamInvalid))},e.prototype.uploadH5File=function(e,t,o,r){var i=e.name,n={app_id:r.app_id,user_id:r.id_name,platform:r.platform,web_token:r.web_token,file_name:i,file_type:y.e.ZegoDocsViewFileTypeCustomH5,width:t.width,height:t.height,page_count:t.pageCount};t.thumbnailList&&t.thumbnailList.length&&(n.thumbnails=t.thumbnailList);var a=new FormData;return a.append("req",new Blob([JSON.stringify(n)],{type:"application/json"})),a.append("document",e),this.axios({method:"post",url:r.url,data:a,timeout:m.c,onUploadProgress:function(e){if(o){var t=e.total,r=e.loaded;o({fileName:i,uploadPercent:Math.floor(r/t*100),total:t,loaded:r})}}})},e.prototype.uploadDocToOss=function(e,t){var o=e.oss,r=e.file,i=e.onProgress,n=e.fileName,a=e.fileHash,s=Object(M.b)(o),c=new FormData;return c.append("OSSAccessKeyId",s.OSSAccessKeyId),c.append("x-oss-security-token",s.securityToken),c.append("signature",s.signature),c.append("policy",s.policy),c.append("successActionStatus",s.successActionStatus),c.append("key",s.objectName),c.append("file",r),c.append("name",r.name),this.axios({method:"post",url:s.url,data:c,timeout:m.c,onUploadProgress:function(e){if(i&&!t){var o=e.total,r=e.loaded;i({status:y.g.UPLOADING,fileName:n,fileHash:a,uploadPercent:Math.floor(r/o*100),total:o,loaded:r})}}})},e.prototype.uploadDocToSfs=function(e,t){var o=e.sfs,r=e.fileHash,i=e.file,n=e.onProgress,a=e.fileName,s=o,c=s.token,l=s.expired_timestamp,u=s.api,d=s.object_name,p={app_id:t.app_id,user_id:t.id_name,platform:t.platform,expired_timestamp:l,sfs_token:c,file_name:d,file_hash:r},h=new FormData;return h.append("req",new Blob([JSON.stringify(p)],{type:"application/json"})),h.append("document",i),this.axios({method:"post",url:u,data:h,timeout:m.c,onUploadProgress:function(e){if(n){var t=e.total,o=e.loaded;n({status:y.g.UPLOADING,fileName:a,fileHash:r,uploadPercent:Math.floor(o/t*100),total:t,loaded:o})}}})},e}(),Q=function(){return(Q=Object.assign||function(e){for(var t,o=1,r=arguments.length;o<r;o++)for(var i in t=arguments[o])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},K=function(e,t,o,r){return new(o||(o=Promise))((function(i,n){function a(e){try{c(r.next(e))}catch(e){n(e)}}function s(e){try{c(r.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},$=function(e,t){var o,r,i,n,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(n){return function(s){return function(n){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,r&&(i=2&n[0]?r.return:n[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,n[1])).done)return i;switch(r=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,r=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==n[0]&&2!==n[0])){a=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){a.label=n[1];break}if(6===n[0]&&a.label<i[1]){a.label=i[1],i=n;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(n);break}i[2]&&a.ops.pop(),a.trys.pop();continue}n=t.call(e,a)}catch(e){n=[6,e],r=0}finally{o=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,s])}}},ee=-1!=="".indexOf("wx")?"wx":"web",te=-1!=="".indexOf("private"),oe=function(){function e(e){if(this.commonParams={platform:"wx"===ee?16:32,app_id:0,web_token:"",id_name:""},this.stateCenter={env:"",cancelMap:{},preloadPPTH5CDNUsedMap:{}},this.preloadFileArr=[],this.cacheFileSeq=0,this.cacheFileMap={},this.tokenTimer=null,this.timerArr=[],!e||!e.appID||isNaN(e.appID)||!e.token)throw new Error("constructor parameter error.");this.renewLocalToken(e.token),e.isTestEnv&&v.a.getInstance().setDocEnv("test"),this.init(e),this.platformAPI=new X}return e.prototype.renewToken=function(e){return e?(this.commonParams.web_token=e,this.renewLocalToken(e),v.a.getInstance().updateDocToken(e),!0):(v.a.getInstance().error1(w.a.RenewToken,"token is null"),!1)},e.prototype.renewLocalToken=function(e,t){this.token=e;var o=(new Date).getTime(),r=void 0;if(t&&"number"==typeof t)r=1e3*t;else{if(!["03","04"].includes(e.substring(0,2)))return;r=1e3*D(e.substring(2))-o}r&&this.resetTokenTimer(r)},e.prototype.resetTokenTimer=function(e){var t=this;e=(e=(e-=3e4)<0?0:e)>2147483648?2147483648:e,v.a.getInstance().info1(w.a.ResetTokenTimer,{interval:e}),this.tokenTimer&&(this.timerArr[this.tokenTimer]&&this.timerArr[this.tokenTimer](),clearTimeout(this.tokenTimer)),this.tokenTimer=setTimeout((function(){U.f.emit(U.a.TokenWillExpire),delete t.timerArr[t.tokenTimer]}),e),this.timerArr[this.tokenTimer]=this.startTimer},e.prototype.startTimer=function(){U.f.emit(U.a.TokenWillExpire)},e.prototype.init=function(e){v.a.getInstance().info1(w.a.Init,{config:e});var t=e.token,o=e.appID,r=e.userID,i=e.isTestEnv;this.commonParams.app_id=o,this.commonParams.web_token=t,this.commonParams.id_name=r||"",this.config={domain:te?"":this.getDomain("")},this.setTestEnv(!!i),v.a.getInstance().info1(w.a.New,{isProd:i})},e.prototype.getDomain=function(e){return v.a.getInstance().info1(w.a.GetDomain,"https://docservice"+e+".zego.im"),"https://docservice"+e+".zego.im"},e.prototype.isInvalidDomain=function(){var e=!this.stateCenter.env&&!this.config.domain;return v.a.getInstance().info1(w.a.IsInvalidDomain,{isInvalid:e}),e},e.prototype.getVersion=function(){return"2.10.0"},e.prototype.setTestEnv=function(e){"boolean"==typeof e&&(this.stateCenter.env=e?"-test":"");var t=G.updateOriginList(this.stateCenter.env,te,this.config.domain);v.a.getInstance().info1(w.a.UpdateOriginList,t)},e.prototype.setConfig=function(e,t){return v.a.getInstance().info1(w.a.API_setConfig,{key:e,value:t}),!(!e||null==t)&&(["dynamicPPT_HD","dynamicPPT_AutomaticPage",y.c.Domain,y.c.ThumbnailMode,y.c.EnableSizeReducedImages].includes(e)?(this.config[e]=t,e===y.c.Domain&&this.setTestEnv()):(this.stateCenter.env="true"===t||!0===t?"-alpha":"-test",v.a.getInstance().setDocEnv(this.stateCenter.env.replace("-","")),this.setTestEnv()),!0)},e.prototype.getConfig=function(e){return v.a.getInstance().info1(w.a.API_getConfig,{key:e,value:this.config[e]}),this.config[e]},e.prototype.decryptImage=function(e){return v.a.getInstance().info1(w.a.DecryptImage,{url:e}),this.platformAPI.decryptImage(e)},e.prototype.uploadH5File=function(e,t,o){return K(this,void 0,void 0,(function(){var i,n,a,s,c,l,u,d=this;return $(this,(function(p){switch(p.label){case 0:if(v.a.getInstance().info1(w.a.API_uploadH5File,{file:e,config:t}),!e||!t||!O(t.width)||!O(t.height)||!O(t.pageCount)||t.thumbnailList&&t.thumbnailList.length&&t.thumbnailList.length!==t.pageCount)return[2,Promise.reject(Object(r.b)(y.d.ZegoDocsViewErrorParamInvalid))];p.label=1;case 1:return p.trys.push([1,5,,6]),(i=P(e))!=y.e.ZegoDocsViewFileTypeCustomH5?[2,Promise.reject(Object(r.b)(y.d.ZegoDocsViewErrorZipFileInvalid))]:[4,this.platformAPI.getFileSize(e)];case 2:return n=p.sent(),this.checkSizeHandle(i,n)?[4,this.platformAPI.getMd5(e)]:[2,Promise.reject(Object(r.b)(y.d.ZegoDocsViewErrorFileSizeLimit))];case 3:return a=p.sent(),[4,this.queryStatus({fileHash:a,fileType:i,expectFileType:m.a.H5ZIP})];case 4:return s=p.sent(),c=s.fileID,v.a.getInstance().info1(w.a.UploadH5File,{fileType:i,fileSize:n,fileHash:a,statusInfo:s,fileID:c}),c?[2,Promise.resolve(c)]:[3,6];case 5:return l=p.sent(),u=Object(r.b)(l.code||y.d.ZegoDocsViewErrorUploadFailed),[2,Promise.reject(Q(Q({},u),{error:l}))];case 6:return[2,this.platformAPI.uploadH5File(e,t,o,Q(Q({},this.commonParams),{url:G.getFullURL().uploadH5Url})).then((function(o){var i,n=o.data;v.a.getInstance().info1(w.a.UploadH5File,{params:t,file:d.platformAPI.getFileName(e),result:n});var a=null===(i=n.ret)||void 0===i?void 0:i.code;return 0===a?n.file_id:Promise.reject(Object(r.b)(a))})).catch((function(e){var t;throw 413===(null===(t=null==e?void 0:e.response)||void 0===t?void 0:t.status)?Object(r.b)(y.d.ZegoDocsViewErrorFileSizeLimit):e}))]}}))}))},e.prototype.uploadFile=function(e){return v.a.getInstance().info1(w.a.API_uploadFile,{uploadParams:e}),!e.file||"number"!=typeof e.renderType||isNaN(e.renderType)?Promise.reject(Object(r.b)(y.d.ZegoDocsViewErrorParamInvalid)):e.file instanceof File&&0===e.file.size?Promise.reject(Object(r.b)(y.d.ZegoDocsViewErrorFileContentEmpty)):this.isInvalidDomain()?Promise.reject(Object(r.b)(y.d.ZegoDocsViewErrorEmptyDomain)):this.uploadProgress(e).then((function(t){return v.a.getInstance().info1(w.a.UploadFile,{params:e,result:t}),t}))},e.prototype.loadFile=function(e,t){var o=this;if(v.a.getInstance().info1(w.a.API_loadFile,{fileID:e,option:t}),this.isInvalidDomain())return Promise.reject(Object(r.b)(y.d.ZegoDocsViewErrorEmptyDomain));if(!e)return Promise.reject(Object(r.b)(y.d.ZegoDocsViewErrorParamInvalid));var i=this.getConfig(y.c.EnableSizeReducedImages);return i="true"===i||!0===i?2:1,new Promise((function(t,n){return K(o,void 0,void 0,(function(){var o,a,s,c,l;return $(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),o=Q(Q({},this.commonParams),{file_id:e,enable_size_reduced_images:i}),[4,this.platformAPI.request({url:G.getFullURL().queryUrl,method:"post",timeout:m.b,data:o})];case 1:return a=u.sent(),s=a.data,v.a.getInstance().info1(w.a.LoadFile,{data:s}),0===s.ret.code?(s.file_urls=s.file_urls||[],s.page_count=s.page_count||s.file_urls.length||1,(c=document.getElementById("preload_iframe"+s.file_hash))&&document.body.removeChild(c),t(T(e,s))):n(Object(r.b)(s.ret.code,s.ret.message)),[3,3];case 2:return l=u.sent(),n(l),[3,3];case 3:return[2]}}))}))}))},e.prototype.cacheFile=function(e,t){var o=this;return v.a.getInstance().info1(w.a.API_cacheFile,{fileID:e}),this.isInvalidDomain()?Promise.reject(Object(r.b)(y.d.ZegoDocsViewErrorEmptyDomain)):e?new Promise((function(i,n){return K(o,void 0,void 0,(function(){var o,a,s,c,l;return $(this,(function(u){switch(u.label){case 0:return u.trys.push([0,5,,6]),o=Q(Q({},this.commonParams),{file_id:e}),[4,this.platformAPI.request({url:G.getFullURL().queryUrl,method:"post",timeout:m.b,data:o})];case 1:return a=u.sent(),s=a.data,v.a.getInstance().info1(w.a.CacheFile,{data:s}),0!==s.ret.code?[3,3]:[4,this.preloadFile(s,this.cacheFileMap,++this.cacheFileSeq,e,t)];case 2:return c=u.sent(),i(c),[3,4];case 3:n(Object(r.b)(s.ret.code,s.ret.message)),u.label=4;case 4:return[3,6];case 5:return l=u.sent(),n(l),[3,6];case 6:return[2]}}))}))})):Promise.reject(Object(r.b)(y.d.ZegoDocsViewErrorParamInvalid))},e.prototype.cancelCacheFile=function(e){if(this.cacheFileMap[e]){var t=this.cacheFileMap[e].hasCancel=!0,o=this.cacheFileMap[e].result,r=this.cacheFileMap[e].listener,i=this.cacheFileMap[e].cbTimer;return o.state=y.a.Cached,r instanceof Function&&r(o),i&&clearInterval(i),delete this.cacheFileMap[e],t}return!1},e.prototype.cancelUploadFile=function(e){var t=this,o=e.fileHash,i=e.taskID;return v.a.getInstance().info1(w.a.API_cancelUploadFile,{fileHash:o,taskID:i}),new Promise(i?function(n,a){return K(t,void 0,void 0,(function(){var t,s,c,l;return $(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),t=Q(Q({},this.commonParams),{task_id:i}),[4,this.platformAPI.request({url:G.getFullURL().cancelCvtUrl,method:"post",timeout:m.b,data:t})];case 1:return s=u.sent(),0===(c=s.data).ret.code?(this.stateCenter.cancelMap[o]=i,v.a.getInstance().info1(w.a.CancelUploadFile,{result:e}),n(!0)):a(Object(r.b)(c.ret.code,c.ret.message)),[3,3];case 2:return l=u.sent(),a(l),[3,3];case 3:return[2]}}))}))}:function(e,r){t.stateCenter.cancelMap[o]=!0,e(!0)})},e.prototype.preloadFile=function(e,t,o,i,n){var a=this;return new Promise((function(s,c){return K(a,void 0,void 0,(function(){var a,l,u,d,p,h,_,f,g,m,b,S,I,E,O,P,k=this;return $(this,(function(D){if((a=e.expect_file_type===y.e.ZegoDocsViewFileTypeDynamicPPTH5||e.expect_file_type===y.e.ZegoDocsViewFileTypeCustomH5)&&!e.preload&&c(Object(r.b)(y.d.ZegoDocsViewErrorCacheNotSupported)),a&&e.preload){if((null===(P=this.preloadFileArr)||void 0===P?void 0:P.length)>0&&this.preloadFileArr.includes(i))return v.a.getInstance().info1(w.a.API_cacheFile,{preloadFileArr:this.preloadFileArr}),[2,s({totalFileNum:0,failedFileNum:0})];this.preloadFileArr.push(i),e.preload.slide_files||s({totalFileNum:0,failedFileNum:0}),l=0,u=0,[],d=e.file_urls[0].replace("index.html",""),p=e.cdn_hosts[0],h=d.split("zego.im")[1],_=e.cdn_hosts.reverse(),f=!1,g=!1;try{(m=document.createElement("iframe")).id="preload_iframe"+e.file_hash,m.width="0",m.height="0",m.style.display="none",m.src=e.file_urls[0],document.body.appendChild(m),window.addEventListener("message",(function(e){var t=e.data;t&&"zegodocsview"===t.source&&("syncCurrentStep"==t.action&&(g=!0,v.a.getInstance().info1(w.b.Preload_iframe_postMsg,"预加载时 player.js 执行了内部方法")))})),m.onerror=function(e){v.a.getInstance().error1(w.b.Preload_iframe_load_error,{result:e})},setTimeout((function(){if(!f){var e=m.src;g?(document.body.removeChild(m),v.a.getInstance().info1(w.b.Preload_iframe_load,{result:"suc"})):(v.a.getInstance().warn1(w.a.Preload_iframe_retry,{result:"60s 内未执行 start 内部方法认为加载失败，iframe 开始重试"}),f=!0,_.length>1?m.src=e.replace(_[1],_[0]):(document.body.removeChild(m),m.src=e,document.body.appendChild(m)),g=!1,v.a.getInstance().warn1(w.b.Preload_iframe_retry_cdn,{src:m.src}))}}),6e4),setTimeout((function(){f&&(document.body.removeChild(m),v.a.getInstance().info1(w.b.Preload_iframe_load,{result:"重试完毕",iframePlayerLoaded:g}))}),12e4)}catch(e){v.a.getInstance().info1(w.b.Preload_iframe_error,{result:e})}e.preload.preload_js||v.a.getInstance().error1(w.b.Preload_quest_error,"preload_js 不存在"),e.preload.preload_js&&e.preload.preload_js.forEach((function(e){try{var t=new XMLHttpRequest;t.timeout=6e4,t.open("GET",p+"/"+e.rel),t.onerror=function(t){x(d,_,e.rel,h,"onerror"),A(w.a.Preload_quest_error,e.rel,d,t),c(t)},t.ontimeout=function(t){x(d,_,e.rel,h,"ontimeout"),A(w.a.Preload_quest_timeout,e.rel,d,"资源请求超时"),c(t)},t.onloadend=function(){if(200!==t.status){var o={status:t.status,src:d+e.rel,msg:t.responseText};A(w.a.Preload_quest_loadend,e.rel,d,o)}C(e.rel)},t.onreadystatechange=function(){if(4==t.readyState){if(l++,200!=t.status){var o={status:t.status,src:d+e.rel};A(w.a.Preload_quest_readystate,e.rel,d,o),!x(d,_,e.rel,h,"onreadystatechange")&&u++}}else if(200!=t.status){o={status:t.status,src:d+e.rel,msg:t.statusText};A(w.a.Preload_onreadystate_error,e.rel,d,o)}},t.send(null)}catch(t){x(d,_,e.rel,h,"trycatch"),A(w.a.Preload_quest_error,e.rel,d,t)}})),e.preload.slide_files.forEach((function(e){for(var t in e)e[t].forEach((function(e){try{var t=new XMLHttpRequest;t.timeout=6e4,t.open("GET",d+e.rel),t.onreadystatechange=function(){if(4==t.readyState&&(l++,200!=t.status)){t.status,e.rel;!x(d,_,e.rel,h)&&u++}},t.send(null)}catch(e){}}))})),s({totalFileNum:l,failedFileNum:u})}else t[o]={result:{seq:o,totalFileNum:0,failedFileNum:0,loadedFileNum:0,state:y.a.Caching},hasCancel:!1,listener:n,cbTimer:null},b=t[o].result,e.enable_preload&&(S=e.file_urls,b.totalFileNum=S.length,n instanceof Function&&(t[o].cbTimer=setInterval((function(){n(b)}),2e3)),I=T(i,e),E=[],I.file_list.forEach((function(e){var t=!!e.page_count;e.page_list.forEach((function(e,o){E.push(e.src+(t?"?p="+(o+1):""))}))})),O=function(){if(t[o]){var e=t[o].cbTimer;b.state=y.a.Cached,n instanceof Function&&n(b),e&&clearInterval(e),delete t[o]}},this.queueRequest(E,t[o]).then((function(e){var r=0===e.length,i=!t[o]||t[o].hasCancel;if(r)return O();i?(b.failedFileNum=e.length,O()):k.queueRequest(e,t[o]).then((function(e){b.failedFileNum=e.length,O()}))})),s(b));return[2]}))}))}))},e.prototype.queueRequest=function(e,t){var o=e.length+1,r=0,i=e.length>5?5:e.length,a=[];return t.requestPromise=new Promise((function(s,c){!function c(l){if(!(i>=o)){if(t.hasCancel)return s(a);var u=l?0:i-1;e.slice(u,i).forEach((function(l){n.a.get(l,{timeout:6e4}).then((function(e){if(t.result.loadedFileNum+=1,i<=o)return++i,c()})).catch((function(e){if(a.push(l),i<=o)return++i,c()})).finally((function(){++r>=e.length&&s(a)}))}))}}(!0)})),t.requestPromise},e.prototype.uploadSucceedAfter=function(e){var t=e.result,o=e.onProgress,r=e.resolve;o&&o(t),r&&r(t.fileID)},e.prototype.uploadFailedAfter=function(e,t){e&&e(t)},e.prototype.uploadProgressInit=function(e){return K(this,void 0,void 0,(function(){var t,o,r,i,n,a,s,c,l,u;return $(this,(function(d){switch(d.label){case 0:return t=e.statusInitSub,o=e.file,r=e.fileName,i=e.onProgress,a=(n=t).oss,s=n.fileServerProvider,c=n.fileHash,l=n.sfs,u=this.stateCenter.cancelMap[c],v.a.getInstance().info1(w.a.UploadProgressInit,{progressCvtParams:e,statusInitSub:t,isCancel:u}),u?(i&&i({status:y.g.CONVERT_CANCEL,fileName:r,fileHash:c}),this.stateCenter.cancelMap[c]=!1,[2,!1]):[4,this.platformAPI.uploadDoc({file:o,fileServerProvider:s,oss:a,sfs:l,fileHash:c,fileName:r,onProgress:i},this.stateCenter.cancelMap[c],this.commonParams)];case 1:return d.sent(),i&&i({status:y.g.UPLOADED,fileName:r,fileHash:c}),[4,this.uploadProgressCvt(e)];case 2:return d.sent(),[2,!0]}}))}))},e.prototype.uploadProgressCvt=function(e){return K(this,void 0,void 0,(function(){var t,o,r,i,n,a,s,c,l,u,d,p,h,_,f,g;return $(this,(function(m){switch(m.label){case 0:return t=e.file,o=e.onProgress,r=e.fileType,i=e.fileHash,n=e.fileName,a=e.originReslove,s=e.resolve,c=e.expectFileType,l=e.originReject,u=e.reject,d=e.uploadOptions,p=this.stateCenter.cancelMap[i],o&&o({status:p?y.g.CONVERT_CANCEL:y.g.UPLOADED,fileName:n,fileHash:i}),p?(this.stateCenter.cancelMap[i]=!1,[2,!1]):(_=this.createCvtDoc,f={},[4,this.platformAPI.getFileSize(t)]);case 1:return[4,_.apply(this,[(f.fileSize=m.sent(),f.fileName=this.platformAPI.getFileName(t),f.fileType=r,f.fileHash=i,f.expectFileType=c,f.uploadOptions=d,f)])];case 2:return h=m.sent(),g={fileName:n,fileHash:i,taskID:h.taskID,onProgress:o},v.a.getInstance().info1(w.a.UploadProgressCvt,{uploadProgressParams:g}),[4,this.uploadProgress(g,a||s,l||u)];case 3:return m.sent(),[2,!0]}}))}))},e.prototype.checkTypeHandle=function(e){return e!==y.e.ZegoDocsViewFileTypeUnknown},e.prototype.checkRenderTypeHandle=function(e,t){return t!=y.f.ZegoDocsViewRenderTypeVectorAndIMG&&t!=y.f.ZegoDocsViewRenderTypeIMG||e!=y.e.ZegoDocsViewFileTypeCustomH5?t==y.f.ZegoDocsViewRenderTypeDynamicPPTH5&&e!==y.e.ZegoDocsViewFileTypePPT?(v.a.getInstance().info1(w.a.CheckRenderTypeHandle,"false"),!1):(v.a.getInstance().info1(w.a.CheckRenderTypeHandle,"true"),!0):(v.a.getInstance().info1(w.a.CheckRenderTypeHandle,"false"),!1)},e.prototype.checkSizeHandle=function(e,t){var o=G.getFileLimit(),r=o[0][1],i=o[1][1],n=o[2][1],a=o[3][1],s=o[4][1],c=o[5][1],l=o[6][1],u=!0;switch(e){case y.e.ZegoDocsViewFileTypePPT:t>r&&(u=!1);break;case y.e.ZegoDocsViewFileTypeDOC:t>i&&(u=!1);break;case y.e.ZegoDocsViewFileTypePDF:t>a&&(u=!1);break;case y.e.ZegoDocsViewFileTypeIMG:t>s&&(u=!1);break;case y.e.ZegoDocsViewFileTypeELS:t>n&&(u=!1);break;case y.e.ZegoDocsViewFileTypeTXT:t>c&&(u=!1);break;case y.e.ZegoDocsViewFileTypeCustomH5:t>l&&(u=!1)}return v.a.getInstance().info1(w.a.CheckSizeHandle,{result:u}),u},e.prototype.uploadProgress=function(e,t,o){var i=this;return v.a.getInstance().info1(w.a.UploadProgress,{uploadParams:e}),new Promise((function(n,a){return K(i,void 0,void 0,(function(){var i,s,c,l,u,d,p,h,_,f,g,b,S,I,E,O=this;return $(this,(function(k){switch(k.label){case 0:i="",s="",c=0,l=y.e.ZegoDocsViewFileTypeUnknown,k.label=1;case 1:return k.trys.push([1,19,,20]),d=(u=e).file,p=u.renderType,h=u.uploadOptions,_=void 0,f=m.a.PDF,d?y.f[p]?(l=P(d),this.checkTypeHandle(l)?this.checkRenderTypeHandle(l,p)?[4,this.platformAPI.getFileSize(d)]:[2,a(Object(r.b)(y.d.ZegoDocsViewErrorUnsupportRenderType))]:[2,a(Object(r.b)(y.d.ZegoDocsViewErrorConvertFileTypeInvalid))]):[2,a(Object(r.b)(y.d.ZegoDocsViewErrorUnsupportRenderType))]:[3,5];case 2:return c=k.sent(),this.checkSizeHandle(l,c)?(s=this.platformAPI.getFileName(d),f=function(e,t){var o;switch(e){case y.f.ZegoDocsViewRenderTypeVector:o=m.a.PDF;break;case y.f.ZegoDocsViewRenderTypeIMG:case y.f.ZegoDocsViewRenderTypeVectorAndIMG:o=t===y.e.ZegoDocsViewFileTypeIMG?m.a.IMG:m.a.IMGAndPDF;break;case y.f.ZegoDocsViewRenderTypeDynamicPPTH5:o=m.a.PPTH5;break;default:o=m.a.IMGAndPDF}return o}(p,l),[4,this.platformAPI.getMd5(d)]):[2,a(Object(r.b)(y.d.ZegoDocsViewErrorFileSizeLimit))];case 3:return i=k.sent(),[4,this.queryStatus({fileHash:i,fileType:l,expectFileType:f})];case 4:return _=k.sent(),v.a.getInstance().info1(w.a.UploadProgress_query,{fileName:s,expectFileType:f,fileHash:i,statusInfo:_}),[3,7];case 5:return s=(g=e).fileName,i=g.fileHash,[4,this.queryStatus({taskID:g.taskID})];case 6:_=k.sent(),v.a.getInstance().info1(w.a.UploadProgress_query,{params:g,statusInfo:_}),k.label=7;case 7:switch(b=_.status,v.a.getInstance().info1(w.a.UploadProgress_status,{status:b}),b){case y.g.UPLOADING:return[3,8];case y.g.UPLOADED:return[3,10];case y.g.WAITING:case y.g.CONVERTING:return[3,12];case y.g.CONVERTED:return[3,16]}return[3,17];case 8:return[4,this.uploadProgressInit({file:d,expectFileType:f,fileType:l,fileHash:i,fileName:s,statusInitSub:_,onProgress:e.onProgress,originReslove:t,resolve:n,originReject:o,reject:a,uploadOptions:h})];case 9:return k.sent(),[3,18];case 10:return[4,this.uploadProgressCvt({file:d,expectFileType:f,fileType:l,fileHash:i,fileName:s,onProgress:e.onProgress,originReslove:t,resolve:n,originReject:o,reject:a,uploadOptions:h})];case 11:return k.sent(),[3,18];case 12:return S=this.stateCenter.cancelMap[i],I=_.taskID,e.onProgress&&e.onProgress({status:S?y.g.CONVERT_CANCEL:b,fileName:s,fileHash:i,taskID:I}),S?(this.stateCenter.cancelMap[i]=!1,[4,this.cancelUploadFile({fileHash:i,taskID:I})]):[3,14];case 13:return k.sent(),[3,15];case 14:setTimeout((function(){return K(O,void 0,void 0,(function(){return $(this,(function(r){switch(r.label){case 0:return[4,this.uploadProgress({taskID:I,fileName:s,fileHash:i,onProgress:e.onProgress},t||n,o||a)];case 1:return r.sent(),[2]}}))}))}),2e3),k.label=15;case 15:return[3,18];case 16:return this.uploadSucceedAfter({result:{status:_.status,fileID:_.fileID,fileName:s,fileHash:i},onProgress:e.onProgress,resolve:t||n}),[3,18];case 17:return this.uploadFailedAfter(o||a,Q({status:b,taskID:I},Object(r.b)(y.d.ZegoDocsViewErrorConvertFail))),[3,18];case 18:return[3,20];case 19:return E=k.sent(),this.uploadFailedAfter(o||a,Q(Q({status:y.g.CONVERT_FAIL},Object(r.b)(E&&E.code||y.d.ZegoDocsViewErrorConvertFail)),{error:E})),[3,20];case 20:return[2]}}))}))}))},e.prototype.queryStatus=function(e){var t=this,o=Q({},this.commonParams);if(e.taskID)o.task_id=e.taskID;else{var i=e,n=i.fileHash,a=i.fileType,s=i.expectFileType;o.file_hash=n,o.file_type=a,o.expect_file_type=s}return new Promise((function(i,n){return K(t,void 0,void 0,(function(){var t,a,s,c,l,u,d,p,h,_,f,g,b;return $(this,(function(S){switch(S.label){case 0:return S.trys.push([0,2,,3]),[4,this.platformAPI.request({url:G.getFullURL().queryStatusUrl,method:"post",timeout:e.timeout||m.b,data:o})];case 1:if(t=S.sent(),a=t.data,s=a.ret,c=a.file_type,l=a.status,u=a.file_hash,d=a.file_server_provider,p=a.oss,h=a.sfs,_=a.task_id,f=a.query_interval,g=a.file_id,v.a.getInstance().info1(w.a.QueryStatus,{data:a}),0===s.code)switch(l){case 32:case 64:case 128:case 256:case 512:case 1024:case 8192:case 32768:case 32769:case 32773:case 32774:n(Object(r.b)(l));break;case 1:i({fileType:c,status:l,fileHash:u,fileServerProvider:d,oss:p,sfs:h});break;case 2:i({fileType:c,status:l,fileHash:u});break;case 4:i({fileType:c,status:l,taskID:_,queryInterval:f||1e3});break;case 8:i({fileType:c,status:l,taskID:_});break;case 16:i({fileID:g,status:l});break;default:n(Object(r.b)(y.d.ZegoDocsViewErrorConvertFail))}else n(Object(r.b)(a.ret.code,a.ret.message));return[3,3];case 2:return b=S.sent(),n(b),[3,3];case 3:return[2]}}))}))}))},e.prototype.getCvtH5HighQualityMode=function(){return"true"===String(this.config.dynamicPPT_HD)},e.prototype.getCvtThumbnailMode=function(){return+this.config.thumbnailMode||1},e.prototype.getCvtH5AutomaticPageMode=function(){var e=this.config.dynamicPPT_AutomaticPage;return null==e||"true"===String(e)?2:1},e.prototype.createCvtDoc=function(e){var t=this,o=e.timeout,i=e.srcFileUrl,n=e.fileName,a=e.fileHash,s=e.fileSize,c=e.fileType,l=e.expectFileType,u=e.uploadOptions,d=(null==u?void 0:u.renderImgType)||y.b.SVG,p=this.getConfig(y.c.EnableSizeReducedImages);p="true"===p||!0===p?2:1;var h=Q(Q({},this.commonParams),{file_name:n,file_hash:a,file_size:s,file_type:c,expect_file_type:l,enable_vector_image:d,enable_size_reduced_images:p}),_=this.getCvtThumbnailMode();1!=_&&(h.thumbnail_height_type=_);var f=this.getCvtH5HighQualityMode();f&&(h.export_high_quality_images=f);var g=this.getCvtH5AutomaticPageMode();return 2!=g&&(h.h5_automatic_page_turning=g),i&&(h.src_file_url=i),v.a.getInstance().info1(w.a.CreateCvtDoc,{createCvtDocParams:e,sendData:h}),new Promise((function(e,i){return K(t,void 0,void 0,(function(){var t,n,a;return $(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,this.platformAPI.request({url:G.getFullURL().createCvtUrl,method:"post",timeout:o||m.b,data:h})];case 1:return t=s.sent(),n=t.data,v.a.getInstance().info1(w.a.CreateCvtDoc,{data:n}),0===n.ret.code?e({status:n.status,taskID:n.task_id}):i(Object(r.b)(n.ret.code,n.ret.message)),[3,3];case 2:return a=s.sent(),i(a),[3,3];case 3:return[2]}}))}))}))},e}()},function(e,t,o){var r=o(6),i=o(383);r({target:"Function",proto:!0,forced:Function.bind!==i},{bind:i})},function(e,t,o){"use strict";var r,i,n,a=o(6),s=o(44),c=o(152),l=o(11),u=o(13),d=o(25),p=o(75),h=o(72),_=o(178),f=o(27),g=o(15),m=o(20),y=o(86),b=o(71),v=o(232).set,w=o(309),S=o(312),I=o(189),E=o(313),O=o(40),P=o(104),k=o(119),T=o(120),x=k.CONSTRUCTOR,C=k.REJECTION_EVENT,A=k.SUBCLASSING,D=O.getterFor("Promise"),M=O.set,L=P&&P.prototype,N=P,j=L,q=l.TypeError,B=l.document,R=l.process,H=T.f,V=H,z=!!(B&&B.createEvent&&l.dispatchEvent),F=function(e){var t;return!(!m(e)||!g(t=e.then))&&t},Z=function(e,t){var o,r,i,n=t.value,a=1==t.state,s=a?e.ok:e.fail,c=e.resolve,l=e.reject,d=e.domain;try{s?(a||(2===t.rejection&&J(t),t.rejection=1),!0===s?o=n:(d&&d.enter(),o=s(n),d&&(d.exit(),i=!0)),o===e.promise?l(q("Promise-chain cycle")):(r=F(o))?u(r,o,c,l):c(o)):l(n)}catch(e){d&&!i&&d.exit(),l(e)}},G=function(e,t){e.notified||(e.notified=!0,w((function(){for(var o,r=e.reactions;o=r.get();)Z(o,e);e.notified=!1,t&&!e.rejection&&W(e)})))},U=function(e,t,o){var r,i;z?((r=B.createEvent("Event")).promise=t,r.reason=o,r.initEvent(e,!1,!0),l.dispatchEvent(r)):r={promise:t,reason:o},!C&&(i=l["on"+e])?i(r):"unhandledrejection"===e&&S("Unhandled promise rejection",o)},W=function(e){u(v,l,(function(){var t,o=e.facade,r=e.value;if(Y(e)&&(t=I((function(){c?R.emit("unhandledRejection",r,o):U("unhandledrejection",o,r)})),e.rejection=c||Y(e)?2:1,t.error))throw t.value}))},Y=function(e){return 1!==e.rejection&&!e.parent},J=function(e){u(v,l,(function(){var t=e.facade;c?R.emit("rejectionHandled",t):U("rejectionhandled",t,e.value)}))},X=function(e,t,o){return function(r){e(t,r,o)}},Q=function(e,t,o){e.done||(e.done=!0,o&&(e=o),e.value=t,e.state=2,G(e,!0))},K=function(e,t,o){if(!e.done){e.done=!0,o&&(e=o);try{if(e.facade===t)throw q("Promise can't be resolved itself");var r=F(t);r?w((function(){var o={done:!1};try{u(r,t,X(K,o,e),X(Q,o,e))}catch(t){Q(o,t,e)}})):(e.value=t,e.state=1,G(e,!1))}catch(t){Q({done:!1},t,e)}}};if(x&&(j=(N=function(e){y(this,j),f(e),u(r,this);var t=D(this);try{e(X(K,t),X(Q,t))}catch(e){Q(t,e)}}).prototype,(r=function(e){M(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:new E,rejection:!1,state:0,value:void 0})}).prototype=d(j,"then",(function(e,t){var o=D(this),r=H(b(this,N));return o.parent=!0,r.ok=!g(e)||e,r.fail=g(t)&&t,r.domain=c?R.domain:void 0,0==o.state?o.reactions.add(r):w((function(){Z(r,o)})),r.promise})),i=function(){var e=new r,t=D(e);this.promise=e,this.resolve=X(K,t),this.reject=X(Q,t)},T.f=H=function(e){return e===N||void 0===e?new i(e):V(e)},!s&&g(P)&&L!==Object.prototype)){n=L.then,A||d(L,"then",(function(e,t){var o=this;return new N((function(e,t){u(n,o,e,t)})).then(e,t)}),{unsafe:!0});try{delete L.constructor}catch(e){}p&&p(L,j)}a({global:!0,constructor:!0,wrap:!0,forced:x},{Promise:N}),h(N,"Promise",!1,!0),_("Promise")},function(e,t,o){var r,i,n,a,s,c,l,u,d=o(11),p=o(34),h=o(76).f,_=o(232).set,f=o(233),g=o(310),m=o(311),y=o(152),b=d.MutationObserver||d.WebKitMutationObserver,v=d.document,w=d.process,S=d.Promise,I=h(d,"queueMicrotask"),E=I&&I.value;E||(r=function(){var e,t;for(y&&(e=w.domain)&&e.exit();i;){t=i.fn,i=i.next;try{t()}catch(e){throw i?a():n=void 0,e}}n=void 0,e&&e.enter()},f||y||m||!b||!v?!g&&S&&S.resolve?((l=S.resolve(void 0)).constructor=S,u=p(l.then,l),a=function(){u(r)}):y?a=function(){w.nextTick(r)}:(_=p(_,d),a=function(){_(r)}):(s=!0,c=v.createTextNode(""),new b(r).observe(c,{characterData:!0}),a=function(){c.data=s=!s})),e.exports=E||function(e){var t={fn:e,next:void 0};n&&(n.next=t),i||(i=t,a()),n=t}},function(e,t,o){var r=o(66),i=o(11);e.exports=/ipad|iphone|ipod/i.test(r)&&void 0!==i.Pebble},function(e,t,o){var r=o(66);e.exports=/web0s(?!.*chrome)/i.test(r)},function(e,t,o){var r=o(11);e.exports=function(e,t){var o=r.console;o&&o.error&&(1==arguments.length?o.error(e):o.error(e,t))}},function(e,t){var o=function(){this.head=null,this.tail=null};o.prototype={add:function(e){var t={item:e,next:null};this.head?this.tail.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return this.head=e.next,this.tail===e&&(this.tail=null),e.item}},e.exports=o},function(e,t,o){var r=o(234),i=o(152);e.exports=!r&&!i&&"object"==typeof window&&"object"==typeof document},function(e,t,o){"use strict";var r=o(6),i=o(13),n=o(27),a=o(120),s=o(189),c=o(38);r({target:"Promise",stat:!0,forced:o(236)},{all:function(e){var t=this,o=a.f(t),r=o.resolve,l=o.reject,u=s((function(){var o=n(t.resolve),a=[],s=0,u=1;c(e,(function(e){var n=s++,c=!1;u++,i(o,t,e).then((function(e){c||(c=!0,a[n]=e,--u||r(a))}),l)})),--u||r(a)}));return u.error&&l(u.value),o.promise}})},function(e,t,o){"use strict";var r=o(6),i=o(44),n=o(119).CONSTRUCTOR,a=o(104),s=o(32),c=o(15),l=o(25),u=a&&a.prototype;if(r({target:"Promise",proto:!0,forced:n,real:!0},{catch:function(e){return this.then(void 0,e)}}),!i&&c(a)){var d=s("Promise").prototype.catch;u.catch!==d&&l(u,"catch",d,{unsafe:!0})}},function(e,t,o){"use strict";var r=o(6),i=o(13),n=o(27),a=o(120),s=o(189),c=o(38);r({target:"Promise",stat:!0,forced:o(236)},{race:function(e){var t=this,o=a.f(t),r=o.reject,l=s((function(){var a=n(t.resolve);c(e,(function(e){i(a,t,e).then(o.resolve,r)}))}));return l.error&&r(l.value),o.promise}})},function(e,t,o){"use strict";var r=o(6),i=o(13),n=o(120);r({target:"Promise",stat:!0,forced:o(119).CONSTRUCTOR},{reject:function(e){var t=n.f(this);return i(t.reject,void 0,e),t.promise}})},function(e,t,o){"use strict";var r=o(6),i=o(32),n=o(44),a=o(104),s=o(119).CONSTRUCTOR,c=o(255),l=i("Promise"),u=n&&!s;r({target:"Promise",stat:!0,forced:n||s},{resolve:function(e){return c(u&&this===l?a:this,e)}})},function(e,t,o){var r=o(6),i=o(11),n=o(237).setInterval;r({global:!0,bind:!0,forced:i.setInterval!==n},{setInterval:n})},function(e,t,o){var r=o(6),i=o(11),n=o(237).setTimeout;r({global:!0,bind:!0,forced:i.setTimeout!==n},{setTimeout:n})},function(e,t,o){var r=o(7),i=o(29),n=Math.floor,a=r("".charAt),s=r("".replace),c=r("".slice),l=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,u=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,o,r,d,p){var h=o+e.length,_=r.length,f=u;return void 0!==d&&(d=i(d),f=l),s(p,f,(function(i,s){var l;switch(a(s,0)){case"$":return"$";case"&":return e;case"`":return c(t,0,o);case"'":return c(t,h);case"<":l=d[c(s,1,-1)];break;default:var u=+s;if(0===u)return i;if(u>_){var p=n(u/10);return 0===p?i:p<=_?void 0===r[p-1]?a(s,1):r[p-1]+a(s,1):i}l=r[u-1]}return void 0===l?"":l}))}},function(e,t,o){o(385)},function(e,t,o){var r=o(14),i=o(235);e.exports=function(e,t,o,n){try{return n?t(r(o)[0],o[1]):t(o)}catch(t){i(e,"throw",t)}}},function(e,t,o){o(299)},function(e,t,o){"use strict";var r=o(43),i=o(238),n=o(327),a=o(244);function s(e){var t=new n(e),o=i(n.prototype.request,t);return r.extend(o,n.prototype,t),r.extend(o,t),o}var c=s(o(241));c.Axios=n,c.create=function(e){return s(a(c.defaults,e))},c.Cancel=o(245),c.CancelToken=o(341),c.isCancel=o(240),c.all=function(e){return Promise.all(e)},c.spread=o(342),e.exports=c,e.exports.default=c},function(e,t,o){"use strict";var r=o(43),i=o(239),n=o(328),a=o(329),s=o(244);function c(e){this.defaults=e,this.interceptors={request:new n,response:new n}}c.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=s(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[a,void 0],o=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)o=o.then(t.shift(),t.shift());return o},c.prototype.getUri=function(e){return e=s(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){c.prototype[e]=function(t,o){return this.request(r.merge(o||{},{method:e,url:t}))}})),r.forEach(["post","put","patch"],(function(e){c.prototype[e]=function(t,o,i){return this.request(r.merge(i||{},{method:e,url:t,data:o}))}})),e.exports=c},function(e,t,o){"use strict";var r=o(43);function i(){this.handlers=[]}i.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},function(e,t,o){"use strict";var r=o(43),i=o(330),n=o(240),a=o(241);function s(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return s(e),e.headers=e.headers||{},e.data=i(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||a.adapter)(e).then((function(t){return s(e),t.data=i(t.data,t.headers,e.transformResponse),t}),(function(t){return n(t)||(s(e),t&&t.response&&(t.response.data=i(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},function(e,t,o){"use strict";var r=o(43);e.exports=function(e,t,o){return r.forEach(o,(function(o){e=o(e,t)})),e}},function(e,t){var o,r,i=e.exports={};function n(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(o===setTimeout)return setTimeout(e,0);if((o===n||!o)&&setTimeout)return o=setTimeout,setTimeout(e,0);try{return o(e,0)}catch(t){try{return o.call(null,e,0)}catch(t){return o.call(this,e,0)}}}!function(){try{o="function"==typeof setTimeout?setTimeout:n}catch(e){o=n}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var c,l=[],u=!1,d=-1;function p(){u&&c&&(u=!1,c.length?l=c.concat(l):d=-1,l.length&&h())}function h(){if(!u){var e=s(p);u=!0;for(var t=l.length;t;){for(c=l,l=[];++d<t;)c&&c[d].run();d=-1,t=l.length}c=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function _(e,t){this.fun=e,this.array=t}function f(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var o=1;o<arguments.length;o++)t[o-1]=arguments[o];l.push(new _(e,t)),1!==l.length||u||s(h)},_.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=f,i.addListener=f,i.once=f,i.off=f,i.removeListener=f,i.removeAllListeners=f,i.emit=f,i.prependListener=f,i.prependOnceListener=f,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,o){"use strict";var r=o(43);e.exports=function(e,t){r.forEach(e,(function(o,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=o,delete e[r])}))}},function(e,t,o){"use strict";var r=o(243);e.exports=function(e,t,o){var i=o.config.validateStatus;!i||i(o.status)?e(o):t(r("Request failed with status code "+o.status,o.config,null,o.request,o))}},function(e,t,o){"use strict";e.exports=function(e,t,o,r,i){return e.config=t,o&&(e.code=o),e.request=r,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},function(e,t,o){"use strict";var r=o(336),i=o(337);e.exports=function(e,t){return e&&!r(t)?i(e,t):t}},function(e,t,o){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,o){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,o){"use strict";var r=o(43),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,o,n,a={};return e?(r.forEach(e.split("\n"),(function(e){if(n=e.indexOf(":"),t=r.trim(e.substr(0,n)).toLowerCase(),o=r.trim(e.substr(n+1)),t){if(a[t]&&i.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([o]):a[t]?a[t]+", "+o:o}})),a):a}},function(e,t,o){"use strict";var r=o(43);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),o=document.createElement("a");function i(e){var r=e;return t&&(o.setAttribute("href",r),r=o.href),o.setAttribute("href",r),{href:o.href,protocol:o.protocol?o.protocol.replace(/:$/,""):"",host:o.host,search:o.search?o.search.replace(/^\?/,""):"",hash:o.hash?o.hash.replace(/^#/,""):"",hostname:o.hostname,port:o.port,pathname:"/"===o.pathname.charAt(0)?o.pathname:"/"+o.pathname}}return e=i(window.location.href),function(t){var o=r.isString(t)?i(t):t;return o.protocol===e.protocol&&o.host===e.host}}():function(){return!0}},function(e,t,o){"use strict";var r=o(43);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,o,i,n,a){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(o)&&s.push("expires="+new Date(o).toGMTString()),r.isString(i)&&s.push("path="+i),r.isString(n)&&s.push("domain="+n),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,o){"use strict";var r=o(245);function i(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var o=this;e((function(e){o.reason||(o.reason=new r(e),t(o.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},function(e,t,o){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,o){!function(e){"use strict";var t=(e,t,o,r)=>{let i=65535&e|0,n=e>>>16&65535|0,a=0;for(;0!==o;){a=o>2e3?2e3:o,o-=a;do{i=i+t[r++]|0,n=n+i|0}while(--a);i%=65521,n%=65521}return i|n<<16|0};const o=new Uint32Array((()=>{let e,t=[];for(var o=0;o<256;o++){e=o;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[o]=e}return t})());var r=(e,t,r,i)=>{const n=o,a=i+r;e^=-1;for(let o=i;o<a;o++)e=e>>>8^n[255&(e^t[o])];return-1^e},i=function(e,t){let o,r,i,n,a,s,c,l,u,d,p,h,_,f,g,m,y,b,v,w,S,I,E,O;const P=e.state;o=e.next_in,E=e.input,r=o+(e.avail_in-5),i=e.next_out,O=e.output,n=i-(t-e.avail_out),a=i+(e.avail_out-257),s=P.dmax,c=P.wsize,l=P.whave,u=P.wnext,d=P.window,p=P.hold,h=P.bits,_=P.lencode,f=P.distcode,g=(1<<P.lenbits)-1,m=(1<<P.distbits)-1;e:do{h<15&&(p+=E[o++]<<h,h+=8,p+=E[o++]<<h,h+=8),y=_[p&g];t:for(;;){if(b=y>>>24,p>>>=b,h-=b,b=y>>>16&255,0===b)O[i++]=65535&y;else{if(!(16&b)){if(0==(64&b)){y=_[(65535&y)+(p&(1<<b)-1)];continue t}if(32&b){P.mode=12;break e}e.msg="invalid literal/length code",P.mode=30;break e}v=65535&y,b&=15,b&&(h<b&&(p+=E[o++]<<h,h+=8),v+=p&(1<<b)-1,p>>>=b,h-=b),h<15&&(p+=E[o++]<<h,h+=8,p+=E[o++]<<h,h+=8),y=f[p&m];o:for(;;){if(b=y>>>24,p>>>=b,h-=b,b=y>>>16&255,!(16&b)){if(0==(64&b)){y=f[(65535&y)+(p&(1<<b)-1)];continue o}e.msg="invalid distance code",P.mode=30;break e}if(w=65535&y,b&=15,h<b&&(p+=E[o++]<<h,h+=8,h<b&&(p+=E[o++]<<h,h+=8)),w+=p&(1<<b)-1,w>s){e.msg="invalid distance too far back",P.mode=30;break e}if(p>>>=b,h-=b,b=i-n,w>b){if(b=w-b,b>l&&P.sane){e.msg="invalid distance too far back",P.mode=30;break e}if(S=0,I=d,0===u){if(S+=c-b,b<v){v-=b;do{O[i++]=d[S++]}while(--b);S=i-w,I=O}}else if(u<b){if(S+=c+u-b,b-=u,b<v){v-=b;do{O[i++]=d[S++]}while(--b);if(S=0,u<v){b=u,v-=b;do{O[i++]=d[S++]}while(--b);S=i-w,I=O}}}else if(S+=u-b,b<v){v-=b;do{O[i++]=d[S++]}while(--b);S=i-w,I=O}for(;v>2;)O[i++]=I[S++],O[i++]=I[S++],O[i++]=I[S++],v-=3;v&&(O[i++]=I[S++],v>1&&(O[i++]=I[S++]))}else{S=i-w;do{O[i++]=O[S++],O[i++]=O[S++],O[i++]=O[S++],v-=3}while(v>2);v&&(O[i++]=O[S++],v>1&&(O[i++]=O[S++]))}break}}break}}while(o<r&&i<a);v=h>>3,o-=v,h-=v<<3,p&=(1<<h)-1,e.next_in=o,e.next_out=i,e.avail_in=o<r?r-o+5:5-(o-r),e.avail_out=i<a?a-i+257:257-(i-a),P.hold=p,P.bits=h};const n=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),a=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),s=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),c=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var l=(e,t,o,r,i,l,u,d)=>{const p=d.bits;let h,_,f,g,m,y,b=0,v=0,w=0,S=0,I=0,E=0,O=0,P=0,k=0,T=0,x=null,C=0;const A=new Uint16Array(16),D=new Uint16Array(16);let M,L,N,j=null,q=0;for(b=0;b<=15;b++)A[b]=0;for(v=0;v<r;v++)A[t[o+v]]++;for(I=p,S=15;S>=1&&0===A[S];S--);if(I>S&&(I=S),0===S)return i[l++]=20971520,i[l++]=20971520,d.bits=1,0;for(w=1;w<S&&0===A[w];w++);for(I<w&&(I=w),P=1,b=1;b<=15;b++)if(P<<=1,P-=A[b],P<0)return-1;if(P>0&&(0===e||1!==S))return-1;for(D[1]=0,b=1;b<15;b++)D[b+1]=D[b]+A[b];for(v=0;v<r;v++)0!==t[o+v]&&(u[D[t[o+v]]++]=v);if(0===e?(x=j=u,y=19):1===e?(x=n,C-=257,j=a,q-=257,y=256):(x=s,j=c,y=-1),T=0,v=0,b=w,m=l,E=I,O=0,f=-1,k=1<<I,g=k-1,1===e&&k>852||2===e&&k>592)return 1;for(;;){M=b-O,u[v]<y?(L=0,N=u[v]):u[v]>y?(L=j[q+u[v]],N=x[C+u[v]]):(L=96,N=0),h=1<<b-O,_=1<<E,w=_;do{_-=h,i[m+(T>>O)+_]=M<<24|L<<16|N|0}while(0!==_);for(h=1<<b-1;T&h;)h>>=1;if(0!==h?(T&=h-1,T+=h):T=0,v++,0==--A[b]){if(b===S)break;b=t[o+u[v]]}if(b>I&&(T&g)!==f){for(0===O&&(O=I),m+=w,E=b-O,P=1<<E;E+O<S&&(P-=A[E+O],!(P<=0));)E++,P<<=1;if(k+=1<<E,1===e&&k>852||2===e&&k>592)return 1;f=T&g,i[f]=I<<24|E<<16|m-l|0}}return 0!==T&&(i[m+T]=b-O<<24|64<<16|0),d.bits=I,0},u={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{Z_FINISH:d,Z_BLOCK:p,Z_TREES:h,Z_OK:_,Z_STREAM_END:f,Z_NEED_DICT:g,Z_STREAM_ERROR:m,Z_DATA_ERROR:y,Z_MEM_ERROR:b,Z_BUF_ERROR:v,Z_DEFLATED:w}=u,S=12,I=30,E=e=>(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24);function O(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const P=e=>{if(!e||!e.state)return m;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,_},k=e=>{if(!e||!e.state)return m;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,P(e)},T=(e,t)=>{let o;if(!e||!e.state)return m;const r=e.state;return t<0?(o=0,t=-t):(o=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?m:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=o,r.wbits=t,k(e))},x=(e,t)=>{if(!e)return m;const o=new O;e.state=o,o.window=null;const r=T(e,t);return r!==_&&(e.state=null),r};let C,A,D=!0;const M=e=>{if(D){C=new Int32Array(512),A=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(l(1,e.lens,0,288,C,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;l(2,e.lens,0,32,A,0,e.work,{bits:5}),D=!1}e.lencode=C,e.lenbits=9,e.distcode=A,e.distbits=5},L=(e,t,o,r)=>{let i;const n=e.state;return null===n.window&&(n.wsize=1<<n.wbits,n.wnext=0,n.whave=0,n.window=new Uint8Array(n.wsize)),r>=n.wsize?(n.window.set(t.subarray(o-n.wsize,o),0),n.wnext=0,n.whave=n.wsize):(i=n.wsize-n.wnext,i>r&&(i=r),n.window.set(t.subarray(o-r,o-r+i),n.wnext),(r-=i)?(n.window.set(t.subarray(o-r,o),0),n.wnext=r,n.whave=n.wsize):(n.wnext+=i,n.wnext===n.wsize&&(n.wnext=0),n.whave<n.wsize&&(n.whave+=i))),0};var N=k,j=x,q=(e,o)=>{let n,a,s,c,u,O,P,k,T,x,C,A,D,N,j,q,B,R,H,V,z,F,Z=0;const G=new Uint8Array(4);let U,W;const Y=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return m;n=e.state,n.mode===S&&(n.mode=13),u=e.next_out,s=e.output,P=e.avail_out,c=e.next_in,a=e.input,O=e.avail_in,k=n.hold,T=n.bits,x=O,C=P,F=_;e:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;T<16;){if(0===O)break e;O--,k+=a[c++]<<T,T+=8}if(2&n.wrap&&35615===k){n.check=0,G[0]=255&k,G[1]=k>>>8&255,n.check=r(n.check,G,2,0),k=0,T=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&k)<<8)+(k>>8))%31){e.msg="incorrect header check",n.mode=I;break}if((15&k)!==w){e.msg="unknown compression method",n.mode=I;break}if(k>>>=4,T-=4,z=8+(15&k),0===n.wbits)n.wbits=z;else if(z>n.wbits){e.msg="invalid window size",n.mode=I;break}n.dmax=1<<n.wbits,e.adler=n.check=1,n.mode=512&k?10:S,k=0,T=0;break;case 2:for(;T<16;){if(0===O)break e;O--,k+=a[c++]<<T,T+=8}if(n.flags=k,(255&n.flags)!==w){e.msg="unknown compression method",n.mode=I;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=I;break}n.head&&(n.head.text=k>>8&1),512&n.flags&&(G[0]=255&k,G[1]=k>>>8&255,n.check=r(n.check,G,2,0)),k=0,T=0,n.mode=3;case 3:for(;T<32;){if(0===O)break e;O--,k+=a[c++]<<T,T+=8}n.head&&(n.head.time=k),512&n.flags&&(G[0]=255&k,G[1]=k>>>8&255,G[2]=k>>>16&255,G[3]=k>>>24&255,n.check=r(n.check,G,4,0)),k=0,T=0,n.mode=4;case 4:for(;T<16;){if(0===O)break e;O--,k+=a[c++]<<T,T+=8}n.head&&(n.head.xflags=255&k,n.head.os=k>>8),512&n.flags&&(G[0]=255&k,G[1]=k>>>8&255,n.check=r(n.check,G,2,0)),k=0,T=0,n.mode=5;case 5:if(1024&n.flags){for(;T<16;){if(0===O)break e;O--,k+=a[c++]<<T,T+=8}n.length=k,n.head&&(n.head.extra_len=k),512&n.flags&&(G[0]=255&k,G[1]=k>>>8&255,n.check=r(n.check,G,2,0)),k=0,T=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&(A=n.length,A>O&&(A=O),A&&(n.head&&(z=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(a.subarray(c,c+A),z)),512&n.flags&&(n.check=r(n.check,a,A,c)),O-=A,c+=A,n.length-=A),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===O)break e;A=0;do{z=a[c+A++],n.head&&z&&n.length<65536&&(n.head.name+=String.fromCharCode(z))}while(z&&A<O);if(512&n.flags&&(n.check=r(n.check,a,A,c)),O-=A,c+=A,z)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===O)break e;A=0;do{z=a[c+A++],n.head&&z&&n.length<65536&&(n.head.comment+=String.fromCharCode(z))}while(z&&A<O);if(512&n.flags&&(n.check=r(n.check,a,A,c)),O-=A,c+=A,z)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;T<16;){if(0===O)break e;O--,k+=a[c++]<<T,T+=8}if(k!==(65535&n.check)){e.msg="header crc mismatch",n.mode=I;break}k=0,T=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=S;break;case 10:for(;T<32;){if(0===O)break e;O--,k+=a[c++]<<T,T+=8}e.adler=n.check=E(k),k=0,T=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=u,e.avail_out=P,e.next_in=c,e.avail_in=O,n.hold=k,n.bits=T,g;e.adler=n.check=1,n.mode=S;case S:if(o===p||o===h)break e;case 13:if(n.last){k>>>=7&T,T-=7&T,n.mode=27;break}for(;T<3;){if(0===O)break e;O--,k+=a[c++]<<T,T+=8}switch(n.last=1&k,k>>>=1,T-=1,3&k){case 0:n.mode=14;break;case 1:if(M(n),n.mode=20,o===h){k>>>=2,T-=2;break e}break;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=I}k>>>=2,T-=2;break;case 14:for(k>>>=7&T,T-=7&T;T<32;){if(0===O)break e;O--,k+=a[c++]<<T,T+=8}if((65535&k)!=(k>>>16^65535)){e.msg="invalid stored block lengths",n.mode=I;break}if(n.length=65535&k,k=0,T=0,n.mode=15,o===h)break e;case 15:n.mode=16;case 16:if(A=n.length,A){if(A>O&&(A=O),A>P&&(A=P),0===A)break e;s.set(a.subarray(c,c+A),u),O-=A,c+=A,P-=A,u+=A,n.length-=A;break}n.mode=S;break;case 17:for(;T<14;){if(0===O)break e;O--,k+=a[c++]<<T,T+=8}if(n.nlen=257+(31&k),k>>>=5,T-=5,n.ndist=1+(31&k),k>>>=5,T-=5,n.ncode=4+(15&k),k>>>=4,T-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=I;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;T<3;){if(0===O)break e;O--,k+=a[c++]<<T,T+=8}n.lens[Y[n.have++]]=7&k,k>>>=3,T-=3}for(;n.have<19;)n.lens[Y[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,U={bits:n.lenbits},F=l(0,n.lens,0,19,n.lencode,0,n.work,U),n.lenbits=U.bits,F){e.msg="invalid code lengths set",n.mode=I;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;Z=n.lencode[k&(1<<n.lenbits)-1],j=Z>>>24,q=Z>>>16&255,B=65535&Z,!(j<=T);){if(0===O)break e;O--,k+=a[c++]<<T,T+=8}if(B<16)k>>>=j,T-=j,n.lens[n.have++]=B;else{if(16===B){for(W=j+2;T<W;){if(0===O)break e;O--,k+=a[c++]<<T,T+=8}if(k>>>=j,T-=j,0===n.have){e.msg="invalid bit length repeat",n.mode=I;break}z=n.lens[n.have-1],A=3+(3&k),k>>>=2,T-=2}else if(17===B){for(W=j+3;T<W;){if(0===O)break e;O--,k+=a[c++]<<T,T+=8}k>>>=j,T-=j,z=0,A=3+(7&k),k>>>=3,T-=3}else{for(W=j+7;T<W;){if(0===O)break e;O--,k+=a[c++]<<T,T+=8}k>>>=j,T-=j,z=0,A=11+(127&k),k>>>=7,T-=7}if(n.have+A>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=I;break}for(;A--;)n.lens[n.have++]=z}}if(n.mode===I)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=I;break}if(n.lenbits=9,U={bits:n.lenbits},F=l(1,n.lens,0,n.nlen,n.lencode,0,n.work,U),n.lenbits=U.bits,F){e.msg="invalid literal/lengths set",n.mode=I;break}if(n.distbits=6,n.distcode=n.distdyn,U={bits:n.distbits},F=l(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,U),n.distbits=U.bits,F){e.msg="invalid distances set",n.mode=I;break}if(n.mode=20,o===h)break e;case 20:n.mode=21;case 21:if(O>=6&&P>=258){e.next_out=u,e.avail_out=P,e.next_in=c,e.avail_in=O,n.hold=k,n.bits=T,i(e,C),u=e.next_out,s=e.output,P=e.avail_out,c=e.next_in,a=e.input,O=e.avail_in,k=n.hold,T=n.bits,n.mode===S&&(n.back=-1);break}for(n.back=0;Z=n.lencode[k&(1<<n.lenbits)-1],j=Z>>>24,q=Z>>>16&255,B=65535&Z,!(j<=T);){if(0===O)break e;O--,k+=a[c++]<<T,T+=8}if(q&&0==(240&q)){for(R=j,H=q,V=B;Z=n.lencode[V+((k&(1<<R+H)-1)>>R)],j=Z>>>24,q=Z>>>16&255,B=65535&Z,!(R+j<=T);){if(0===O)break e;O--,k+=a[c++]<<T,T+=8}k>>>=R,T-=R,n.back+=R}if(k>>>=j,T-=j,n.back+=j,n.length=B,0===q){n.mode=26;break}if(32&q){n.back=-1,n.mode=S;break}if(64&q){e.msg="invalid literal/length code",n.mode=I;break}n.extra=15&q,n.mode=22;case 22:if(n.extra){for(W=n.extra;T<W;){if(0===O)break e;O--,k+=a[c++]<<T,T+=8}n.length+=k&(1<<n.extra)-1,k>>>=n.extra,T-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;Z=n.distcode[k&(1<<n.distbits)-1],j=Z>>>24,q=Z>>>16&255,B=65535&Z,!(j<=T);){if(0===O)break e;O--,k+=a[c++]<<T,T+=8}if(0==(240&q)){for(R=j,H=q,V=B;Z=n.distcode[V+((k&(1<<R+H)-1)>>R)],j=Z>>>24,q=Z>>>16&255,B=65535&Z,!(R+j<=T);){if(0===O)break e;O--,k+=a[c++]<<T,T+=8}k>>>=R,T-=R,n.back+=R}if(k>>>=j,T-=j,n.back+=j,64&q){e.msg="invalid distance code",n.mode=I;break}n.offset=B,n.extra=15&q,n.mode=24;case 24:if(n.extra){for(W=n.extra;T<W;){if(0===O)break e;O--,k+=a[c++]<<T,T+=8}n.offset+=k&(1<<n.extra)-1,k>>>=n.extra,T-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=I;break}n.mode=25;case 25:if(0===P)break e;if(A=C-P,n.offset>A){if(A=n.offset-A,A>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=I;break}A>n.wnext?(A-=n.wnext,D=n.wsize-A):D=n.wnext-A,A>n.length&&(A=n.length),N=n.window}else N=s,D=u-n.offset,A=n.length;A>P&&(A=P),P-=A,n.length-=A;do{s[u++]=N[D++]}while(--A);0===n.length&&(n.mode=21);break;case 26:if(0===P)break e;s[u++]=n.length,P--,n.mode=21;break;case 27:if(n.wrap){for(;T<32;){if(0===O)break e;O--,k|=a[c++]<<T,T+=8}if(C-=P,e.total_out+=C,n.total+=C,C&&(e.adler=n.check=n.flags?r(n.check,s,C,u-C):t(n.check,s,C,u-C)),C=P,(n.flags?k:E(k))!==n.check){e.msg="incorrect data check",n.mode=I;break}k=0,T=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;T<32;){if(0===O)break e;O--,k+=a[c++]<<T,T+=8}if(k!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=I;break}k=0,T=0}n.mode=29;case 29:F=f;break e;case I:F=y;break e;case 31:return b;case 32:default:return m}return e.next_out=u,e.avail_out=P,e.next_in=c,e.avail_in=O,n.hold=k,n.bits=T,(n.wsize||C!==e.avail_out&&n.mode<I&&(n.mode<27||o!==d))&&L(e,e.output,e.next_out,C-e.avail_out),x-=e.avail_in,C-=e.avail_out,e.total_in+=x,e.total_out+=C,n.total+=C,n.wrap&&C&&(e.adler=n.check=n.flags?r(n.check,s,C,e.next_out-C):t(n.check,s,C,e.next_out-C)),e.data_type=n.bits+(n.last?64:0)+(n.mode===S?128:0)+(20===n.mode||15===n.mode?256:0),(0===x&&0===C||o===d)&&F===_&&(F=v),F},B=e=>{if(!e||!e.state)return m;let t=e.state;return t.window&&(t.window=null),e.state=null,_},R=(e,t)=>{if(!e||!e.state)return m;const o=e.state;return 0==(2&o.wrap)?m:(o.head=t,t.done=!1,_)},H=(e,o)=>{const r=o.length;let i,n,a;return e&&e.state?(i=e.state,0!==i.wrap&&11!==i.mode?m:11===i.mode&&(n=1,n=t(n,o,r,0),n!==i.check)?y:(a=L(e,o,r,r),a?(i.mode=31,b):(i.havedict=1,_))):m};const V=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);let z=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){z=!1}const F=new Uint8Array(256);for(let e=0;e<256;e++)F[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;F[254]=F[254]=1;var Z=(e,t)=>{const o=t||e.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));let r,i;const n=new Array(2*o);for(i=0,r=0;r<o;){let t=e[r++];if(t<128){n[i++]=t;continue}let a=F[t];if(a>4)n[i++]=65533,r+=a-1;else{for(t&=2===a?31:3===a?15:7;a>1&&r<o;)t=t<<6|63&e[r++],a--;a>1?n[i++]=65533:t<65536?n[i++]=t:(t-=65536,n[i++]=55296|t>>10&1023,n[i++]=56320|1023&t)}}return((e,t)=>{if(t<65534&&e.subarray&&z)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let o="";for(let r=0;r<t;r++)o+=String.fromCharCode(e[r]);return o})(n,i)},G=(e,t)=>{(t=t||e.length)>e.length&&(t=e.length);let o=t-1;for(;o>=0&&128==(192&e[o]);)o--;return o<0||0===o?t:o+F[e[o]]>t?o:t},U={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},W=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0},Y=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const J=Object.prototype.toString,{Z_NO_FLUSH:X,Z_FINISH:Q,Z_OK:K,Z_STREAM_END:$,Z_NEED_DICT:ee,Z_STREAM_ERROR:te,Z_DATA_ERROR:oe,Z_MEM_ERROR:re}=u;function ie(e){this.options=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const o=t.shift();if(o){if("object"!=typeof o)throw new TypeError(o+"must be non-object");for(const t in o)V(o,t)&&(e[t]=o[t])}}return e}({chunkSize:65536,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new W,this.strm.avail_out=0;let o=j(this.strm,t.windowBits);if(o!==K)throw new Error(U[o]);if(this.header=new Y,R(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=(e=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);let t,o,r,i,n,a=e.length,s=0;for(i=0;i<a;i++)o=e.charCodeAt(i),55296==(64512&o)&&i+1<a&&(r=e.charCodeAt(i+1),56320==(64512&r)&&(o=65536+(o-55296<<10)+(r-56320),i++)),s+=o<128?1:o<2048?2:o<65536?3:4;for(t=new Uint8Array(s),n=0,i=0;n<s;i++)o=e.charCodeAt(i),55296==(64512&o)&&i+1<a&&(r=e.charCodeAt(i+1),56320==(64512&r)&&(o=65536+(o-55296<<10)+(r-56320),i++)),o<128?t[n++]=o:o<2048?(t[n++]=192|o>>>6,t[n++]=128|63&o):o<65536?(t[n++]=224|o>>>12,t[n++]=128|o>>>6&63,t[n++]=128|63&o):(t[n++]=240|o>>>18,t[n++]=128|o>>>12&63,t[n++]=128|o>>>6&63,t[n++]=128|63&o);return t})(t.dictionary):"[object ArrayBuffer]"===J.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(o=H(this.strm,t.dictionary),o!==K)))throw new Error(U[o])}function ne(e,t){const o=new ie(t);if(o.push(e),o.err)throw o.msg||U[o.err];return o.result}ie.prototype.push=function(e,t){const o=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let n,a,s;if(this.ended)return!1;for(a=t===~~t?t:!0===t?Q:X,"[object ArrayBuffer]"===J.call(e)?o.input=new Uint8Array(e):o.input=e,o.next_in=0,o.avail_in=o.input.length;;){for(0===o.avail_out&&(o.output=new Uint8Array(r),o.next_out=0,o.avail_out=r),n=q(o,a),n===ee&&i&&(n=H(o,i),n===K?n=q(o,a):n===oe&&(n=ee));o.avail_in>0&&n===$&&o.state.wrap>0&&0!==e[o.next_in];)N(o),n=q(o,a);switch(n){case te:case oe:case ee:case re:return this.onEnd(n),this.ended=!0,!1}if(s=o.avail_out,o.next_out&&(0===o.avail_out||n===$))if("string"===this.options.to){let e=G(o.output,o.next_out),t=o.next_out-e,i=Z(o.output,e);o.next_out=t,o.avail_out=r-t,t&&o.output.set(o.output.subarray(e,e+t),0),this.onData(i)}else this.onData(o.output.length===o.next_out?o.output:o.output.subarray(0,o.next_out));if(n!==K||0!==s){if(n===$)return n=B(this.strm),this.onEnd(n),this.ended=!0,!0;if(0===o.avail_in)break}}return!0},ie.prototype.onData=function(e){this.chunks.push(e)},ie.prototype.onEnd=function(e){e===K&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=(e=>{let t=0;for(let o=0,r=e.length;o<r;o++)t+=e[o].length;const o=new Uint8Array(t);for(let t=0,r=0,i=e.length;t<i;t++){let i=e[t];o.set(i,r),r+=i.length}return o})(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var ae=ie,se=ne,ce=function(e,t){return(t=t||{}).raw=!0,ne(e,t)},le=ne,ue=u,de={Inflate:ae,inflate:se,inflateRaw:ce,ungzip:le,constants:ue};e.Inflate=ae,e.constants=ue,e.default=de,e.inflate=se,e.inflateRaw=ce,e.ungzip=le,Object.defineProperty(e,"__esModule",{value:!0})}(t)},function(e,t,o){o(345)},function(e,t,o){"use strict";o(346)("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),o(349))},function(e,t,o){"use strict";var r=o(6),i=o(11),n=o(7),a=o(125),s=o(25),c=o(209),l=o(38),u=o(86),d=o(15),p=o(20),h=o(8),_=o(154),f=o(72),g=o(179);e.exports=function(e,t,o){var m=-1!==e.indexOf("Map"),y=-1!==e.indexOf("Weak"),b=m?"set":"add",v=i[e],w=v&&v.prototype,S=v,I={},E=function(e){var t=n(w[e]);s(w,e,"add"==e?function(e){return t(this,0===e?0:e),this}:"delete"==e?function(e){return!(y&&!p(e))&&t(this,0===e?0:e)}:"get"==e?function(e){return y&&!p(e)?void 0:t(this,0===e?0:e)}:"has"==e?function(e){return!(y&&!p(e))&&t(this,0===e?0:e)}:function(e,o){return t(this,0===e?0:e,o),this})};if(a(e,!d(v)||!(y||w.forEach&&!h((function(){(new v).entries().next()})))))S=o.getConstructor(t,e,m,b),c.enable();else if(a(e,!0)){var O=new S,P=O[b](y?{}:-0,1)!=O,k=h((function(){O.has(1)})),T=_((function(e){new v(e)})),x=!y&&h((function(){for(var e=new v,t=5;t--;)e[b](t,t);return!e.has(-0)}));T||((S=t((function(e,t){u(e,w);var o=g(new v,e,S);return null!=t&&l(t,o[b],{that:o,AS_ENTRIES:m}),o}))).prototype=w,w.constructor=S),(k||x)&&(E("delete"),E("has"),m&&E("get")),(x||P)&&E(b),y&&w.clear&&delete w.clear}return I[e]=S,r({global:!0,constructor:!0,forced:S!=v},I),f(S,e),y||o.setStrong(S,e,m),S}},function(e,t,o){var r=o(8),i=o(20),n=o(65),a=o(348),s=Object.isExtensible,c=r((function(){s(1)}));e.exports=c||a?function(e){return!!i(e)&&((!a||"ArrayBuffer"!=n(e))&&(!s||s(e)))}:s},function(e,t,o){var r=o(8);e.exports=r((function(){if("function"==typeof ArrayBuffer){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}))},function(e,t,o){"use strict";var r=o(22).f,i=o(58),n=o(183),a=o(34),s=o(86),c=o(38),l=o(165),u=o(178),d=o(19),p=o(209).fastKey,h=o(40),_=h.set,f=h.getterFor;e.exports={getConstructor:function(e,t,o,l){var u=e((function(e,r){s(e,h),_(e,{type:t,index:i(null),first:void 0,last:void 0,size:0}),d||(e.size=0),null!=r&&c(r,e[l],{that:e,AS_ENTRIES:o})})),h=u.prototype,g=f(t),m=function(e,t,o){var r,i,n=g(e),a=y(e,t);return a?a.value=o:(n.last=a={index:i=p(t,!0),key:t,value:o,previous:r=n.last,next:void 0,removed:!1},n.first||(n.first=a),r&&(r.next=a),d?n.size++:e.size++,"F"!==i&&(n.index[i]=a)),e},y=function(e,t){var o,r=g(e),i=p(t);if("F"!==i)return r.index[i];for(o=r.first;o;o=o.next)if(o.key==t)return o};return n(h,{clear:function(){for(var e=g(this),t=e.index,o=e.first;o;)o.removed=!0,o.previous&&(o.previous=o.previous.next=void 0),delete t[o.index],o=o.next;e.first=e.last=void 0,d?e.size=0:this.size=0},delete:function(e){var t=g(this),o=y(this,e);if(o){var r=o.next,i=o.previous;delete t.index[o.index],o.removed=!0,i&&(i.next=r),r&&(r.previous=i),t.first==o&&(t.first=r),t.last==o&&(t.last=i),d?t.size--:this.size--}return!!o},forEach:function(e){for(var t,o=g(this),r=a(e,arguments.length>1?arguments[1]:void 0);t=t?t.next:o.first;)for(r(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!y(this,e)}}),n(h,o?{get:function(e){var t=y(this,e);return t&&t.value},set:function(e,t){return m(this,0===e?0:e,t)}}:{add:function(e){return m(this,e=0===e?0:e,e)}}),d&&r(h,"size",{get:function(){return g(this).size}}),u},setStrong:function(e,t,o){var r=t+" Iterator",i=f(t),n=f(r);l(e,t,(function(e,t){_(this,{type:r,target:e,state:i(e),kind:t,last:void 0})}),(function(){for(var e=n(this),t=e.kind,o=e.last;o&&o.removed;)o=o.previous;return e.target&&(e.last=o=o?o.next:e.state.first)?"keys"==t?{value:o.key,done:!1}:"values"==t?{value:o.value,done:!1}:{value:[o.key,o.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),o?"entries":"values",!o,!0),u(t)}}},function(e,t,o){"use strict";o(6)({target:"Map",proto:!0,real:!0,forced:!0},{deleteAll:o(351)})},function(e,t,o){"use strict";var r=o(13),i=o(27),n=o(14);e.exports=function(){for(var e,t=n(this),o=i(t.delete),a=!0,s=0,c=arguments.length;s<c;s++)e=r(o,t,arguments[s]),a=a&&e;return!!a}},function(e,t,o){"use strict";var r=o(6),i=o(14),n=o(34),a=o(64),s=o(38);r({target:"Map",proto:!0,real:!0,forced:!0},{every:function(e){var t=i(this),o=a(t),r=n(e,arguments.length>1?arguments[1]:void 0);return!s(o,(function(e,o,i){if(!r(o,e,t))return i()}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},function(e,t,o){"use strict";var r=o(6),i=o(32),n=o(34),a=o(13),s=o(27),c=o(14),l=o(71),u=o(64),d=o(38);r({target:"Map",proto:!0,real:!0,forced:!0},{filter:function(e){var t=c(this),o=u(t),r=n(e,arguments.length>1?arguments[1]:void 0),p=new(l(t,i("Map"))),h=s(p.set);return d(o,(function(e,o){r(o,e,t)&&a(h,p,e,o)}),{AS_ENTRIES:!0,IS_ITERATOR:!0}),p}})},function(e,t,o){"use strict";var r=o(6),i=o(14),n=o(34),a=o(64),s=o(38);r({target:"Map",proto:!0,real:!0,forced:!0},{find:function(e){var t=i(this),o=a(t),r=n(e,arguments.length>1?arguments[1]:void 0);return s(o,(function(e,o,i){if(r(o,e,t))return i(o)}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}})},function(e,t,o){"use strict";var r=o(6),i=o(14),n=o(34),a=o(64),s=o(38);r({target:"Map",proto:!0,real:!0,forced:!0},{findKey:function(e){var t=i(this),o=a(t),r=n(e,arguments.length>1?arguments[1]:void 0);return s(o,(function(e,o,i){if(r(o,e,t))return i(e)}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}})},function(e,t,o){"use strict";var r=o(6),i=o(14),n=o(64),a=o(357),s=o(38);r({target:"Map",proto:!0,real:!0,forced:!0},{includes:function(e){return s(n(i(this)),(function(t,o,r){if(a(o,e))return r()}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,o){"use strict";var r=o(6),i=o(14),n=o(64),a=o(38);r({target:"Map",proto:!0,real:!0,forced:!0},{keyOf:function(e){return a(n(i(this)),(function(t,o,r){if(o===e)return r(t)}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}})},function(e,t,o){"use strict";var r=o(6),i=o(32),n=o(34),a=o(13),s=o(27),c=o(14),l=o(71),u=o(64),d=o(38);r({target:"Map",proto:!0,real:!0,forced:!0},{mapKeys:function(e){var t=c(this),o=u(t),r=n(e,arguments.length>1?arguments[1]:void 0),p=new(l(t,i("Map"))),h=s(p.set);return d(o,(function(e,o){a(h,p,r(o,e,t),o)}),{AS_ENTRIES:!0,IS_ITERATOR:!0}),p}})},function(e,t,o){"use strict";var r=o(6),i=o(32),n=o(34),a=o(13),s=o(27),c=o(14),l=o(71),u=o(64),d=o(38);r({target:"Map",proto:!0,real:!0,forced:!0},{mapValues:function(e){var t=c(this),o=u(t),r=n(e,arguments.length>1?arguments[1]:void 0),p=new(l(t,i("Map"))),h=s(p.set);return d(o,(function(e,o){a(h,p,e,r(o,e,t))}),{AS_ENTRIES:!0,IS_ITERATOR:!0}),p}})},function(e,t,o){"use strict";var r=o(6),i=o(27),n=o(14),a=o(38);r({target:"Map",proto:!0,real:!0,arity:1,forced:!0},{merge:function(e){for(var t=n(this),o=i(t.set),r=arguments.length,s=0;s<r;)a(arguments[s++],o,{that:t,AS_ENTRIES:!0});return t}})},function(e,t,o){"use strict";var r=o(6),i=o(14),n=o(27),a=o(64),s=o(38),c=TypeError;r({target:"Map",proto:!0,real:!0,forced:!0},{reduce:function(e){var t=i(this),o=a(t),r=arguments.length<2,l=r?void 0:arguments[1];if(n(e),s(o,(function(o,i){r?(r=!1,l=i):l=e(l,i,o,t)}),{AS_ENTRIES:!0,IS_ITERATOR:!0}),r)throw c("Reduce of empty map with no initial value");return l}})},function(e,t,o){"use strict";var r=o(6),i=o(14),n=o(34),a=o(64),s=o(38);r({target:"Map",proto:!0,real:!0,forced:!0},{some:function(e){var t=i(this),o=a(t),r=n(e,arguments.length>1?arguments[1]:void 0);return s(o,(function(e,o,i){if(r(o,e,t))return i()}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},function(e,t,o){"use strict";var r=o(6),i=o(13),n=o(14),a=o(27),s=TypeError;r({target:"Map",proto:!0,real:!0,forced:!0},{update:function(e,t){var o=n(this),r=a(o.get),c=a(o.has),l=a(o.set),u=arguments.length;a(t);var d=i(c,o,e);if(!d&&u<3)throw s("Updating absent value");var p=d?i(r,o,e):a(u>2?arguments[2]:void 0)(e,o);return i(l,o,e,t(p,e,o)),o}})},function(e,t,o){var r=o(19),i=o(7),n=o(100),a=o(41),s=i(o(116).f),c=i([].push),l=function(e){return function(t){for(var o,i=a(t),l=n(i),u=l.length,d=0,p=[];u>d;)o=l[d++],r&&!s(i,o)||c(p,e?[o,i[o]]:i[o]);return p}};e.exports={entries:l(!0),values:l(!1)}},function(e,t,o){"use strict";e.exports=o(367)},function(e,t,o){"use strict";var r=t;function i(){r.util._configure(),r.Writer._configure(r.BufferWriter),r.Reader._configure(r.BufferReader)}r.build="minimal",r.Writer=o(246),r.BufferWriter=o(369),r.Reader=o(247),r.BufferReader=o(370),r.util=o(90),r.rpc=o(371),r.roots=o(373),r.configure=i,i()},function(e,t,o){"use strict";e.exports=i;var r=o(90);function i(e,t){this.lo=e>>>0,this.hi=t>>>0}var n=i.zero=new i(0,0);n.toNumber=function(){return 0},n.zzEncode=n.zzDecode=function(){return this},n.length=function(){return 1};var a=i.zeroHash="\0\0\0\0\0\0\0\0";i.fromNumber=function(e){if(0===e)return n;var t=e<0;t&&(e=-e);var o=e>>>0,r=(e-o)/4294967296>>>0;return t&&(r=~r>>>0,o=~o>>>0,++o>4294967295&&(o=0,++r>4294967295&&(r=0))),new i(o,r)},i.from=function(e){if("number"==typeof e)return i.fromNumber(e);if(r.isString(e)){if(!r.Long)return i.fromNumber(parseInt(e,10));e=r.Long.fromString(e)}return e.low||e.high?new i(e.low>>>0,e.high>>>0):n},i.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,o=~this.hi>>>0;return t||(o=o+1>>>0),-(t+4294967296*o)}return this.lo+4294967296*this.hi},i.prototype.toLong=function(e){return r.Long?new r.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var s=String.prototype.charCodeAt;i.fromHash=function(e){return e===a?n:new i((s.call(e,0)|s.call(e,1)<<8|s.call(e,2)<<16|s.call(e,3)<<24)>>>0,(s.call(e,4)|s.call(e,5)<<8|s.call(e,6)<<16|s.call(e,7)<<24)>>>0)},i.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},i.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},i.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},i.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,o=this.hi>>>24;return 0===o?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:o<128?9:10}},function(e,t,o){"use strict";e.exports=n;var r=o(246);(n.prototype=Object.create(r.prototype)).constructor=n;var i=o(90);function n(){r.call(this)}function a(e,t,o){e.length<40?i.utf8.write(e,t,o):t.utf8Write?t.utf8Write(e,o):t.write(e,o)}n._configure=function(){n.alloc=i._Buffer_allocUnsafe,n.writeBytesBuffer=i.Buffer&&i.Buffer.prototype instanceof Uint8Array&&"set"===i.Buffer.prototype.set.name?function(e,t,o){t.set(e,o)}:function(e,t,o){if(e.copy)e.copy(t,o,0,e.length);else for(var r=0;r<e.length;)t[o++]=e[r++]}},n.prototype.bytes=function(e){i.isString(e)&&(e=i._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(n.writeBytesBuffer,t,e),this},n.prototype.string=function(e){var t=i.Buffer.byteLength(e);return this.uint32(t),t&&this._push(a,t,e),this},n._configure()},function(e,t,o){"use strict";e.exports=n;var r=o(247);(n.prototype=Object.create(r.prototype)).constructor=n;var i=o(90);function n(e){r.call(this,e)}n._configure=function(){i.Buffer&&(n.prototype._slice=i.Buffer.prototype.slice)},n.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},n._configure()},function(e,t,o){"use strict";t.Service=o(372)},function(e,t,o){"use strict";e.exports=i;var r=o(90);function i(e,t,o){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");r.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(o)}(i.prototype=Object.create(r.EventEmitter.prototype)).constructor=i,i.prototype.rpcCall=function e(t,o,i,n,a){if(!n)throw TypeError("request must be specified");var s=this;if(!a)return r.asPromise(e,s,t,o,i,n);if(s.rpcImpl)try{return s.rpcImpl(t,o[s.requestDelimited?"encodeDelimited":"encode"](n).finish(),(function(e,o){if(e)return s.emit("error",e,t),a(e);if(null!==o){if(!(o instanceof i))try{o=i[s.responseDelimited?"decodeDelimited":"decode"](o)}catch(e){return s.emit("error",e,t),a(e)}return s.emit("data",o,t),a(null,o)}s.end(!0)}))}catch(e){return s.emit("error",e,t),void setTimeout((function(){a(e)}),0)}else setTimeout((function(){a(Error("already ended"))}),0)},i.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},function(e,t,o){"use strict";e.exports={}},function(e,t,o){var r=o(6),i=o(375);r({target:"Date",proto:!0,forced:Date.prototype.toISOString!==i},{toISOString:i})},function(e,t,o){"use strict";var r=o(7),i=o(8),n=o(295).start,a=RangeError,s=Math.abs,c=Date.prototype,l=c.toISOString,u=r(c.getTime),d=r(c.getUTCDate),p=r(c.getUTCFullYear),h=r(c.getUTCHours),_=r(c.getUTCMilliseconds),f=r(c.getUTCMinutes),g=r(c.getUTCMonth),m=r(c.getUTCSeconds);e.exports=i((function(){return"0385-07-25T07:06:39.999Z"!=l.call(new Date(-50000000000001))}))||!i((function(){l.call(new Date(NaN))}))?function(){if(!isFinite(u(this)))throw a("Invalid time value");var e=p(this),t=_(this),o=e<0?"-":e>9999?"+":"";return o+n(s(e),o?6:4,0)+"-"+n(g(this)+1,2,0)+"-"+n(d(this),2,0)+"T"+n(h(this),2,0)+":"+n(f(this),2,0)+":"+n(m(this),2,0)+"."+n(t,3,0)+"Z"}:l},function(e,t,o){"use strict";var r=o(6),i=o(392);r({target:"String",proto:!0,forced:o(393)("bold")},{bold:function(){return i(this,"b","","")}})},function(e,t,o){"use strict";var r=o(6),i=o(392);r({target:"String",proto:!0,forced:o(393)("italics")},{italics:function(){return i(this,"i","","")}})},function(e,t,o){e.exports=function(e,t){var o,r,i,n,a,s,c,l;for(o=3&e.length,r=e.length-o,i=t,a=3432918353,s=461845907,l=0;l<r;)c=255&e.charCodeAt(l)|(255&e.charCodeAt(++l))<<8|(255&e.charCodeAt(++l))<<16|(255&e.charCodeAt(++l))<<24,++l,i=27492+(65535&(n=5*(65535&(i=(i^=c=(65535&(c=(c=(65535&c)*a+(((c>>>16)*a&65535)<<16)&4294967295)<<15|c>>>17))*s+(((c>>>16)*s&65535)<<16)&4294967295)<<13|i>>>19))+((5*(i>>>16)&65535)<<16)&4294967295))+((58964+(n>>>16)&65535)<<16);switch(c=0,o){case 3:c^=(255&e.charCodeAt(l+2))<<16;case 2:c^=(255&e.charCodeAt(l+1))<<8;case 1:i^=c=(65535&(c=(c=(65535&(c^=255&e.charCodeAt(l)))*a+(((c>>>16)*a&65535)<<16)&4294967295)<<15|c>>>17))*s+(((c>>>16)*s&65535)<<16)&4294967295}return i^=e.length,i=2246822507*(65535&(i^=i>>>16))+((2246822507*(i>>>16)&65535)<<16)&4294967295,i=3266489909*(65535&(i^=i>>>13))+((3266489909*(i>>>16)&65535)<<16)&4294967295,(i^=i>>>16)>>>0}},function(e,t){!function(){if(-1!==window.navigator.userAgent.indexOf("Trident")){function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var o=document.createEvent("CustomEvent");return o.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),o}e.prototype=window.Event.prototype,window.CustomEvent=e,document.body.scrollTo||(Element.prototype.scrollTo=function(e,t){this.scrollLeft=e,this.scrollTop=t}),document.body.scrollBy||(Element.prototype.scrollBy=function(e,t){this.scrollLeft+=e,this.scrollTop+=t}),FileReader.prototype.readAsBinaryString||(FileReader.prototype.readAsBinaryString=function(e){var t=this,o=new FileReader;o.onload=function(e){for(var r="",i=new Uint8Array(o.result),n=i.byteLength,a=0;a<n;a++)r+=String.fromCharCode(i[a]);t.content=r,t.result=r,t.onload()},o.readAsArrayBuffer(e)})}}()},function(e,t,o){"use strict";var r,i=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},n=function(){var e={};return function(t){if(void 0===e[t]){var o=document.querySelector(t);if(window.HTMLIFrameElement&&o instanceof window.HTMLIFrameElement)try{o=o.contentDocument.head}catch(e){o=null}e[t]=o}return e[t]}}(),a=[];function s(e){for(var t=-1,o=0;o<a.length;o++)if(a[o].identifier===e){t=o;break}return t}function c(e,t){for(var o={},r=[],i=0;i<e.length;i++){var n=e[i],c=t.base?n[0]+t.base:n[0],l=o[c]||0,u="".concat(c," ").concat(l);o[c]=l+1;var d=s(u),p={css:n[1],media:n[2],sourceMap:n[3]};-1!==d?(a[d].references++,a[d].updater(p)):a.push({identifier:u,updater:g(p,t),references:1}),r.push(u)}return r}function l(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var i=o.nc;i&&(r.nonce=i)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(t);else{var a=n(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}return t}var u,d=(u=[],function(e,t){return u[e]=t,u.filter(Boolean).join("\n")});function p(e,t,o,r){var i=o?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=d(t,i);else{var n=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(n,a[t]):e.appendChild(n)}}function h(e,t,o){var r=o.css,i=o.media,n=o.sourceMap;if(i?e.setAttribute("media",i):e.removeAttribute("media"),n&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(n))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var _=null,f=0;function g(e,t){var o,r,i;if(t.singleton){var n=f++;o=_||(_=l(t)),r=p.bind(null,o,n,!1),i=p.bind(null,o,n,!0)}else o=l(t),r=h.bind(null,o,t),i=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(o)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=i());var o=c(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<o.length;r++){var i=s(o[r]);a[i].references--}for(var n=c(e,t),l=0;l<o.length;l++){var u=s(o[l]);0===a[u].references&&(a[u].updater(),a.splice(u,1))}o=n}}}},function(e,t,o){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var o=function(e,t){var o=e[1]||"",r=e[3];if(!r)return o;if(t&&"function"==typeof btoa){var i=(a=r,s=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(c," */")),n=r.sources.map((function(e){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(e," */")}));return[o].concat(n).concat([i]).join("\n")}var a,s,c;return[o].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(o,"}"):o})).join("")},t.i=function(e,o,r){"string"==typeof e&&(e=[[null,e,""]]);var i={};if(r)for(var n=0;n<this.length;n++){var a=this[n][0];null!=a&&(i[a]=!0)}for(var s=0;s<e.length;s++){var c=[].concat(e[s]);r&&i[c[0]]||(o&&(c[2]?c[2]="".concat(o," and ").concat(c[2]):c[2]=o),t.push(c))}},t}},function(e,t,o){o(6)({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(e,t,o){"use strict";var r=o(7),i=o(27),n=o(20),a=o(18),s=o(81),c=o(98),l=Function,u=r([].concat),d=r([].join),p={},h=function(e,t,o){if(!a(p,t)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";p[t]=l("C,a","return new C("+d(r,",")+")")}return p[t](e,o)};e.exports=c?l.bind:function(e){var t=i(this),o=t.prototype,r=s(arguments,1),a=function(){var o=u(r,s(arguments));return this instanceof a?h(t,o.length,o):t.apply(e,o)};return n(o)&&(a.prototype=o),a}},function(e,t,o){"use strict";var r=o(6),i=o(44),n=o(104),a=o(8),s=o(32),c=o(15),l=o(71),u=o(255),d=o(25),p=n&&n.prototype;if(r({target:"Promise",proto:!0,real:!0,forced:!!n&&a((function(){p.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=l(this,s("Promise")),o=c(e);return this.then(o?function(o){return u(t,e()).then((function(){return o}))}:e,o?function(o){return u(t,e()).then((function(){throw o}))}:e)}}),!i&&c(n)){var h=s("Promise").prototype.finally;p.finally!==h&&d(p,"finally",h,{unsafe:!0})}},function(e,t,o){"use strict";o(46);var r,i=o(6),n=o(19),a=o(298),s=o(11),c=o(34),l=o(7),u=o(25),d=o(386),p=o(86),h=o(18),_=o(220),f=o(287),g=o(102),m=o(173).codeAt,y=o(387),b=o(24),v=o(72),w=o(181),S=o(299),I=o(40),E=I.set,O=I.getterFor("URL"),P=S.URLSearchParams,k=S.getState,T=s.URL,x=s.TypeError,C=s.parseInt,A=Math.floor,D=Math.pow,M=l("".charAt),L=l(/./.exec),N=l([].join),j=l(1..toString),q=l([].pop),B=l([].push),R=l("".replace),H=l([].shift),V=l("".split),z=l("".slice),F=l("".toLowerCase),Z=l([].unshift),G=/[a-z]/i,U=/[\d+-.a-z]/i,W=/\d/,Y=/^0x/i,J=/^[0-7]+$/,X=/^\d+$/,Q=/^[\da-f]+$/i,K=/[\0\t\n\r #%/:<>?@[\\\]^|]/,$=/[\0\t\n\r #/:<>?@[\\\]^|]/,ee=/^[\u0000-\u0020]+|[\u0000-\u0020]+$/g,te=/[\t\n\r]/g,oe=function(e){var t,o,r,i;if("number"==typeof e){for(t=[],o=0;o<4;o++)Z(t,e%256),e=A(e/256);return N(t,".")}if("object"==typeof e){for(t="",r=function(e){for(var t=null,o=1,r=null,i=0,n=0;n<8;n++)0!==e[n]?(i>o&&(t=r,o=i),r=null,i=0):(null===r&&(r=n),++i);return i>o&&(t=r,o=i),t}(e),o=0;o<8;o++)i&&0===e[o]||(i&&(i=!1),r===o?(t+=o?":":"::",i=!0):(t+=j(e[o],16),o<7&&(t+=":")));return"["+t+"]"}return e},re={},ie=_({},re,{" ":1,'"':1,"<":1,">":1,"`":1}),ne=_({},ie,{"#":1,"?":1,"{":1,"}":1}),ae=_({},ne,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),se=function(e,t){var o=m(e,0);return o>32&&o<127&&!h(t,e)?e:encodeURIComponent(e)},ce={ftp:21,file:null,http:80,https:443,ws:80,wss:443},le=function(e,t){var o;return 2==e.length&&L(G,M(e,0))&&(":"==(o=M(e,1))||!t&&"|"==o)},ue=function(e){var t;return e.length>1&&le(z(e,0,2))&&(2==e.length||"/"===(t=M(e,2))||"\\"===t||"?"===t||"#"===t)},de=function(e){return"."===e||"%2e"===F(e)},pe={},he={},_e={},fe={},ge={},me={},ye={},be={},ve={},we={},Se={},Ie={},Ee={},Oe={},Pe={},ke={},Te={},xe={},Ce={},Ae={},De={},Me=function(e,t,o){var r,i,n,a=b(e);if(t){if(i=this.parse(a))throw x(i);this.searchParams=null}else{if(void 0!==o&&(r=new Me(o,!0)),i=this.parse(a,null,r))throw x(i);(n=k(new P)).bindURL(this),this.searchParams=n}};Me.prototype={type:"URL",parse:function(e,t,o){var i,n,a,s,c,l=this,u=t||pe,d=0,p="",_=!1,m=!1,y=!1;for(e=b(e),t||(l.scheme="",l.username="",l.password="",l.host=null,l.port=null,l.path=[],l.query=null,l.fragment=null,l.cannotBeABaseURL=!1,e=R(e,ee,"")),e=R(e,te,""),i=f(e);d<=i.length;){switch(n=i[d],u){case pe:if(!n||!L(G,n)){if(t)return"Invalid scheme";u=_e;continue}p+=F(n),u=he;break;case he:if(n&&(L(U,n)||"+"==n||"-"==n||"."==n))p+=F(n);else{if(":"!=n){if(t)return"Invalid scheme";p="",u=_e,d=0;continue}if(t&&(l.isSpecial()!=h(ce,p)||"file"==p&&(l.includesCredentials()||null!==l.port)||"file"==l.scheme&&!l.host))return;if(l.scheme=p,t)return void(l.isSpecial()&&ce[l.scheme]==l.port&&(l.port=null));p="","file"==l.scheme?u=Oe:l.isSpecial()&&o&&o.scheme==l.scheme?u=fe:l.isSpecial()?u=be:"/"==i[d+1]?(u=ge,d++):(l.cannotBeABaseURL=!0,B(l.path,""),u=Ce)}break;case _e:if(!o||o.cannotBeABaseURL&&"#"!=n)return"Invalid scheme";if(o.cannotBeABaseURL&&"#"==n){l.scheme=o.scheme,l.path=g(o.path),l.query=o.query,l.fragment="",l.cannotBeABaseURL=!0,u=De;break}u="file"==o.scheme?Oe:me;continue;case fe:if("/"!=n||"/"!=i[d+1]){u=me;continue}u=ve,d++;break;case ge:if("/"==n){u=we;break}u=xe;continue;case me:if(l.scheme=o.scheme,n==r)l.username=o.username,l.password=o.password,l.host=o.host,l.port=o.port,l.path=g(o.path),l.query=o.query;else if("/"==n||"\\"==n&&l.isSpecial())u=ye;else if("?"==n)l.username=o.username,l.password=o.password,l.host=o.host,l.port=o.port,l.path=g(o.path),l.query="",u=Ae;else{if("#"!=n){l.username=o.username,l.password=o.password,l.host=o.host,l.port=o.port,l.path=g(o.path),l.path.length--,u=xe;continue}l.username=o.username,l.password=o.password,l.host=o.host,l.port=o.port,l.path=g(o.path),l.query=o.query,l.fragment="",u=De}break;case ye:if(!l.isSpecial()||"/"!=n&&"\\"!=n){if("/"!=n){l.username=o.username,l.password=o.password,l.host=o.host,l.port=o.port,u=xe;continue}u=we}else u=ve;break;case be:if(u=ve,"/"!=n||"/"!=M(p,d+1))continue;d++;break;case ve:if("/"!=n&&"\\"!=n){u=we;continue}break;case we:if("@"==n){_&&(p="%40"+p),_=!0,a=f(p);for(var v=0;v<a.length;v++){var w=a[v];if(":"!=w||y){var S=se(w,ae);y?l.password+=S:l.username+=S}else y=!0}p=""}else if(n==r||"/"==n||"?"==n||"#"==n||"\\"==n&&l.isSpecial()){if(_&&""==p)return"Invalid authority";d-=f(p).length+1,p="",u=Se}else p+=n;break;case Se:case Ie:if(t&&"file"==l.scheme){u=ke;continue}if(":"!=n||m){if(n==r||"/"==n||"?"==n||"#"==n||"\\"==n&&l.isSpecial()){if(l.isSpecial()&&""==p)return"Invalid host";if(t&&""==p&&(l.includesCredentials()||null!==l.port))return;if(s=l.parseHost(p))return s;if(p="",u=Te,t)return;continue}"["==n?m=!0:"]"==n&&(m=!1),p+=n}else{if(""==p)return"Invalid host";if(s=l.parseHost(p))return s;if(p="",u=Ee,t==Ie)return}break;case Ee:if(!L(W,n)){if(n==r||"/"==n||"?"==n||"#"==n||"\\"==n&&l.isSpecial()||t){if(""!=p){var I=C(p,10);if(I>65535)return"Invalid port";l.port=l.isSpecial()&&I===ce[l.scheme]?null:I,p=""}if(t)return;u=Te;continue}return"Invalid port"}p+=n;break;case Oe:if(l.scheme="file","/"==n||"\\"==n)u=Pe;else{if(!o||"file"!=o.scheme){u=xe;continue}if(n==r)l.host=o.host,l.path=g(o.path),l.query=o.query;else if("?"==n)l.host=o.host,l.path=g(o.path),l.query="",u=Ae;else{if("#"!=n){ue(N(g(i,d),""))||(l.host=o.host,l.path=g(o.path),l.shortenPath()),u=xe;continue}l.host=o.host,l.path=g(o.path),l.query=o.query,l.fragment="",u=De}}break;case Pe:if("/"==n||"\\"==n){u=ke;break}o&&"file"==o.scheme&&!ue(N(g(i,d),""))&&(le(o.path[0],!0)?B(l.path,o.path[0]):l.host=o.host),u=xe;continue;case ke:if(n==r||"/"==n||"\\"==n||"?"==n||"#"==n){if(!t&&le(p))u=xe;else if(""==p){if(l.host="",t)return;u=Te}else{if(s=l.parseHost(p))return s;if("localhost"==l.host&&(l.host=""),t)return;p="",u=Te}continue}p+=n;break;case Te:if(l.isSpecial()){if(u=xe,"/"!=n&&"\\"!=n)continue}else if(t||"?"!=n)if(t||"#"!=n){if(n!=r&&(u=xe,"/"!=n))continue}else l.fragment="",u=De;else l.query="",u=Ae;break;case xe:if(n==r||"/"==n||"\\"==n&&l.isSpecial()||!t&&("?"==n||"#"==n)){if(".."===(c=F(c=p))||"%2e."===c||".%2e"===c||"%2e%2e"===c?(l.shortenPath(),"/"==n||"\\"==n&&l.isSpecial()||B(l.path,"")):de(p)?"/"==n||"\\"==n&&l.isSpecial()||B(l.path,""):("file"==l.scheme&&!l.path.length&&le(p)&&(l.host&&(l.host=""),p=M(p,0)+":"),B(l.path,p)),p="","file"==l.scheme&&(n==r||"?"==n||"#"==n))for(;l.path.length>1&&""===l.path[0];)H(l.path);"?"==n?(l.query="",u=Ae):"#"==n&&(l.fragment="",u=De)}else p+=se(n,ne);break;case Ce:"?"==n?(l.query="",u=Ae):"#"==n?(l.fragment="",u=De):n!=r&&(l.path[0]+=se(n,re));break;case Ae:t||"#"!=n?n!=r&&("'"==n&&l.isSpecial()?l.query+="%27":l.query+="#"==n?"%23":se(n,re)):(l.fragment="",u=De);break;case De:n!=r&&(l.fragment+=se(n,ie))}d++}},parseHost:function(e){var t,o,r;if("["==M(e,0)){if("]"!=M(e,e.length-1))return"Invalid host";if(!(t=function(e){var t,o,r,i,n,a,s,c=[0,0,0,0,0,0,0,0],l=0,u=null,d=0,p=function(){return M(e,d)};if(":"==p()){if(":"!=M(e,1))return;d+=2,u=++l}for(;p();){if(8==l)return;if(":"!=p()){for(t=o=0;o<4&&L(Q,p());)t=16*t+C(p(),16),d++,o++;if("."==p()){if(0==o)return;if(d-=o,l>6)return;for(r=0;p();){if(i=null,r>0){if(!("."==p()&&r<4))return;d++}if(!L(W,p()))return;for(;L(W,p());){if(n=C(p(),10),null===i)i=n;else{if(0==i)return;i=10*i+n}if(i>255)return;d++}c[l]=256*c[l]+i,2!=++r&&4!=r||l++}if(4!=r)return;break}if(":"==p()){if(d++,!p())return}else if(p())return;c[l++]=t}else{if(null!==u)return;d++,u=++l}}if(null!==u)for(a=l-u,l=7;0!=l&&a>0;)s=c[l],c[l--]=c[u+a-1],c[u+--a]=s;else if(8!=l)return;return c}(z(e,1,-1))))return"Invalid host";this.host=t}else if(this.isSpecial()){if(e=y(e),L(K,e))return"Invalid host";if(null===(t=function(e){var t,o,r,i,n,a,s,c=V(e,".");if(c.length&&""==c[c.length-1]&&c.length--,(t=c.length)>4)return e;for(o=[],r=0;r<t;r++){if(""==(i=c[r]))return e;if(n=10,i.length>1&&"0"==M(i,0)&&(n=L(Y,i)?16:8,i=z(i,8==n?1:2)),""===i)a=0;else{if(!L(10==n?X:8==n?J:Q,i))return e;a=C(i,n)}B(o,a)}for(r=0;r<t;r++)if(a=o[r],r==t-1){if(a>=D(256,5-t))return null}else if(a>255)return null;for(s=q(o),r=0;r<o.length;r++)s+=o[r]*D(256,3-r);return s}(e)))return"Invalid host";this.host=t}else{if(L($,e))return"Invalid host";for(t="",o=f(e),r=0;r<o.length;r++)t+=se(o[r],re);this.host=t}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"==this.scheme},includesCredentials:function(){return""!=this.username||""!=this.password},isSpecial:function(){return h(ce,this.scheme)},shortenPath:function(){var e=this.path,t=e.length;!t||"file"==this.scheme&&1==t&&le(e[0],!0)||e.length--},serialize:function(){var e=this,t=e.scheme,o=e.username,r=e.password,i=e.host,n=e.port,a=e.path,s=e.query,c=e.fragment,l=t+":";return null!==i?(l+="//",e.includesCredentials()&&(l+=o+(r?":"+r:"")+"@"),l+=oe(i),null!==n&&(l+=":"+n)):"file"==t&&(l+="//"),l+=e.cannotBeABaseURL?a[0]:a.length?"/"+N(a,"/"):"",null!==s&&(l+="?"+s),null!==c&&(l+="#"+c),l},setHref:function(e){var t=this.parse(e);if(t)throw x(t);this.searchParams.update()},getOrigin:function(){var e=this.scheme,t=this.port;if("blob"==e)try{return new Le(e.path[0]).origin}catch(e){return"null"}return"file"!=e&&this.isSpecial()?e+"://"+oe(this.host)+(null!==t?":"+t:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse(b(e)+":",pe)},getUsername:function(){return this.username},setUsername:function(e){var t=f(b(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var o=0;o<t.length;o++)this.username+=se(t[o],ae)}},getPassword:function(){return this.password},setPassword:function(e){var t=f(b(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var o=0;o<t.length;o++)this.password+=se(t[o],ae)}},getHost:function(){var e=this.host,t=this.port;return null===e?"":null===t?oe(e):oe(e)+":"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,Se)},getHostname:function(){var e=this.host;return null===e?"":oe(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,Ie)},getPort:function(){var e=this.port;return null===e?"":b(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(""==(e=b(e))?this.port=null:this.parse(e,Ee))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+N(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,Te))},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){""==(e=b(e))?this.query=null:("?"==M(e,0)&&(e=z(e,1)),this.query="",this.parse(e,Ae)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){""!=(e=b(e))?("#"==M(e,0)&&(e=z(e,1)),this.fragment="",this.parse(e,De)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var Le=function(e){var t=p(this,Ne),o=w(arguments.length,1)>1?arguments[1]:void 0,r=E(t,new Me(e,!1,o));n||(t.href=r.serialize(),t.origin=r.getOrigin(),t.protocol=r.getProtocol(),t.username=r.getUsername(),t.password=r.getPassword(),t.host=r.getHost(),t.hostname=r.getHostname(),t.port=r.getPort(),t.pathname=r.getPathname(),t.search=r.getSearch(),t.searchParams=r.getSearchParams(),t.hash=r.getHash())},Ne=Le.prototype,je=function(e,t){return{get:function(){return O(this)[e]()},set:t&&function(e){return O(this)[t](e)},configurable:!0,enumerable:!0}};if(n&&(d(Ne,"href",je("serialize","setHref")),d(Ne,"origin",je("getOrigin")),d(Ne,"protocol",je("getProtocol","setProtocol")),d(Ne,"username",je("getUsername","setUsername")),d(Ne,"password",je("getPassword","setPassword")),d(Ne,"host",je("getHost","setHost")),d(Ne,"hostname",je("getHostname","setHostname")),d(Ne,"port",je("getPort","setPort")),d(Ne,"pathname",je("getPathname","setPathname")),d(Ne,"search",je("getSearch","setSearch")),d(Ne,"searchParams",je("getSearchParams")),d(Ne,"hash",je("getHash","setHash"))),u(Ne,"toJSON",(function(){return O(this).serialize()}),{enumerable:!0}),u(Ne,"toString",(function(){return O(this).serialize()}),{enumerable:!0}),T){var qe=T.createObjectURL,Be=T.revokeObjectURL;qe&&u(Le,"createObjectURL",c(qe,T)),Be&&u(Le,"revokeObjectURL",c(Be,T))}v(Le,"URL"),i({global:!0,constructor:!0,forced:!a,sham:!n},{URL:Le})},function(e,t,o){var r=o(219),i=o(22);e.exports=function(e,t,o){return o.get&&r(o.get,t,{getter:!0}),o.set&&r(o.set,t,{setter:!0}),i.f(e,t,o)}},function(e,t,o){"use strict";var r=o(7),i=/[^\0-\u007E]/,n=/[.\u3002\uFF0E\uFF61]/g,a="Overflow: input needs wider integers to process",s=RangeError,c=r(n.exec),l=Math.floor,u=String.fromCharCode,d=r("".charCodeAt),p=r([].join),h=r([].push),_=r("".replace),f=r("".split),g=r("".toLowerCase),m=function(e){return e+22+75*(e<26)},y=function(e,t,o){var r=0;for(e=o?l(e/700):e>>1,e+=l(e/t);e>455;)e=l(e/35),r+=36;return l(r+36*e/(e+38))},b=function(e){var t,o,r=[],i=(e=function(e){for(var t=[],o=0,r=e.length;o<r;){var i=d(e,o++);if(i>=55296&&i<=56319&&o<r){var n=d(e,o++);56320==(64512&n)?h(t,((1023&i)<<10)+(1023&n)+65536):(h(t,i),o--)}else h(t,i)}return t}(e)).length,n=128,c=0,_=72;for(t=0;t<e.length;t++)(o=e[t])<128&&h(r,u(o));var f=r.length,g=f;for(f&&h(r,"-");g<i;){var b=2147483647;for(t=0;t<e.length;t++)(o=e[t])>=n&&o<b&&(b=o);var v=g+1;if(b-n>l((2147483647-c)/v))throw s(a);for(c+=(b-n)*v,n=b,t=0;t<e.length;t++){if((o=e[t])<n&&++c>2147483647)throw s(a);if(o==n){for(var w=c,S=36;;){var I=S<=_?1:S>=_+26?26:S-_;if(w<I)break;var E=w-I,O=36-I;h(r,u(m(I+E%O))),w=l(E/O),S+=36}h(r,u(m(w))),_=y(c,v,g==f),c=0,g++}}c++,n++}return p(r,"")};e.exports=function(e){var t,o,r=[],a=f(_(g(e),n,"."),".");for(t=0;t<a.length;t++)o=a[t],h(r,c(i,o)?"xn--"+b(o):o);return p(r,".")}},function(e,t,o){var r=o(6),i=o(214),n=Math.abs;r({target:"Number",stat:!0},{isSafeInteger:function(e){return i(e)&&n(e)<=9007199254740991}})},function(e,t,o){o(390)},function(e,t,o){var r=o(6),i=o(175);r({global:!0,constructor:!0,forced:!o(176)},{DataView:i.DataView})},function(e,t,o){var r;e.exports=(r=o(57),function(e){var t=r,o=t.lib,i=o.WordArray,n=o.Hasher,a=t.algo,s=[];!function(){for(var t=0;t<64;t++)s[t]=4294967296*e.abs(e.sin(t+1))|0}();var c=a.MD5=n.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var o=0;o<16;o++){var r=t+o,i=e[r];e[r]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var n=this._hash.words,a=e[t+0],c=e[t+1],h=e[t+2],_=e[t+3],f=e[t+4],g=e[t+5],m=e[t+6],y=e[t+7],b=e[t+8],v=e[t+9],w=e[t+10],S=e[t+11],I=e[t+12],E=e[t+13],O=e[t+14],P=e[t+15],k=n[0],T=n[1],x=n[2],C=n[3];k=l(k,T,x,C,a,7,s[0]),C=l(C,k,T,x,c,12,s[1]),x=l(x,C,k,T,h,17,s[2]),T=l(T,x,C,k,_,22,s[3]),k=l(k,T,x,C,f,7,s[4]),C=l(C,k,T,x,g,12,s[5]),x=l(x,C,k,T,m,17,s[6]),T=l(T,x,C,k,y,22,s[7]),k=l(k,T,x,C,b,7,s[8]),C=l(C,k,T,x,v,12,s[9]),x=l(x,C,k,T,w,17,s[10]),T=l(T,x,C,k,S,22,s[11]),k=l(k,T,x,C,I,7,s[12]),C=l(C,k,T,x,E,12,s[13]),x=l(x,C,k,T,O,17,s[14]),k=u(k,T=l(T,x,C,k,P,22,s[15]),x,C,c,5,s[16]),C=u(C,k,T,x,m,9,s[17]),x=u(x,C,k,T,S,14,s[18]),T=u(T,x,C,k,a,20,s[19]),k=u(k,T,x,C,g,5,s[20]),C=u(C,k,T,x,w,9,s[21]),x=u(x,C,k,T,P,14,s[22]),T=u(T,x,C,k,f,20,s[23]),k=u(k,T,x,C,v,5,s[24]),C=u(C,k,T,x,O,9,s[25]),x=u(x,C,k,T,_,14,s[26]),T=u(T,x,C,k,b,20,s[27]),k=u(k,T,x,C,E,5,s[28]),C=u(C,k,T,x,h,9,s[29]),x=u(x,C,k,T,y,14,s[30]),k=d(k,T=u(T,x,C,k,I,20,s[31]),x,C,g,4,s[32]),C=d(C,k,T,x,b,11,s[33]),x=d(x,C,k,T,S,16,s[34]),T=d(T,x,C,k,O,23,s[35]),k=d(k,T,x,C,c,4,s[36]),C=d(C,k,T,x,f,11,s[37]),x=d(x,C,k,T,y,16,s[38]),T=d(T,x,C,k,w,23,s[39]),k=d(k,T,x,C,E,4,s[40]),C=d(C,k,T,x,a,11,s[41]),x=d(x,C,k,T,_,16,s[42]),T=d(T,x,C,k,m,23,s[43]),k=d(k,T,x,C,v,4,s[44]),C=d(C,k,T,x,I,11,s[45]),x=d(x,C,k,T,P,16,s[46]),k=p(k,T=d(T,x,C,k,h,23,s[47]),x,C,a,6,s[48]),C=p(C,k,T,x,y,10,s[49]),x=p(x,C,k,T,O,15,s[50]),T=p(T,x,C,k,g,21,s[51]),k=p(k,T,x,C,I,6,s[52]),C=p(C,k,T,x,_,10,s[53]),x=p(x,C,k,T,w,15,s[54]),T=p(T,x,C,k,c,21,s[55]),k=p(k,T,x,C,b,6,s[56]),C=p(C,k,T,x,P,10,s[57]),x=p(x,C,k,T,m,15,s[58]),T=p(T,x,C,k,E,21,s[59]),k=p(k,T,x,C,f,6,s[60]),C=p(C,k,T,x,S,10,s[61]),x=p(x,C,k,T,h,15,s[62]),T=p(T,x,C,k,v,21,s[63]),n[0]=n[0]+k|0,n[1]=n[1]+T|0,n[2]=n[2]+x|0,n[3]=n[3]+C|0},_doFinalize:function(){var t=this._data,o=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;o[i>>>5]|=128<<24-i%32;var n=e.floor(r/4294967296),a=r;o[15+(i+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),o[14+(i+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),t.sigBytes=4*(o.length+1),this._process();for(var s=this._hash,c=s.words,l=0;l<4;l++){var u=c[l];c[l]=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8)}return s},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e}});function l(e,t,o,r,i,n,a){var s=e+(t&o|~t&r)+i+a;return(s<<n|s>>>32-n)+t}function u(e,t,o,r,i,n,a){var s=e+(t&r|o&~r)+i+a;return(s<<n|s>>>32-n)+t}function d(e,t,o,r,i,n,a){var s=e+(t^o^r)+i+a;return(s<<n|s>>>32-n)+t}function p(e,t,o,r,i,n,a){var s=e+(o^(t|~r))+i+a;return(s<<n|s>>>32-n)+t}t.MD5=n._createHelper(c),t.HmacMD5=n._createHmacHelper(c)}(Math),r.MD5)},function(e,t,o){var r=o(7),i=o(48),n=o(24),a=/"/g,s=r("".replace);e.exports=function(e,t,o,r){var c=n(i(e)),l="<"+t;return""!==o&&(l+=" "+o+'="'+s(n(r),a,"&quot;")+'"'),l+">"+c+"</"+t+">"}},function(e,t,o){var r=o(8);e.exports=function(e){return r((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}))}},function(e,t,o){o(230)("Int32",(function(e){return function(t,o,r){return e(this,t,o,r)}}))},function(e,t,o){var r=o(6),i=o(231);r({target:"Array",proto:!0,forced:i!==[].lastIndexOf},{lastIndexOf:i})},function(e,t,o){"use strict";e.exports=d;var r,i=o(190),n=i.LongBits,a=i.base64,s=i.utf8;function c(e,t,o){this.fn=e,this.len=t,this.next=void 0,this.val=o}function l(){}function u(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function d(){this.len=0,this.head=new c(l,0,0),this.tail=this.head,this.states=null}var p=function(){return i.Buffer?function(){return(d.create=function(){return new r})()}:function(){return new d}};function h(e,t,o){t[o]=255&e}function _(e,t){this.len=e,this.next=void 0,this.val=t}function f(e,t,o){for(;e.hi;)t[o++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[o++]=127&e.lo|128,e.lo=e.lo>>>7;t[o++]=e.lo}function g(e,t,o){t[o]=255&e,t[o+1]=e>>>8&255,t[o+2]=e>>>16&255,t[o+3]=e>>>24}d.create=p(),d.alloc=function(e){return new i.Array(e)},i.Array!==Array&&(d.alloc=i.pool(d.alloc,i.Array.prototype.subarray)),d.prototype._push=function(e,t,o){return this.tail=this.tail.next=new c(e,t,o),this.len+=t,this},_.prototype=Object.create(c.prototype),_.prototype.fn=function(e,t,o){for(;e>127;)t[o++]=127&e|128,e>>>=7;t[o]=e},d.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new _((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},d.prototype.int32=function(e){return e<0?this._push(f,10,n.fromNumber(e)):this.uint32(e)},d.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},d.prototype.uint64=function(e){var t=n.from(e);return this._push(f,t.length(),t)},d.prototype.int64=d.prototype.uint64,d.prototype.sint64=function(e){var t=n.from(e).zzEncode();return this._push(f,t.length(),t)},d.prototype.bool=function(e){return this._push(h,1,e?1:0)},d.prototype.fixed32=function(e){return this._push(g,4,e>>>0)},d.prototype.sfixed32=d.prototype.fixed32,d.prototype.fixed64=function(e){var t=n.from(e);return this._push(g,4,t.lo)._push(g,4,t.hi)},d.prototype.sfixed64=d.prototype.fixed64,d.prototype.float=function(e){return this._push(i.float.writeFloatLE,4,e)},d.prototype.double=function(e){return this._push(i.float.writeDoubleLE,8,e)};var m=i.Array.prototype.set?function(e,t,o){t.set(e,o)}:function(e,t,o){for(var r=0;r<e.length;++r)t[o+r]=e[r]};d.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(h,1,0);if(i.isString(e)){var o=d.alloc(t=a.length(e));a.decode(e,o,0),e=o}return this.uint32(t)._push(m,t,e)},d.prototype.string=function(e){var t=s.length(e);return t?this.uint32(t)._push(s.write,t,e):this._push(h,1,0)},d.prototype.fork=function(){return this.states=new u(this),this.head=this.tail=new c(l,0,0),this.len=0,this},d.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new c(l,0,0),this.len=0),this},d.prototype.ldelim=function(){var e=this.head,t=this.tail,o=this.len;return this.reset().uint32(o),o&&(this.tail.next=e.next,this.tail=t,this.len+=o),this},d.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),o=0;e;)e.fn(e.val,t,o),o+=e.len,e=e.next;return t},d._configure=function(e){r=e,d.create=p(),r._configure()}},function(e,t,o){"use strict";e.exports=c;var r,i=o(190),n=i.LongBits,a=i.utf8;function s(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function c(e){this.buf=e,this.pos=0,this.len=e.length}var l,u="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new c(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new c(e);throw Error("illegal buffer")},d=function(){return i.Buffer?function(e){return(c.create=function(e){return i.Buffer.isBuffer(e)?new r(e):u(e)})(e)}:u};function p(){var e=new n(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw s(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw s(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function h(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function _(){if(this.pos+8>this.len)throw s(this,8);return new n(h(this.buf,this.pos+=4),h(this.buf,this.pos+=4))}c.create=d(),c.prototype._slice=i.Array.prototype.subarray||i.Array.prototype.slice,c.prototype.uint32=(l=4294967295,function(){if(l=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return l;if((this.pos+=5)>this.len)throw this.pos=this.len,s(this,10);return l}),c.prototype.int32=function(){return 0|this.uint32()},c.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},c.prototype.bool=function(){return 0!==this.uint32()},c.prototype.fixed32=function(){if(this.pos+4>this.len)throw s(this,4);return h(this.buf,this.pos+=4)},c.prototype.sfixed32=function(){if(this.pos+4>this.len)throw s(this,4);return 0|h(this.buf,this.pos+=4)},c.prototype.float=function(){if(this.pos+4>this.len)throw s(this,4);var e=i.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},c.prototype.double=function(){if(this.pos+8>this.len)throw s(this,4);var e=i.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},c.prototype.bytes=function(){var e=this.uint32(),t=this.pos,o=this.pos+e;if(o>this.len)throw s(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,o):t===o?new this.buf.constructor(0):this._slice.call(this.buf,t,o)},c.prototype.string=function(){var e=this.bytes();return a.read(e,0,e.length)},c.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw s(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw s(this)}while(128&this.buf[this.pos++]);return this},c.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},c._configure=function(e){r=e,c.create=d(),r._configure();var t=i.Long?"toLong":"toNumber";i.merge(c.prototype,{int64:function(){return p.call(this)[t](!1)},uint64:function(){return p.call(this)[t](!0)},sint64:function(){return p.call(this).zzDecode()[t](!1)},fixed64:function(){return _.call(this)[t](!0)},sfixed64:function(){return _.call(this)[t](!1)}})}},function(e,t,o){var r;!function(){"use strict";function i(e,t,o){var r=t.x,i=t.y,n=o.x-r,a=o.y-i;if(0!==n||0!==a){var s=((e.x-r)*n+(e.y-i)*a)/(n*n+a*a);s>1?(r=o.x,i=o.y):s>0&&(r+=n*s,i+=a*s)}return(n=e.x-r)*n+(a=e.y-i)*a}function n(e,t){var o=e.length-1,r=[e[0]];return function e(t,o,r,n,a){for(var s,c=n,l=o+1;l<r;l++){var u=i(t[l],t[o],t[r]);u>c&&(s=l,c=u)}c>n&&(s-o>1&&e(t,o,s,n,a),a.push(t[s]),r-s>1&&e(t,s,r,n,a))}(e,0,o,t,r),r.push(e[o]),r}function a(e,t,o){if(e.length<=2)return e;var r=void 0!==t?t*t:1;return e=n(e=o?e:function(e,t){for(var o,r,i,n,a,s=e[0],c=[s],l=1,u=e.length;l<u;l++)o=e[l],i=s,n=void 0,a=void 0,n=(r=o).x-i.x,a=r.y-i.y,n*n+a*a>t&&(c.push(o),s=o);return s!==o&&c.push(o),c}(e,r),r)}void 0===(r=function(){return a}.call(t,o,t,e))||(e.exports=r)}()},function(e,t,o){"use strict";o.d(t,"a",(function(){return re}));o(302),o(303),o(39),o(26),o(47),o(61),o(62),o(63),o(36),o(46),o(53),o(49),o(50),o(94),o(55),o(186),o(59),o(106),o(395),o(87);var r,i,n,a,s,c,l=o(78),u=o.n(l),d=o(170),p=o(182),h=function(){return(h=Object.assign||function(e){for(var t,o=1,r=arguments.length;o<r;o++)for(var i in t=arguments[o])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},_=function(e,t,o,r){return new(o||(o=Promise))((function(i,n){function a(e){try{c(r.next(e))}catch(e){n(e)}}function s(e){try{c(r.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},f=function(e,t){var o,r,i,n,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(n){return function(s){return function(n){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,r&&(i=2&n[0]?r.return:n[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,n[1])).done)return i;switch(r=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,r=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==n[0]&&2!==n[0])){a=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){a.label=n[1];break}if(6===n[0]&&a.label<i[1]){a.label=i[1],i=n;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(n);break}i[2]&&a.ops.pop(),a.trys.pop();continue}n=t.call(e,a)}catch(e){n=[6,e],r=0}finally{o=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,s])}}},g=(p.a.getInstance(),function(){function e(){this.axiosInstance2=u.a.create(),this.config=null,this.domains={},this.fileDomain=""}return e.prototype.setConfig=function(e){var t="";"alpha"===e.docEnv||"alpha"===e.wbEnv?(t="https://docservice-alpha.zego.im",this.fileDomain="https://docservice-storage-alpha.zego.im/"):(t="test"===e.docEnv||"test"===e.wbEnv?"https://docservice-test.zego.im":"https://docservice.zego.im",this.fileDomain="test"===e.docEnv||"test"===e.wbEnv?"https://docservice-storage-test.zego.im/":"https://docservice-storage.zego.im/"),this.domains={cvt:t+"/doc/cvt_doc",query:t+"/doc/query_status",access:t+"/doc/access"},this.config={platform:32,app_id:e.appID,web_token:e.token,id_name:e.userID}},e.prototype.isConfiged=function(){return!!this.config},e.prototype.uploadImage=function(e,t){return _(this,void 0,void 0,(function(){var o=this;return f(this,(function(r){return[2,new Promise((function(r,i){return _(o,void 0,void 0,(function(){var o,n,a,s,c,l,u,p,h,_,g;return f(this,(function(f){switch(f.label){case 0:return f.trys.push([0,11,,12]),o=e.name,n=e.size,a=o.substr(o.lastIndexOf(".")+1).toLowerCase(),[4,Object(d.a)(e)];case 1:return s=f.sent(),[4,this.queryStatus(s)];case 2:return c=f.sent(),l=c.ret,u=c.status,p=c.oss,h=c.file_id,0!==l.code?[3,9]:1!==u?[3,4]:[4,this.upload(p,e,o,s,a,t,r)];case 3:return f.sent(),[3,8];case 4:return 16!==u?[3,6]:(_=r,[4,this.load(h)]);case 5:return _.apply(void 0,[f.sent()]),[3,8];case 6:return[4,this.repeatQuery(o,s,n,"",r)];case 7:f.sent(),f.label=8;case 8:return[3,10];case 9:l&&60011==l.code&&(l.code=2030001,l.msg=l.message),r(l),f.label=10;case 10:return[3,12];case 11:return!(g=f.sent())||2010001!=g.code&&2020006!=g.code||(g.code=3030010,g.msg=g.message),i(g),[3,12];case 12:return[2]}}))}))}))]}))}))},e.prototype.repeatQuery=function(e,t,o,r,i){return _(this,void 0,void 0,(function(){var n,a,s,c,l=this;return f(this,(function(u){switch(u.label){case 0:return[4,this.queryStatus(t,r)];case 1:return n=u.sent(),a=n.status,s=n.file_id,16===a&&i?(c=i,[4,this.load(s)]):[3,3];case 2:return c.apply(void 0,[u.sent()]),[3,6];case 3:return 2!==a?[3,5]:[4,this.cvt(e,t,o,i)];case 4:return u.sent(),[3,6];case 5:4!==a&&8!==a||setTimeout((function(){return _(l,void 0,void 0,(function(){return f(this,(function(n){switch(n.label){case 0:return[4,this.repeatQuery(e,t,o,r,i)];case 1:return n.sent(),[2]}}))}))}),2e3),u.label=6;case 6:return[2]}}))}))},e.prototype.queryStatus=function(e,t){return _(this,void 0,void 0,(function(){var o,r,i,n,a,s;return f(this,(function(c){switch(c.label){case 0:return o=h(h({},this.config),t?{task_id:t}:{file_hash:e,file_type:16,expect_file_type:16}),[4,this.axiosInstance2({method:"post",url:this.domains.query,timeout:3e4,data:o})];case 1:return r=c.sent().data,i=r.ret,n=r.status,a=r.file_id,s=r.oss,[2,{status:n,file_id:a,oss:s,ret:i}]}}))}))},e.prototype.upload=function(e,t,o,r,i,n,a){return _(this,void 0,void 0,(function(){var s,c,l;return f(this,(function(u){switch(u.label){case 0:return s=e.host?e.host+"/"+e.object_name+"?."+i:this.fileDomain+"/"+e.object_name+"?."+i,c=Object(d.b)(e),(l=new FormData).append("OSSAccessKeyId",c.OSSAccessKeyId),l.append("x-oss-security-token",c.securityToken),l.append("signature",c.signature),l.append("policy",c.policy),l.append("successActionStatus",c.successActionStatus),l.append("key",c.objectName),l.append("file",t),l.append("name",o),[4,this.axiosInstance2({method:"post",url:c.url,data:l,timeout:6e5,onUploadProgress:function(e){if(n){var t=e.total,i=e.loaded;n({fileName:o,fileHash:r,uploadPercent:Math.floor(i/t*100)})}}})];case 1:return u.sent(),this.cvt(o,r,t.size,void 0),a(s),[2]}}))}))},e.prototype.cvt=function(e,t,o,r){return _(this,void 0,void 0,(function(){var i;return f(this,(function(n){switch(n.label){case 0:return[4,this.axiosInstance2({method:"post",url:this.domains.cvt,timeout:3e4,data:h(h({},this.config),{file_name:e,file_hash:t,file_size:o,file_type:16,expect_file_type:16,export_high_quality_images:!1})})];case 1:return 0===(i=n.sent().data).ret.code&&r?[4,this.repeatQuery(e,t,o,i.task_id,r)]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))},e.prototype.load=function(e){return _(this,void 0,void 0,(function(){var t,o;return f(this,(function(r){switch(r.label){case 0:return[4,this.axiosInstance2({method:"post",url:this.domains.access,timeout:3e4,data:h(h({},this.config),{file_id:e})})];case 1:if(0===(t=r.sent().data).ret.code)return o=t.file_name.substr(t.file_name.lastIndexOf(".")+1).toLowerCase(),[2,t.original_file_urls[0]+"?."+o];throw{code:t.ret.code,msg:t.ret.message,message:t.ret.message}}}))}))},e}()),m={Exprsss:{ModifyMod:"/eduv1/modify_mod",DestroyMod:"/eduv1/destroy_mod",CreateMod:"/eduv1/create_mod",GetMod:"/eduv1/get_mod",GetModList:"/eduv1/get_mod_list",GetPageGraphics:"/eduv1/get_page_graphics",ClearPageGraphics:"/eduv1/clear_page_graphics",DrawPageGraphics:"/eduv1/draw_page_graphics",Sync:"/eduv1/sync",GetRoomAuth:"/eduv1/get_room_auth",GetUserAuth:"/eduv1/get_user_auth"},Liveroom:{ModifyMod:""},Private:{ModifyMod:""}},y=o(23),b=o(10),v=o(0),w=o(9),S=o(1),I=o(2),E=function(){return(E=Object.assign||function(e){for(var t,o=1,r=arguments.length;o<r;o++)for(var i in t=arguments[o])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},O=function(e,t,o,r){return new(o||(o=Promise))((function(i,n){function a(e){try{c(r.next(e))}catch(e){n(e)}}function s(e){try{c(r.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},P=function(e,t){var o,r,i,n,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(n){return function(s){return function(n){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,r&&(i=2&n[0]?r.return:n[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,n[1])).done)return i;switch(r=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,r=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==n[0]&&2!==n[0])){a=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){a.label=n[1];break}if(6===n[0]&&a.label<i[1]){a.label=i[1],i=n;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(n);break}i[2]&&a.ops.pop(),a.trys.pop();continue}n=t.call(e,a)}catch(e){n=[6,e],r=0}finally{o=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,s])}}},k=function(){function e(e,t){this.isSendPB=!1,this.isSwitch=!1,this.socket=e,this.module=t,this.docsService=new g,this.isSendPB=this.socket.isSendPB,this.isSwitch=this.socket.isSwitch}return e.prototype.updateRemoteImageGraphicData=function(e,t){return(e=JSON.parse(JSON.stringify(e))).forEach((function(e){var o=e.type,r=e.action,i=e.x,n=e.y;if(o==v.f.Image&&(!t&&(r==v.a.Update||r==v.a.Create)||t&&r==v.a.Move)){var a=e.data;a.x-=i,a.y-=n,a.ex-=i,a.ey-=n}})),e},e.prototype.posToPageNum=function(e,t,o,r,i,n,a){var s=o.cx,c=o.cy,l=0;return s&&c&&(r+=n,i+=a,l=(l=(l=e===v.p.Horizontal?r<=0?0:Math.floor(r/s):i<=0?0:Math.floor(i/c))>t-1?t-1:l)>99?99:l),l},e.prototype.mapPageNumList=function(e){for(var t=[],o=Math.min.apply(Math,e),r=Math.max.apply(Math,e),i=o;i<=r;i++)t.push(i);return t},e.prototype.judgeGraphicPage=function(e,t){var o=this,r=this.module.getMap(e),i=r.innerDirection,n=r.innerPageSize,a=r.innerPageCount,s=t.type,c=t.x,l=t.y,u=[];switch(s){case v.f.Text:var d=Object(w.r)(t.data),p=d.beginX,h=d.beginY,_=this.posToPageNum(i,a,n,Number(p),Number(h),c,l);u=this.mapPageNumList([_]);break;case v.f.Pencil:case v.f.Line:case v.f.Rect:case v.f.Ellipse:case v.f.Laser:case v.f.Cursor:var f=[];t.data.forEach((function(e,t,r){t%2||f.push(o.posToPageNum(i,a,n,r[t],r[t+1],c,l))})),u=this.mapPageNumList(f);break;case v.f.Image:var g=t.data,m=g.x,y=g.y,b=g.ex,S=g.ey,I=this.posToPageNum(i,a,n,m,y,0,0),E=this.posToPageNum(i,a,n,b,S,0,0);u=this.mapPageNumList([I,E]);break;case v.f.BgImage:u.push(0)}return u},e.prototype.checkProtoGraphic=function(e){var t=e.action,o=e.action_type,r=e.graphic_id,i=e.type,n=e.data,a=e.color,s=e.size,c=e.x,l=e.y,u=e.zorder,d=e.attributes,p=e.operate_id,h=e.is_end_draw,_={graphic_id:r,action:t,action_type:o,type:i,is_end_draw:!!h,layer:e.layer||0,zorder:u,creator_id:e.creator_id,operate_id:p};return t===v.a.Create||t===v.a.Append?(_.x=c,_.y=l,_.data=n,_.color=a,_.size=s,i!==v.f.Text&&i!==v.f.Pencil&&i!==v.f.Cursor||(_.attributes=d)):t===v.a.Update?(_.x=c,_.y=l,_.data=n,i===v.f.Image&&i===v.f.Cursor||(_.color=a,_.size=s),i!==v.f.Text&&i!==v.f.Pencil&&i!==v.f.Cursor||(_.attributes=d)):t===v.a.Move&&(_.x=c,_.y=l),i!==v.f.Pencil||h||t!==v.a.Create&&t!==v.a.Append||(_.type=v.f.RealTime),_},e.prototype.mapDrawPages=function(e,t){var o=this,r=this.module.getMap(e);if(!r)return[];var i=r.width,n=r.height,a=r.viewHeight,s=[],c=[];null==t||t.forEach((function(t){var l=o.judgeGraphicPage(e,t);t.color=Object(w.t)(t.color,!1);var u=Object(y.b)(i,n,a,o.module.fileInfo);Object(y.a)(t,i,!1,-u,n),o.isSwitch?Object(y.j)(t,!1,!0):o.isSendPB?Object(y.j)(t,!1):Object(y.i)(t,!1);var d=!1,p=o.checkProtoGraphic(t);l.forEach((function(e){c.includes(e)||c.push(e);var o=r.graphicListSeqs[e],i=E({},p);d&&t.type===v.f.RealTime&&t.action===v.a.Append&&(i.data=""),s.push({page:e,graphic_list_seq:o,draw_list:[i]}),d=!0}))}));var l=[];return c.forEach((function(e){var t={page:e,draw_list:[]};s.forEach((function(o){o.page===e&&(t.draw_list=t.draw_list.concat(o.draw_list),t.graphic_list_seq=o.graphic_list_seq)})),l.push(t)})),l},e.prototype.handleClearRsp=function(e,t,o,r,i){var n=o.header,a=o.body,s=n.code,c=n.message;if(0===s){var l=a.pages,u=a.graphic_list_seqs,d={};l&&l.forEach((function(e,t){return d[e]=u[t]})),S.a.getInstance().info1(I.d.Graph_update_seq,{whiteboardID:e,graphicListSeqs:d,body:a,actionMsg:"clear cb success"}),this.module.updateMapByGraphicListSeqs(a.mod_id,d),this.module.updateMap({whiteboardID:e,operateTimes:0}),this.module.clearGraphicMap(),r(e)}else{var p=this.module.getMap(e);if(p&&++p.operateTimes<5)this.clearViewHandle(e,t,r,i);else{var h=Object(b.b)(s,c);S.a.getInstance().error1(I.d.Mod_clear_cb,{errorData:h}),i(h)}}},e.prototype.handleUpdateToRemoteRsp=function(e,t,o,r,i){var n=o.header,a=o.body,s=o.seq,c=n.code,l=n.message;if(0===c){var u=a.pages,d=a.graphic_list_seqs,p={};u&&u.forEach((function(e,t){return p[e]=d[t]})),S.a.getInstance().info1(I.d.Graph_update_seq_remote,{whiteboardID:e,graphicListSeqs:p,actionMsg:"draw cb success"}),this.module.updateMapByGraphicListSeqs(a.mod_id,p),this.module.updateGraphicMap(e,t),r()}else{var h=Object(b.b)(c,l);S.a.getInstance().error1(I.d.Graph_draw_cb,{errorData:h,seq:s}),i(h)}},e.prototype.clearViewHandle=function(e,t,o,r){return O(this,void 0,void 0,(function(){var i;return P(this,(function(n){switch(n.label){case 0:return[4,this.socket.queueWSCmdHandler(m.Exprsss.ClearPageGraphics,{mod_id:e,layers:t})];case 1:return i=n.sent(),this.handleClearRsp(e,t,i,o,r),[2]}}))}))},e.prototype.updateToRemoteHandle=function(e,t,o,r){return O(this,void 0,void 0,(function(){var i,n,a,s,c,l,u;return P(this,(function(d){switch(d.label){case 0:return t=this.updateRemoteImageGraphicData(t),i=this.updateRemoteImageGraphicData(t,!0),(n={mod_id:e,draw_pages:this.mapDrawPages(e,JSON.parse(JSON.stringify(t)))}).draw_pages.length?[4,this.socket.checkSendLength(n,t[0].action)]:(r(Object(b.b)(v.j.ZegoWhiteboardViewErrorGraphicModifyFail)),[2]);case 1:return a=d.sent(),t.length>1&&a?(s=v.j.ZegoWhiteboardViewErrorGraphicNumLimit,c=Object(b.b)(s),r(c),S.a.getInstance().error1(I.d.Graph_draw_cb,{errorData:c,size:a}),[2]):(l={mod_id:e,draw_pages:this.mapDrawPages(e,t)},[4,this.socket.queueWSCmdHandler(m.Exprsss.DrawPageGraphics,l)]);case 2:return u=d.sent(),this.handleUpdateToRemoteRsp(e,i,u,o,r),[2]}}))}))},e.prototype.clearView=function(e,t){var o=this;return new Promise((function(r,i){o.clearViewHandle(e,t,r,i)}))},e.prototype.uploadImage=function(e,t){var o=S.a.getInstance().getConfig();return this.docsService.setConfig(o),this.docsService.uploadImage(e,t)},e.prototype.getGraphicIsEndDraw=function(e){try{var t=this.module.getGraphicItem(e),o=t.is_end_draw,r=1e3*t.server_timestamp-this.socket.getServerTimeOffset();return!!(o||(new Date).getTime()<r)}catch(e){return!0}},e.prototype.isAppendPathLimit=function(e,t){(t=JSON.parse(JSON.stringify(t))).action=v.a.Update,t.action_type=v.b.Single,t.is_end_draw=!0,t.data=t.oldData;var o=t.data.length;return this.socket.checkSendLength({mod_id:e,draw_pages:this.mapDrawPages(e,[t])},t.action).then((function(e){return e&&S.a.getInstance().warn1(I.d.Graph_draw_limit,{size:e,length:o}),!!e}))},e}(),T=(o(296),o(123),o(167),o(169),o(124),o(56),o(115),o(188),o(121),o(218),o(226),o(105),o(229),o(77),o(4)),x=o(35);function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e){e[e.Initiative=1]="Initiative",e[e.Inner=2]="Inner"}(r||(r={})),function(e){e[e.InProgress=1]="InProgress",e[e.Pending=2]="Pending",e[e.Resolve=3]="Resolve",e[e.Reject=4]="Reject"}(i||(i={})),function(e){e[e.success=0]="success",e[e.error=1]="error"}(n||(n={})),function(e){e[e.SetMod=1]="SetMod",e[e.ClearPageGraphics=2]="ClearPageGraphics",e[e.DrawPageGraphics=3]="DrawPageGraphics",e[e.SetRoomAuth=4]="SetRoomAuth",e[e.SetUserAuth=5]="SetUserAuth"}(a||(a={})),function(e){e[e.Add=1]="Add",e[e.Removed=2]="Removed",e[e.Modify=3]="Modify"}(s||(s={})),function(e){e[e.Scroll=1]="Scroll",e[e.AppendH5Extra=2]="AppendH5Extra",e[e.Scale=3]="Scale",e[e.Other=4]="Other"}(c||(c={}));var A=function(){return(A=Object.assign||function(e){for(var t,o=1,r=arguments.length;o<r;o++)for(var i in t=arguments[o])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},D=function(e,t,o,r){return new(o||(o=Promise))((function(i,n){function a(e){try{c(r.next(e))}catch(e){n(e)}}function s(e){try{c(r.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},M=function(e,t){var o,r,i,n,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(n){return function(s){return function(n){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,r&&(i=2&n[0]?r.return:n[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,n[1])).done)return i;switch(r=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,r=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==n[0]&&2!==n[0])){a=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){a.label=n[1];break}if(6===n[0]&&a.label<i[1]){a.label=i[1],i=n;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(n);break}i[2]&&a.ops.pop(),a.trys.pop();continue}n=t.call(e,a)}catch(e){n=[6,e],r=0}finally{o=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,s])}}},L=function(){function e(e){this.modListSeq=0,this.modIdMapData={},this.zorderSeq=1,this.zorderStep=Object(w.f)(),this.modLimit=50,this.defaultModListSeq=0,this.marker="",this.defaultModType=1,this.defaultModSubtype=1,this.defaultModDeleteFlag=0,this.defaultHPercent=0,this.defaultVPercent=0,this.defaultModReserve=1,this.graphicLimit=30,this.graphicMap={},this.fileInfo={},this.userAuthMap={roomSeq:0,userSeq:0,syncTaskId:0,model:Object.freeze({scale:1,scroll:1,update:1,delete:1,move:1,clear:1,create:1})},this.isSwitch=!1,this.isSendPB=!1,this.socket=e,this.isSwitch=this.socket.isSwitch,this.isSendPB=this.socket.isSendPB}return e.prototype.updateModifyModTaskList=function(e){var t=e.status,o=e.push,r=e.setModAction,n=e.data,a=this.getMap(n.mod_id);if(t===i.InProgress)a.modifyModTaskList.splice(0,a.modifyModTaskList.length,e);else if(t===i.Pending)if(o)a.modifyModTaskList.push(e);else{a.modifyModTaskList.reverse();var s=a.modifyModTaskList.findIndex((function(e){return!e.push&&e.status===i.Pending}));if(-1!==s&&(s=a.modifyModTaskList.length-s-1,a.modifyModTaskList.reverse()),-1===s)a.modifyModTaskList.push(e);else{var l=a.modifyModTaskList[s];l.setModAction===c.AppendH5Extra?(c.Other,Object.assign(l.data,e.data)):l.setModAction===c.Scroll?r===c.Other||r===c.Scroll?Object.assign(l.data,e.data):a.modifyModTaskList.splice(s+1,0,e):l.setModAction===c.Scale?r===c.Scale?Object.assign(l.data,e.data):a.modifyModTaskList.splice(s+1,0,e):(Object.assign(l.data,e.data),l.setModAction=e.setModAction)}}S.a.getInstance().info1(I.d.Module_update_task_list,a.modifyModTaskList)},e.prototype.getOldModInfoByModifyModOption=function(e){var t=this.getMap(e.mod_id),o={};return Object.keys(e).forEach((function(e){"mod_title"===e?o[e]=t.name:"mod_extra"===e?o[e]=t.modExtra:"mod_reserve"===e?o[e]=t.pptStep:"mod_horizontal_percent"===e?o[e]=t.horizontalPercent:"mod_vertical_percent"===e?o[e]=t.verticalPercent:"mod_scale"===e&&(o[e]=t.modScale)})),o},e.prototype.setModBefore=function(e,t){var o=t.mod_id,r=this.getModSendSwitch(o),n={setModAction:e,data:t,push:!1,status:r?i.InProgress:i.Pending};return this.updateModifyModTaskList(n),r},e.prototype.cachePushModifyModTaskHandle=function(e){var t,o=this;return e.forEach((function(e){var r=e.pushModSeq,i=e.data,n=i.mod_id;r>o.getMap(n).modSeq&&o.updateMap({modSeq:r,whiteboardID:n});var a=o.updateMapByModifyModOption(i,r,!0);a&&(t=t||{},Object.assign(t,a))})),t},e.prototype.setModRspAfter=function(e){var t=e.setModOption,o=e.sendResultType,r=e.setModAction,a=t.mod_id,s=this.getMap(a),l=e.errorData;if(o===n.success)S.a.getInstance().info1(I.d.Module_set_mod_cb,"success");else{var u=this.getOldModInfoByModifyModOption(t);if(r===c.Scroll){var d=A(A({},l),{whiteboardID:a,horizontalPercent:u.mod_horizontal_percent,verticalPercent:u.mod_vertical_percent,step:u.mod_reserve});T.f.emit(T.d.Scroll,d),S.a.getInstance().info1(I.d.Module_set_mod_cb,d)}else if(r===c.AppendH5Extra){3===(null==l?void 0:l.code)&&(l=Object(b.b)(x.b.ZegoWhiteboardViewErrorAnimationInfoLimit));var p=u.mod_extra.includes("H5_record");p&&(u.mod_extra=JSON.parse(u.mod_extra),u.mod_extra.H5_record.t=102,u.mod_extra=JSON.stringify(u.mod_extra));d=A(A({},l),{modExtra:u.mod_extra,whiteboardID:a,isH5:p});T.f.emit(T.d.AppendH5Extra,d),S.a.getInstance().info1(I.d.Module_set_mod_cb,d)}else if(r===c.Scale){d=A(A({},l),{whiteboardID:a,mod_scale:u.mod_scale});T.f.emit(T.d.Scale,d),S.a.getInstance().warn1(I.d.Module_set_mod_cb,d)}}S.a.getInstance().info1(I.d.Module_set_mod_cb_tasks,s.modifyModTaskList),s.modifyModTaskList.splice(0,1);var h=s.modifyModTaskList.filter((function(e){return e.push})),_=this.cachePushModifyModTaskHandle(h);S.a.getInstance().info1(I.d.Module_set_mod_cb_push_map,_||""),s.modifyModTaskList=s.modifyModTaskList.filter((function(e){return!e.push}));var f=s.modifyModTaskList[0];f&&(_?this.cacheCallback(_):(f.status=i.InProgress,this.setModHandle(f.setModAction,f.data)))},e.prototype.cacheCallback=function(e){var t=e.is_modify_mod_scale,o=e.is_modify_mod_extra,r=e.is_modify_mod_horizontal_percent,n=e.is_modify_mod_vertical_percent,a=e.is_modify_mod_reserve,s=e.mod_extra,l=e.mod_id,u=this.getMap(l),d=u.modifyModTaskList[0];if(d){var p=d.setModAction,h=!1;if(p===c.Scroll)if(r||n||a)h=!0;else{var _={code:1112,msg:"",whiteboardID:l,horizontalPercent:u.horizontalPercent,verticalPercent:u.verticalPercent,step:u.pptStep};T.f.emit(T.d.Scroll,_),S.a.getInstance().info1(I.d.Module_set_mod_cb_cache,_),u.modifyModTaskList.splice(0,1),this.cacheCallback(e)}else if(p===c.AppendH5Extra)if(o&&s){var f=u.modExtra.includes("H5_record");_={code:1112,msg:"",modExtra:u.modExtra,whiteboardID:l,isH5:f};T.f.emit(T.d.AppendH5Extra,_),S.a.getInstance().info1(I.d.Module_set_mod_cb_cache,_),u.modifyModTaskList.splice(0,1),this.cacheCallback(e)}else h=!0;else if(p===c.Scale)if(t){_={code:1112,msg:"",whiteboardID:l,mod_scale:u.modScale};T.f.emit(T.d.Scale,_),S.a.getInstance().info1(I.d.Module_set_mod_cb_cache,_),u.modifyModTaskList.splice(0,1),this.cacheCallback(e)}else h=!0;else h=!0;h&&(S.a.getInstance().info1(I.d.Module_set_mod_cb_cache,"next set mod"),d.status=i.InProgress,this.setModHandle(d.setModAction,d.data))}},e.prototype.getModSendSwitch=function(e){var t=this.modIdMapData[e];return!t||!t.modifyModTaskList.some((function(e){return!e.push}))},e.prototype.transModInfo=function(e,t,o,r){var i={room_id:"",zorder:0},n={x:0,y:0,z:0,w:0,h:0,ar_w:1,ar_h:1},a={scale:1,ofs_x:0,ofs_y:0};if(e)try{var s=e.buffer?JSON.parse(Object(y.d)(e)):JSON.parse(e),c=s.file_info;c&&(s.file_info={fileID:c.file_id,fileName:c.file_name,fileType:+c.file_type}),s.unique_id||(s.unique_id=4===(null==c?void 0:c.file_type)?c.file_id:r),i=s}catch(t){S.a.getInstance().error1(I.d.Module_trans,{error:t.message,modContentStr:e})}if(t)try{n=t.buffer?JSON.parse(Object(y.d)(t)):JSON.parse(t)}catch(e){S.a.getInstance().error1(I.d.Module_trans,{error:e.message,modPosStr:t})}if(o)try{(a=o.buffer?JSON.parse(Object(y.d)(o)):JSON.parse(o)).scale=Math.max(a.scale,1)}catch(e){S.a.getInstance().error1(I.d.Module_trans,{error:e.message,modScaleStr:o})}return{modContent:i,modPos:n,modScale:a}},e.prototype.checkModInfo=function(e){var t=this.getMap(e);return!!(t&&t.width&&t.height)&&t},e.prototype.deleteMap=function(e){delete this.modIdMapData[e]},e.prototype.getModPropSeq=function(e){return this.modIdMapData[e].modPropSeq},e.prototype.decodeH5Extra=function(e){return(e=e||"").includes("H5_")?e:e.buffer?Object(y.f)(e):Object(y.e)(e)},e.prototype.checkH5Extra=function(e,t,o){try{var r="",i=this.getH5Extra(e,!0);if(i){var n=JSON.parse(i);if(n.H5_target)if(t){var a=JSON.parse(t),s=n.H5_target,c=s.s,l=s.p,u=s.e,d=a.H5_target,p=d.s,h=d.p,_=d.e;if(p===c&&h===l)if(o)if(_.length<u.length)r=t;else if(_.length>u.length)a.H5_target.e=_.slice(u.length),r=JSON.stringify(a);else{var f=[];_.forEach((function(e,t){u.findIndex((function(t){return e.id===t.id}))!==t&&f.push(e)}));var g=_[_.length-1];r=f.length?(a.H5_target.e=f,JSON.stringify(a)):g.s?(a.H5_target.e=[g],JSON.stringify(a)):""}else{var m=u.findIndex((function(e){return e.s&&_[0].id===e.id}));-1!==m&&u.splice(m,1),n.H5_target.e=u.concat(_),r=JSON.stringify(n)}else r=t}else r="";else r=t}else r=t;return r}catch(e){return""}},e.prototype.updateMapByModifyModOption=function(e,t,o){var r,i=e.mod_id,n=e.mod_title,a=e.mod_horizontal_percent,s=e.mod_vertical_percent,c=e.mod_reserve,l=e.mod_scale,u=e.mod_content,d=e.is_modify_mod_horizontal_percent,p=e.is_modify_mod_vertical_percent,h=e.is_modify_mod_reserve,_=e.is_modify_mod_title,f=e.is_modify_mod_extra,g=e.is_modify_mod_scale,m=e.is_modify_mod_content,b=this.decodeH5Extra(e.mod_extra),v=this.getModPropSeq(i),w=v.mod_horizontal_percent,E=v.mod_vertical_percent,O=v.mod_reserve,P=v.mod_title,k=v.mod_extra,T=v.mod_scale,x=v.mod_content,C=this.getMap(i),A={isPushScroll:!1,horizontalPercent:C.horizontalPercent,verticalPercent:C.verticalPercent,pptStep:C.pptStep};if(d&&t>w){A.isPushScroll=!0,A.horizontalPercent=+a||0;var D={whiteboardID:i,horizontalPercent:A.horizontalPercent,modPropSeq:{mod_horizontal_percent:t}};S.a.getInstance().info1(I.d.Module_update_h_percent,{temp1:D}),this.updateMap(D)}if(p&&t>E){A.isPushScroll=!0,A.verticalPercent=+s||0,A.pptStep=+c||1;var M={whiteboardID:i,verticalPercent:A.verticalPercent,pptStep:A.pptStep,modPropSeq:{mod_vertical_percent:t}};S.a.getInstance().info1(I.d.Module_update_v_percent,{temp2:M}),this.updateMap(M)}if(h&&t>O){A.isPushScroll=!0,A.pptStep=+c||1;var L={whiteboardID:i,pptStep:A.pptStep,modPropSeq:{mod_reserve:t}};S.a.getInstance().info1(I.d.Module_update_step,{temp3:L}),this.updateMap(L)}if(A.isPushScroll&&o&&(this.pushScrollHandle(i,A.horizontalPercent,A.verticalPercent,A.pptStep),this.updateMap({whiteboardID:i,modExtra:""}),r=e),_&&t>P){var N={whiteboardID:i,name:n,modPropSeq:{mod_title:t}};S.a.getInstance().info1(I.d.Module_update_name,{temp4:N}),this.updateMap(N)}if(f&&t>k){var j={whiteboardID:i,modExtra:b,modPropSeq:{mod_extra:t}};if(o){var q=this.checkH5Extra(i,b,!0);q&&(this.pushExtraHandle(i,q),r=e)}S.a.getInstance().info1(I.d.Module_update_h5extra,{temp5:j}),this.updateMap(j)}if(g&&t>T){var B=this.isSwitch&&(null==l?void 0:l.buffer)?JSON.parse(Object(y.f)(l)):JSON.parse(l);j={whiteboardID:i,modScale:B,modPropSeq:{mod_scale:t}};o&&this.pushScaleHandle(i,B.scale,B.ofs_x,B.ofs_y),S.a.getInstance().info1(I.d.Module_update_scale,{temp5:j}),this.updateMap(j)}if(m&&t>x){j={whiteboardID:i,zorder:(this.isSwitch&&(null==u?void 0:u.buffer)?JSON.parse(Object(y.f)(u)):JSON.parse(u)).zorder,modPropSeq:{mod_content:t}};S.a.getInstance().info1(I.d.Module_update_content,{temp5:j}),this.updateMap(j),o&&this.pushSwitchViewHandle()}return r},e.prototype.updateMapByMod=function(e){var t,o=this.transModInfo(e.mod_content,e.mod_pos,e.mod_scale,e.mod_id),r=o.modContent,i=o.modPos,n=o.modScale;this.updateMap({whiteboardID:e.mod_id,name:this.isSwitch&&(null===(t=e.mod_title)||void 0===t?void 0:t.buffer)?Object(y.f)(e.mod_title):e.mod_title,aspectWidth:i.ar_w,aspectHeight:i.ar_h,roomID:r.room_id,uniqueID:r.unique_id,zorder:r.zorder,fileInfo:Object.freeze(r.file_info),createTime:e.mod_create_time?+e.mod_create_time:0,horizontalPercent:e.mod_horizontal_percent||0,verticalPercent:e.mod_vertical_percent||0,pptStep:e.mod_reserve||1,modScale:n,modType:e.mod_type,modSubtype:e.mod_subtype,modSeq:e.mod_seq,modExtra:e.mod_extra.buffer?this.decodeH5Extra(Object(y.f)(e.mod_extra)):this.decodeH5Extra(e.mod_extra),outPageCount:r.whiteboard_page_count,outZorder:r.zorder,modPropSeq:{mod_title:e.mod_seq,mod_type:e.mod_seq,mod_subtype:e.mod_seq,mod_pos:e.mod_seq,mod_status:e.mod_seq,mod_content:e.mod_seq,mod_extra:e.mod_seq,mod_reserve:e.mod_seq,mod_delete_flag:e.mod_seq,mod_horizontal_percent:e.mod_seq,mod_vertical_percent:e.mod_seq,mod_scale:e.mod_seq}})},e.prototype.updateModListSeq=function(e){e&&(this.modListSeq=e)},e.prototype.splitPage=function(e,t,o){var r=this.getMap(e);if(r&&t&&o){var i=1,n=0,a=0;t>=o?(n=a=o,(i=Math.ceil(t/o))>100&&(n=Math.ceil(t/99),i=100),r.innerDirection=x.f.Horizontal):(a=n=t,(i=Math.ceil(o/t))>100&&(a=Math.ceil(o/99),i=100),r.innerDirection=x.f.Vertical),r.innerPageCount=i;for(var s=0;s<i;s++)r.graphicListSeqs[s]||(r.graphicListSeqs[s]=0),r.pullMarks[s]=!1;r.innerPageSize.cx=n,r.innerPageSize.cy=a,S.a.getInstance().info1(I.d.Module_split_page,{whiteboardID:e,width:t,height:o,innerPageCx:n,innerPageCy:a,innerPageCount:i})}},e.prototype.setFileInfo=function(e){this.fileInfo=e},e.prototype.transGraphicList=function(e,t,o,r,i){var n=this;if(t&&t.length){var a=Object(y.b)(o,r,i,this.fileInfo);t.forEach((function(t){e.some((function(e){return e.graphic_id===t.graphic_id}))||(t.zorder>n.zorderSeq&&(n.zorderSeq=t.zorder),n.isSwitch?Object(y.j)(t,!0,!0):n.isSendPB?Object(y.j)(t,!0):Object(y.i)(t,!0),n.setGraphicItem(t),Object(y.a)(t,o,!0,a,r),t.color=Object(w.t)(t.color,!0),e.push(t))}))}},e.prototype.pushScrollHandle=function(e,t,o,r){T.f.emit(T.d.PushScroll,e,t,o,r)},e.prototype.pushScaleHandle=function(e,t,o,r){T.f.emit(T.d.PushScale,e,t,o,r)},e.prototype.pushExtraHandle=function(e,t){T.f.emit(T.d.PushH5ExtraAppended,e,t)},e.prototype.pushSwitchViewHandle=function(){var e=this.getCurrentActivitedView(),t=e[0],o=e[1];T.f.emit(T.e.RemoteSwitchMod,t,o)},e.prototype.pushSetModHandle=function(e){var t=e.mod_list_seq,o=e.action_list[0],r=o.action;r===s.Removed?this.pushRemovedMod(o.mod_id):r===s.Add&&this.pushAddMod(o),t>=this.modListSeq?(this.updateModListSeq(t),r===s.Modify&&this.pushModifyMod(o)):S.a.getInstance().warn1(I.d.Module_remote,{localModListSeq:this.modListSeq,remoteModListSeq:t,msg:"throw away"})},e.prototype.pushClearPageGraphicsHandle=function(e){var t=e.action_seqs,o=e.pages,r=e.layers,i=e.mod_id;if(this.checkModInfo(i)){var n={};o&&o.forEach((function(e,o){return n[e]=t[o]})),S.a.getInstance().info1(I.d.Module_update_seq,{whiteboardID:i,graphicListSeqs:n,layers:r,actionMsg:"remote clear"}),T.f.emit(T.d.PushClearPageGraphics,i,r),this.updateMapByGraphicListSeqs(i,n),this.updateMap({whiteboardID:i,operateTimes:0})}},e.prototype.pushClearUserGraphicListHandle=function(e){var t=e.id_name,o=e.mods;t!=this.socket.getUserID()&&(o.forEach((function(e){var t=e.mod_id,o=e.graphic_ids;T.f.emit(T.d.PushDrawPageGraphics,t,[],o)})),S.a.getInstance().info1(I.d.Module_delete_graphic,{id_name:t,mods:o,actionMsg:"remote delete graphic"}))},e.prototype.pushDrawPageGraphicsHandle=function(e){var t=this,o=e.page_graphics,r=e.mod_id,i=this.checkModInfo(r);if(i){S.a.getInstance().info1(I.d.Module_remote_draw,{drawPages:o});var n=i.width,a=i.height,s=i.viewHeight,c={},l=[],u=[];o.forEach((function(e){var o=e.del_graphic_id_list,r=e.graphic_list,d=e.action_seq,p=e.page;(!i.graphicListSeqs[p]||d>i.graphicListSeqs[p])&&(t.transGraphicList(l,r,n,a,s),o&&u.push.apply(u,o),c[p]=d)})),S.a.getInstance().info1(I.d.Module_update_seq,{whiteboardID:r,graphicListSeqs:c,actionMsg:"remote_draw"}),this.updateMapByGraphicListSeqs(r,c),T.f.emit(T.d.PushDrawPageGraphics,r,l,u)}},e.prototype.pushAddMod=function(e){var t=e.mod_id;S.a.getInstance().info1(I.d.Module_remote_add,{whiteboardID:t}),this.updateMapByMod(e),T.f.emit(T.d.PushAddMod,t,this.getMap(t).uniqueID)},e.prototype.pushRemovedMod=function(e){var t=this.getMap(e).uniqueID;this.deleteMap(e),T.f.emit(T.d.PushRemovedMod,e,t),T.f.emit(T.d.RemoteDelMod)},e.prototype.pushModifyMod=function(e){e.mod_horizontal_percent||(e.mod_horizontal_percent=0),e.mod_vertical_percent||(e.mod_vertical_percent=0);var t=e.mod_id,o=e.mod_seq,r=e.mod_title,n=e.mod_horizontal_percent,a=e.mod_vertical_percent,s=e.mod_reserve,c=e.mod_extra,l=e.mod_scale,u=e.mod_content,d=e.is_modify_mod_vertical_percent,p=e.is_modify_mod_horizontal_percent,h=e.is_modify_mod_reserve,_=e.is_modify_mod_title,f=e.is_modify_mod_extra,g=e.is_modify_mod_scale,m=e.is_modify_mod_content,y=this.getMap(t);if(y)if(this.getModSendSwitch(t)){if(S.a.getInstance().info1(I.d.Module_remote_modify,"immediate update"),o>y.modSeq){var b={whiteboardID:t,modSeq:o};this.updateMap(b)}this.updateMapByModifyModOption(e,o,!0)}else{S.a.getInstance().info1(I.d.Module_remote_modify,"cache");var v={mod_id:t};_&&Object.assign(v,{mod_title:r,is_modify_mod_title:_}),f&&Object.assign(v,{mod_extra:c,is_modify_mod_extra:f}),p&&Object.assign(v,{mod_horizontal_percent:n,is_modify_mod_horizontal_percent:p}),d&&Object.assign(v,{mod_vertical_percent:a,is_modify_mod_vertical_percent:d,mod_reserve:s,is_modify_mod_reserve:h}),h&&Object.assign(v,{mod_reserve:s,is_modify_mod_reserve:h}),g&&Object.assign(v,{mod_scale:l,is_modify_mod_scale:g}),m&&Object.assign(v,{mod_content:u,is_modify_mod_content:m}),this.updateModifyModTaskList({status:i.Pending,data:v,push:!0,pushModSeq:o})}},e.prototype.clearPullMarks=function(e){var t=this;S.a.getInstance().info1(I.d.Module_clear_pull_mark,"init pull mark");var o=e?[e]:Object.keys(this.modIdMapData);Object.values(o).forEach((function(e){var o=t.modIdMapData[e];o&&Object.keys(o.pullMarks).forEach((function(e){o.pullMarks[+e]=!1}))}))},e.prototype.createModInfo=function(e){var t={};if(e.fileInfo){var o=e.fileInfo,r=o.fileID,i=o.fileName,n=o.fileType;t.file_info={file_id:r,file_name:i,file_type:n}}e.pageCount&&(t.whiteboard_page_count=e.pageCount);var a=e.uniqueID;a&&(t.unique_id=a,t.zorder=Date.now()+this.socket.getServerTimeOffset());return{modContent:t,modPos:{x:0,y:0,z:0,w:0,h:0,ar_w:e.aspectWidth,ar_h:e.aspectHeight},modScale:{scale:1,ofs_x:0,ofs_y:0}}},e.prototype.compareHandle=function(e,t){var o=this;S.a.getInstance().info1(I.d.Module_compare,"compare local with server");var i=Object.keys(this.modIdMapData);t.forEach((function(t){var n=t.mod_id,a=t.mod_horizontal_percent,s=t.mod_vertical_percent,c=t.mod_reserve;if(n+="",a=a||0,s=s||0,c=c||1,Object.assign(t,{mod_horizontal_percent:a,mod_vertical_percent:s,mod_reserve:c}),-1===i.indexOf(n))e===r.Inner?o.pushAddMod(t):o.updateMapByMod(t);else{var l=o.getMap(n),u=l.horizontalPercent,d=l.verticalPercent,p=l.pptStep;o.updateMapByMod(t),u===a&&d===s&&c===p||o.pushScrollHandle(n,a,s,c)}})),i.forEach((function(i){-1===t.findIndex((function(e){return e.mod_id===i}))&&(e===r.Inner?o.pushRemovedMod(i):o.deleteMap(i))}))},e.prototype.handleGetModListDetailsRsp=function(e,t){var o=e.header,r=e.body,i=o.code,n=o.message;if(0===i){var a=r.mod_list_seq,s=r.mod_list;return a&&this.updateModListSeq(a),S.a.getInstance().info1(I.d.Module_update_seq,{modListSeq:a,actionMsg:"get list cb success"}),(s=s||[]).sort((function(e,t){return+t.mod_create_time-+e.mod_create_time})),this.compareHandle(t,s),Promise.resolve(s)}var c=Object(b.b)(i,n);return S.a.getInstance().error1(I.d.Module_get_list_cb,{errorData:c}),Promise.reject(c)},e.prototype.handleDestroyModRsp=function(e){var t=e.header,o=e.body,r=t.code,i=t.message;if(0===r){var n=o.mod_list_seq,a=o.mod_id;return this.updateModListSeq(n),S.a.getInstance().info1(I.d.Module_update_seq,{modListSeq:n,actionMsg:"destroy cb success"}),this.deleteMap(a),Promise.resolve()}var s=Object(b.b)(r,i);return S.a.getInstance().error1(I.d.Module_destroy_cb,{errorData:s}),Promise.reject(s)},e.prototype.handleCreateModRsp=function(e){return D(this,void 0,void 0,(function(){var t,o,r,i,n,a,s,c,l,u,d;return M(this,(function(p){switch(p.label){case 0:if(t=e.header,o=e.body,r=t.code,i=t.message,0!==r)return[3,5];n=o.mod_list_seq,a=o.mod_id,this.updateModListSeq(n),S.a.getInstance().info1(I.d.Module_update_seq,{modListSeq:n,actionMsg:"create cb success"}),p.label=1;case 1:return p.trys.push([1,3,,4]),[4,this.getModInfo([a])];case 2:return s=p.sent(),c=s[0],this.updateMapByMod(c),[2,c.mod_id];case 3:return l=p.sent(),[2,Promise.reject(l)];case 4:return[3,6];case 5:return u=3===r?x.b.ZegoWhiteboardViewErrorViewNameLimit:r,d=Object(b.b)(u,i),S.a.getInstance().error1(I.d.Module_create_cb,{errorData:d}),[2,Promise.reject(d)];case 6:return[2]}}))}))},e.prototype.handleGetModInfoRsp=function(e){var t=e.header,o=e.body,r=t.code,i=t.message;if(0===r){var n=o.mod_list;return S.a.getInstance().info1(I.d.Module_get_info_cb,n||[]),Promise.resolve(n||[])}var a=Object(b.b)(r,i);return S.a.getInstance().error1(I.d.Module_get_info_cb,a),Promise.reject(a)},e.prototype.handleSetModRsp=function(e,t,o){var r=o.header,i=o.body,a=r.code,s=r.message;if(0===a){var c=i.mod_list_seq,l=i.mod_seq,u=i.mod_id;this.modListSeq=c,this.updateMap({whiteboardID:u,modSeq:l}),this.updateMapByModifyModOption(t,l,!1),this.setModRspAfter({setModAction:e,setModOption:t,sendResultType:n.success})}else this.setModRspAfter({setModAction:e,setModOption:t,sendResultType:n.error,errorData:3===a?{code:a,msg:s}:Object(b.b)(a,s)})},e.prototype.handleGetPageGraphicsListRsp=function(e,t){var o=this,r=t.header,i=t.body,n=r.code,a=r.message;if(0===n){var s=this.checkModInfo(e);if(!s)return;var c=s.width,l=s.height,u=s.viewHeight,d=i.pages,p=[],h=[],_={},f=[],g=[];d.forEach((function(t){var r=t.page,i=t.ret_graphic_list_seq,n=t.svr_graphic_list_seq,a=t.graphic_list,s=t.del_graphic_id_list;o.transGraphicList(f,a,c,l,u),s&&g.push.apply(g,s),_[r]=n,n!==i&&0!==i?(p.push(r),h.push(i)):o.getMap(e).pullMarks[r]=!0})),S.a.getInstance().info1(I.d.Module_update_seq,{whiteboardID:e,graphicListSeqs:_,actionMsg:"get list cb success"}),this.updateMapByGraphicListSeqs(e,_),T.f.emit(T.d.GetPageGraphicsList,e,f,g),p.length&&(S.a.getInstance().info1(I.d.Module_get_list_cb,"increment get"),this.getPageGraphicsList(e,p,h))}else{var m=Object(b.b)(n,a);S.a.getInstance().error1(I.d.Module_get_list_cb,m)}},e.prototype.getModInfo=function(e){return D(this,void 0,void 0,(function(){var t;return M(this,(function(o){switch(o.label){case 0:return[4,this.socket.queueWSCmdHandler(m.Exprsss.GetMod,{mod_id_list:e})];case 1:return t=o.sent(),[2,this.handleGetModInfoRsp(t)]}}))}))},e.prototype.getModListDetails=function(e,t){return void 0===e&&(e=r.Initiative),void 0===t&&(t=this.defaultModListSeq),D(this,void 0,void 0,(function(){var o;return M(this,(function(r){switch(r.label){case 0:return[4,this.socket.queueWSCmdHandler(m.Exprsss.GetModList,{mod_list_seq:t,limit:this.modLimit,marker:this.marker,mod_type:this.defaultModType})];case 1:return o=r.sent(),[2,this.handleGetModListDetailsRsp(o,e)]}}))}))},e.prototype.setModHandle=function(e,t){return D(this,void 0,void 0,(function(){var o,r;return M(this,(function(i){switch(i.label){case 0:return o=t.mod_id,[4,this.socket.queueWSCmdHandler(m.Exprsss.ModifyMod,A({mod_seq:this.getMap(o).modSeq},t))];case 1:return r=i.sent(),this.handleSetModRsp(e,t,r),[2]}}))}))},e.prototype.setMod=function(e,t){this.setModBefore(e,t)&&this.setModHandle(e,t)},e.prototype.checkScroll=function(e,t,o,r){var i=this.getMap(e);if(i){var n=i.horizontalPercent,a=i.verticalPercent,s=i.pptStep,c=!1,l={mod_id:e};return t!==n&&(l.mod_horizontal_percent=t,l.is_modify_mod_horizontal_percent=!0,c=l),o===a&&r===s||(l.mod_vertical_percent=o,l.is_modify_mod_vertical_percent=o!==a,l.mod_reserve=r,l.is_modify_mod_reserve=!0,c=l),c}return!1},e.prototype.checkScale=function(e,t,o,r){return!!this.getMap(e)&&{mod_id:e,mod_scale:this.isSwitch?Object(y.h)(JSON.stringify({scale:t,ofs_x:o,ofs_y:r})):JSON.stringify({scale:t,ofs_x:o,ofs_y:r}),is_modify_mod_scale:!0}},e.prototype.checkSwitchView=function(e){var t=this.getMap(e);if(t){var o={unique_id:t.uniqueID,whiteboard_page_count:t.outPageCount,zorder:Date.now()+this.socket.getServerTimeOffset()};if(t.fileInfo){var r=t.fileInfo,i=r.fileID,n=r.fileName,a=r.fileType;o.file_info={file_id:i,file_name:n,file_type:a}}return{mod_id:e,mod_content:this.isSwitch?Object(y.h)(JSON.stringify(o)):JSON.stringify(o),is_modify_mod_content:!0}}return!1},e.prototype.getCurrentPages=function(e,t,o){var r,i,n=this.getMap(e),a=n.width,s=n.height,c=n.innerPageSize,l=n.viewWidth,u=n.viewHeight;n.innerDirection===x.f.Horizontal?(r=Math.floor(a*t/c.cx),i=Math.floor((l+a*t)/c.cx)):(r=Math.floor(s*o/c.cy),i=Math.floor((u+s*o)/c.cy));var d=i-r+1;return{minPage:r=Math.max(0,r-d),maxPage:i=(i+=d)>99?99:Math.min(i,n.innerPageCount-1)}},e.prototype.initUserAuthMap=function(){this.userAuthMap.syncTaskId&&window.clearInterval(this.userAuthMap.syncTaskId),this.userAuthMap.roomSeq=0,this.userAuthMap.userSeq=0,this.userAuthMap.syncTaskId=0,this.userAuthMap.model=Object.freeze({scale:1,scroll:1,update:1,delete:1,move:1,clear:1,create:1}),T.f.emit(T.d.PushAuthChange,{scale:1,scroll:1},{update:1,delete:1,move:1,clear:1,create:1})},e.prototype.getRemoteRoomUserAuth=function(e){return D(this,void 0,void 0,(function(){var t,o,r,i,n,a;return M(this,(function(s){switch(s.label){case 0:return t="room"==e?m.Exprsss.GetRoomAuth:m.Exprsss.GetUserAuth,[4,this.socket.queueWSCmdHandler(t,{})];case 1:return o=s.sent(),r=o.header,i=r.code,n=r.message,0===i?(S.a.getInstance().info1("room"===e?I.d.Get_room_auth_cb:I.d.Get_user_auth_cb,"success"),[2,o.body]):(a=Object(b.b)(i,n),S.a.getInstance().error1("room"===e?I.d.Get_room_auth_cb:I.d.Get_user_auth_cb,a),[2,Promise.reject(a)])}}))}))},e.prototype.setUserAuthMap=function(e){if(e.auth_seq=e.auth_seq||0,!(e.auth_seq<=0)&&(e.id_name?this.userAuthMap.userSeq=e.auth_seq:this.userAuthMap.roomSeq=e.auth_seq,e.id_name||0==this.userAuthMap.userSeq)){var t=JSON.parse(JSON.stringify(this.userAuthMap.model)),o={scale:1,scroll:1,update:1,delete:1,move:1,clear:1,create:1},r=e.module_auth||[];o.scale=+r.includes(v.l.Scale),o.scroll=+r.includes(v.l.Scroll),r=e.graphic_auth||[],o.update=+r.includes(v.m.Update),o.delete=+r.includes(v.m.Delete),o.move=+r.includes(v.m.Move),o.clear=+r.includes(v.m.Clear),o.create=+r.includes(v.m.Create),this.userAuthMap.model=Object.freeze(o),this.onPushAuthChange(this.userAuthMap.model,t)}},e.prototype.onPushAuthChange=function(e,t){var o,r;e.scale==t.scale&&e.scroll==t.scroll||(o={scale:e.scale,scroll:e.scroll}),e.update==t.update&&e.delete==t.delete&&e.move==t.move&&e.clear==t.clear&&e.create==t.create||(r={update:e.update,delete:e.delete,move:e.move,clear:e.clear,create:e.create}),T.f.emit(T.d.PushAuthChange,o,r)},e.prototype.pushUserAuthHandle=function(e){var t=this,o=this.socket.getUserID(),r=this.userAuthMap.userSeq;e.user_auth.some((function(e){return e.id_name===o&&e.auth_seq>r&&(t.setUserAuthMap(e),!0)}))},e.prototype.syncRemoteSeq=function(){return D(this,void 0,void 0,(function(){var e,t,o,r,i,n,a=this;return M(this,(function(s){switch(s.label){case 0:return[4,this.socket.queueWSCmdHandler(m.Exprsss.Sync,{})];case 1:return 0===(e=s.sent()).header.code&&(t=e.body,o=t.sync_interval,r=t.room_auth_seq,i=t.user_auth_seq,n=t.mod_list_seq,this.userAuthMap.syncTaskId||(this.userAuthMap.syncTaskId=window.setInterval((function(){a.syncRemoteSeq()}),1e3*(o||30))),this.syncRoomUserAuth(r,i),this.syncModuleHandle(n)),[2]}}))}))},e.prototype.getPageGraphicsList=function(e,t,o){return D(this,void 0,void 0,(function(){var r,i,n;return M(this,(function(a){switch(a.label){case 0:return r=this.getMap(e),i=r.graphicListSeqs,!t.includes(0)&&t.unshift(0),o||(o=t.map((function(e){return r.pullMarks[e]&&i[e]||0}))),o.length<t.length&&o.unshift(i[0]||0),[4,this.socket.queueWSCmdHandler(m.Exprsss.GetPageGraphics,{mod_id:e,pages:t,graphic_list_seqs:o,limit:this.graphicLimit})];case 1:return n=a.sent(),this.handleGetPageGraphicsListRsp(e,n),[2]}}))}))},e.prototype.syncModuleHandle=function(e){S.a.getInstance().info1(I.d.Module_get_list_sync,{localModListSeq:this.modListSeq,svrModListSeq:e}),e>this.modListSeq&&this.getModListDetails(r.Inner,this.modListSeq?this.modListSeq:this.defaultModListSeq)},e.prototype.syncRoomUserAuth=function(e,t){var o=this;S.a.getInstance().info1(I.d.Module_sync_room_user_auth_cb,{localRoom:this.userAuthMap.roomSeq,serverRoom:e,localUser:this.userAuthMap.userSeq,serverUser:t}),t=t||0,(e=e||0)>this.userAuthMap.roomSeq&&(this.userAuthMap.roomSeq=e,this.getRemoteRoomUserAuth("room").then((function(e){return o.setUserAuthMap(e)}))),t>this.userAuthMap.userSeq&&(this.userAuthMap.userSeq=t,this.getRemoteRoomUserAuth("user").then((function(e){return o.setUserAuthMap(e)})))},e.prototype.checkLogin=function(){return"CONNECTED"===this.socket.getRoomState()||Promise.reject(Object(b.b)(x.b.ZegoWhiteboardViewErrorNoLoginRoom))},e.prototype.getModList=function(){return D(this,void 0,void 0,(function(){var e,t,o;return M(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),!0!==(e=this.checkLogin())?[2,e]:(S.a.getInstance().info1(I.d.Module_get_list,{localModListSeq:this.modListSeq}),[4,this.getModListDetails(r.Initiative)]);case 1:return t=i.sent(),[2,Promise.resolve(t.map((function(e){return e.mod_id})))];case 2:return o=i.sent(),[2,Promise.reject(o)];case 3:return[2]}}))}))},e.prototype.destroyMod=function(e){return D(this,void 0,void 0,(function(){var t,o;return M(this,(function(r){switch(r.label){case 0:return!0!==(t=this.checkLogin())?[2,t]:[4,this.socket.queueWSCmdHandler(m.Exprsss.DestroyMod,{mod_id:e})];case 1:return o=r.sent(),[2,this.handleDestroyModRsp(o)]}}))}))},e.prototype.createMod=function(e,t){return D(this,void 0,void 0,(function(){var o,r,i,n,a,s,c,l;return M(this,(function(u){switch(u.label){case 0:return o=this.checkLogin(),r=this.isSwitch,!0!==o?[2,o]:(i=this.createModInfo(e),n=i.modContent,a=i.modPos,s=i.modScale,c={mod_id:t||Object(w.d)(),mod_title:r?Object(y.h)(e.name):e.name,mod_type:this.defaultModType,mod_subtype:this.defaultModSubtype,mod_delete_flag:this.defaultModDeleteFlag,mod_content:r?Object(y.h)(JSON.stringify(n)):JSON.stringify(n),mod_horizontal_percent:this.defaultHPercent,mod_vertical_percent:this.defaultVPercent,mod_reserve:this.defaultModReserve,mod_pos:r?Object(y.h)(JSON.stringify(a)):JSON.stringify(a),mod_scale:r?Object(y.h)(JSON.stringify(s)):JSON.stringify(s)},[4,this.socket.queueWSCmdHandler(m.Exprsss.CreateMod,c)]);case 1:return l=u.sent(),[2,this.handleCreateModRsp(l)]}}))}))},e.prototype.getUserAuth=function(){return this.userAuthMap.model},e.prototype.updateMapByGraphicListSeqs=function(e,t){var o=this.getMap(e).graphicListSeqs;Object.keys(t).forEach((function(e){o[+e]=t[+e]}))},e.prototype.setGraphicItem=function(e){var t=e.operate_id,o=e.data;this.graphicMap[e.graphic_id]={is_end_draw:!t||e.is_end_draw,server_timestamp:+e.server_timestamp||0,operate_id:t,type:e.type,pointData:{x:e.x||0,y:e.y||0,px:e.px||0,py:e.py||0,data:"object"==C(o)?JSON.parse(JSON.stringify(o)):o}}},e.prototype.getGraphicItem=function(e){return this.graphicMap[e]},e.prototype.clearGraphicMap=function(){this.graphicMap={}},e.prototype.updateGraphicMap=function(e,t){var o=this,r=this.getMap(e).width,i=this.getMap(e).height,n=this.getMap(e).viewHeight,a=Object(y.b)(r,i,n,this.fileInfo);t.forEach((function(e){Object(y.a)(e,r,!1,-a,i),o.setGraphicItem(e)}))},e.prototype.reloadViewGraphics=function(e,t){var o=this,r=this.getMap(e).width,i=this.getMap(e).height,n=this.getMap(e).viewHeight,a=Object(y.b)(r,i,n,this.fileInfo);t.forEach((function(e){if(e.type===v.f.Cursor){var t=o.getGraphicItem(e.graphic_id);if(t){var n=t.pointData.data;e.data="object"==C(n)?JSON.parse(JSON.stringify(n)):n,Object(y.a)(e,r,!0,a,i)}}else{var s=o.getGraphicItem(e.graphic_id).pointData,c=s.x,l=s.y,u=s.px,d=s.py;n=s.data;e.x=c,e.y=l,e.px=u,e.py=d,e.data="object"==C(n)?JSON.parse(JSON.stringify(n)):n,Object(y.a)(e,r,!0,a,i)}}))},e.prototype.updateMap=function(e){var t=this.getMap(e.whiteboardID);if(t){var o=e.modPropSeq;o&&Object.assign(t.modPropSeq||{},o),delete e.modPropSeq,Object.assign(t,e)}else this.modIdMapData[e.whiteboardID]=A({graphicListSeqs:{0:0},pullMarks:{0:!1},modSeq:0,width:0,height:0,viewWidth:0,viewHeight:0,innerPageCount:1,innerDirection:x.f.Horizontal,innerPageSize:{cx:0,cy:0},modType:this.defaultModType,modSubtype:this.defaultModSubtype,operateTimes:0,inProgress:!1,graphicSendSwitch:!0,modifyModTaskList:[],moveTaskList:[]},e)},e.prototype.getMap=function(e){return this.modIdMapData[e]},e.prototype.appendH5Extra=function(e,t){S.a.getInstance().info1(I.d.Module_append_extra_origin,t);var o=this.checkH5Extra(e,t,!1);if(o){S.a.getInstance().info1(I.d.Module_append_extra_new,o);var r=o.includes("H5_record"),i={mod_id:e,mod_extra:this.isSwitch?Object(y.h)(o):r?Object(y.g)(o):o,is_modify_mod_extra:!0};this.setMod(c.AppendH5Extra,i)}},e.prototype.scroll=function(e,t,o,r,i){S.a.getInstance().info1(I.d.Module_scroll_origin,{hPercent:t,vPercent:o,pptStep:r});var n=this.checkScroll(e,t,o,r);if(n){if(n.mod_extra="",n.is_modify_mod_extra=!0,i){var a=this.getMap(e).modScale,s=a.scale,l=a.ofs_x,u=i.scaleFactor,d=i.scaleOffsetX,p=i.scaleOffsetY?{scale:u,ofs_x:d,ofs_y:0}:{scale:s,ofs_x:l,ofs_y:0};n.mod_scale=this.isSwitch?Object(y.h)(JSON.stringify(p)):JSON.stringify(p),n.is_modify_mod_scale=!0}S.a.getInstance().info1(I.d.Module_scroll_new,{setModOption:n}),this.setMod(c.Scroll,n)}},e.prototype.scale=function(e,t,o,r){S.a.getInstance().info1(I.d.Module_scale_origin,{scale:t,ofs_x:o,ofs_y:r});var i=this.checkScale(e,t,o,r);i&&(S.a.getInstance().info1(I.d.Module_scale_new,{setModOption:i}),this.setMod(c.Scale,i))},e.prototype.getAspectRatio=function(e){var t=this.getMap(e);return t.aspectWidth+":"+t.aspectHeight},e.prototype.getFileInfo=function(e){var t=this.getMap(e);return t&&t.fileInfo||null},e.prototype.getScrollPercent=function(e){var t=this.getMap(e);return{horizontalPercent:t.horizontalPercent,verticalPercent:t.verticalPercent,pptStep:t.pptStep,direction:t.innerDirection}},e.prototype.getScale=function(e){var t=this.getMap(e);return{scaleFactor:t.modScale.scale,scaleOffsetX:t.modScale.ofs_x,scaleOffsetY:t.modScale.ofs_y}},e.prototype.loadCurrentGraphics=function(e,t,o){for(var r=this.getMap(e),i=this.getCurrentPages(e,t,o),n=i.minPage,a=i.maxPage,s=[],c=n;c<=a;c++){!r.pullMarks[c]&&s.push(c)}S.a.getInstance().info1(I.d.Module_load_by_percent,{horizontalPercent:t,verticalPercent:o,minPage:n,maxPage:a,pageNumList:s}),s.length&&this.getPageGraphicsList(e,s)},e.prototype.reload=function(){var e=this;this.syncRemoteSeq(),this.clearPullMarks(),this.getModListDetails(r.Inner),this.onRemotePush(),this.getRemoteAuth();try{Object.values(this.modIdMapData).forEach((function(t){e.loadCurrentGraphics(t.whiteboardID,t.horizontalPercent,t.verticalPercent)}))}catch(e){S.a.getInstance().error1(I.d.Reload_graphics,{error:e})}S.a.getInstance().info1(I.d.Reload_graphics,"reload whiteboard")},e.prototype.unload=function(){this.userAuthMap.syncTaskId&&window.clearInterval(this.userAuthMap.syncTaskId),S.a.getInstance().info1(I.d.Unload,"unload whiteboard")},e.prototype.onRemotePush=function(){var e=this;this.socket.registerWbMessage((function(t){var o=t.sub_cmd,r=t.msg_body;switch(o){case 291101:e.pushSetModHandle(r);break;case 291203:e.pushDrawPageGraphicsHandle(r);break;case 291204:e.pushClearPageGraphicsHandle(r);break;case 291501:e.pushUserAuthHandle(r);break;case 291502:e.setUserAuthMap(r);break;case 291205:e.pushClearUserGraphicListHandle(r)}}))},e.prototype.getRemoteAuth=function(){var e=this;this.initUserAuthMap(),this.getRemoteRoomUserAuth("room").then((function(t){e.setUserAuthMap(t),e.syncRemoteSeq()})),this.getRemoteRoomUserAuth("user").then((function(t){e.setUserAuthMap(t)}))},e.prototype.getModName=function(e){var t=this.getMap(e);return(null==t?void 0:t.name)||""},e.prototype.getCreateTime=function(e){var t=this.getMap(e);return(null==t?void 0:t.createTime)||0},e.prototype.getRoomID=function(e){var t=this.getMap(e);return(null==t?void 0:t.roomID)||""},e.prototype.getUniqueID=function(e){var t=this.getMap(e);return(null==t?void 0:t.uniqueID)||""},e.prototype.getPageCount=function(e){var t=this.getMap(e);return(null==t?void 0:t.outPageCount)||1},e.prototype.setSize=function(e,t,o){var r=this.getMap(e);return!!(r&&t&&o)&&(r.width=t,r.height=o,S.a.getInstance().info1(I.d.Module_set_view_size,{whiteboardID:e,width:t,height:o}),this.splitPage(e,t,o),!0)},e.prototype.setViewSize=function(e,t,o){var r=this.getMap(e);return!!(r&&t&&o)&&(S.a.getInstance().info1(I.d.Module_set_viewpoart_size,{whiteboardID:e,viewWidth:t,viewHeight:o}),r.viewHeight=o,r.viewWidth=t,!0)},e.prototype.setRenderStatus=function(e,t){return void 0!==t&&(Object.values(this.modIdMapData).forEach((function(o){t?o.whiteboardID===e?o.renderStatus=1:o.renderStatus=0:o.whiteboardID===e&&(o.renderStatus=0)})),!0)},e.prototype.getH5Extra=function(e,t){var o=this.getMap(e),r=o?o.modExtra:"";if(S.a.getInstance().info1(I.d.Module_get_h5extra,{whiteboardID:e,modExtra:r}),r&&!t){var i=JSON.parse(r);i.H5_record&&(i.H5_record.t=101,r=JSON.stringify(i))}return r},e.prototype.createZorder=function(){return this.zorderSeq+=this.zorderStep},e.prototype.switchView=function(e){S.a.getInstance().info1(I.d.Module_switch_view_origin,e);var t=this.checkSwitchView(e);return t?(S.a.getInstance().info1(I.d.Module_switch_view_new,t),this.setModHandle(c.Other,t)):Promise.reject()},e.prototype.getCurrentActivitedView=function(){var e=0,t="";Object.values(this.modIdMapData).forEach((function(o){o.zorder&&o.zorder>e&&(e=o.zorder,t=o.whiteboardID)}));var o=t?[this.modIdMapData[t].uniqueID,t]:[];return S.a.getInstance().info1(I.d.Module_switch_view_remote,o),o},e}(),N=(o(37),o(69),o(126),o(127),o(128),o(129),o(130),o(131),o(132),o(133),o(134),o(135),o(136),o(137),o(138),o(139),o(140),o(141),o(142),o(143),o(144),o(145),o(146),o(147),o(148),o(149),o(150),o(225),o(394),o(161)),j=o.n(N),q=o(12);const B=q.Reader,R=q.Writer,H=q.util,V=q.roots.default||(q.roots.default={});V.proto_access_pb=(()=>{const e={};return e.proto_req_header=function(){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.protocol="",e.prototype.cmd="",e.prototype.appid=0,e.prototype.seq=0,e.prototype.user_id="",e.prototype.session_id="",e.prototype.room_id="",e.prototype.room_session_id="",e.prototype.biz_version="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=R.create()),null!=e.protocol&&Object.hasOwnProperty.call(e,"protocol")&&t.uint32(10).string(e.protocol),null!=e.cmd&&Object.hasOwnProperty.call(e,"cmd")&&t.uint32(18).string(e.cmd),null!=e.appid&&Object.hasOwnProperty.call(e,"appid")&&t.uint32(24).uint32(e.appid),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(32).uint32(e.seq),null!=e.user_id&&Object.hasOwnProperty.call(e,"user_id")&&t.uint32(42).string(e.user_id),null!=e.session_id&&Object.hasOwnProperty.call(e,"session_id")&&t.uint32(50).string(e.session_id),null!=e.room_id&&Object.hasOwnProperty.call(e,"room_id")&&t.uint32(58).string(e.room_id),null!=e.room_session_id&&Object.hasOwnProperty.call(e,"room_session_id")&&t.uint32(66).string(e.room_session_id),null!=e.biz_version&&Object.hasOwnProperty.call(e,"biz_version")&&t.uint32(74).string(e.biz_version),t},e}(),e.proto_biz_channel=function(){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.channel="",e.prototype.cmd="",e.prototype.req_body=H.newBuffer([]),e.prototype.is_retry_req=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=R.create()),null!=e.channel&&Object.hasOwnProperty.call(e,"channel")&&t.uint32(10).string(e.channel),null!=e.cmd&&Object.hasOwnProperty.call(e,"cmd")&&t.uint32(18).string(e.cmd),null!=e.req_body&&Object.hasOwnProperty.call(e,"req_body")&&t.uint32(26).bytes(e.req_body),null!=e.is_retry_req&&Object.hasOwnProperty.call(e,"is_retry_req")&&t.uint32(32).uint32(e.is_retry_req),t},e}(),e.proto_rsp_header=function(){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.protocol="",e.prototype.cmd="",e.prototype.appid=0,e.prototype.seq=0,e.prototype.user_id="",e.prototype.session_id="",e.prototype.room_id="",e.prototype.room_session_id="",e.prototype.biz_version="",e.decode=function(e,t){e instanceof B||(e=B.create(e));let o=void 0===t?e.len:e.pos+t,r=new V.proto_access_pb.proto_rsp_header;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.protocol=e.string();break;case 2:r.cmd=e.string();break;case 3:r.appid=e.uint32();break;case 4:r.seq=e.uint32();break;case 5:r.user_id=e.string();break;case 6:r.session_id=e.string();break;case 7:r.room_id=e.string();break;case 8:r.room_session_id=e.string();break;case 9:r.biz_version=e.string();break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof V.proto_access_pb.proto_rsp_header)return e;let t=new V.proto_access_pb.proto_rsp_header;return null!=e.protocol&&(t.protocol=String(e.protocol)),null!=e.cmd&&(t.cmd=String(e.cmd)),null!=e.appid&&(t.appid=e.appid>>>0),null!=e.seq&&(t.seq=e.seq>>>0),null!=e.user_id&&(t.user_id=String(e.user_id)),null!=e.session_id&&(t.session_id=String(e.session_id)),null!=e.room_id&&(t.room_id=String(e.room_id)),null!=e.room_session_id&&(t.room_session_id=String(e.room_session_id)),null!=e.biz_version&&(t.biz_version=String(e.biz_version)),t},e.toObject=function(e,t){t||(t={});let o={};return t.defaults&&(o.protocol="",o.cmd="",o.appid=0,o.seq=0,o.user_id="",o.session_id="",o.room_id="",o.room_session_id="",o.biz_version=""),null!=e.protocol&&e.hasOwnProperty("protocol")&&(o.protocol=e.protocol),null!=e.cmd&&e.hasOwnProperty("cmd")&&(o.cmd=e.cmd),null!=e.appid&&e.hasOwnProperty("appid")&&(o.appid=e.appid),null!=e.seq&&e.hasOwnProperty("seq")&&(o.seq=e.seq),null!=e.user_id&&e.hasOwnProperty("user_id")&&(o.user_id=e.user_id),null!=e.session_id&&e.hasOwnProperty("session_id")&&(o.session_id=e.session_id),null!=e.room_id&&e.hasOwnProperty("room_id")&&(o.room_id=e.room_id),null!=e.room_session_id&&e.hasOwnProperty("room_session_id")&&(o.room_session_id=e.room_session_id),null!=e.biz_version&&e.hasOwnProperty("biz_version")&&(o.biz_version=e.biz_version),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,q.util.toJSONOptions)},e}(),e.proto_biz_channel_rsp=function(){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.err_code=0,e.prototype.err_message="",e.prototype.channel="",e.prototype.cmd="",e.prototype.rsp_body=H.newBuffer([]),e.decode=function(e,t){e instanceof B||(e=B.create(e));let o=void 0===t?e.len:e.pos+t,r=new V.proto_access_pb.proto_biz_channel_rsp;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.err_code=e.int32();break;case 2:r.err_message=e.string();break;case 3:r.channel=e.string();break;case 4:r.cmd=e.string();break;case 5:r.rsp_body=e.bytes();break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof V.proto_access_pb.proto_biz_channel_rsp)return e;let t=new V.proto_access_pb.proto_biz_channel_rsp;return null!=e.err_code&&(t.err_code=0|e.err_code),null!=e.err_message&&(t.err_message=String(e.err_message)),null!=e.channel&&(t.channel=String(e.channel)),null!=e.cmd&&(t.cmd=String(e.cmd)),null!=e.rsp_body&&("string"==typeof e.rsp_body?H.base64.decode(e.rsp_body,t.rsp_body=H.newBuffer(H.base64.length(e.rsp_body)),0):e.rsp_body.length&&(t.rsp_body=e.rsp_body)),t},e.toObject=function(e,t){t||(t={});let o={};return t.defaults&&(o.err_code=0,o.err_message="",o.channel="",o.cmd="",t.bytes===String?o.rsp_body="":(o.rsp_body=[],t.bytes!==Array&&(o.rsp_body=H.newBuffer(o.rsp_body)))),null!=e.err_code&&e.hasOwnProperty("err_code")&&(o.err_code=e.err_code),null!=e.err_message&&e.hasOwnProperty("err_message")&&(o.err_message=e.err_message),null!=e.channel&&e.hasOwnProperty("channel")&&(o.channel=e.channel),null!=e.cmd&&e.hasOwnProperty("cmd")&&(o.cmd=e.cmd),null!=e.rsp_body&&e.hasOwnProperty("rsp_body")&&(o.rsp_body=t.bytes===String?H.base64.encode(e.rsp_body,0,e.rsp_body.length):t.bytes===Array?Array.prototype.slice.call(e.rsp_body):e.rsp_body),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,q.util.toJSONOptions)},e}(),e.proto_push_header=function(){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.protocol="",e.prototype.cmd="",e.prototype.appid=0,e.prototype.user_id="",e.prototype.session_id="",e.prototype.room_id="",e.prototype.push_seq=0,e.prototype.from_user_id="",e.prototype.qos_flag=0,e.decode=function(e,t){e instanceof B||(e=B.create(e));let o=void 0===t?e.len:e.pos+t,r=new V.proto_access_pb.proto_push_header;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.protocol=e.string();break;case 2:r.cmd=e.string();break;case 3:r.appid=e.uint32();break;case 4:r.user_id=e.string();break;case 5:r.session_id=e.string();break;case 6:r.room_id=e.string();break;case 7:r.push_seq=e.uint32();break;case 8:r.from_user_id=e.string();break;case 9:r.qos_flag=e.uint32();break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof V.proto_access_pb.proto_push_header)return e;let t=new V.proto_access_pb.proto_push_header;return null!=e.protocol&&(t.protocol=String(e.protocol)),null!=e.cmd&&(t.cmd=String(e.cmd)),null!=e.appid&&(t.appid=e.appid>>>0),null!=e.user_id&&(t.user_id=String(e.user_id)),null!=e.session_id&&(t.session_id=String(e.session_id)),null!=e.room_id&&(t.room_id=String(e.room_id)),null!=e.push_seq&&(t.push_seq=e.push_seq>>>0),null!=e.from_user_id&&(t.from_user_id=String(e.from_user_id)),null!=e.qos_flag&&(t.qos_flag=e.qos_flag>>>0),t},e.toObject=function(e,t){t||(t={});let o={};return t.defaults&&(o.protocol="",o.cmd="",o.appid=0,o.user_id="",o.session_id="",o.room_id="",o.push_seq=0,o.from_user_id="",o.qos_flag=0),null!=e.protocol&&e.hasOwnProperty("protocol")&&(o.protocol=e.protocol),null!=e.cmd&&e.hasOwnProperty("cmd")&&(o.cmd=e.cmd),null!=e.appid&&e.hasOwnProperty("appid")&&(o.appid=e.appid),null!=e.user_id&&e.hasOwnProperty("user_id")&&(o.user_id=e.user_id),null!=e.session_id&&e.hasOwnProperty("session_id")&&(o.session_id=e.session_id),null!=e.room_id&&e.hasOwnProperty("room_id")&&(o.room_id=e.room_id),null!=e.push_seq&&e.hasOwnProperty("push_seq")&&(o.push_seq=e.push_seq),null!=e.from_user_id&&e.hasOwnProperty("from_user_id")&&(o.from_user_id=e.from_user_id),null!=e.qos_flag&&e.hasOwnProperty("qos_flag")&&(o.qos_flag=e.qos_flag),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,q.util.toJSONOptions)},e}(),e.proto_push_biz_channel=function(){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.channel="",e.prototype.cmd="",e.prototype.req_body=H.newBuffer([]),e.decode=function(e,t){e instanceof B||(e=B.create(e));let o=void 0===t?e.len:e.pos+t,r=new V.proto_access_pb.proto_push_biz_channel;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.channel=e.string();break;case 2:r.cmd=e.string();break;case 3:r.req_body=e.bytes();break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof V.proto_access_pb.proto_push_biz_channel)return e;let t=new V.proto_access_pb.proto_push_biz_channel;return null!=e.channel&&(t.channel=String(e.channel)),null!=e.cmd&&(t.cmd=String(e.cmd)),null!=e.req_body&&("string"==typeof e.req_body?H.base64.decode(e.req_body,t.req_body=H.newBuffer(H.base64.length(e.req_body)),0):e.req_body.length&&(t.req_body=e.req_body)),t},e.toObject=function(e,t){t||(t={});let o={};return t.defaults&&(o.channel="",o.cmd="",t.bytes===String?o.req_body="":(o.req_body=[],t.bytes!==Array&&(o.req_body=H.newBuffer(o.req_body)))),null!=e.channel&&e.hasOwnProperty("channel")&&(o.channel=e.channel),null!=e.cmd&&e.hasOwnProperty("cmd")&&(o.cmd=e.cmd),null!=e.req_body&&e.hasOwnProperty("req_body")&&(o.req_body=t.bytes===String?H.base64.encode(e.req_body,0,e.req_body.length):t.bytes===Array?Array.prototype.slice.call(e.req_body):e.req_body),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,q.util.toJSONOptions)},e}(),e.proto_push_biz_hannel_req=function(){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.sub_cmd=0,e.prototype.sub_seq=0,e.prototype.qos_flag=0,e.prototype.msg_id="",e.prototype.sender_id="",e.prototype.msg_body=H.newBuffer([]),e.decode=function(e,t){e instanceof B||(e=B.create(e));let o=void 0===t?e.len:e.pos+t,r=new V.proto_access_pb.proto_push_biz_hannel_req;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.sub_cmd=e.uint32();break;case 2:r.sub_seq=e.uint32();break;case 3:r.qos_flag=e.uint32();break;case 4:r.msg_id=e.string();break;case 5:r.sender_id=e.string();break;case 6:r.msg_body=e.bytes();break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof V.proto_access_pb.proto_push_biz_hannel_req)return e;let t=new V.proto_access_pb.proto_push_biz_hannel_req;return null!=e.sub_cmd&&(t.sub_cmd=e.sub_cmd>>>0),null!=e.sub_seq&&(t.sub_seq=e.sub_seq>>>0),null!=e.qos_flag&&(t.qos_flag=e.qos_flag>>>0),null!=e.msg_id&&(t.msg_id=String(e.msg_id)),null!=e.sender_id&&(t.sender_id=String(e.sender_id)),null!=e.msg_body&&("string"==typeof e.msg_body?H.base64.decode(e.msg_body,t.msg_body=H.newBuffer(H.base64.length(e.msg_body)),0):e.msg_body.length&&(t.msg_body=e.msg_body)),t},e.toObject=function(e,t){t||(t={});let o={};return t.defaults&&(o.sub_cmd=0,o.sub_seq=0,o.qos_flag=0,o.msg_id="",o.sender_id="",t.bytes===String?o.msg_body="":(o.msg_body=[],t.bytes!==Array&&(o.msg_body=H.newBuffer(o.msg_body)))),null!=e.sub_cmd&&e.hasOwnProperty("sub_cmd")&&(o.sub_cmd=e.sub_cmd),null!=e.sub_seq&&e.hasOwnProperty("sub_seq")&&(o.sub_seq=e.sub_seq),null!=e.qos_flag&&e.hasOwnProperty("qos_flag")&&(o.qos_flag=e.qos_flag),null!=e.msg_id&&e.hasOwnProperty("msg_id")&&(o.msg_id=e.msg_id),null!=e.sender_id&&e.hasOwnProperty("sender_id")&&(o.sender_id=e.sender_id),null!=e.msg_body&&e.hasOwnProperty("msg_body")&&(o.msg_body=t.bytes===String?H.base64.encode(e.msg_body,0,e.msg_body.length):t.bytes===Array?Array.prototype.slice.call(e.msg_body):e.msg_body),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,q.util.toJSONOptions)},e}(),e})(),V.proto_biz_channel=(()=>{const e={};return e.req_header=function(){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.sdk_version=0,e.prototype.id_name="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=R.create()),null!=e.sdk_version&&Object.hasOwnProperty.call(e,"sdk_version")&&t.uint32(8).uint32(e.sdk_version),null!=e.id_name&&Object.hasOwnProperty.call(e,"id_name")&&t.uint32(18).string(e.id_name),t},e}(),e.req=function(){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.req_header=null,e.prototype.body=H.newBuffer([]),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=R.create()),null!=e.req_header&&Object.hasOwnProperty.call(e,"req_header")&&V.proto_biz_channel.req_header.encode(e.req_header,t.uint32(10).fork()).ldelim(),null!=e.body&&Object.hasOwnProperty.call(e,"body")&&t.uint32(18).bytes(e.body),t},e}(),e.rsp_header=function(){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.code=0,e.prototype.seq=0,e.prototype.timestamp=H.Long?H.Long.fromBits(0,0,!1):0,e.decode=function(e,t){e instanceof B||(e=B.create(e));let o=void 0===t?e.len:e.pos+t,r=new V.proto_biz_channel.rsp_header;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.code=e.int32();break;case 2:r.seq=e.uint32();break;case 3:r.timestamp=e.int64();break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof V.proto_biz_channel.rsp_header)return e;let t=new V.proto_biz_channel.rsp_header;return null!=e.code&&(t.code=0|e.code),null!=e.seq&&(t.seq=e.seq>>>0),null!=e.timestamp&&(H.Long?(t.timestamp=H.Long.fromValue(e.timestamp)).unsigned=!1:"string"==typeof e.timestamp?t.timestamp=parseInt(e.timestamp,10):"number"==typeof e.timestamp?t.timestamp=e.timestamp:"object"==typeof e.timestamp&&(t.timestamp=new H.LongBits(e.timestamp.low>>>0,e.timestamp.high>>>0).toNumber())),t},e.toObject=function(e,t){t||(t={});let o={};if(t.defaults)if(o.code=0,o.seq=0,H.Long){let e=new H.Long(0,0,!1);o.timestamp=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else o.timestamp=t.longs===String?"0":0;return null!=e.code&&e.hasOwnProperty("code")&&(o.code=e.code),null!=e.seq&&e.hasOwnProperty("seq")&&(o.seq=e.seq),null!=e.timestamp&&e.hasOwnProperty("timestamp")&&("number"==typeof e.timestamp?o.timestamp=t.longs===String?String(e.timestamp):e.timestamp:o.timestamp=t.longs===String?H.Long.prototype.toString.call(e.timestamp):t.longs===Number?new H.LongBits(e.timestamp.low>>>0,e.timestamp.high>>>0).toNumber():e.timestamp),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,q.util.toJSONOptions)},e}(),e.rsp=function(){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.header=null,e.prototype.body=H.newBuffer([]),e.decode=function(e,t){e instanceof B||(e=B.create(e));let o=void 0===t?e.len:e.pos+t,r=new V.proto_biz_channel.rsp;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.header=V.proto_biz_channel.rsp_header.decode(e,e.uint32());break;case 2:r.body=e.bytes();break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof V.proto_biz_channel.rsp)return e;let t=new V.proto_biz_channel.rsp;if(null!=e.header){if("object"!=typeof e.header)throw TypeError(".proto_biz_channel.rsp.header: object expected");t.header=V.proto_biz_channel.rsp_header.fromObject(e.header)}return null!=e.body&&("string"==typeof e.body?H.base64.decode(e.body,t.body=H.newBuffer(H.base64.length(e.body)),0):e.body.length&&(t.body=e.body)),t},e.toObject=function(e,t){t||(t={});let o={};return t.defaults&&(o.header=null,t.bytes===String?o.body="":(o.body=[],t.bytes!==Array&&(o.body=H.newBuffer(o.body)))),null!=e.header&&e.hasOwnProperty("header")&&(o.header=V.proto_biz_channel.rsp_header.toObject(e.header,t)),null!=e.body&&e.hasOwnProperty("body")&&(o.body=t.bytes===String?H.base64.encode(e.body,0,e.body.length):t.bytes===Array?Array.prototype.slice.call(e.body):e.body),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,q.util.toJSONOptions)},e}(),e})(),V.proto_edu_v1_web=(()=>{const e={};return e.proto_sync=function(){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=R.create()),t},e}(),e.proto_create_mod=function(){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.mod_id=H.Long?H.Long.fromBits(0,0,!0):0,e.prototype.mod_title="",e.prototype.mod_type=0,e.prototype.mod_subtype=0,e.prototype.mod_pos="",e.prototype.mod_status=H.Long?H.Long.fromBits(0,0,!0):0,e.prototype.mod_content="",e.prototype.mod_extra="",e.prototype.mod_reserve=0,e.prototype.mod_delete_flag=0,e.prototype.mod_horizontal_percent=0,e.prototype.mod_vertical_percent=0,e.prototype.mod_scale="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=R.create()),null!=e.mod_id&&Object.hasOwnProperty.call(e,"mod_id")&&t.uint32(8).uint64(e.mod_id),null!=e.mod_title&&Object.hasOwnProperty.call(e,"mod_title")&&t.uint32(18).string(e.mod_title),null!=e.mod_type&&Object.hasOwnProperty.call(e,"mod_type")&&t.uint32(24).uint32(e.mod_type),null!=e.mod_subtype&&Object.hasOwnProperty.call(e,"mod_subtype")&&t.uint32(32).uint32(e.mod_subtype),null!=e.mod_pos&&Object.hasOwnProperty.call(e,"mod_pos")&&t.uint32(42).string(e.mod_pos),null!=e.mod_status&&Object.hasOwnProperty.call(e,"mod_status")&&t.uint32(48).uint64(e.mod_status),null!=e.mod_content&&Object.hasOwnProperty.call(e,"mod_content")&&t.uint32(58).string(e.mod_content),null!=e.mod_extra&&Object.hasOwnProperty.call(e,"mod_extra")&&t.uint32(66).string(e.mod_extra),null!=e.mod_reserve&&Object.hasOwnProperty.call(e,"mod_reserve")&&t.uint32(72).uint32(e.mod_reserve),null!=e.mod_delete_flag&&Object.hasOwnProperty.call(e,"mod_delete_flag")&&t.uint32(80).int32(e.mod_delete_flag),null!=e.mod_horizontal_percent&&Object.hasOwnProperty.call(e,"mod_horizontal_percent")&&t.uint32(93).float(e.mod_horizontal_percent),null!=e.mod_vertical_percent&&Object.hasOwnProperty.call(e,"mod_vertical_percent")&&t.uint32(101).float(e.mod_vertical_percent),null!=e.mod_scale&&Object.hasOwnProperty.call(e,"mod_scale")&&t.uint32(106).string(e.mod_scale),t},e}(),e.proto_destroy_mod=function(){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.mod_id=H.Long?H.Long.fromBits(0,0,!0):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=R.create()),null!=e.mod_id&&Object.hasOwnProperty.call(e,"mod_id")&&t.uint32(8).uint64(e.mod_id),t},e}(),e.proto_modify_mod=function(){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.mod_seq=0,e.prototype.mod_id=H.Long?H.Long.fromBits(0,0,!0):0,e.prototype.mod_title="",e.prototype.mod_pos="",e.prototype.mod_status=H.Long?H.Long.fromBits(0,0,!0):0,e.prototype.mod_content="",e.prototype.mod_extra="",e.prototype.mod_reserve=0,e.prototype.is_modify_mod_title=!1,e.prototype.is_modify_mod_pos=!1,e.prototype.is_modify_mod_status=!1,e.prototype.is_modify_mod_content=!1,e.prototype.is_modify_mod_extra=!1,e.prototype.is_modify_mod_reserve=!1,e.prototype.mod_horizontal_percent=0,e.prototype.mod_vertical_percent=0,e.prototype.is_modify_mod_horizontal_percent=!1,e.prototype.is_modify_mod_vertical_percent=!1,e.prototype.is_modify_mod_scale=!1,e.prototype.mod_scale="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=R.create()),null!=e.mod_seq&&Object.hasOwnProperty.call(e,"mod_seq")&&t.uint32(8).uint32(e.mod_seq),null!=e.mod_id&&Object.hasOwnProperty.call(e,"mod_id")&&t.uint32(16).uint64(e.mod_id),null!=e.mod_title&&Object.hasOwnProperty.call(e,"mod_title")&&t.uint32(26).string(e.mod_title),null!=e.mod_pos&&Object.hasOwnProperty.call(e,"mod_pos")&&t.uint32(34).string(e.mod_pos),null!=e.mod_status&&Object.hasOwnProperty.call(e,"mod_status")&&t.uint32(40).uint64(e.mod_status),null!=e.mod_content&&Object.hasOwnProperty.call(e,"mod_content")&&t.uint32(50).string(e.mod_content),null!=e.mod_extra&&Object.hasOwnProperty.call(e,"mod_extra")&&t.uint32(58).string(e.mod_extra),null!=e.mod_reserve&&Object.hasOwnProperty.call(e,"mod_reserve")&&t.uint32(64).uint32(e.mod_reserve),null!=e.is_modify_mod_title&&Object.hasOwnProperty.call(e,"is_modify_mod_title")&&t.uint32(72).bool(e.is_modify_mod_title),null!=e.is_modify_mod_pos&&Object.hasOwnProperty.call(e,"is_modify_mod_pos")&&t.uint32(80).bool(e.is_modify_mod_pos),null!=e.is_modify_mod_status&&Object.hasOwnProperty.call(e,"is_modify_mod_status")&&t.uint32(88).bool(e.is_modify_mod_status),null!=e.is_modify_mod_content&&Object.hasOwnProperty.call(e,"is_modify_mod_content")&&t.uint32(96).bool(e.is_modify_mod_content),null!=e.is_modify_mod_extra&&Object.hasOwnProperty.call(e,"is_modify_mod_extra")&&t.uint32(104).bool(e.is_modify_mod_extra),null!=e.is_modify_mod_reserve&&Object.hasOwnProperty.call(e,"is_modify_mod_reserve")&&t.uint32(112).bool(e.is_modify_mod_reserve),null!=e.mod_horizontal_percent&&Object.hasOwnProperty.call(e,"mod_horizontal_percent")&&t.uint32(125).float(e.mod_horizontal_percent),null!=e.mod_vertical_percent&&Object.hasOwnProperty.call(e,"mod_vertical_percent")&&t.uint32(133).float(e.mod_vertical_percent),null!=e.is_modify_mod_horizontal_percent&&Object.hasOwnProperty.call(e,"is_modify_mod_horizontal_percent")&&t.uint32(136).bool(e.is_modify_mod_horizontal_percent),null!=e.is_modify_mod_vertical_percent&&Object.hasOwnProperty.call(e,"is_modify_mod_vertical_percent")&&t.uint32(144).bool(e.is_modify_mod_vertical_percent),null!=e.is_modify_mod_scale&&Object.hasOwnProperty.call(e,"is_modify_mod_scale")&&t.uint32(152).bool(e.is_modify_mod_scale),null!=e.mod_scale&&Object.hasOwnProperty.call(e,"mod_scale")&&t.uint32(162).string(e.mod_scale),t},e}(),e.proto_get_mod=function(){function e(e){if(this.mod_id_list=[],e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.mod_id_list=H.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=R.create()),null!=e.mod_id_list&&e.mod_id_list.length)for(let o=0;o<e.mod_id_list.length;++o)t.uint32(10).string(e.mod_id_list[o]);return t},e}(),e.proto_get_mod_list=function(){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.mod_list_seq=0,e.prototype.limit=0,e.prototype.marker="",e.prototype.mod_type=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=R.create()),null!=e.mod_list_seq&&Object.hasOwnProperty.call(e,"mod_list_seq")&&t.uint32(8).uint32(e.mod_list_seq),null!=e.limit&&Object.hasOwnProperty.call(e,"limit")&&t.uint32(16).uint32(e.limit),null!=e.marker&&Object.hasOwnProperty.call(e,"marker")&&t.uint32(26).string(e.marker),null!=e.mod_type&&Object.hasOwnProperty.call(e,"mod_type")&&t.uint32(32).uint32(e.mod_type),t},e}(),e.proto_draw_page_graphics=function(){function e(e){if(this.draw_pages=[],e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.mod_id=H.Long?H.Long.fromBits(0,0,!0):0,e.prototype.draw_pages=H.emptyArray,e.prototype.timestamp=H.Long?H.Long.fromBits(0,0,!0):0,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=R.create()),null!=e.mod_id&&Object.hasOwnProperty.call(e,"mod_id")&&t.uint32(8).uint64(e.mod_id),null!=e.draw_pages&&e.draw_pages.length)for(let o=0;o<e.draw_pages.length;++o)V.proto_edu_v1_web.proto_draw_page.encode(e.draw_pages[o],t.uint32(18).fork()).ldelim();return null!=e.timestamp&&Object.hasOwnProperty.call(e,"timestamp")&&t.uint32(24).uint64(e.timestamp),t},e}(),e.proto_draw_page=function(){function e(e){if(this.draw_list=[],e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.page=0,e.prototype.graphic_list_seq=0,e.prototype.draw_list=H.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=R.create()),null!=e.page&&Object.hasOwnProperty.call(e,"page")&&t.uint32(8).uint32(e.page),null!=e.graphic_list_seq&&Object.hasOwnProperty.call(e,"graphic_list_seq")&&t.uint32(16).uint32(e.graphic_list_seq),null!=e.draw_list&&e.draw_list.length)for(let o=0;o<e.draw_list.length;++o)V.proto_edu_v1_web.proto_draw.encode(e.draw_list[o],t.uint32(26).fork()).ldelim();return t},e}(),e.proto_draw=function(){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.graphic_id=H.Long?H.Long.fromBits(0,0,!0):0,e.prototype.action=0,e.prototype.action_type=0,e.prototype.type=0,e.prototype.zorder=0,e.prototype.x=0,e.prototype.y=0,e.prototype.px=0,e.prototype.py=0,e.prototype.data=H.newBuffer([]),e.prototype.size=0,e.prototype.color=0,e.prototype.width=0,e.prototype.height=0,e.prototype.attributes="",e.prototype.operate_id="",e.prototype.is_end_draw=!1,e.prototype.layer=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=R.create()),null!=e.graphic_id&&Object.hasOwnProperty.call(e,"graphic_id")&&t.uint32(8).uint64(e.graphic_id),null!=e.action&&Object.hasOwnProperty.call(e,"action")&&t.uint32(16).int32(e.action),null!=e.action_type&&Object.hasOwnProperty.call(e,"action_type")&&t.uint32(24).int32(e.action_type),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(32).int32(e.type),null!=e.zorder&&Object.hasOwnProperty.call(e,"zorder")&&t.uint32(40).int32(e.zorder),null!=e.x&&Object.hasOwnProperty.call(e,"x")&&t.uint32(48).int32(e.x),null!=e.y&&Object.hasOwnProperty.call(e,"y")&&t.uint32(56).int32(e.y),null!=e.px&&Object.hasOwnProperty.call(e,"px")&&t.uint32(64).int32(e.px),null!=e.py&&Object.hasOwnProperty.call(e,"py")&&t.uint32(72).int32(e.py),null!=e.data&&Object.hasOwnProperty.call(e,"data")&&t.uint32(82).bytes(e.data),null!=e.size&&Object.hasOwnProperty.call(e,"size")&&t.uint32(88).int32(e.size),null!=e.color&&Object.hasOwnProperty.call(e,"color")&&t.uint32(96).uint32(e.color),null!=e.width&&Object.hasOwnProperty.call(e,"width")&&t.uint32(104).int32(e.width),null!=e.height&&Object.hasOwnProperty.call(e,"height")&&t.uint32(112).int32(e.height),null!=e.attributes&&Object.hasOwnProperty.call(e,"attributes")&&t.uint32(122).string(e.attributes),null!=e.operate_id&&Object.hasOwnProperty.call(e,"operate_id")&&t.uint32(130).string(e.operate_id),null!=e.is_end_draw&&Object.hasOwnProperty.call(e,"is_end_draw")&&t.uint32(136).bool(e.is_end_draw),null!=e.layer&&Object.hasOwnProperty.call(e,"layer")&&t.uint32(144).uint32(e.layer),t},e}(),e.proto_clear_page_graphics=function(){function e(e){if(this.layers=[],e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.mod_id=H.Long?H.Long.fromBits(0,0,!0):0,e.prototype.timestamp=H.Long?H.Long.fromBits(0,0,!0):0,e.prototype.layers=H.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=R.create()),null!=e.mod_id&&Object.hasOwnProperty.call(e,"mod_id")&&t.uint32(8).uint64(e.mod_id),null!=e.timestamp&&Object.hasOwnProperty.call(e,"timestamp")&&t.uint32(16).uint64(e.timestamp),null!=e.layers&&e.layers.length){t.uint32(26).fork();for(let o=0;o<e.layers.length;++o)t.uint32(e.layers[o]);t.ldelim()}return t},e}(),e.proto_get_page_graphics=function(){function e(e){if(this.pages=[],this.graphic_list_seqs=[],e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.mod_id=H.Long?H.Long.fromBits(0,0,!0):0,e.prototype.pages=H.emptyArray,e.prototype.graphic_list_seqs=H.emptyArray,e.prototype.limit=0,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=R.create()),null!=e.mod_id&&Object.hasOwnProperty.call(e,"mod_id")&&t.uint32(8).uint64(e.mod_id),null!=e.pages&&e.pages.length){t.uint32(18).fork();for(let o=0;o<e.pages.length;++o)t.uint32(e.pages[o]);t.ldelim()}if(null!=e.graphic_list_seqs&&e.graphic_list_seqs.length){t.uint32(26).fork();for(let o=0;o<e.graphic_list_seqs.length;++o)t.uint32(e.graphic_list_seqs[o]);t.ldelim()}return null!=e.limit&&Object.hasOwnProperty.call(e,"limit")&&t.uint32(32).uint32(e.limit),t},e}(),e.proto_get_user_auth_req=function(){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=R.create()),t},e}(),e.proto_get_room_auth_req=function(){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=R.create()),t},e}(),e.proto_mod=function(){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.mod_id=H.Long?H.Long.fromBits(0,0,!0):0,e.prototype.mod_seq=0,e.prototype.mod_title="",e.prototype.mod_type=0,e.prototype.mod_subtype=0,e.prototype.mod_pos="",e.prototype.mod_status=H.Long?H.Long.fromBits(0,0,!0):0,e.prototype.mod_content="",e.prototype.mod_extra="",e.prototype.mod_reserve=0,e.prototype.mod_create_time=H.Long?H.Long.fromBits(0,0,!1):0,e.prototype.graphic_list_seq=0,e.prototype.sync_interval=0,e.prototype.mod_horizontal_percent=0,e.prototype.mod_vertical_percent=0,e.prototype.mod_scale="",e.decode=function(e,t){e instanceof B||(e=B.create(e));let o=void 0===t?e.len:e.pos+t,r=new V.proto_edu_v1_web.proto_mod;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.mod_id=e.uint64();break;case 2:r.mod_seq=e.uint32();break;case 3:r.mod_title=e.string();break;case 4:r.mod_type=e.uint32();break;case 5:r.mod_subtype=e.uint32();break;case 6:r.mod_pos=e.string();break;case 7:r.mod_status=e.uint64();break;case 8:r.mod_content=e.string();break;case 9:r.mod_extra=e.string();break;case 10:r.mod_reserve=e.uint32();break;case 11:r.mod_create_time=e.int64();break;case 12:r.graphic_list_seq=e.uint32();break;case 13:r.sync_interval=e.uint32();break;case 14:r.mod_horizontal_percent=e.float();break;case 15:r.mod_vertical_percent=e.float();break;case 16:r.mod_scale=e.string();break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof V.proto_edu_v1_web.proto_mod)return e;let t=new V.proto_edu_v1_web.proto_mod;return null!=e.mod_id&&(H.Long?(t.mod_id=H.Long.fromValue(e.mod_id)).unsigned=!0:"string"==typeof e.mod_id?t.mod_id=parseInt(e.mod_id,10):"number"==typeof e.mod_id?t.mod_id=e.mod_id:"object"==typeof e.mod_id&&(t.mod_id=new H.LongBits(e.mod_id.low>>>0,e.mod_id.high>>>0).toNumber(!0))),null!=e.mod_seq&&(t.mod_seq=e.mod_seq>>>0),null!=e.mod_title&&(t.mod_title=String(e.mod_title)),null!=e.mod_type&&(t.mod_type=e.mod_type>>>0),null!=e.mod_subtype&&(t.mod_subtype=e.mod_subtype>>>0),null!=e.mod_pos&&(t.mod_pos=String(e.mod_pos)),null!=e.mod_status&&(H.Long?(t.mod_status=H.Long.fromValue(e.mod_status)).unsigned=!0:"string"==typeof e.mod_status?t.mod_status=parseInt(e.mod_status,10):"number"==typeof e.mod_status?t.mod_status=e.mod_status:"object"==typeof e.mod_status&&(t.mod_status=new H.LongBits(e.mod_status.low>>>0,e.mod_status.high>>>0).toNumber(!0))),null!=e.mod_content&&(t.mod_content=String(e.mod_content)),null!=e.mod_extra&&(t.mod_extra=String(e.mod_extra)),null!=e.mod_reserve&&(t.mod_reserve=e.mod_reserve>>>0),null!=e.mod_create_time&&(H.Long?(t.mod_create_time=H.Long.fromValue(e.mod_create_time)).unsigned=!1:"string"==typeof e.mod_create_time?t.mod_create_time=parseInt(e.mod_create_time,10):"number"==typeof e.mod_create_time?t.mod_create_time=e.mod_create_time:"object"==typeof e.mod_create_time&&(t.mod_create_time=new H.LongBits(e.mod_create_time.low>>>0,e.mod_create_time.high>>>0).toNumber())),null!=e.graphic_list_seq&&(t.graphic_list_seq=e.graphic_list_seq>>>0),null!=e.sync_interval&&(t.sync_interval=e.sync_interval>>>0),null!=e.mod_horizontal_percent&&(t.mod_horizontal_percent=Number(e.mod_horizontal_percent)),null!=e.mod_vertical_percent&&(t.mod_vertical_percent=Number(e.mod_vertical_percent)),null!=e.mod_scale&&(t.mod_scale=String(e.mod_scale)),t},e.toObject=function(e,t){t||(t={});let o={};if(t.defaults){if(H.Long){let e=new H.Long(0,0,!0);o.mod_id=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else o.mod_id=t.longs===String?"0":0;if(o.mod_seq=0,o.mod_title="",o.mod_type=0,o.mod_subtype=0,o.mod_pos="",H.Long){let e=new H.Long(0,0,!0);o.mod_status=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else o.mod_status=t.longs===String?"0":0;if(o.mod_content="",o.mod_extra="",o.mod_reserve=0,H.Long){let e=new H.Long(0,0,!1);o.mod_create_time=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else o.mod_create_time=t.longs===String?"0":0;o.graphic_list_seq=0,o.sync_interval=0,o.mod_horizontal_percent=0,o.mod_vertical_percent=0,o.mod_scale=""}return null!=e.mod_id&&e.hasOwnProperty("mod_id")&&("number"==typeof e.mod_id?o.mod_id=t.longs===String?String(e.mod_id):e.mod_id:o.mod_id=t.longs===String?H.Long.prototype.toString.call(e.mod_id):t.longs===Number?new H.LongBits(e.mod_id.low>>>0,e.mod_id.high>>>0).toNumber(!0):e.mod_id),null!=e.mod_seq&&e.hasOwnProperty("mod_seq")&&(o.mod_seq=e.mod_seq),null!=e.mod_title&&e.hasOwnProperty("mod_title")&&(o.mod_title=e.mod_title),null!=e.mod_type&&e.hasOwnProperty("mod_type")&&(o.mod_type=e.mod_type),null!=e.mod_subtype&&e.hasOwnProperty("mod_subtype")&&(o.mod_subtype=e.mod_subtype),null!=e.mod_pos&&e.hasOwnProperty("mod_pos")&&(o.mod_pos=e.mod_pos),null!=e.mod_status&&e.hasOwnProperty("mod_status")&&("number"==typeof e.mod_status?o.mod_status=t.longs===String?String(e.mod_status):e.mod_status:o.mod_status=t.longs===String?H.Long.prototype.toString.call(e.mod_status):t.longs===Number?new H.LongBits(e.mod_status.low>>>0,e.mod_status.high>>>0).toNumber(!0):e.mod_status),null!=e.mod_content&&e.hasOwnProperty("mod_content")&&(o.mod_content=e.mod_content),null!=e.mod_extra&&e.hasOwnProperty("mod_extra")&&(o.mod_extra=e.mod_extra),null!=e.mod_reserve&&e.hasOwnProperty("mod_reserve")&&(o.mod_reserve=e.mod_reserve),null!=e.mod_create_time&&e.hasOwnProperty("mod_create_time")&&("number"==typeof e.mod_create_time?o.mod_create_time=t.longs===String?String(e.mod_create_time):e.mod_create_time:o.mod_create_time=t.longs===String?H.Long.prototype.toString.call(e.mod_create_time):t.longs===Number?new H.LongBits(e.mod_create_time.low>>>0,e.mod_create_time.high>>>0).toNumber():e.mod_create_time),null!=e.graphic_list_seq&&e.hasOwnProperty("graphic_list_seq")&&(o.graphic_list_seq=e.graphic_list_seq),null!=e.sync_interval&&e.hasOwnProperty("sync_interval")&&(o.sync_interval=e.sync_interval),null!=e.mod_horizontal_percent&&e.hasOwnProperty("mod_horizontal_percent")&&(o.mod_horizontal_percent=t.json&&!isFinite(e.mod_horizontal_percent)?String(e.mod_horizontal_percent):e.mod_horizontal_percent),null!=e.mod_vertical_percent&&e.hasOwnProperty("mod_vertical_percent")&&(o.mod_vertical_percent=t.json&&!isFinite(e.mod_vertical_percent)?String(e.mod_vertical_percent):e.mod_vertical_percent),null!=e.mod_scale&&e.hasOwnProperty("mod_scale")&&(o.mod_scale=e.mod_scale),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,q.util.toJSONOptions)},e}(),e.proto_graphic=function(){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.id_name="",e.prototype.nick_name="",e.prototype.graphic_id=H.Long?H.Long.fromBits(0,0,!0):0,e.prototype.action_seq=0,e.prototype.type=0,e.prototype.zorder=0,e.prototype.x=0,e.prototype.y=0,e.prototype.data=H.newBuffer([]),e.prototype.size=0,e.prototype.color=0,e.prototype.timestamp=H.Long?H.Long.fromBits(0,0,!0):0,e.prototype.width=0,e.prototype.height=0,e.prototype.attributes="",e.prototype.operate_id="",e.prototype.is_end_draw=!1,e.prototype.server_timestamp=H.Long?H.Long.fromBits(0,0,!0):0,e.prototype.creator_id="",e.prototype.layer=0,e.decode=function(e,t){e instanceof B||(e=B.create(e));let o=void 0===t?e.len:e.pos+t,r=new V.proto_edu_v1_web.proto_graphic;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.id_name=e.string();break;case 2:r.nick_name=e.string();break;case 3:r.graphic_id=e.uint64();break;case 4:r.action_seq=e.uint32();break;case 5:r.type=e.int32();break;case 7:r.zorder=e.int32();break;case 8:r.x=e.int32();break;case 9:r.y=e.int32();break;case 10:r.data=e.bytes();break;case 11:r.size=e.int32();break;case 12:r.color=e.uint32();break;case 13:r.timestamp=e.uint64();break;case 14:r.width=e.int32();break;case 15:r.height=e.int32();break;case 16:r.attributes=e.string();break;case 17:r.operate_id=e.string();break;case 18:r.is_end_draw=e.bool();break;case 19:r.server_timestamp=e.uint64();break;case 20:r.creator_id=e.string();break;case 21:r.layer=e.uint32();break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof V.proto_edu_v1_web.proto_graphic)return e;let t=new V.proto_edu_v1_web.proto_graphic;return null!=e.id_name&&(t.id_name=String(e.id_name)),null!=e.nick_name&&(t.nick_name=String(e.nick_name)),null!=e.graphic_id&&(H.Long?(t.graphic_id=H.Long.fromValue(e.graphic_id)).unsigned=!0:"string"==typeof e.graphic_id?t.graphic_id=parseInt(e.graphic_id,10):"number"==typeof e.graphic_id?t.graphic_id=e.graphic_id:"object"==typeof e.graphic_id&&(t.graphic_id=new H.LongBits(e.graphic_id.low>>>0,e.graphic_id.high>>>0).toNumber(!0))),null!=e.action_seq&&(t.action_seq=e.action_seq>>>0),null!=e.type&&(t.type=0|e.type),null!=e.zorder&&(t.zorder=0|e.zorder),null!=e.x&&(t.x=0|e.x),null!=e.y&&(t.y=0|e.y),null!=e.data&&("string"==typeof e.data?H.base64.decode(e.data,t.data=H.newBuffer(H.base64.length(e.data)),0):e.data.length&&(t.data=e.data)),null!=e.size&&(t.size=0|e.size),null!=e.color&&(t.color=e.color>>>0),null!=e.timestamp&&(H.Long?(t.timestamp=H.Long.fromValue(e.timestamp)).unsigned=!0:"string"==typeof e.timestamp?t.timestamp=parseInt(e.timestamp,10):"number"==typeof e.timestamp?t.timestamp=e.timestamp:"object"==typeof e.timestamp&&(t.timestamp=new H.LongBits(e.timestamp.low>>>0,e.timestamp.high>>>0).toNumber(!0))),null!=e.width&&(t.width=0|e.width),null!=e.height&&(t.height=0|e.height),null!=e.attributes&&(t.attributes=String(e.attributes)),null!=e.operate_id&&(t.operate_id=String(e.operate_id)),null!=e.is_end_draw&&(t.is_end_draw=Boolean(e.is_end_draw)),null!=e.server_timestamp&&(H.Long?(t.server_timestamp=H.Long.fromValue(e.server_timestamp)).unsigned=!0:"string"==typeof e.server_timestamp?t.server_timestamp=parseInt(e.server_timestamp,10):"number"==typeof e.server_timestamp?t.server_timestamp=e.server_timestamp:"object"==typeof e.server_timestamp&&(t.server_timestamp=new H.LongBits(e.server_timestamp.low>>>0,e.server_timestamp.high>>>0).toNumber(!0))),null!=e.creator_id&&(t.creator_id=String(e.creator_id)),null!=e.layer&&(t.layer=e.layer>>>0),t},e.toObject=function(e,t){t||(t={});let o={};if(t.defaults){if(o.id_name="",o.nick_name="",H.Long){let e=new H.Long(0,0,!0);o.graphic_id=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else o.graphic_id=t.longs===String?"0":0;if(o.action_seq=0,o.type=0,o.zorder=0,o.x=0,o.y=0,t.bytes===String?o.data="":(o.data=[],t.bytes!==Array&&(o.data=H.newBuffer(o.data))),o.size=0,o.color=0,H.Long){let e=new H.Long(0,0,!0);o.timestamp=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else o.timestamp=t.longs===String?"0":0;if(o.width=0,o.height=0,o.attributes="",o.operate_id="",o.is_end_draw=!1,H.Long){let e=new H.Long(0,0,!0);o.server_timestamp=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else o.server_timestamp=t.longs===String?"0":0;o.creator_id="",o.layer=0}return null!=e.id_name&&e.hasOwnProperty("id_name")&&(o.id_name=e.id_name),null!=e.nick_name&&e.hasOwnProperty("nick_name")&&(o.nick_name=e.nick_name),null!=e.graphic_id&&e.hasOwnProperty("graphic_id")&&("number"==typeof e.graphic_id?o.graphic_id=t.longs===String?String(e.graphic_id):e.graphic_id:o.graphic_id=t.longs===String?H.Long.prototype.toString.call(e.graphic_id):t.longs===Number?new H.LongBits(e.graphic_id.low>>>0,e.graphic_id.high>>>0).toNumber(!0):e.graphic_id),null!=e.action_seq&&e.hasOwnProperty("action_seq")&&(o.action_seq=e.action_seq),null!=e.type&&e.hasOwnProperty("type")&&(o.type=e.type),null!=e.zorder&&e.hasOwnProperty("zorder")&&(o.zorder=e.zorder),null!=e.x&&e.hasOwnProperty("x")&&(o.x=e.x),null!=e.y&&e.hasOwnProperty("y")&&(o.y=e.y),null!=e.data&&e.hasOwnProperty("data")&&(o.data=t.bytes===String?H.base64.encode(e.data,0,e.data.length):t.bytes===Array?Array.prototype.slice.call(e.data):e.data),null!=e.size&&e.hasOwnProperty("size")&&(o.size=e.size),null!=e.color&&e.hasOwnProperty("color")&&(o.color=e.color),null!=e.timestamp&&e.hasOwnProperty("timestamp")&&("number"==typeof e.timestamp?o.timestamp=t.longs===String?String(e.timestamp):e.timestamp:o.timestamp=t.longs===String?H.Long.prototype.toString.call(e.timestamp):t.longs===Number?new H.LongBits(e.timestamp.low>>>0,e.timestamp.high>>>0).toNumber(!0):e.timestamp),null!=e.width&&e.hasOwnProperty("width")&&(o.width=e.width),null!=e.height&&e.hasOwnProperty("height")&&(o.height=e.height),null!=e.attributes&&e.hasOwnProperty("attributes")&&(o.attributes=e.attributes),null!=e.operate_id&&e.hasOwnProperty("operate_id")&&(o.operate_id=e.operate_id),null!=e.is_end_draw&&e.hasOwnProperty("is_end_draw")&&(o.is_end_draw=e.is_end_draw),null!=e.server_timestamp&&e.hasOwnProperty("server_timestamp")&&("number"==typeof e.server_timestamp?o.server_timestamp=t.longs===String?String(e.server_timestamp):e.server_timestamp:o.server_timestamp=t.longs===String?H.Long.prototype.toString.call(e.server_timestamp):t.longs===Number?new H.LongBits(e.server_timestamp.low>>>0,e.server_timestamp.high>>>0).toNumber(!0):e.server_timestamp),null!=e.creator_id&&e.hasOwnProperty("creator_id")&&(o.creator_id=e.creator_id),null!=e.layer&&e.hasOwnProperty("layer")&&(o.layer=e.layer),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,q.util.toJSONOptions)},e}(),e.proto_sync_rsp=function(){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.sync_interval=0,e.prototype.room_extra_info_seq=0,e.prototype.user_list_seq=0,e.prototype.user_extra_info_seq=0,e.prototype.joinlive_seq=0,e.prototype.mod_list_seq=0,e.prototype.user_auth_seq=0,e.prototype.room_auth_seq=0,e.decode=function(e,t){e instanceof B||(e=B.create(e));let o=void 0===t?e.len:e.pos+t,r=new V.proto_edu_v1_web.proto_sync_rsp;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.sync_interval=e.uint32();break;case 2:r.room_extra_info_seq=e.uint32();break;case 3:r.user_list_seq=e.uint32();break;case 4:r.user_extra_info_seq=e.uint32();break;case 5:r.joinlive_seq=e.uint32();break;case 6:r.mod_list_seq=e.uint32();break;case 7:r.user_auth_seq=e.uint32();break;case 8:r.room_auth_seq=e.uint32();break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof V.proto_edu_v1_web.proto_sync_rsp)return e;let t=new V.proto_edu_v1_web.proto_sync_rsp;return null!=e.sync_interval&&(t.sync_interval=e.sync_interval>>>0),null!=e.room_extra_info_seq&&(t.room_extra_info_seq=e.room_extra_info_seq>>>0),null!=e.user_list_seq&&(t.user_list_seq=e.user_list_seq>>>0),null!=e.user_extra_info_seq&&(t.user_extra_info_seq=e.user_extra_info_seq>>>0),null!=e.joinlive_seq&&(t.joinlive_seq=e.joinlive_seq>>>0),null!=e.mod_list_seq&&(t.mod_list_seq=e.mod_list_seq>>>0),null!=e.user_auth_seq&&(t.user_auth_seq=e.user_auth_seq>>>0),null!=e.room_auth_seq&&(t.room_auth_seq=e.room_auth_seq>>>0),t},e.toObject=function(e,t){t||(t={});let o={};return t.defaults&&(o.sync_interval=0,o.room_extra_info_seq=0,o.user_list_seq=0,o.user_extra_info_seq=0,o.joinlive_seq=0,o.mod_list_seq=0,o.user_auth_seq=0,o.room_auth_seq=0),null!=e.sync_interval&&e.hasOwnProperty("sync_interval")&&(o.sync_interval=e.sync_interval),null!=e.room_extra_info_seq&&e.hasOwnProperty("room_extra_info_seq")&&(o.room_extra_info_seq=e.room_extra_info_seq),null!=e.user_list_seq&&e.hasOwnProperty("user_list_seq")&&(o.user_list_seq=e.user_list_seq),null!=e.user_extra_info_seq&&e.hasOwnProperty("user_extra_info_seq")&&(o.user_extra_info_seq=e.user_extra_info_seq),null!=e.joinlive_seq&&e.hasOwnProperty("joinlive_seq")&&(o.joinlive_seq=e.joinlive_seq),null!=e.mod_list_seq&&e.hasOwnProperty("mod_list_seq")&&(o.mod_list_seq=e.mod_list_seq),null!=e.user_auth_seq&&e.hasOwnProperty("user_auth_seq")&&(o.user_auth_seq=e.user_auth_seq),null!=e.room_auth_seq&&e.hasOwnProperty("room_auth_seq")&&(o.room_auth_seq=e.room_auth_seq),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,q.util.toJSONOptions)},e}(),e.proto_create_mod_rsp=function(){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.mod_id=H.Long?H.Long.fromBits(0,0,!0):0,e.prototype.mod_seq=0,e.prototype.mod_list_seq=0,e.prototype.mod_create_time=H.Long?H.Long.fromBits(0,0,!1):0,e.decode=function(e,t){e instanceof B||(e=B.create(e));let o=void 0===t?e.len:e.pos+t,r=new V.proto_edu_v1_web.proto_create_mod_rsp;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.mod_id=e.uint64();break;case 2:r.mod_seq=e.uint32();break;case 3:r.mod_list_seq=e.uint32();break;case 4:r.mod_create_time=e.int64();break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof V.proto_edu_v1_web.proto_create_mod_rsp)return e;let t=new V.proto_edu_v1_web.proto_create_mod_rsp;return null!=e.mod_id&&(H.Long?(t.mod_id=H.Long.fromValue(e.mod_id)).unsigned=!0:"string"==typeof e.mod_id?t.mod_id=parseInt(e.mod_id,10):"number"==typeof e.mod_id?t.mod_id=e.mod_id:"object"==typeof e.mod_id&&(t.mod_id=new H.LongBits(e.mod_id.low>>>0,e.mod_id.high>>>0).toNumber(!0))),null!=e.mod_seq&&(t.mod_seq=e.mod_seq>>>0),null!=e.mod_list_seq&&(t.mod_list_seq=e.mod_list_seq>>>0),null!=e.mod_create_time&&(H.Long?(t.mod_create_time=H.Long.fromValue(e.mod_create_time)).unsigned=!1:"string"==typeof e.mod_create_time?t.mod_create_time=parseInt(e.mod_create_time,10):"number"==typeof e.mod_create_time?t.mod_create_time=e.mod_create_time:"object"==typeof e.mod_create_time&&(t.mod_create_time=new H.LongBits(e.mod_create_time.low>>>0,e.mod_create_time.high>>>0).toNumber())),t},e.toObject=function(e,t){t||(t={});let o={};if(t.defaults){if(H.Long){let e=new H.Long(0,0,!0);o.mod_id=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else o.mod_id=t.longs===String?"0":0;if(o.mod_seq=0,o.mod_list_seq=0,H.Long){let e=new H.Long(0,0,!1);o.mod_create_time=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else o.mod_create_time=t.longs===String?"0":0}return null!=e.mod_id&&e.hasOwnProperty("mod_id")&&("number"==typeof e.mod_id?o.mod_id=t.longs===String?String(e.mod_id):e.mod_id:o.mod_id=t.longs===String?H.Long.prototype.toString.call(e.mod_id):t.longs===Number?new H.LongBits(e.mod_id.low>>>0,e.mod_id.high>>>0).toNumber(!0):e.mod_id),null!=e.mod_seq&&e.hasOwnProperty("mod_seq")&&(o.mod_seq=e.mod_seq),null!=e.mod_list_seq&&e.hasOwnProperty("mod_list_seq")&&(o.mod_list_seq=e.mod_list_seq),null!=e.mod_create_time&&e.hasOwnProperty("mod_create_time")&&("number"==typeof e.mod_create_time?o.mod_create_time=t.longs===String?String(e.mod_create_time):e.mod_create_time:o.mod_create_time=t.longs===String?H.Long.prototype.toString.call(e.mod_create_time):t.longs===Number?new H.LongBits(e.mod_create_time.low>>>0,e.mod_create_time.high>>>0).toNumber():e.mod_create_time),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,q.util.toJSONOptions)},e}(),e.proto_destroy_mod_rsp=function(){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.mod_id=H.Long?H.Long.fromBits(0,0,!0):0,e.prototype.mod_list_seq=0,e.decode=function(e,t){e instanceof B||(e=B.create(e));let o=void 0===t?e.len:e.pos+t,r=new V.proto_edu_v1_web.proto_destroy_mod_rsp;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.mod_id=e.uint64();break;case 2:r.mod_list_seq=e.uint32();break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof V.proto_edu_v1_web.proto_destroy_mod_rsp)return e;let t=new V.proto_edu_v1_web.proto_destroy_mod_rsp;return null!=e.mod_id&&(H.Long?(t.mod_id=H.Long.fromValue(e.mod_id)).unsigned=!0:"string"==typeof e.mod_id?t.mod_id=parseInt(e.mod_id,10):"number"==typeof e.mod_id?t.mod_id=e.mod_id:"object"==typeof e.mod_id&&(t.mod_id=new H.LongBits(e.mod_id.low>>>0,e.mod_id.high>>>0).toNumber(!0))),null!=e.mod_list_seq&&(t.mod_list_seq=e.mod_list_seq>>>0),t},e.toObject=function(e,t){t||(t={});let o={};if(t.defaults){if(H.Long){let e=new H.Long(0,0,!0);o.mod_id=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else o.mod_id=t.longs===String?"0":0;o.mod_list_seq=0}return null!=e.mod_id&&e.hasOwnProperty("mod_id")&&("number"==typeof e.mod_id?o.mod_id=t.longs===String?String(e.mod_id):e.mod_id:o.mod_id=t.longs===String?H.Long.prototype.toString.call(e.mod_id):t.longs===Number?new H.LongBits(e.mod_id.low>>>0,e.mod_id.high>>>0).toNumber(!0):e.mod_id),null!=e.mod_list_seq&&e.hasOwnProperty("mod_list_seq")&&(o.mod_list_seq=e.mod_list_seq),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,q.util.toJSONOptions)},e}(),e.proto_modify_mod_rsp=function(){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.mod_id=H.Long?H.Long.fromBits(0,0,!0):0,e.prototype.mod_seq=0,e.prototype.mod_list_seq=0,e.decode=function(e,t){e instanceof B||(e=B.create(e));let o=void 0===t?e.len:e.pos+t,r=new V.proto_edu_v1_web.proto_modify_mod_rsp;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.mod_id=e.uint64();break;case 2:r.mod_seq=e.uint32();break;case 3:r.mod_list_seq=e.uint32();break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof V.proto_edu_v1_web.proto_modify_mod_rsp)return e;let t=new V.proto_edu_v1_web.proto_modify_mod_rsp;return null!=e.mod_id&&(H.Long?(t.mod_id=H.Long.fromValue(e.mod_id)).unsigned=!0:"string"==typeof e.mod_id?t.mod_id=parseInt(e.mod_id,10):"number"==typeof e.mod_id?t.mod_id=e.mod_id:"object"==typeof e.mod_id&&(t.mod_id=new H.LongBits(e.mod_id.low>>>0,e.mod_id.high>>>0).toNumber(!0))),null!=e.mod_seq&&(t.mod_seq=e.mod_seq>>>0),null!=e.mod_list_seq&&(t.mod_list_seq=e.mod_list_seq>>>0),t},e.toObject=function(e,t){t||(t={});let o={};if(t.defaults){if(H.Long){let e=new H.Long(0,0,!0);o.mod_id=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else o.mod_id=t.longs===String?"0":0;o.mod_seq=0,o.mod_list_seq=0}return null!=e.mod_id&&e.hasOwnProperty("mod_id")&&("number"==typeof e.mod_id?o.mod_id=t.longs===String?String(e.mod_id):e.mod_id:o.mod_id=t.longs===String?H.Long.prototype.toString.call(e.mod_id):t.longs===Number?new H.LongBits(e.mod_id.low>>>0,e.mod_id.high>>>0).toNumber(!0):e.mod_id),null!=e.mod_seq&&e.hasOwnProperty("mod_seq")&&(o.mod_seq=e.mod_seq),null!=e.mod_list_seq&&e.hasOwnProperty("mod_list_seq")&&(o.mod_list_seq=e.mod_list_seq),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,q.util.toJSONOptions)},e}(),e.proto_get_mod_rsp=function(){function e(e){if(this.mod_list=[],e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.mod_list=H.emptyArray,e.decode=function(e,t){e instanceof B||(e=B.create(e));let o=void 0===t?e.len:e.pos+t,r=new V.proto_edu_v1_web.proto_get_mod_rsp;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.mod_list&&r.mod_list.length||(r.mod_list=[]),r.mod_list.push(V.proto_edu_v1_web.proto_mod.decode(e,e.uint32()));break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof V.proto_edu_v1_web.proto_get_mod_rsp)return e;let t=new V.proto_edu_v1_web.proto_get_mod_rsp;if(e.mod_list){if(!Array.isArray(e.mod_list))throw TypeError(".proto_edu_v1_web.proto_get_mod_rsp.mod_list: array expected");t.mod_list=[];for(let o=0;o<e.mod_list.length;++o){if("object"!=typeof e.mod_list[o])throw TypeError(".proto_edu_v1_web.proto_get_mod_rsp.mod_list: object expected");t.mod_list[o]=V.proto_edu_v1_web.proto_mod.fromObject(e.mod_list[o])}}return t},e.toObject=function(e,t){t||(t={});let o={};if((t.arrays||t.defaults)&&(o.mod_list=[]),e.mod_list&&e.mod_list.length){o.mod_list=[];for(let r=0;r<e.mod_list.length;++r)o.mod_list[r]=V.proto_edu_v1_web.proto_mod.toObject(e.mod_list[r],t)}return o},e.prototype.toJSON=function(){return this.constructor.toObject(this,q.util.toJSONOptions)},e}(),e.proto_get_mod_list_rsp=function(){function e(e){if(this.mod_list=[],e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.mod_list_seq=0,e.prototype.marker="",e.prototype.mod_type=0,e.prototype.mod_list=H.emptyArray,e.decode=function(e,t){e instanceof B||(e=B.create(e));let o=void 0===t?e.len:e.pos+t,r=new V.proto_edu_v1_web.proto_get_mod_list_rsp;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.mod_list_seq=e.uint32();break;case 2:r.marker=e.string();break;case 3:r.mod_type=e.uint32();break;case 4:r.mod_list&&r.mod_list.length||(r.mod_list=[]),r.mod_list.push(V.proto_edu_v1_web.proto_mod.decode(e,e.uint32()));break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof V.proto_edu_v1_web.proto_get_mod_list_rsp)return e;let t=new V.proto_edu_v1_web.proto_get_mod_list_rsp;if(null!=e.mod_list_seq&&(t.mod_list_seq=e.mod_list_seq>>>0),null!=e.marker&&(t.marker=String(e.marker)),null!=e.mod_type&&(t.mod_type=e.mod_type>>>0),e.mod_list){if(!Array.isArray(e.mod_list))throw TypeError(".proto_edu_v1_web.proto_get_mod_list_rsp.mod_list: array expected");t.mod_list=[];for(let o=0;o<e.mod_list.length;++o){if("object"!=typeof e.mod_list[o])throw TypeError(".proto_edu_v1_web.proto_get_mod_list_rsp.mod_list: object expected");t.mod_list[o]=V.proto_edu_v1_web.proto_mod.fromObject(e.mod_list[o])}}return t},e.toObject=function(e,t){t||(t={});let o={};if((t.arrays||t.defaults)&&(o.mod_list=[]),t.defaults&&(o.mod_list_seq=0,o.marker="",o.mod_type=0),null!=e.mod_list_seq&&e.hasOwnProperty("mod_list_seq")&&(o.mod_list_seq=e.mod_list_seq),null!=e.marker&&e.hasOwnProperty("marker")&&(o.marker=e.marker),null!=e.mod_type&&e.hasOwnProperty("mod_type")&&(o.mod_type=e.mod_type),e.mod_list&&e.mod_list.length){o.mod_list=[];for(let r=0;r<e.mod_list.length;++r)o.mod_list[r]=V.proto_edu_v1_web.proto_mod.toObject(e.mod_list[r],t)}return o},e.prototype.toJSON=function(){return this.constructor.toObject(this,q.util.toJSONOptions)},e}(),e.proto_draw_page_graphics_rsp=function(){function e(e){if(this.pages=[],this.graphic_list_seqs=[],e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.mod_id=H.Long?H.Long.fromBits(0,0,!0):0,e.prototype.pages=H.emptyArray,e.prototype.graphic_list_seqs=H.emptyArray,e.prototype.commit_time=H.Long?H.Long.fromBits(0,0,!1):0,e.decode=function(e,t){e instanceof B||(e=B.create(e));let o=void 0===t?e.len:e.pos+t,r=new V.proto_edu_v1_web.proto_draw_page_graphics_rsp;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.mod_id=e.uint64();break;case 2:if(r.pages&&r.pages.length||(r.pages=[]),2==(7&t)){let t=e.uint32()+e.pos;for(;e.pos<t;)r.pages.push(e.uint32())}else r.pages.push(e.uint32());break;case 3:if(r.graphic_list_seqs&&r.graphic_list_seqs.length||(r.graphic_list_seqs=[]),2==(7&t)){let t=e.uint32()+e.pos;for(;e.pos<t;)r.graphic_list_seqs.push(e.uint32())}else r.graphic_list_seqs.push(e.uint32());break;case 4:r.commit_time=e.int64();break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof V.proto_edu_v1_web.proto_draw_page_graphics_rsp)return e;let t=new V.proto_edu_v1_web.proto_draw_page_graphics_rsp;if(null!=e.mod_id&&(H.Long?(t.mod_id=H.Long.fromValue(e.mod_id)).unsigned=!0:"string"==typeof e.mod_id?t.mod_id=parseInt(e.mod_id,10):"number"==typeof e.mod_id?t.mod_id=e.mod_id:"object"==typeof e.mod_id&&(t.mod_id=new H.LongBits(e.mod_id.low>>>0,e.mod_id.high>>>0).toNumber(!0))),e.pages){if(!Array.isArray(e.pages))throw TypeError(".proto_edu_v1_web.proto_draw_page_graphics_rsp.pages: array expected");t.pages=[];for(let o=0;o<e.pages.length;++o)t.pages[o]=e.pages[o]>>>0}if(e.graphic_list_seqs){if(!Array.isArray(e.graphic_list_seqs))throw TypeError(".proto_edu_v1_web.proto_draw_page_graphics_rsp.graphic_list_seqs: array expected");t.graphic_list_seqs=[];for(let o=0;o<e.graphic_list_seqs.length;++o)t.graphic_list_seqs[o]=e.graphic_list_seqs[o]>>>0}return null!=e.commit_time&&(H.Long?(t.commit_time=H.Long.fromValue(e.commit_time)).unsigned=!1:"string"==typeof e.commit_time?t.commit_time=parseInt(e.commit_time,10):"number"==typeof e.commit_time?t.commit_time=e.commit_time:"object"==typeof e.commit_time&&(t.commit_time=new H.LongBits(e.commit_time.low>>>0,e.commit_time.high>>>0).toNumber())),t},e.toObject=function(e,t){t||(t={});let o={};if((t.arrays||t.defaults)&&(o.pages=[],o.graphic_list_seqs=[]),t.defaults){if(H.Long){let e=new H.Long(0,0,!0);o.mod_id=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else o.mod_id=t.longs===String?"0":0;if(H.Long){let e=new H.Long(0,0,!1);o.commit_time=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else o.commit_time=t.longs===String?"0":0}if(null!=e.mod_id&&e.hasOwnProperty("mod_id")&&("number"==typeof e.mod_id?o.mod_id=t.longs===String?String(e.mod_id):e.mod_id:o.mod_id=t.longs===String?H.Long.prototype.toString.call(e.mod_id):t.longs===Number?new H.LongBits(e.mod_id.low>>>0,e.mod_id.high>>>0).toNumber(!0):e.mod_id),e.pages&&e.pages.length){o.pages=[];for(let t=0;t<e.pages.length;++t)o.pages[t]=e.pages[t]}if(e.graphic_list_seqs&&e.graphic_list_seqs.length){o.graphic_list_seqs=[];for(let t=0;t<e.graphic_list_seqs.length;++t)o.graphic_list_seqs[t]=e.graphic_list_seqs[t]}return null!=e.commit_time&&e.hasOwnProperty("commit_time")&&("number"==typeof e.commit_time?o.commit_time=t.longs===String?String(e.commit_time):e.commit_time:o.commit_time=t.longs===String?H.Long.prototype.toString.call(e.commit_time):t.longs===Number?new H.LongBits(e.commit_time.low>>>0,e.commit_time.high>>>0).toNumber():e.commit_time),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,q.util.toJSONOptions)},e}(),e.proto_clear_page_graphics_rsp=function(){function e(e){if(this.pages=[],this.graphic_list_seqs=[],e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.mod_id=H.Long?H.Long.fromBits(0,0,!0):0,e.prototype.pages=H.emptyArray,e.prototype.graphic_list_seqs=H.emptyArray,e.decode=function(e,t){e instanceof B||(e=B.create(e));let o=void 0===t?e.len:e.pos+t,r=new V.proto_edu_v1_web.proto_clear_page_graphics_rsp;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.mod_id=e.uint64();break;case 2:if(r.pages&&r.pages.length||(r.pages=[]),2==(7&t)){let t=e.uint32()+e.pos;for(;e.pos<t;)r.pages.push(e.uint32())}else r.pages.push(e.uint32());break;case 3:if(r.graphic_list_seqs&&r.graphic_list_seqs.length||(r.graphic_list_seqs=[]),2==(7&t)){let t=e.uint32()+e.pos;for(;e.pos<t;)r.graphic_list_seqs.push(e.uint32())}else r.graphic_list_seqs.push(e.uint32());break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof V.proto_edu_v1_web.proto_clear_page_graphics_rsp)return e;let t=new V.proto_edu_v1_web.proto_clear_page_graphics_rsp;if(null!=e.mod_id&&(H.Long?(t.mod_id=H.Long.fromValue(e.mod_id)).unsigned=!0:"string"==typeof e.mod_id?t.mod_id=parseInt(e.mod_id,10):"number"==typeof e.mod_id?t.mod_id=e.mod_id:"object"==typeof e.mod_id&&(t.mod_id=new H.LongBits(e.mod_id.low>>>0,e.mod_id.high>>>0).toNumber(!0))),e.pages){if(!Array.isArray(e.pages))throw TypeError(".proto_edu_v1_web.proto_clear_page_graphics_rsp.pages: array expected");t.pages=[];for(let o=0;o<e.pages.length;++o)t.pages[o]=e.pages[o]>>>0}if(e.graphic_list_seqs){if(!Array.isArray(e.graphic_list_seqs))throw TypeError(".proto_edu_v1_web.proto_clear_page_graphics_rsp.graphic_list_seqs: array expected");t.graphic_list_seqs=[];for(let o=0;o<e.graphic_list_seqs.length;++o)t.graphic_list_seqs[o]=e.graphic_list_seqs[o]>>>0}return t},e.toObject=function(e,t){t||(t={});let o={};if((t.arrays||t.defaults)&&(o.pages=[],o.graphic_list_seqs=[]),t.defaults)if(H.Long){let e=new H.Long(0,0,!0);o.mod_id=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else o.mod_id=t.longs===String?"0":0;if(null!=e.mod_id&&e.hasOwnProperty("mod_id")&&("number"==typeof e.mod_id?o.mod_id=t.longs===String?String(e.mod_id):e.mod_id:o.mod_id=t.longs===String?H.Long.prototype.toString.call(e.mod_id):t.longs===Number?new H.LongBits(e.mod_id.low>>>0,e.mod_id.high>>>0).toNumber(!0):e.mod_id),e.pages&&e.pages.length){o.pages=[];for(let t=0;t<e.pages.length;++t)o.pages[t]=e.pages[t]}if(e.graphic_list_seqs&&e.graphic_list_seqs.length){o.graphic_list_seqs=[];for(let t=0;t<e.graphic_list_seqs.length;++t)o.graphic_list_seqs[t]=e.graphic_list_seqs[t]}return o},e.prototype.toJSON=function(){return this.constructor.toObject(this,q.util.toJSONOptions)},e}(),e.proto_get_page_graphics_rsp=function(){function e(e){if(this.pages=[],e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.pages=H.emptyArray,e.prototype.operate_expire_time=H.Long?H.Long.fromBits(0,0,!0):0,e.decode=function(e,t){e instanceof B||(e=B.create(e));let o=void 0===t?e.len:e.pos+t,r=new V.proto_edu_v1_web.proto_get_page_graphics_rsp;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.pages&&r.pages.length||(r.pages=[]),r.pages.push(V.proto_edu_v1_web.proto_get_page_graphics_info.decode(e,e.uint32()));break;case 2:r.operate_expire_time=e.uint64();break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof V.proto_edu_v1_web.proto_get_page_graphics_rsp)return e;let t=new V.proto_edu_v1_web.proto_get_page_graphics_rsp;if(e.pages){if(!Array.isArray(e.pages))throw TypeError(".proto_edu_v1_web.proto_get_page_graphics_rsp.pages: array expected");t.pages=[];for(let o=0;o<e.pages.length;++o){if("object"!=typeof e.pages[o])throw TypeError(".proto_edu_v1_web.proto_get_page_graphics_rsp.pages: object expected");t.pages[o]=V.proto_edu_v1_web.proto_get_page_graphics_info.fromObject(e.pages[o])}}return null!=e.operate_expire_time&&(H.Long?(t.operate_expire_time=H.Long.fromValue(e.operate_expire_time)).unsigned=!0:"string"==typeof e.operate_expire_time?t.operate_expire_time=parseInt(e.operate_expire_time,10):"number"==typeof e.operate_expire_time?t.operate_expire_time=e.operate_expire_time:"object"==typeof e.operate_expire_time&&(t.operate_expire_time=new H.LongBits(e.operate_expire_time.low>>>0,e.operate_expire_time.high>>>0).toNumber(!0))),t},e.toObject=function(e,t){t||(t={});let o={};if((t.arrays||t.defaults)&&(o.pages=[]),t.defaults)if(H.Long){let e=new H.Long(0,0,!0);o.operate_expire_time=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else o.operate_expire_time=t.longs===String?"0":0;if(e.pages&&e.pages.length){o.pages=[];for(let r=0;r<e.pages.length;++r)o.pages[r]=V.proto_edu_v1_web.proto_get_page_graphics_info.toObject(e.pages[r],t)}return null!=e.operate_expire_time&&e.hasOwnProperty("operate_expire_time")&&("number"==typeof e.operate_expire_time?o.operate_expire_time=t.longs===String?String(e.operate_expire_time):e.operate_expire_time:o.operate_expire_time=t.longs===String?H.Long.prototype.toString.call(e.operate_expire_time):t.longs===Number?new H.LongBits(e.operate_expire_time.low>>>0,e.operate_expire_time.high>>>0).toNumber(!0):e.operate_expire_time),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,q.util.toJSONOptions)},e}(),e.proto_get_page_graphics_info=function(){function e(e){if(this.graphic_list=[],this.del_graphic_id_list=[],e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.page=0,e.prototype.ret_graphic_list_seq=0,e.prototype.svr_graphic_list_seq=0,e.prototype.graphic_list=H.emptyArray,e.prototype.del_graphic_id_list=H.emptyArray,e.decode=function(e,t){e instanceof B||(e=B.create(e));let o=void 0===t?e.len:e.pos+t,r=new V.proto_edu_v1_web.proto_get_page_graphics_info;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.page=e.uint32();break;case 2:r.ret_graphic_list_seq=e.uint32();break;case 3:r.svr_graphic_list_seq=e.uint32();break;case 4:r.graphic_list&&r.graphic_list.length||(r.graphic_list=[]),r.graphic_list.push(V.proto_edu_v1_web.proto_graphic.decode(e,e.uint32()));break;case 5:if(r.del_graphic_id_list&&r.del_graphic_id_list.length||(r.del_graphic_id_list=[]),2==(7&t)){let t=e.uint32()+e.pos;for(;e.pos<t;)r.del_graphic_id_list.push(e.uint64())}else r.del_graphic_id_list.push(e.uint64());break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof V.proto_edu_v1_web.proto_get_page_graphics_info)return e;let t=new V.proto_edu_v1_web.proto_get_page_graphics_info;if(null!=e.page&&(t.page=e.page>>>0),null!=e.ret_graphic_list_seq&&(t.ret_graphic_list_seq=e.ret_graphic_list_seq>>>0),null!=e.svr_graphic_list_seq&&(t.svr_graphic_list_seq=e.svr_graphic_list_seq>>>0),e.graphic_list){if(!Array.isArray(e.graphic_list))throw TypeError(".proto_edu_v1_web.proto_get_page_graphics_info.graphic_list: array expected");t.graphic_list=[];for(let o=0;o<e.graphic_list.length;++o){if("object"!=typeof e.graphic_list[o])throw TypeError(".proto_edu_v1_web.proto_get_page_graphics_info.graphic_list: object expected");t.graphic_list[o]=V.proto_edu_v1_web.proto_graphic.fromObject(e.graphic_list[o])}}if(e.del_graphic_id_list){if(!Array.isArray(e.del_graphic_id_list))throw TypeError(".proto_edu_v1_web.proto_get_page_graphics_info.del_graphic_id_list: array expected");t.del_graphic_id_list=[];for(let o=0;o<e.del_graphic_id_list.length;++o)H.Long?(t.del_graphic_id_list[o]=H.Long.fromValue(e.del_graphic_id_list[o])).unsigned=!0:"string"==typeof e.del_graphic_id_list[o]?t.del_graphic_id_list[o]=parseInt(e.del_graphic_id_list[o],10):"number"==typeof e.del_graphic_id_list[o]?t.del_graphic_id_list[o]=e.del_graphic_id_list[o]:"object"==typeof e.del_graphic_id_list[o]&&(t.del_graphic_id_list[o]=new H.LongBits(e.del_graphic_id_list[o].low>>>0,e.del_graphic_id_list[o].high>>>0).toNumber(!0))}return t},e.toObject=function(e,t){t||(t={});let o={};if((t.arrays||t.defaults)&&(o.graphic_list=[],o.del_graphic_id_list=[]),t.defaults&&(o.page=0,o.ret_graphic_list_seq=0,o.svr_graphic_list_seq=0),null!=e.page&&e.hasOwnProperty("page")&&(o.page=e.page),null!=e.ret_graphic_list_seq&&e.hasOwnProperty("ret_graphic_list_seq")&&(o.ret_graphic_list_seq=e.ret_graphic_list_seq),null!=e.svr_graphic_list_seq&&e.hasOwnProperty("svr_graphic_list_seq")&&(o.svr_graphic_list_seq=e.svr_graphic_list_seq),e.graphic_list&&e.graphic_list.length){o.graphic_list=[];for(let r=0;r<e.graphic_list.length;++r)o.graphic_list[r]=V.proto_edu_v1_web.proto_graphic.toObject(e.graphic_list[r],t)}if(e.del_graphic_id_list&&e.del_graphic_id_list.length){o.del_graphic_id_list=[];for(let r=0;r<e.del_graphic_id_list.length;++r)"number"==typeof e.del_graphic_id_list[r]?o.del_graphic_id_list[r]=t.longs===String?String(e.del_graphic_id_list[r]):e.del_graphic_id_list[r]:o.del_graphic_id_list[r]=t.longs===String?H.Long.prototype.toString.call(e.del_graphic_id_list[r]):t.longs===Number?new H.LongBits(e.del_graphic_id_list[r].low>>>0,e.del_graphic_id_list[r].high>>>0).toNumber(!0):e.del_graphic_id_list[r]}return o},e.prototype.toJSON=function(){return this.constructor.toObject(this,q.util.toJSONOptions)},e}(),e.proto_get_user_auth_rsp=function(){function e(e){if(this.module_auth=[],this.graphic_auth=[],e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.id_name="",e.prototype.auth_seq=0,e.prototype.module_auth=H.emptyArray,e.prototype.graphic_auth=H.emptyArray,e.decode=function(e,t){e instanceof B||(e=B.create(e));let o=void 0===t?e.len:e.pos+t,r=new V.proto_edu_v1_web.proto_get_user_auth_rsp;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.id_name=e.string();break;case 2:r.auth_seq=e.uint32();break;case 3:if(r.module_auth&&r.module_auth.length||(r.module_auth=[]),2==(7&t)){let t=e.uint32()+e.pos;for(;e.pos<t;)r.module_auth.push(e.uint32())}else r.module_auth.push(e.uint32());break;case 4:if(r.graphic_auth&&r.graphic_auth.length||(r.graphic_auth=[]),2==(7&t)){let t=e.uint32()+e.pos;for(;e.pos<t;)r.graphic_auth.push(e.uint32())}else r.graphic_auth.push(e.uint32());break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof V.proto_edu_v1_web.proto_get_user_auth_rsp)return e;let t=new V.proto_edu_v1_web.proto_get_user_auth_rsp;if(null!=e.id_name&&(t.id_name=String(e.id_name)),null!=e.auth_seq&&(t.auth_seq=e.auth_seq>>>0),e.module_auth){if(!Array.isArray(e.module_auth))throw TypeError(".proto_edu_v1_web.proto_get_user_auth_rsp.module_auth: array expected");t.module_auth=[];for(let o=0;o<e.module_auth.length;++o)t.module_auth[o]=e.module_auth[o]>>>0}if(e.graphic_auth){if(!Array.isArray(e.graphic_auth))throw TypeError(".proto_edu_v1_web.proto_get_user_auth_rsp.graphic_auth: array expected");t.graphic_auth=[];for(let o=0;o<e.graphic_auth.length;++o)t.graphic_auth[o]=e.graphic_auth[o]>>>0}return t},e.toObject=function(e,t){t||(t={});let o={};if((t.arrays||t.defaults)&&(o.module_auth=[],o.graphic_auth=[]),t.defaults&&(o.id_name="",o.auth_seq=0),null!=e.id_name&&e.hasOwnProperty("id_name")&&(o.id_name=e.id_name),null!=e.auth_seq&&e.hasOwnProperty("auth_seq")&&(o.auth_seq=e.auth_seq),e.module_auth&&e.module_auth.length){o.module_auth=[];for(let t=0;t<e.module_auth.length;++t)o.module_auth[t]=e.module_auth[t]}if(e.graphic_auth&&e.graphic_auth.length){o.graphic_auth=[];for(let t=0;t<e.graphic_auth.length;++t)o.graphic_auth[t]=e.graphic_auth[t]}return o},e.prototype.toJSON=function(){return this.constructor.toObject(this,q.util.toJSONOptions)},e}(),e.proto_get_room_auth_rsp=function(){function e(e){if(this.module_auth=[],this.graphic_auth=[],e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.auth_seq=0,e.prototype.module_auth=H.emptyArray,e.prototype.graphic_auth=H.emptyArray,e.decode=function(e,t){e instanceof B||(e=B.create(e));let o=void 0===t?e.len:e.pos+t,r=new V.proto_edu_v1_web.proto_get_room_auth_rsp;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.auth_seq=e.uint32();break;case 2:if(r.module_auth&&r.module_auth.length||(r.module_auth=[]),2==(7&t)){let t=e.uint32()+e.pos;for(;e.pos<t;)r.module_auth.push(e.uint32())}else r.module_auth.push(e.uint32());break;case 3:if(r.graphic_auth&&r.graphic_auth.length||(r.graphic_auth=[]),2==(7&t)){let t=e.uint32()+e.pos;for(;e.pos<t;)r.graphic_auth.push(e.uint32())}else r.graphic_auth.push(e.uint32());break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof V.proto_edu_v1_web.proto_get_room_auth_rsp)return e;let t=new V.proto_edu_v1_web.proto_get_room_auth_rsp;if(null!=e.auth_seq&&(t.auth_seq=e.auth_seq>>>0),e.module_auth){if(!Array.isArray(e.module_auth))throw TypeError(".proto_edu_v1_web.proto_get_room_auth_rsp.module_auth: array expected");t.module_auth=[];for(let o=0;o<e.module_auth.length;++o)t.module_auth[o]=e.module_auth[o]>>>0}if(e.graphic_auth){if(!Array.isArray(e.graphic_auth))throw TypeError(".proto_edu_v1_web.proto_get_room_auth_rsp.graphic_auth: array expected");t.graphic_auth=[];for(let o=0;o<e.graphic_auth.length;++o)t.graphic_auth[o]=e.graphic_auth[o]>>>0}return t},e.toObject=function(e,t){t||(t={});let o={};if((t.arrays||t.defaults)&&(o.module_auth=[],o.graphic_auth=[]),t.defaults&&(o.auth_seq=0),null!=e.auth_seq&&e.hasOwnProperty("auth_seq")&&(o.auth_seq=e.auth_seq),e.module_auth&&e.module_auth.length){o.module_auth=[];for(let t=0;t<e.module_auth.length;++t)o.module_auth[t]=e.module_auth[t]}if(e.graphic_auth&&e.graphic_auth.length){o.graphic_auth=[];for(let t=0;t<e.graphic_auth.length;++t)o.graphic_auth[t]=e.graphic_auth[t]}return o},e.prototype.toJSON=function(){return this.constructor.toObject(this,q.util.toJSONOptions)},e}(),e.push_set_mod=function(){function e(e){if(this.action_list=[],e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.room_id="",e.prototype.mod_list_seq=0,e.prototype.action_list=H.emptyArray,e.decode=function(e,t){e instanceof B||(e=B.create(e));let o=void 0===t?e.len:e.pos+t,r=new V.proto_edu_v1_web.push_set_mod;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.room_id=e.string();break;case 2:r.mod_list_seq=e.uint32();break;case 3:r.action_list&&r.action_list.length||(r.action_list=[]),r.action_list.push(V.proto_edu_v1_web.push_set_mod_action.decode(e,e.uint32()));break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof V.proto_edu_v1_web.push_set_mod)return e;let t=new V.proto_edu_v1_web.push_set_mod;if(null!=e.room_id&&(t.room_id=String(e.room_id)),null!=e.mod_list_seq&&(t.mod_list_seq=e.mod_list_seq>>>0),e.action_list){if(!Array.isArray(e.action_list))throw TypeError(".proto_edu_v1_web.push_set_mod.action_list: array expected");t.action_list=[];for(let o=0;o<e.action_list.length;++o){if("object"!=typeof e.action_list[o])throw TypeError(".proto_edu_v1_web.push_set_mod.action_list: object expected");t.action_list[o]=V.proto_edu_v1_web.push_set_mod_action.fromObject(e.action_list[o])}}return t},e.toObject=function(e,t){t||(t={});let o={};if((t.arrays||t.defaults)&&(o.action_list=[]),t.defaults&&(o.room_id="",o.mod_list_seq=0),null!=e.room_id&&e.hasOwnProperty("room_id")&&(o.room_id=e.room_id),null!=e.mod_list_seq&&e.hasOwnProperty("mod_list_seq")&&(o.mod_list_seq=e.mod_list_seq),e.action_list&&e.action_list.length){o.action_list=[];for(let r=0;r<e.action_list.length;++r)o.action_list[r]=V.proto_edu_v1_web.push_set_mod_action.toObject(e.action_list[r],t)}return o},e.prototype.toJSON=function(){return this.constructor.toObject(this,q.util.toJSONOptions)},e}(),e.push_set_mod_action=function(){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.action=0,e.prototype.mod_id=H.Long?H.Long.fromBits(0,0,!0):0,e.prototype.mod_type=0,e.prototype.mod_subtype=0,e.prototype.mod_seq=0,e.prototype.mod_title="",e.prototype.mod_pos="",e.prototype.mod_status=H.Long?H.Long.fromBits(0,0,!0):0,e.prototype.mod_content="",e.prototype.mod_extra="",e.prototype.mod_reserve=0,e.prototype.mod_create_time=H.Long?H.Long.fromBits(0,0,!1):0,e.prototype.is_modify_mod_title=!1,e.prototype.is_modify_mod_pos=!1,e.prototype.is_modify_mod_status=!1,e.prototype.is_modify_mod_content=!1,e.prototype.is_modify_mod_extra=!1,e.prototype.is_modify_mod_reserve=!1,e.prototype.mod_horizontal_percent=0,e.prototype.mod_vertical_percent=0,e.prototype.is_modify_mod_horizontal_percent=!1,e.prototype.is_modify_mod_vertical_percent=!1,e.prototype.is_modify_mod_scale=!1,e.prototype.mod_scale="",e.decode=function(e,t){e instanceof B||(e=B.create(e));let o=void 0===t?e.len:e.pos+t,r=new V.proto_edu_v1_web.push_set_mod_action;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.action=e.uint32();break;case 2:r.mod_id=e.uint64();break;case 3:r.mod_type=e.uint32();break;case 4:r.mod_subtype=e.uint32();break;case 5:r.mod_seq=e.uint32();break;case 6:r.mod_title=e.string();break;case 7:r.mod_pos=e.string();break;case 8:r.mod_status=e.uint64();break;case 9:r.mod_content=e.string();break;case 10:r.mod_extra=e.string();break;case 11:r.mod_reserve=e.uint32();break;case 12:r.mod_create_time=e.int64();break;case 13:r.is_modify_mod_title=e.bool();break;case 14:r.is_modify_mod_pos=e.bool();break;case 15:r.is_modify_mod_status=e.bool();break;case 16:r.is_modify_mod_content=e.bool();break;case 17:r.is_modify_mod_extra=e.bool();break;case 18:r.is_modify_mod_reserve=e.bool();break;case 19:r.mod_horizontal_percent=e.float();break;case 20:r.mod_vertical_percent=e.float();break;case 21:r.is_modify_mod_horizontal_percent=e.bool();break;case 22:r.is_modify_mod_vertical_percent=e.bool();break;case 23:r.is_modify_mod_scale=e.bool();break;case 24:r.mod_scale=e.string();break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof V.proto_edu_v1_web.push_set_mod_action)return e;let t=new V.proto_edu_v1_web.push_set_mod_action;return null!=e.action&&(t.action=e.action>>>0),null!=e.mod_id&&(H.Long?(t.mod_id=H.Long.fromValue(e.mod_id)).unsigned=!0:"string"==typeof e.mod_id?t.mod_id=parseInt(e.mod_id,10):"number"==typeof e.mod_id?t.mod_id=e.mod_id:"object"==typeof e.mod_id&&(t.mod_id=new H.LongBits(e.mod_id.low>>>0,e.mod_id.high>>>0).toNumber(!0))),null!=e.mod_type&&(t.mod_type=e.mod_type>>>0),null!=e.mod_subtype&&(t.mod_subtype=e.mod_subtype>>>0),null!=e.mod_seq&&(t.mod_seq=e.mod_seq>>>0),null!=e.mod_title&&(t.mod_title=String(e.mod_title)),null!=e.mod_pos&&(t.mod_pos=String(e.mod_pos)),null!=e.mod_status&&(H.Long?(t.mod_status=H.Long.fromValue(e.mod_status)).unsigned=!0:"string"==typeof e.mod_status?t.mod_status=parseInt(e.mod_status,10):"number"==typeof e.mod_status?t.mod_status=e.mod_status:"object"==typeof e.mod_status&&(t.mod_status=new H.LongBits(e.mod_status.low>>>0,e.mod_status.high>>>0).toNumber(!0))),null!=e.mod_content&&(t.mod_content=String(e.mod_content)),null!=e.mod_extra&&(t.mod_extra=String(e.mod_extra)),null!=e.mod_reserve&&(t.mod_reserve=e.mod_reserve>>>0),null!=e.mod_create_time&&(H.Long?(t.mod_create_time=H.Long.fromValue(e.mod_create_time)).unsigned=!1:"string"==typeof e.mod_create_time?t.mod_create_time=parseInt(e.mod_create_time,10):"number"==typeof e.mod_create_time?t.mod_create_time=e.mod_create_time:"object"==typeof e.mod_create_time&&(t.mod_create_time=new H.LongBits(e.mod_create_time.low>>>0,e.mod_create_time.high>>>0).toNumber())),null!=e.is_modify_mod_title&&(t.is_modify_mod_title=Boolean(e.is_modify_mod_title)),null!=e.is_modify_mod_pos&&(t.is_modify_mod_pos=Boolean(e.is_modify_mod_pos)),null!=e.is_modify_mod_status&&(t.is_modify_mod_status=Boolean(e.is_modify_mod_status)),null!=e.is_modify_mod_content&&(t.is_modify_mod_content=Boolean(e.is_modify_mod_content)),null!=e.is_modify_mod_extra&&(t.is_modify_mod_extra=Boolean(e.is_modify_mod_extra)),null!=e.is_modify_mod_reserve&&(t.is_modify_mod_reserve=Boolean(e.is_modify_mod_reserve)),null!=e.mod_horizontal_percent&&(t.mod_horizontal_percent=Number(e.mod_horizontal_percent)),null!=e.mod_vertical_percent&&(t.mod_vertical_percent=Number(e.mod_vertical_percent)),null!=e.is_modify_mod_horizontal_percent&&(t.is_modify_mod_horizontal_percent=Boolean(e.is_modify_mod_horizontal_percent)),null!=e.is_modify_mod_vertical_percent&&(t.is_modify_mod_vertical_percent=Boolean(e.is_modify_mod_vertical_percent)),null!=e.is_modify_mod_scale&&(t.is_modify_mod_scale=Boolean(e.is_modify_mod_scale)),null!=e.mod_scale&&(t.mod_scale=String(e.mod_scale)),t},e.toObject=function(e,t){t||(t={});let o={};if(t.defaults){if(o.action=0,H.Long){let e=new H.Long(0,0,!0);o.mod_id=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else o.mod_id=t.longs===String?"0":0;if(o.mod_type=0,o.mod_subtype=0,o.mod_seq=0,o.mod_title="",o.mod_pos="",H.Long){let e=new H.Long(0,0,!0);o.mod_status=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else o.mod_status=t.longs===String?"0":0;if(o.mod_content="",o.mod_extra="",o.mod_reserve=0,H.Long){let e=new H.Long(0,0,!1);o.mod_create_time=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else o.mod_create_time=t.longs===String?"0":0;o.is_modify_mod_title=!1,o.is_modify_mod_pos=!1,o.is_modify_mod_status=!1,o.is_modify_mod_content=!1,o.is_modify_mod_extra=!1,o.is_modify_mod_reserve=!1,o.mod_horizontal_percent=0,o.mod_vertical_percent=0,o.is_modify_mod_horizontal_percent=!1,o.is_modify_mod_vertical_percent=!1,o.is_modify_mod_scale=!1,o.mod_scale=""}return null!=e.action&&e.hasOwnProperty("action")&&(o.action=e.action),null!=e.mod_id&&e.hasOwnProperty("mod_id")&&("number"==typeof e.mod_id?o.mod_id=t.longs===String?String(e.mod_id):e.mod_id:o.mod_id=t.longs===String?H.Long.prototype.toString.call(e.mod_id):t.longs===Number?new H.LongBits(e.mod_id.low>>>0,e.mod_id.high>>>0).toNumber(!0):e.mod_id),null!=e.mod_type&&e.hasOwnProperty("mod_type")&&(o.mod_type=e.mod_type),null!=e.mod_subtype&&e.hasOwnProperty("mod_subtype")&&(o.mod_subtype=e.mod_subtype),null!=e.mod_seq&&e.hasOwnProperty("mod_seq")&&(o.mod_seq=e.mod_seq),null!=e.mod_title&&e.hasOwnProperty("mod_title")&&(o.mod_title=e.mod_title),null!=e.mod_pos&&e.hasOwnProperty("mod_pos")&&(o.mod_pos=e.mod_pos),null!=e.mod_status&&e.hasOwnProperty("mod_status")&&("number"==typeof e.mod_status?o.mod_status=t.longs===String?String(e.mod_status):e.mod_status:o.mod_status=t.longs===String?H.Long.prototype.toString.call(e.mod_status):t.longs===Number?new H.LongBits(e.mod_status.low>>>0,e.mod_status.high>>>0).toNumber(!0):e.mod_status),null!=e.mod_content&&e.hasOwnProperty("mod_content")&&(o.mod_content=e.mod_content),null!=e.mod_extra&&e.hasOwnProperty("mod_extra")&&(o.mod_extra=e.mod_extra),null!=e.mod_reserve&&e.hasOwnProperty("mod_reserve")&&(o.mod_reserve=e.mod_reserve),null!=e.mod_create_time&&e.hasOwnProperty("mod_create_time")&&("number"==typeof e.mod_create_time?o.mod_create_time=t.longs===String?String(e.mod_create_time):e.mod_create_time:o.mod_create_time=t.longs===String?H.Long.prototype.toString.call(e.mod_create_time):t.longs===Number?new H.LongBits(e.mod_create_time.low>>>0,e.mod_create_time.high>>>0).toNumber():e.mod_create_time),null!=e.is_modify_mod_title&&e.hasOwnProperty("is_modify_mod_title")&&(o.is_modify_mod_title=e.is_modify_mod_title),null!=e.is_modify_mod_pos&&e.hasOwnProperty("is_modify_mod_pos")&&(o.is_modify_mod_pos=e.is_modify_mod_pos),null!=e.is_modify_mod_status&&e.hasOwnProperty("is_modify_mod_status")&&(o.is_modify_mod_status=e.is_modify_mod_status),null!=e.is_modify_mod_content&&e.hasOwnProperty("is_modify_mod_content")&&(o.is_modify_mod_content=e.is_modify_mod_content),null!=e.is_modify_mod_extra&&e.hasOwnProperty("is_modify_mod_extra")&&(o.is_modify_mod_extra=e.is_modify_mod_extra),null!=e.is_modify_mod_reserve&&e.hasOwnProperty("is_modify_mod_reserve")&&(o.is_modify_mod_reserve=e.is_modify_mod_reserve),null!=e.mod_horizontal_percent&&e.hasOwnProperty("mod_horizontal_percent")&&(o.mod_horizontal_percent=t.json&&!isFinite(e.mod_horizontal_percent)?String(e.mod_horizontal_percent):e.mod_horizontal_percent),null!=e.mod_vertical_percent&&e.hasOwnProperty("mod_vertical_percent")&&(o.mod_vertical_percent=t.json&&!isFinite(e.mod_vertical_percent)?String(e.mod_vertical_percent):e.mod_vertical_percent),null!=e.is_modify_mod_horizontal_percent&&e.hasOwnProperty("is_modify_mod_horizontal_percent")&&(o.is_modify_mod_horizontal_percent=e.is_modify_mod_horizontal_percent),null!=e.is_modify_mod_vertical_percent&&e.hasOwnProperty("is_modify_mod_vertical_percent")&&(o.is_modify_mod_vertical_percent=e.is_modify_mod_vertical_percent),null!=e.is_modify_mod_scale&&e.hasOwnProperty("is_modify_mod_scale")&&(o.is_modify_mod_scale=e.is_modify_mod_scale),null!=e.mod_scale&&e.hasOwnProperty("mod_scale")&&(o.mod_scale=e.mod_scale),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,q.util.toJSONOptions)},e}(),e.push_draw_page_graphics=function(){function e(e){if(this.page_graphics=[],e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.mod_id=H.Long?H.Long.fromBits(0,0,!0):0,e.prototype.page_graphics=H.emptyArray,e.prototype.timestamp=H.Long?H.Long.fromBits(0,0,!0):0,e.decode=function(e,t){e instanceof B||(e=B.create(e));let o=void 0===t?e.len:e.pos+t,r=new V.proto_edu_v1_web.push_draw_page_graphics;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.mod_id=e.uint64();break;case 2:r.page_graphics&&r.page_graphics.length||(r.page_graphics=[]),r.page_graphics.push(V.proto_edu_v1_web.push_draw_graphics_info.decode(e,e.uint32()));break;case 3:r.timestamp=e.uint64();break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof V.proto_edu_v1_web.push_draw_page_graphics)return e;let t=new V.proto_edu_v1_web.push_draw_page_graphics;if(null!=e.mod_id&&(H.Long?(t.mod_id=H.Long.fromValue(e.mod_id)).unsigned=!0:"string"==typeof e.mod_id?t.mod_id=parseInt(e.mod_id,10):"number"==typeof e.mod_id?t.mod_id=e.mod_id:"object"==typeof e.mod_id&&(t.mod_id=new H.LongBits(e.mod_id.low>>>0,e.mod_id.high>>>0).toNumber(!0))),e.page_graphics){if(!Array.isArray(e.page_graphics))throw TypeError(".proto_edu_v1_web.push_draw_page_graphics.page_graphics: array expected");t.page_graphics=[];for(let o=0;o<e.page_graphics.length;++o){if("object"!=typeof e.page_graphics[o])throw TypeError(".proto_edu_v1_web.push_draw_page_graphics.page_graphics: object expected");t.page_graphics[o]=V.proto_edu_v1_web.push_draw_graphics_info.fromObject(e.page_graphics[o])}}return null!=e.timestamp&&(H.Long?(t.timestamp=H.Long.fromValue(e.timestamp)).unsigned=!0:"string"==typeof e.timestamp?t.timestamp=parseInt(e.timestamp,10):"number"==typeof e.timestamp?t.timestamp=e.timestamp:"object"==typeof e.timestamp&&(t.timestamp=new H.LongBits(e.timestamp.low>>>0,e.timestamp.high>>>0).toNumber(!0))),t},e.toObject=function(e,t){t||(t={});let o={};if((t.arrays||t.defaults)&&(o.page_graphics=[]),t.defaults){if(H.Long){let e=new H.Long(0,0,!0);o.mod_id=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else o.mod_id=t.longs===String?"0":0;if(H.Long){let e=new H.Long(0,0,!0);o.timestamp=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else o.timestamp=t.longs===String?"0":0}if(null!=e.mod_id&&e.hasOwnProperty("mod_id")&&("number"==typeof e.mod_id?o.mod_id=t.longs===String?String(e.mod_id):e.mod_id:o.mod_id=t.longs===String?H.Long.prototype.toString.call(e.mod_id):t.longs===Number?new H.LongBits(e.mod_id.low>>>0,e.mod_id.high>>>0).toNumber(!0):e.mod_id),e.page_graphics&&e.page_graphics.length){o.page_graphics=[];for(let r=0;r<e.page_graphics.length;++r)o.page_graphics[r]=V.proto_edu_v1_web.push_draw_graphics_info.toObject(e.page_graphics[r],t)}return null!=e.timestamp&&e.hasOwnProperty("timestamp")&&("number"==typeof e.timestamp?o.timestamp=t.longs===String?String(e.timestamp):e.timestamp:o.timestamp=t.longs===String?H.Long.prototype.toString.call(e.timestamp):t.longs===Number?new H.LongBits(e.timestamp.low>>>0,e.timestamp.high>>>0).toNumber(!0):e.timestamp),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,q.util.toJSONOptions)},e}(),e.push_draw_graphics_info=function(){function e(e){if(this.graphic_list=[],this.del_graphic_id_list=[],e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.page=0,e.prototype.action_seq=0,e.prototype.graphic_list=H.emptyArray,e.prototype.del_graphic_id_list=H.emptyArray,e.decode=function(e,t){e instanceof B||(e=B.create(e));let o=void 0===t?e.len:e.pos+t,r=new V.proto_edu_v1_web.push_draw_graphics_info;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.page=e.uint32();break;case 2:r.action_seq=e.uint32();break;case 3:r.graphic_list&&r.graphic_list.length||(r.graphic_list=[]),r.graphic_list.push(V.proto_edu_v1_web.proto_graphic.decode(e,e.uint32()));break;case 4:if(r.del_graphic_id_list&&r.del_graphic_id_list.length||(r.del_graphic_id_list=[]),2==(7&t)){let t=e.uint32()+e.pos;for(;e.pos<t;)r.del_graphic_id_list.push(e.uint64())}else r.del_graphic_id_list.push(e.uint64());break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof V.proto_edu_v1_web.push_draw_graphics_info)return e;let t=new V.proto_edu_v1_web.push_draw_graphics_info;if(null!=e.page&&(t.page=e.page>>>0),null!=e.action_seq&&(t.action_seq=e.action_seq>>>0),e.graphic_list){if(!Array.isArray(e.graphic_list))throw TypeError(".proto_edu_v1_web.push_draw_graphics_info.graphic_list: array expected");t.graphic_list=[];for(let o=0;o<e.graphic_list.length;++o){if("object"!=typeof e.graphic_list[o])throw TypeError(".proto_edu_v1_web.push_draw_graphics_info.graphic_list: object expected");t.graphic_list[o]=V.proto_edu_v1_web.proto_graphic.fromObject(e.graphic_list[o])}}if(e.del_graphic_id_list){if(!Array.isArray(e.del_graphic_id_list))throw TypeError(".proto_edu_v1_web.push_draw_graphics_info.del_graphic_id_list: array expected");t.del_graphic_id_list=[];for(let o=0;o<e.del_graphic_id_list.length;++o)H.Long?(t.del_graphic_id_list[o]=H.Long.fromValue(e.del_graphic_id_list[o])).unsigned=!0:"string"==typeof e.del_graphic_id_list[o]?t.del_graphic_id_list[o]=parseInt(e.del_graphic_id_list[o],10):"number"==typeof e.del_graphic_id_list[o]?t.del_graphic_id_list[o]=e.del_graphic_id_list[o]:"object"==typeof e.del_graphic_id_list[o]&&(t.del_graphic_id_list[o]=new H.LongBits(e.del_graphic_id_list[o].low>>>0,e.del_graphic_id_list[o].high>>>0).toNumber(!0))}return t},e.toObject=function(e,t){t||(t={});let o={};if((t.arrays||t.defaults)&&(o.graphic_list=[],o.del_graphic_id_list=[]),t.defaults&&(o.page=0,o.action_seq=0),null!=e.page&&e.hasOwnProperty("page")&&(o.page=e.page),null!=e.action_seq&&e.hasOwnProperty("action_seq")&&(o.action_seq=e.action_seq),e.graphic_list&&e.graphic_list.length){o.graphic_list=[];for(let r=0;r<e.graphic_list.length;++r)o.graphic_list[r]=V.proto_edu_v1_web.proto_graphic.toObject(e.graphic_list[r],t)}if(e.del_graphic_id_list&&e.del_graphic_id_list.length){o.del_graphic_id_list=[];for(let r=0;r<e.del_graphic_id_list.length;++r)"number"==typeof e.del_graphic_id_list[r]?o.del_graphic_id_list[r]=t.longs===String?String(e.del_graphic_id_list[r]):e.del_graphic_id_list[r]:o.del_graphic_id_list[r]=t.longs===String?H.Long.prototype.toString.call(e.del_graphic_id_list[r]):t.longs===Number?new H.LongBits(e.del_graphic_id_list[r].low>>>0,e.del_graphic_id_list[r].high>>>0).toNumber(!0):e.del_graphic_id_list[r]}return o},e.prototype.toJSON=function(){return this.constructor.toObject(this,q.util.toJSONOptions)},e}(),e.push_clear_page_graphics=function(){function e(e){if(this.pages=[],this.action_seqs=[],this.layers=[],e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.mod_id=H.Long?H.Long.fromBits(0,0,!0):0,e.prototype.pages=H.emptyArray,e.prototype.action_seqs=H.emptyArray,e.prototype.id_name="",e.prototype.nick_name="",e.prototype.timestamp=H.Long?H.Long.fromBits(0,0,!0):0,e.prototype.layers=H.emptyArray,e.decode=function(e,t){e instanceof B||(e=B.create(e));let o=void 0===t?e.len:e.pos+t,r=new V.proto_edu_v1_web.push_clear_page_graphics;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.mod_id=e.uint64();break;case 2:if(r.pages&&r.pages.length||(r.pages=[]),2==(7&t)){let t=e.uint32()+e.pos;for(;e.pos<t;)r.pages.push(e.uint32())}else r.pages.push(e.uint32());break;case 3:if(r.action_seqs&&r.action_seqs.length||(r.action_seqs=[]),2==(7&t)){let t=e.uint32()+e.pos;for(;e.pos<t;)r.action_seqs.push(e.uint32())}else r.action_seqs.push(e.uint32());break;case 4:r.id_name=e.string();break;case 5:r.nick_name=e.string();break;case 6:r.timestamp=e.uint64();break;case 7:if(r.layers&&r.layers.length||(r.layers=[]),2==(7&t)){let t=e.uint32()+e.pos;for(;e.pos<t;)r.layers.push(e.uint32())}else r.layers.push(e.uint32());break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof V.proto_edu_v1_web.push_clear_page_graphics)return e;let t=new V.proto_edu_v1_web.push_clear_page_graphics;if(null!=e.mod_id&&(H.Long?(t.mod_id=H.Long.fromValue(e.mod_id)).unsigned=!0:"string"==typeof e.mod_id?t.mod_id=parseInt(e.mod_id,10):"number"==typeof e.mod_id?t.mod_id=e.mod_id:"object"==typeof e.mod_id&&(t.mod_id=new H.LongBits(e.mod_id.low>>>0,e.mod_id.high>>>0).toNumber(!0))),e.pages){if(!Array.isArray(e.pages))throw TypeError(".proto_edu_v1_web.push_clear_page_graphics.pages: array expected");t.pages=[];for(let o=0;o<e.pages.length;++o)t.pages[o]=e.pages[o]>>>0}if(e.action_seqs){if(!Array.isArray(e.action_seqs))throw TypeError(".proto_edu_v1_web.push_clear_page_graphics.action_seqs: array expected");t.action_seqs=[];for(let o=0;o<e.action_seqs.length;++o)t.action_seqs[o]=e.action_seqs[o]>>>0}if(null!=e.id_name&&(t.id_name=String(e.id_name)),null!=e.nick_name&&(t.nick_name=String(e.nick_name)),null!=e.timestamp&&(H.Long?(t.timestamp=H.Long.fromValue(e.timestamp)).unsigned=!0:"string"==typeof e.timestamp?t.timestamp=parseInt(e.timestamp,10):"number"==typeof e.timestamp?t.timestamp=e.timestamp:"object"==typeof e.timestamp&&(t.timestamp=new H.LongBits(e.timestamp.low>>>0,e.timestamp.high>>>0).toNumber(!0))),e.layers){if(!Array.isArray(e.layers))throw TypeError(".proto_edu_v1_web.push_clear_page_graphics.layers: array expected");t.layers=[];for(let o=0;o<e.layers.length;++o)t.layers[o]=e.layers[o]>>>0}return t},e.toObject=function(e,t){t||(t={});let o={};if((t.arrays||t.defaults)&&(o.pages=[],o.action_seqs=[],o.layers=[]),t.defaults){if(H.Long){let e=new H.Long(0,0,!0);o.mod_id=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else o.mod_id=t.longs===String?"0":0;if(o.id_name="",o.nick_name="",H.Long){let e=new H.Long(0,0,!0);o.timestamp=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else o.timestamp=t.longs===String?"0":0}if(null!=e.mod_id&&e.hasOwnProperty("mod_id")&&("number"==typeof e.mod_id?o.mod_id=t.longs===String?String(e.mod_id):e.mod_id:o.mod_id=t.longs===String?H.Long.prototype.toString.call(e.mod_id):t.longs===Number?new H.LongBits(e.mod_id.low>>>0,e.mod_id.high>>>0).toNumber(!0):e.mod_id),e.pages&&e.pages.length){o.pages=[];for(let t=0;t<e.pages.length;++t)o.pages[t]=e.pages[t]}if(e.action_seqs&&e.action_seqs.length){o.action_seqs=[];for(let t=0;t<e.action_seqs.length;++t)o.action_seqs[t]=e.action_seqs[t]}if(null!=e.id_name&&e.hasOwnProperty("id_name")&&(o.id_name=e.id_name),null!=e.nick_name&&e.hasOwnProperty("nick_name")&&(o.nick_name=e.nick_name),null!=e.timestamp&&e.hasOwnProperty("timestamp")&&("number"==typeof e.timestamp?o.timestamp=t.longs===String?String(e.timestamp):e.timestamp:o.timestamp=t.longs===String?H.Long.prototype.toString.call(e.timestamp):t.longs===Number?new H.LongBits(e.timestamp.low>>>0,e.timestamp.high>>>0).toNumber(!0):e.timestamp),e.layers&&e.layers.length){o.layers=[];for(let t=0;t<e.layers.length;++t)o.layers[t]=e.layers[t]}return o},e.prototype.toJSON=function(){return this.constructor.toObject(this,q.util.toJSONOptions)},e}(),e.push_user_auth=function(){function e(e){if(this.user_auth=[],e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.user_auth=H.emptyArray,e.decode=function(e,t){e instanceof B||(e=B.create(e));let o=void 0===t?e.len:e.pos+t,r=new V.proto_edu_v1_web.push_user_auth;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.user_auth&&r.user_auth.length||(r.user_auth=[]),r.user_auth.push(V.proto_edu_v1_web.push_user_auth_data.decode(e,e.uint32()));break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof V.proto_edu_v1_web.push_user_auth)return e;let t=new V.proto_edu_v1_web.push_user_auth;if(e.user_auth){if(!Array.isArray(e.user_auth))throw TypeError(".proto_edu_v1_web.push_user_auth.user_auth: array expected");t.user_auth=[];for(let o=0;o<e.user_auth.length;++o){if("object"!=typeof e.user_auth[o])throw TypeError(".proto_edu_v1_web.push_user_auth.user_auth: object expected");t.user_auth[o]=V.proto_edu_v1_web.push_user_auth_data.fromObject(e.user_auth[o])}}return t},e.toObject=function(e,t){t||(t={});let o={};if((t.arrays||t.defaults)&&(o.user_auth=[]),e.user_auth&&e.user_auth.length){o.user_auth=[];for(let r=0;r<e.user_auth.length;++r)o.user_auth[r]=V.proto_edu_v1_web.push_user_auth_data.toObject(e.user_auth[r],t)}return o},e.prototype.toJSON=function(){return this.constructor.toObject(this,q.util.toJSONOptions)},e}(),e.push_user_auth_data=function(){function e(e){if(this.module_auth=[],this.graphic_auth=[],e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.id_name="",e.prototype.auth_seq=0,e.prototype.module_auth=H.emptyArray,e.prototype.graphic_auth=H.emptyArray,e.decode=function(e,t){e instanceof B||(e=B.create(e));let o=void 0===t?e.len:e.pos+t,r=new V.proto_edu_v1_web.push_user_auth_data;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.id_name=e.string();break;case 2:r.auth_seq=e.uint32();break;case 3:if(r.module_auth&&r.module_auth.length||(r.module_auth=[]),2==(7&t)){let t=e.uint32()+e.pos;for(;e.pos<t;)r.module_auth.push(e.uint32())}else r.module_auth.push(e.uint32());break;case 4:if(r.graphic_auth&&r.graphic_auth.length||(r.graphic_auth=[]),2==(7&t)){let t=e.uint32()+e.pos;for(;e.pos<t;)r.graphic_auth.push(e.uint32())}else r.graphic_auth.push(e.uint32());break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof V.proto_edu_v1_web.push_user_auth_data)return e;let t=new V.proto_edu_v1_web.push_user_auth_data;if(null!=e.id_name&&(t.id_name=String(e.id_name)),null!=e.auth_seq&&(t.auth_seq=e.auth_seq>>>0),e.module_auth){if(!Array.isArray(e.module_auth))throw TypeError(".proto_edu_v1_web.push_user_auth_data.module_auth: array expected");t.module_auth=[];for(let o=0;o<e.module_auth.length;++o)t.module_auth[o]=e.module_auth[o]>>>0}if(e.graphic_auth){if(!Array.isArray(e.graphic_auth))throw TypeError(".proto_edu_v1_web.push_user_auth_data.graphic_auth: array expected");t.graphic_auth=[];for(let o=0;o<e.graphic_auth.length;++o)t.graphic_auth[o]=e.graphic_auth[o]>>>0}return t},e.toObject=function(e,t){t||(t={});let o={};if((t.arrays||t.defaults)&&(o.module_auth=[],o.graphic_auth=[]),t.defaults&&(o.id_name="",o.auth_seq=0),null!=e.id_name&&e.hasOwnProperty("id_name")&&(o.id_name=e.id_name),null!=e.auth_seq&&e.hasOwnProperty("auth_seq")&&(o.auth_seq=e.auth_seq),e.module_auth&&e.module_auth.length){o.module_auth=[];for(let t=0;t<e.module_auth.length;++t)o.module_auth[t]=e.module_auth[t]}if(e.graphic_auth&&e.graphic_auth.length){o.graphic_auth=[];for(let t=0;t<e.graphic_auth.length;++t)o.graphic_auth[t]=e.graphic_auth[t]}return o},e.prototype.toJSON=function(){return this.constructor.toObject(this,q.util.toJSONOptions)},e}(),e.push_room_auth=function(){function e(e){if(this.module_auth=[],this.graphic_auth=[],e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.auth_seq=0,e.prototype.module_auth=H.emptyArray,e.prototype.graphic_auth=H.emptyArray,e.decode=function(e,t){e instanceof B||(e=B.create(e));let o=void 0===t?e.len:e.pos+t,r=new V.proto_edu_v1_web.push_room_auth;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.auth_seq=e.uint32();break;case 2:if(r.module_auth&&r.module_auth.length||(r.module_auth=[]),2==(7&t)){let t=e.uint32()+e.pos;for(;e.pos<t;)r.module_auth.push(e.uint32())}else r.module_auth.push(e.uint32());break;case 3:if(r.graphic_auth&&r.graphic_auth.length||(r.graphic_auth=[]),2==(7&t)){let t=e.uint32()+e.pos;for(;e.pos<t;)r.graphic_auth.push(e.uint32())}else r.graphic_auth.push(e.uint32());break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof V.proto_edu_v1_web.push_room_auth)return e;let t=new V.proto_edu_v1_web.push_room_auth;if(null!=e.auth_seq&&(t.auth_seq=e.auth_seq>>>0),e.module_auth){if(!Array.isArray(e.module_auth))throw TypeError(".proto_edu_v1_web.push_room_auth.module_auth: array expected");t.module_auth=[];for(let o=0;o<e.module_auth.length;++o)t.module_auth[o]=e.module_auth[o]>>>0}if(e.graphic_auth){if(!Array.isArray(e.graphic_auth))throw TypeError(".proto_edu_v1_web.push_room_auth.graphic_auth: array expected");t.graphic_auth=[];for(let o=0;o<e.graphic_auth.length;++o)t.graphic_auth[o]=e.graphic_auth[o]>>>0}return t},e.toObject=function(e,t){t||(t={});let o={};if((t.arrays||t.defaults)&&(o.module_auth=[],o.graphic_auth=[]),t.defaults&&(o.auth_seq=0),null!=e.auth_seq&&e.hasOwnProperty("auth_seq")&&(o.auth_seq=e.auth_seq),e.module_auth&&e.module_auth.length){o.module_auth=[];for(let t=0;t<e.module_auth.length;++t)o.module_auth[t]=e.module_auth[t]}if(e.graphic_auth&&e.graphic_auth.length){o.graphic_auth=[];for(let t=0;t<e.graphic_auth.length;++t)o.graphic_auth[t]=e.graphic_auth[t]}return o},e.prototype.toJSON=function(){return this.constructor.toObject(this,q.util.toJSONOptions)},e}(),e.mod=function(){function e(e){if(this.graphic_ids=[],e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.mod_id=0,e.prototype.graphic_ids=H.emptyArray,e.decode=function(e,t){e instanceof B||(e=B.create(e));let o=void 0===t?e.len:e.pos+t,r=new V.proto_edu_v1_web.mod;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.mod_id=e.uint32();break;case 2:if(r.graphic_ids&&r.graphic_ids.length||(r.graphic_ids=[]),2==(7&t)){let t=e.uint32()+e.pos;for(;e.pos<t;)r.graphic_ids.push(e.uint32())}else r.graphic_ids.push(e.uint32());break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof V.proto_edu_v1_web.mod)return e;let t=new V.proto_edu_v1_web.mod;if(null!=e.mod_id&&(t.mod_id=e.mod_id>>>0),e.graphic_ids){if(!Array.isArray(e.graphic_ids))throw TypeError(".proto_edu_v1_web.mod.graphic_ids: array expected");t.graphic_ids=[];for(let o=0;o<e.graphic_ids.length;++o)t.graphic_ids[o]=e.graphic_ids[o]>>>0}return t},e.toObject=function(e,t){t||(t={});let o={};if((t.arrays||t.defaults)&&(o.graphic_ids=[]),t.defaults&&(o.mod_id=0),null!=e.mod_id&&e.hasOwnProperty("mod_id")&&(o.mod_id=e.mod_id),e.graphic_ids&&e.graphic_ids.length){o.graphic_ids=[];for(let t=0;t<e.graphic_ids.length;++t)o.graphic_ids[t]=e.graphic_ids[t]}return o},e.prototype.toJSON=function(){return this.constructor.toObject(this,q.util.toJSONOptions)},e}(),e.push_clear_user_graphic_list=function(){function e(e){if(this.mods=[],e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.id_name="",e.prototype.mods=H.emptyArray,e.decode=function(e,t){e instanceof B||(e=B.create(e));let o=void 0===t?e.len:e.pos+t,r=new V.proto_edu_v1_web.push_clear_user_graphic_list;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.id_name=e.string();break;case 2:r.mods&&r.mods.length||(r.mods=[]),r.mods.push(V.proto_edu_v1_web.mod.decode(e,e.uint32()));break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof V.proto_edu_v1_web.push_clear_user_graphic_list)return e;let t=new V.proto_edu_v1_web.push_clear_user_graphic_list;if(null!=e.id_name&&(t.id_name=String(e.id_name)),e.mods){if(!Array.isArray(e.mods))throw TypeError(".proto_edu_v1_web.push_clear_user_graphic_list.mods: array expected");t.mods=[];for(let o=0;o<e.mods.length;++o){if("object"!=typeof e.mods[o])throw TypeError(".proto_edu_v1_web.push_clear_user_graphic_list.mods: object expected");t.mods[o]=V.proto_edu_v1_web.mod.fromObject(e.mods[o])}}return t},e.toObject=function(e,t){t||(t={});let o={};if((t.arrays||t.defaults)&&(o.mods=[]),t.defaults&&(o.id_name=""),null!=e.id_name&&e.hasOwnProperty("id_name")&&(o.id_name=e.id_name),e.mods&&e.mods.length){o.mods=[];for(let r=0;r<e.mods.length;++r)o.mods[r]=V.proto_edu_v1_web.mod.toObject(e.mods[r],t)}return o},e.prototype.toJSON=function(){return this.constructor.toObject(this,q.util.toJSONOptions)},e}(),e})();var z=function(e,t,o,r){return new(o||(o=Promise))((function(i,n){function a(e){try{c(r.next(e))}catch(e){n(e)}}function s(e){try{c(r.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},F=function(e,t){var o,r,i,n,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(n){return function(s){return function(n){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,r&&(i=2&n[0]?r.return:n[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,n[1])).done)return i;switch(r=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,r=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==n[0]&&2!==n[0])){a=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){a.label=n[1];break}if(6===n[0]&&a.label<i[1]){a.label=i[1],i=n;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(n);break}i[2]&&a.ops.pop(),a.trys.pop();continue}n=t.call(e,a)}catch(e){n=[6,e],r=0}finally{o=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,s])}}},Z=function(){function e(){this.proto=V,this.protocol=new Uint8Array(["0".charCodeAt(0),"1".charCodeAt(0)]),this.cmdReqMap={"/eduv1/sync":"proto_sync","/eduv1/get_room_auth":"proto_get_room_auth_req","/eduv1/get_user_auth":"proto_get_user_auth_req","/eduv1/create_mod":"proto_create_mod","/eduv1/destroy_mod":"proto_destroy_mod","/eduv1/get_mod":"proto_get_mod","/eduv1/get_mod_list":"proto_get_mod_list","/eduv1/modify_mod":"proto_modify_mod","/eduv1/get_page_graphics":"proto_get_page_graphics","/eduv1/clear_page_graphics":"proto_clear_page_graphics","/eduv1/draw_page_graphics":"proto_draw_page_graphics"},this.cmdRspMap={"/eduv1/sync":"proto_sync_rsp","/eduv1/get_room_auth":"proto_get_room_auth_rsp","/eduv1/get_user_auth":"proto_get_user_auth_rsp","/eduv1/create_mod":"proto_create_mod_rsp","/eduv1/destroy_mod":"proto_destroy_mod_rsp","/eduv1/get_mod":"proto_get_mod_rsp","/eduv1/get_mod_list":"proto_get_mod_list_rsp","/eduv1/modify_mod":"proto_modify_mod_rsp","/eduv1/get_page_graphics":"proto_get_page_graphics_rsp","/eduv1/clear_page_graphics":"proto_clear_page_graphics_rsp","/eduv1/draw_page_graphics":"proto_draw_page_graphics_rsp"},this.cmdPushMap={291101:"push_set_mod",291203:"push_draw_page_graphics",291204:"push_clear_page_graphics",291501:"push_user_auth",291502:"push_room_auth",291205:"push_clear_user_graphic_list"},this.cmdMsg={reqHeader:"proto_req_header",reqBody:"proto_biz_channel",reqBodyBody:"req",rspHeader:"proto_rsp_header",rspBody:"proto_biz_channel_rsp",rspBodyBody:"rsp",pushHeader:"proto_push_header",pushBody:"proto_push_biz_channel",pushBodyBody:"proto_push_biz_hannel_req"}}return e.prototype.encodeMsg=function(e,t,o){return z(this,void 0,void 0,(function(){var r,i,n,a,s,c,l;return F(this,(function(u){switch(u.label){case 0:return this.formatEduBody(o.body),JSON.stringify(o),[4,this.encode(this.proto.proto_access_pb,this.cmdMsg.reqHeader,t)];case 1:return r=u.sent(),i=r.length,[4,this.encode(this.proto.proto_edu_v1_web,this.cmdReqMap[e],o.body)];case 2:return n=u.sent(),[4,this.encode(this.proto.proto_biz_channel,this.cmdMsg.reqBodyBody,{req_header:o.header,body:n})];case 3:return a=u.sent(),[4,this.encode(this.proto.proto_access_pb,this.cmdMsg.reqBody,{channel:"edu",cmd:e,req_body:a})];case 4:return s=u.sent(),c=s.length,(l=new Uint8Array(8+i+c)).set(this.protocol),l[2]=i>>8,l[3]=i-(l[2]<<8),l.set(new Uint8Array(Int32Array.from([c]).buffer).reverse(),4),l.set(r,8),l.set(s,8+i),[2,l]}}))}))},e.prototype.decodeMsg=function(e){return z(this,void 0,void 0,(function(){var t,o,r;return F(this,(function(i){switch(i.label){case 0:t=new Uint8Array(e),o=(t[2]<<8)+t[3],i.label=1;case 1:return i.trys.push([1,4,,7]),[4,this.decode(this.proto.proto_access_pb,this.cmdMsg.rspHeader,t.slice(8,8+o))];case 2:return r=i.sent(),[4,this.decodeRspMsg(t.slice(8+o),r.seq)];case 3:return[2,i.sent()];case 4:return i.sent(),[4,this.decode(this.proto.proto_access_pb,this.cmdMsg.pushHeader,t.slice(8,8+o))];case 5:return i.sent(),[4,this.decodePushMsg(t.slice(8+o))];case 6:return[2,i.sent()];case 7:return[2]}}))}))},e.prototype.checkSendLength=function(e,t){return z(this,void 0,void 0,(function(){var o,r,i,n;return F(this,(function(a){switch(a.label){case 0:return this.formatEduBody(t.body),[4,this.encode(this.proto.proto_edu_v1_web,this.cmdReqMap[e],t.body)];case 1:return o=a.sent(),[4,this.encode(this.proto.proto_biz_channel,this.cmdMsg.reqBodyBody,{req_header:t.header,body:o})];case 2:return r=a.sent(),[4,this.encode(this.proto.proto_access_pb,this.cmdMsg.reqBody,{channel:"edu",cmd:e,req_body:r})];case 3:return i=a.sent(),[2,(n=i.length)>5e3?n:0]}}))}))},e.prototype.createUnknownError=function(e,t){return{cmd:t,header:{seq:e,code:1,message:"unknown error"},body:{}}},e.prototype.formatEduBody=function(e){e.mod_id&&(e.mod_id=j.a.fromString(e.mod_id,!0)),e.draw_pages&&e.draw_pages.forEach((function(e){e.draw_list.forEach((function(e){var t=e.graphic_id;t&&"string"==typeof t&&(e.graphic_id=j.a.fromString(t,!0))}))}))},e.prototype.mergeModList=function(e){e&&e.forEach((function(t,o){e[o]=Object.assign({mod_seq:0,graphic_list_seq:0,sync_interval:0,mod_reserve:1,mod_horizontal_percent:0,mod_vertical_percent:0,mod_extra:"",mod_scale:JSON.stringify({scale:1,ofs_x:0,ofs_y:0})},t)}))},e.prototype.mergePageGraphics=function(e,t){e&&e.forEach((function(o,r){e[r]=o||0,t&&(t[r]=t[r]||0)}))},e.prototype.mergeGraphicList=function(e){e&&e.forEach((function(t,o){e[o]=Object.assign({action_seq:0,zorder:1,x:0,y:0,size:0,color:0,layer:0},t)}))},e.prototype.mergeRspBody=function(e,t){var o=this;switch(t){case"/eduv1/sync":return e=Object.assign({sync_interval:0,room_auth_seq:0,user_auth_seq:0,mod_list_seq:0},e);case"/eduv1/get_room_auth":case"/eduv1/get_user_auth":return e.auth_seq=e.auth_seq||0,e;case"/eduv1/create_mod":return e.mod_seq=e.mod_seq||0,e.mod_list_seq=e.mod_list_seq||0,e;case"/eduv1/destroy_mod":return e.mod_list_seq=e.mod_list_seq||0,e;case"/eduv1/get_mod":return this.mergeModList(e.mod_list),e;case"/eduv1/get_mod_list":return e.mod_list_seq=e.mod_list_seq||0,this.mergeModList(e.mod_list),e;case"/eduv1/modify_mod":return e.mod_seq=e.mod_seq||0,e.mod_list_seq=e.mod_list_seq||0,e;case"/eduv1/get_page_graphics":return e.pages&&e.pages.forEach((function(e){e.page=e.page||0,e.ret_graphic_list_seq=e.ret_graphic_list_seq||0,e.svr_graphic_list_seq=e.svr_graphic_list_seq||0,o.mergeGraphicList(e.graphic_list)})),e;case"/eduv1/clear_page_graphics":case"/eduv1/draw_page_graphics":return this.mergePageGraphics(e.pages,e.graphic_list_seqs),e}},e.prototype.mergePushBody=function(e,t){var o=this;switch(t){case 291101:return e.mod_list_seq=e.mod_list_seq||0,e.action_list&&e.action_list.forEach((function(e){e.is_modify_mod_extra&&(e.mod_extra=e.mod_extra||""),e.is_modify_mod_reserve&&(e.mod_reserve=e.mod_reserve||1),e.is_modify_mod_horizontal_percent&&(e.mod_horizontal_percent=e.mod_horizontal_percent||0),e.is_modify_mod_vertical_percent&&(e.mod_vertical_percent=e.mod_vertical_percent||0),e.is_modify_mod_scale&&(e.mod_scale=e.mod_scale||JSON.stringify({scale:1,ofs_x:0,ofs_y:0}))})),e;case 291203:return e.page_graphics&&e.page_graphics.forEach((function(e){e.page=e.page||0,e.action_seq=e.action_seq||0,o.mergeGraphicList(e.graphic_list)})),e;case 291204:return e.pages&&e.pages.forEach((function(t,o){e.pages[o]=t||0,e.action_seqs&&(e.action_seqs[o]=e.action_seqs[o]||0)})),e;case 291501:case 291502:return e.auth_seq=e.auth_seq||0,e;default:return e}},e.prototype.encode=function(e,t,o){return z(this,void 0,void 0,(function(){var r;return F(this,(function(i){return[2,(r=e[t]).encode(r.create(o)).finish()]}))}))},e.prototype.decode=function(e,t,o){return z(this,void 0,void 0,(function(){var r;return F(this,(function(i){return[2,(r=e[t]).toObject(r.decode(o),{longs:String})]}))}))},e.prototype.decodeRspMsg=function(e,t){return z(this,void 0,void 0,(function(){var o,r,i,n;return F(this,(function(a){switch(a.label){case 0:return[4,this.decode(this.proto.proto_access_pb,this.cmdMsg.rspBody,e)];case 1:return o=a.sent(),r=o.cmd,o.rsp_body?[4,this.decode(this.proto.proto_biz_channel,this.cmdMsg.rspBodyBody,o.rsp_body)]:[3,9];case 2:if(i=a.sent(),o.rsp_body=i,o.rsp_body.cmd=r,o.rsp_body.header.code||(o.rsp_body.header.code=o.err_code?+String(o.err_code).replace(/^10+/g,""):0),!o.rsp_body.body)return[3,7];a.label=3;case 3:return a.trys.push([3,5,,6]),[4,this.decode(this.proto.proto_edu_v1_web,this.cmdRspMap[r],o.rsp_body.body)];case 4:return n=a.sent(),o.rsp_body.body=this.mergeRspBody(n,r),[3,6];case 5:return a.sent(),[3,6];case 6:return[3,8];case 7:o.rsp_body.body={},a.label=8;case 8:return[3,10];case 9:o.rsp_body=this.createUnknownError(t,r),a.label=10;case 10:return[2,o.rsp_body]}}))}))},e.prototype.decodePushMsg=function(e){return z(this,void 0,void 0,(function(){var t,o,r,i;return F(this,(function(n){switch(n.label){case 0:return[4,this.decode(this.proto.proto_access_pb,this.cmdMsg.pushBody,e)];case 1:return(t=n.sent()).req_body?[4,this.decode(this.proto.proto_access_pb,this.cmdMsg.pushBodyBody,t.req_body)]:[3,9];case 2:if(o=n.sent(),t.req_body=o,r=this.cmdPushMap[t.req_body.sub_cmd],!t.req_body.msg_body)return[3,7];n.label=3;case 3:return n.trys.push([3,5,,6]),[4,this.decode(this.proto.proto_edu_v1_web,r,t.req_body.msg_body)];case 4:return i=n.sent(),t.req_body.msg_body=this.mergePushBody(i,t.req_body.sub_cmd),[3,6];case 5:return n.sent(),[3,6];case 6:return[3,8];case 7:t.req_body.msg_body={},n.label=8;case 8:return[3,10];case 9:t.req_body={msg_body:{},sub_cmd:0},n.label=10;case 10:return this.cmdPushMap[t.req_body.sub_cmd]||"",[2,t.req_body]}}))}))},e}();o(227);const G=q.Reader,U=q.Writer,W=q.util,Y=q.roots.default||(q.roots.default={});Y.proto_edu_tcpuplink=(()=>{const e={};return e.ReqHead=function(){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.room_id="",e.prototype.user_session_id=W.Long?W.Long.fromBits(0,0,!0):0,e.prototype.room_session_id=W.Long?W.Long.fromBits(0,0,!0):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=U.create()),null!=e.room_id&&Object.hasOwnProperty.call(e,"room_id")&&t.uint32(10).string(e.room_id),null!=e.user_session_id&&Object.hasOwnProperty.call(e,"user_session_id")&&t.uint32(16).uint64(e.user_session_id),null!=e.room_session_id&&Object.hasOwnProperty.call(e,"room_session_id")&&t.uint32(24).uint64(e.room_session_id),t},e.decode=function(e,t){e instanceof G||(e=G.create(e));let o=void 0===t?e.len:e.pos+t,r=new Y.proto_edu_tcpuplink.ReqHead;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.room_id=e.string();break;case 2:r.user_session_id=e.uint64();break;case 3:r.room_session_id=e.uint64();break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof Y.proto_edu_tcpuplink.ReqHead)return e;let t=new Y.proto_edu_tcpuplink.ReqHead;return null!=e.room_id&&(t.room_id=String(e.room_id)),null!=e.user_session_id&&(W.Long?(t.user_session_id=W.Long.fromValue(e.user_session_id)).unsigned=!0:"string"==typeof e.user_session_id?t.user_session_id=parseInt(e.user_session_id,10):"number"==typeof e.user_session_id?t.user_session_id=e.user_session_id:"object"==typeof e.user_session_id&&(t.user_session_id=new W.LongBits(e.user_session_id.low>>>0,e.user_session_id.high>>>0).toNumber(!0))),null!=e.room_session_id&&(W.Long?(t.room_session_id=W.Long.fromValue(e.room_session_id)).unsigned=!0:"string"==typeof e.room_session_id?t.room_session_id=parseInt(e.room_session_id,10):"number"==typeof e.room_session_id?t.room_session_id=e.room_session_id:"object"==typeof e.room_session_id&&(t.room_session_id=new W.LongBits(e.room_session_id.low>>>0,e.room_session_id.high>>>0).toNumber(!0))),t},e.toObject=function(e,t){t||(t={});let o={};if(t.defaults){if(o.room_id="",W.Long){let e=new W.Long(0,0,!0);o.user_session_id=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else o.user_session_id=t.longs===String?"0":0;if(W.Long){let e=new W.Long(0,0,!0);o.room_session_id=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else o.room_session_id=t.longs===String?"0":0}return null!=e.room_id&&e.hasOwnProperty("room_id")&&(o.room_id=e.room_id),null!=e.user_session_id&&e.hasOwnProperty("user_session_id")&&("number"==typeof e.user_session_id?o.user_session_id=t.longs===String?String(e.user_session_id):e.user_session_id:o.user_session_id=t.longs===String?W.Long.prototype.toString.call(e.user_session_id):t.longs===Number?new W.LongBits(e.user_session_id.low>>>0,e.user_session_id.high>>>0).toNumber(!0):e.user_session_id),null!=e.room_session_id&&e.hasOwnProperty("room_session_id")&&("number"==typeof e.room_session_id?o.room_session_id=t.longs===String?String(e.room_session_id):e.room_session_id:o.room_session_id=t.longs===String?W.Long.prototype.toString.call(e.room_session_id):t.longs===Number?new W.LongBits(e.room_session_id.low>>>0,e.room_session_id.high>>>0).toNumber(!0):e.room_session_id),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,q.util.toJSONOptions)},e}(),e.RspHead=function(){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.code=0,e.prototype.message="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=U.create()),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(8).uint32(e.code),null!=e.message&&Object.hasOwnProperty.call(e,"message")&&t.uint32(18).string(e.message),t},e.decode=function(e,t){e instanceof G||(e=G.create(e));let o=void 0===t?e.len:e.pos+t,r=new Y.proto_edu_tcpuplink.RspHead;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.code=e.uint32();break;case 2:r.message=e.string();break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof Y.proto_edu_tcpuplink.RspHead)return e;let t=new Y.proto_edu_tcpuplink.RspHead;return null!=e.code&&(t.code=e.code>>>0),null!=e.message&&(t.message=String(e.message)),t},e.toObject=function(e,t){t||(t={});let o={};return t.defaults&&(o.code=0,o.message=""),null!=e.code&&e.hasOwnProperty("code")&&(o.code=e.code),null!=e.message&&e.hasOwnProperty("message")&&(o.message=e.message),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,q.util.toJSONOptions)},e}(),e.CommonRsp=function(){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.rsp_head=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=U.create()),null!=e.rsp_head&&Object.hasOwnProperty.call(e,"rsp_head")&&Y.proto_edu_tcpuplink.RspHead.encode(e.rsp_head,t.uint32(10).fork()).ldelim(),t},e.decode=function(e,t){e instanceof G||(e=G.create(e));let o=void 0===t?e.len:e.pos+t,r=new Y.proto_edu_tcpuplink.CommonRsp;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.rsp_head=Y.proto_edu_tcpuplink.RspHead.decode(e,e.uint32());break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof Y.proto_edu_tcpuplink.CommonRsp)return e;let t=new Y.proto_edu_tcpuplink.CommonRsp;if(null!=e.rsp_head){if("object"!=typeof e.rsp_head)throw TypeError(".proto_edu_tcpuplink.CommonRsp.rsp_head: object expected");t.rsp_head=Y.proto_edu_tcpuplink.RspHead.fromObject(e.rsp_head)}return t},e.toObject=function(e,t){t||(t={});let o={};return t.defaults&&(o.rsp_head=null),null!=e.rsp_head&&e.hasOwnProperty("rsp_head")&&(o.rsp_head=Y.proto_edu_tcpuplink.RspHead.toObject(e.rsp_head,t)),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,q.util.toJSONOptions)},e}(),e.proto_mod=function(){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.mod_id=W.Long?W.Long.fromBits(0,0,!0):0,e.prototype.mod_seq=0,e.prototype.mod_title=W.newBuffer([]),e.prototype.mod_type=0,e.prototype.mod_subtype=0,e.prototype.mod_pos=W.newBuffer([]),e.prototype.mod_status=W.Long?W.Long.fromBits(0,0,!0):0,e.prototype.mod_content=W.newBuffer([]),e.prototype.mod_extra=W.newBuffer([]),e.prototype.mod_reserve=0,e.prototype.mod_create_time=W.Long?W.Long.fromBits(0,0,!1):0,e.prototype.graphic_list_seq=0,e.prototype.sync_interval=0,e.prototype.mod_horizontal_percent=0,e.prototype.mod_vertical_percent=0,e.prototype.mod_scale=W.newBuffer([]),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=U.create()),null!=e.mod_id&&Object.hasOwnProperty.call(e,"mod_id")&&t.uint32(8).uint64(e.mod_id),null!=e.mod_seq&&Object.hasOwnProperty.call(e,"mod_seq")&&t.uint32(16).uint32(e.mod_seq),null!=e.mod_title&&Object.hasOwnProperty.call(e,"mod_title")&&t.uint32(26).bytes(e.mod_title),null!=e.mod_type&&Object.hasOwnProperty.call(e,"mod_type")&&t.uint32(32).uint32(e.mod_type),null!=e.mod_subtype&&Object.hasOwnProperty.call(e,"mod_subtype")&&t.uint32(40).uint32(e.mod_subtype),null!=e.mod_pos&&Object.hasOwnProperty.call(e,"mod_pos")&&t.uint32(50).bytes(e.mod_pos),null!=e.mod_status&&Object.hasOwnProperty.call(e,"mod_status")&&t.uint32(56).uint64(e.mod_status),null!=e.mod_content&&Object.hasOwnProperty.call(e,"mod_content")&&t.uint32(66).bytes(e.mod_content),null!=e.mod_extra&&Object.hasOwnProperty.call(e,"mod_extra")&&t.uint32(74).bytes(e.mod_extra),null!=e.mod_reserve&&Object.hasOwnProperty.call(e,"mod_reserve")&&t.uint32(80).uint32(e.mod_reserve),null!=e.mod_create_time&&Object.hasOwnProperty.call(e,"mod_create_time")&&t.uint32(88).int64(e.mod_create_time),null!=e.graphic_list_seq&&Object.hasOwnProperty.call(e,"graphic_list_seq")&&t.uint32(96).uint32(e.graphic_list_seq),null!=e.sync_interval&&Object.hasOwnProperty.call(e,"sync_interval")&&t.uint32(104).uint32(e.sync_interval),null!=e.mod_horizontal_percent&&Object.hasOwnProperty.call(e,"mod_horizontal_percent")&&t.uint32(117).float(e.mod_horizontal_percent),null!=e.mod_vertical_percent&&Object.hasOwnProperty.call(e,"mod_vertical_percent")&&t.uint32(125).float(e.mod_vertical_percent),null!=e.mod_scale&&Object.hasOwnProperty.call(e,"mod_scale")&&t.uint32(130).bytes(e.mod_scale),t},e.decode=function(e,t){e instanceof G||(e=G.create(e));let o=void 0===t?e.len:e.pos+t,r=new Y.proto_edu_tcpuplink.proto_mod;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.mod_id=e.uint64();break;case 2:r.mod_seq=e.uint32();break;case 3:r.mod_title=e.bytes();break;case 4:r.mod_type=e.uint32();break;case 5:r.mod_subtype=e.uint32();break;case 6:r.mod_pos=e.bytes();break;case 7:r.mod_status=e.uint64();break;case 8:r.mod_content=e.bytes();break;case 9:r.mod_extra=e.bytes();break;case 10:r.mod_reserve=e.uint32();break;case 11:r.mod_create_time=e.int64();break;case 12:r.graphic_list_seq=e.uint32();break;case 13:r.sync_interval=e.uint32();break;case 14:r.mod_horizontal_percent=e.float();break;case 15:r.mod_vertical_percent=e.float();break;case 16:r.mod_scale=e.bytes();break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof Y.proto_edu_tcpuplink.proto_mod)return e;let t=new Y.proto_edu_tcpuplink.proto_mod;return null!=e.mod_id&&(W.Long?(t.mod_id=W.Long.fromValue(e.mod_id)).unsigned=!0:"string"==typeof e.mod_id?t.mod_id=parseInt(e.mod_id,10):"number"==typeof e.mod_id?t.mod_id=e.mod_id:"object"==typeof e.mod_id&&(t.mod_id=new W.LongBits(e.mod_id.low>>>0,e.mod_id.high>>>0).toNumber(!0))),null!=e.mod_seq&&(t.mod_seq=e.mod_seq>>>0),null!=e.mod_title&&("string"==typeof e.mod_title?W.base64.decode(e.mod_title,t.mod_title=W.newBuffer(W.base64.length(e.mod_title)),0):e.mod_title.length&&(t.mod_title=e.mod_title)),null!=e.mod_type&&(t.mod_type=e.mod_type>>>0),null!=e.mod_subtype&&(t.mod_subtype=e.mod_subtype>>>0),null!=e.mod_pos&&("string"==typeof e.mod_pos?W.base64.decode(e.mod_pos,t.mod_pos=W.newBuffer(W.base64.length(e.mod_pos)),0):e.mod_pos.length&&(t.mod_pos=e.mod_pos)),null!=e.mod_status&&(W.Long?(t.mod_status=W.Long.fromValue(e.mod_status)).unsigned=!0:"string"==typeof e.mod_status?t.mod_status=parseInt(e.mod_status,10):"number"==typeof e.mod_status?t.mod_status=e.mod_status:"object"==typeof e.mod_status&&(t.mod_status=new W.LongBits(e.mod_status.low>>>0,e.mod_status.high>>>0).toNumber(!0))),null!=e.mod_content&&("string"==typeof e.mod_content?W.base64.decode(e.mod_content,t.mod_content=W.newBuffer(W.base64.length(e.mod_content)),0):e.mod_content.length&&(t.mod_content=e.mod_content)),null!=e.mod_extra&&("string"==typeof e.mod_extra?W.base64.decode(e.mod_extra,t.mod_extra=W.newBuffer(W.base64.length(e.mod_extra)),0):e.mod_extra.length&&(t.mod_extra=e.mod_extra)),null!=e.mod_reserve&&(t.mod_reserve=e.mod_reserve>>>0),null!=e.mod_create_time&&(W.Long?(t.mod_create_time=W.Long.fromValue(e.mod_create_time)).unsigned=!1:"string"==typeof e.mod_create_time?t.mod_create_time=parseInt(e.mod_create_time,10):"number"==typeof e.mod_create_time?t.mod_create_time=e.mod_create_time:"object"==typeof e.mod_create_time&&(t.mod_create_time=new W.LongBits(e.mod_create_time.low>>>0,e.mod_create_time.high>>>0).toNumber())),null!=e.graphic_list_seq&&(t.graphic_list_seq=e.graphic_list_seq>>>0),null!=e.sync_interval&&(t.sync_interval=e.sync_interval>>>0),null!=e.mod_horizontal_percent&&(t.mod_horizontal_percent=Number(e.mod_horizontal_percent)),null!=e.mod_vertical_percent&&(t.mod_vertical_percent=Number(e.mod_vertical_percent)),null!=e.mod_scale&&("string"==typeof e.mod_scale?W.base64.decode(e.mod_scale,t.mod_scale=W.newBuffer(W.base64.length(e.mod_scale)),0):e.mod_scale.length&&(t.mod_scale=e.mod_scale)),t},e.toObject=function(e,t){t||(t={});let o={};if(t.defaults){if(W.Long){let e=new W.Long(0,0,!0);o.mod_id=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else o.mod_id=t.longs===String?"0":0;if(o.mod_seq=0,t.bytes===String?o.mod_title="":(o.mod_title=[],t.bytes!==Array&&(o.mod_title=W.newBuffer(o.mod_title))),o.mod_type=0,o.mod_subtype=0,t.bytes===String?o.mod_pos="":(o.mod_pos=[],t.bytes!==Array&&(o.mod_pos=W.newBuffer(o.mod_pos))),W.Long){let e=new W.Long(0,0,!0);o.mod_status=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else o.mod_status=t.longs===String?"0":0;if(t.bytes===String?o.mod_content="":(o.mod_content=[],t.bytes!==Array&&(o.mod_content=W.newBuffer(o.mod_content))),t.bytes===String?o.mod_extra="":(o.mod_extra=[],t.bytes!==Array&&(o.mod_extra=W.newBuffer(o.mod_extra))),o.mod_reserve=0,W.Long){let e=new W.Long(0,0,!1);o.mod_create_time=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else o.mod_create_time=t.longs===String?"0":0;o.graphic_list_seq=0,o.sync_interval=0,o.mod_horizontal_percent=0,o.mod_vertical_percent=0,t.bytes===String?o.mod_scale="":(o.mod_scale=[],t.bytes!==Array&&(o.mod_scale=W.newBuffer(o.mod_scale)))}return null!=e.mod_id&&e.hasOwnProperty("mod_id")&&("number"==typeof e.mod_id?o.mod_id=t.longs===String?String(e.mod_id):e.mod_id:o.mod_id=t.longs===String?W.Long.prototype.toString.call(e.mod_id):t.longs===Number?new W.LongBits(e.mod_id.low>>>0,e.mod_id.high>>>0).toNumber(!0):e.mod_id),null!=e.mod_seq&&e.hasOwnProperty("mod_seq")&&(o.mod_seq=e.mod_seq),null!=e.mod_title&&e.hasOwnProperty("mod_title")&&(o.mod_title=t.bytes===String?W.base64.encode(e.mod_title,0,e.mod_title.length):t.bytes===Array?Array.prototype.slice.call(e.mod_title):e.mod_title),null!=e.mod_type&&e.hasOwnProperty("mod_type")&&(o.mod_type=e.mod_type),null!=e.mod_subtype&&e.hasOwnProperty("mod_subtype")&&(o.mod_subtype=e.mod_subtype),null!=e.mod_pos&&e.hasOwnProperty("mod_pos")&&(o.mod_pos=t.bytes===String?W.base64.encode(e.mod_pos,0,e.mod_pos.length):t.bytes===Array?Array.prototype.slice.call(e.mod_pos):e.mod_pos),null!=e.mod_status&&e.hasOwnProperty("mod_status")&&("number"==typeof e.mod_status?o.mod_status=t.longs===String?String(e.mod_status):e.mod_status:o.mod_status=t.longs===String?W.Long.prototype.toString.call(e.mod_status):t.longs===Number?new W.LongBits(e.mod_status.low>>>0,e.mod_status.high>>>0).toNumber(!0):e.mod_status),null!=e.mod_content&&e.hasOwnProperty("mod_content")&&(o.mod_content=t.bytes===String?W.base64.encode(e.mod_content,0,e.mod_content.length):t.bytes===Array?Array.prototype.slice.call(e.mod_content):e.mod_content),null!=e.mod_extra&&e.hasOwnProperty("mod_extra")&&(o.mod_extra=t.bytes===String?W.base64.encode(e.mod_extra,0,e.mod_extra.length):t.bytes===Array?Array.prototype.slice.call(e.mod_extra):e.mod_extra),null!=e.mod_reserve&&e.hasOwnProperty("mod_reserve")&&(o.mod_reserve=e.mod_reserve),null!=e.mod_create_time&&e.hasOwnProperty("mod_create_time")&&("number"==typeof e.mod_create_time?o.mod_create_time=t.longs===String?String(e.mod_create_time):e.mod_create_time:o.mod_create_time=t.longs===String?W.Long.prototype.toString.call(e.mod_create_time):t.longs===Number?new W.LongBits(e.mod_create_time.low>>>0,e.mod_create_time.high>>>0).toNumber():e.mod_create_time),null!=e.graphic_list_seq&&e.hasOwnProperty("graphic_list_seq")&&(o.graphic_list_seq=e.graphic_list_seq),null!=e.sync_interval&&e.hasOwnProperty("sync_interval")&&(o.sync_interval=e.sync_interval),null!=e.mod_horizontal_percent&&e.hasOwnProperty("mod_horizontal_percent")&&(o.mod_horizontal_percent=t.json&&!isFinite(e.mod_horizontal_percent)?String(e.mod_horizontal_percent):e.mod_horizontal_percent),null!=e.mod_vertical_percent&&e.hasOwnProperty("mod_vertical_percent")&&(o.mod_vertical_percent=t.json&&!isFinite(e.mod_vertical_percent)?String(e.mod_vertical_percent):e.mod_vertical_percent),null!=e.mod_scale&&e.hasOwnProperty("mod_scale")&&(o.mod_scale=t.bytes===String?W.base64.encode(e.mod_scale,0,e.mod_scale.length):t.bytes===Array?Array.prototype.slice.call(e.mod_scale):e.mod_scale),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,q.util.toJSONOptions)},e}(),e.proto_graphic=function(){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.id_name=W.newBuffer([]),e.prototype.nick_name=W.newBuffer([]),e.prototype.graphic_id=W.Long?W.Long.fromBits(0,0,!0):0,e.prototype.action_seq=0,e.prototype.type=0,e.prototype.zorder=0,e.prototype.x=0,e.prototype.y=0,e.prototype.data=W.newBuffer([]),e.prototype.size=0,e.prototype.color=0,e.prototype.timestamp=W.Long?W.Long.fromBits(0,0,!0):0,e.prototype.width=0,e.prototype.height=0,e.prototype.attributes=W.newBuffer([]),e.prototype.operate_id="",e.prototype.is_end_draw=!1,e.prototype.server_timestamp=W.Long?W.Long.fromBits(0,0,!0):0,e.prototype.creator_id=W.newBuffer([]),e.prototype.layer=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=U.create()),null!=e.id_name&&Object.hasOwnProperty.call(e,"id_name")&&t.uint32(10).bytes(e.id_name),null!=e.nick_name&&Object.hasOwnProperty.call(e,"nick_name")&&t.uint32(18).bytes(e.nick_name),null!=e.graphic_id&&Object.hasOwnProperty.call(e,"graphic_id")&&t.uint32(24).uint64(e.graphic_id),null!=e.action_seq&&Object.hasOwnProperty.call(e,"action_seq")&&t.uint32(32).uint32(e.action_seq),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(40).int32(e.type),null!=e.zorder&&Object.hasOwnProperty.call(e,"zorder")&&t.uint32(56).int32(e.zorder),null!=e.x&&Object.hasOwnProperty.call(e,"x")&&t.uint32(64).int32(e.x),null!=e.y&&Object.hasOwnProperty.call(e,"y")&&t.uint32(72).int32(e.y),null!=e.data&&Object.hasOwnProperty.call(e,"data")&&t.uint32(82).bytes(e.data),null!=e.size&&Object.hasOwnProperty.call(e,"size")&&t.uint32(88).int32(e.size),null!=e.color&&Object.hasOwnProperty.call(e,"color")&&t.uint32(96).uint32(e.color),null!=e.timestamp&&Object.hasOwnProperty.call(e,"timestamp")&&t.uint32(104).uint64(e.timestamp),null!=e.width&&Object.hasOwnProperty.call(e,"width")&&t.uint32(112).int32(e.width),null!=e.height&&Object.hasOwnProperty.call(e,"height")&&t.uint32(120).int32(e.height),null!=e.attributes&&Object.hasOwnProperty.call(e,"attributes")&&t.uint32(130).bytes(e.attributes),null!=e.operate_id&&Object.hasOwnProperty.call(e,"operate_id")&&t.uint32(138).string(e.operate_id),null!=e.is_end_draw&&Object.hasOwnProperty.call(e,"is_end_draw")&&t.uint32(144).bool(e.is_end_draw),null!=e.server_timestamp&&Object.hasOwnProperty.call(e,"server_timestamp")&&t.uint32(152).uint64(e.server_timestamp),null!=e.creator_id&&Object.hasOwnProperty.call(e,"creator_id")&&t.uint32(162).bytes(e.creator_id),null!=e.layer&&Object.hasOwnProperty.call(e,"layer")&&t.uint32(168).uint32(e.layer),t},e.decode=function(e,t){e instanceof G||(e=G.create(e));let o=void 0===t?e.len:e.pos+t,r=new Y.proto_edu_tcpuplink.proto_graphic;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.id_name=e.bytes();break;case 2:r.nick_name=e.bytes();break;case 3:r.graphic_id=e.uint64();break;case 4:r.action_seq=e.uint32();break;case 5:r.type=e.int32();break;case 7:r.zorder=e.int32();break;case 8:r.x=e.int32();break;case 9:r.y=e.int32();break;case 10:r.data=e.bytes();break;case 11:r.size=e.int32();break;case 12:r.color=e.uint32();break;case 13:r.timestamp=e.uint64();break;case 14:r.width=e.int32();break;case 15:r.height=e.int32();break;case 16:r.attributes=e.bytes();break;case 17:r.operate_id=e.string();break;case 18:r.is_end_draw=e.bool();break;case 19:r.server_timestamp=e.uint64();break;case 20:r.creator_id=e.bytes();break;case 21:r.layer=e.uint32();break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof Y.proto_edu_tcpuplink.proto_graphic)return e;let t=new Y.proto_edu_tcpuplink.proto_graphic;return null!=e.id_name&&("string"==typeof e.id_name?W.base64.decode(e.id_name,t.id_name=W.newBuffer(W.base64.length(e.id_name)),0):e.id_name.length&&(t.id_name=e.id_name)),null!=e.nick_name&&("string"==typeof e.nick_name?W.base64.decode(e.nick_name,t.nick_name=W.newBuffer(W.base64.length(e.nick_name)),0):e.nick_name.length&&(t.nick_name=e.nick_name)),null!=e.graphic_id&&(W.Long?(t.graphic_id=W.Long.fromValue(e.graphic_id)).unsigned=!0:"string"==typeof e.graphic_id?t.graphic_id=parseInt(e.graphic_id,10):"number"==typeof e.graphic_id?t.graphic_id=e.graphic_id:"object"==typeof e.graphic_id&&(t.graphic_id=new W.LongBits(e.graphic_id.low>>>0,e.graphic_id.high>>>0).toNumber(!0))),null!=e.action_seq&&(t.action_seq=e.action_seq>>>0),null!=e.type&&(t.type=0|e.type),null!=e.zorder&&(t.zorder=0|e.zorder),null!=e.x&&(t.x=0|e.x),null!=e.y&&(t.y=0|e.y),null!=e.data&&("string"==typeof e.data?W.base64.decode(e.data,t.data=W.newBuffer(W.base64.length(e.data)),0):e.data.length&&(t.data=e.data)),null!=e.size&&(t.size=0|e.size),null!=e.color&&(t.color=e.color>>>0),null!=e.timestamp&&(W.Long?(t.timestamp=W.Long.fromValue(e.timestamp)).unsigned=!0:"string"==typeof e.timestamp?t.timestamp=parseInt(e.timestamp,10):"number"==typeof e.timestamp?t.timestamp=e.timestamp:"object"==typeof e.timestamp&&(t.timestamp=new W.LongBits(e.timestamp.low>>>0,e.timestamp.high>>>0).toNumber(!0))),null!=e.width&&(t.width=0|e.width),null!=e.height&&(t.height=0|e.height),null!=e.attributes&&("string"==typeof e.attributes?W.base64.decode(e.attributes,t.attributes=W.newBuffer(W.base64.length(e.attributes)),0):e.attributes.length&&(t.attributes=e.attributes)),null!=e.operate_id&&(t.operate_id=String(e.operate_id)),null!=e.is_end_draw&&(t.is_end_draw=Boolean(e.is_end_draw)),null!=e.server_timestamp&&(W.Long?(t.server_timestamp=W.Long.fromValue(e.server_timestamp)).unsigned=!0:"string"==typeof e.server_timestamp?t.server_timestamp=parseInt(e.server_timestamp,10):"number"==typeof e.server_timestamp?t.server_timestamp=e.server_timestamp:"object"==typeof e.server_timestamp&&(t.server_timestamp=new W.LongBits(e.server_timestamp.low>>>0,e.server_timestamp.high>>>0).toNumber(!0))),null!=e.creator_id&&("string"==typeof e.creator_id?W.base64.decode(e.creator_id,t.creator_id=W.newBuffer(W.base64.length(e.creator_id)),0):e.creator_id.length&&(t.creator_id=e.creator_id)),null!=e.layer&&(t.layer=e.layer>>>0),t},e.toObject=function(e,t){t||(t={});let o={};if(t.defaults){if(t.bytes===String?o.id_name="":(o.id_name=[],t.bytes!==Array&&(o.id_name=W.newBuffer(o.id_name))),t.bytes===String?o.nick_name="":(o.nick_name=[],t.bytes!==Array&&(o.nick_name=W.newBuffer(o.nick_name))),W.Long){let e=new W.Long(0,0,!0);o.graphic_id=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else o.graphic_id=t.longs===String?"0":0;if(o.action_seq=0,o.type=0,o.zorder=0,o.x=0,o.y=0,t.bytes===String?o.data="":(o.data=[],t.bytes!==Array&&(o.data=W.newBuffer(o.data))),o.size=0,o.color=0,W.Long){let e=new W.Long(0,0,!0);o.timestamp=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else o.timestamp=t.longs===String?"0":0;if(o.width=0,o.height=0,t.bytes===String?o.attributes="":(o.attributes=[],t.bytes!==Array&&(o.attributes=W.newBuffer(o.attributes))),o.operate_id="",o.is_end_draw=!1,W.Long){let e=new W.Long(0,0,!0);o.server_timestamp=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else o.server_timestamp=t.longs===String?"0":0;t.bytes===String?o.creator_id="":(o.creator_id=[],t.bytes!==Array&&(o.creator_id=W.newBuffer(o.creator_id))),o.layer=0}return null!=e.id_name&&e.hasOwnProperty("id_name")&&(o.id_name=t.bytes===String?W.base64.encode(e.id_name,0,e.id_name.length):t.bytes===Array?Array.prototype.slice.call(e.id_name):e.id_name),null!=e.nick_name&&e.hasOwnProperty("nick_name")&&(o.nick_name=t.bytes===String?W.base64.encode(e.nick_name,0,e.nick_name.length):t.bytes===Array?Array.prototype.slice.call(e.nick_name):e.nick_name),null!=e.graphic_id&&e.hasOwnProperty("graphic_id")&&("number"==typeof e.graphic_id?o.graphic_id=t.longs===String?String(e.graphic_id):e.graphic_id:o.graphic_id=t.longs===String?W.Long.prototype.toString.call(e.graphic_id):t.longs===Number?new W.LongBits(e.graphic_id.low>>>0,e.graphic_id.high>>>0).toNumber(!0):e.graphic_id),null!=e.action_seq&&e.hasOwnProperty("action_seq")&&(o.action_seq=e.action_seq),null!=e.type&&e.hasOwnProperty("type")&&(o.type=e.type),null!=e.zorder&&e.hasOwnProperty("zorder")&&(o.zorder=e.zorder),null!=e.x&&e.hasOwnProperty("x")&&(o.x=e.x),null!=e.y&&e.hasOwnProperty("y")&&(o.y=e.y),null!=e.data&&e.hasOwnProperty("data")&&(o.data=t.bytes===String?W.base64.encode(e.data,0,e.data.length):t.bytes===Array?Array.prototype.slice.call(e.data):e.data),null!=e.size&&e.hasOwnProperty("size")&&(o.size=e.size),null!=e.color&&e.hasOwnProperty("color")&&(o.color=e.color),null!=e.timestamp&&e.hasOwnProperty("timestamp")&&("number"==typeof e.timestamp?o.timestamp=t.longs===String?String(e.timestamp):e.timestamp:o.timestamp=t.longs===String?W.Long.prototype.toString.call(e.timestamp):t.longs===Number?new W.LongBits(e.timestamp.low>>>0,e.timestamp.high>>>0).toNumber(!0):e.timestamp),null!=e.width&&e.hasOwnProperty("width")&&(o.width=e.width),null!=e.height&&e.hasOwnProperty("height")&&(o.height=e.height),null!=e.attributes&&e.hasOwnProperty("attributes")&&(o.attributes=t.bytes===String?W.base64.encode(e.attributes,0,e.attributes.length):t.bytes===Array?Array.prototype.slice.call(e.attributes):e.attributes),null!=e.operate_id&&e.hasOwnProperty("operate_id")&&(o.operate_id=e.operate_id),null!=e.is_end_draw&&e.hasOwnProperty("is_end_draw")&&(o.is_end_draw=e.is_end_draw),null!=e.server_timestamp&&e.hasOwnProperty("server_timestamp")&&("number"==typeof e.server_timestamp?o.server_timestamp=t.longs===String?String(e.server_timestamp):e.server_timestamp:o.server_timestamp=t.longs===String?W.Long.prototype.toString.call(e.server_timestamp):t.longs===Number?new W.LongBits(e.server_timestamp.low>>>0,e.server_timestamp.high>>>0).toNumber(!0):e.server_timestamp),null!=e.creator_id&&e.hasOwnProperty("creator_id")&&(o.creator_id=t.bytes===String?W.base64.encode(e.creator_id,0,e.creator_id.length):t.bytes===Array?Array.prototype.slice.call(e.creator_id):e.creator_id),null!=e.layer&&e.hasOwnProperty("layer")&&(o.layer=e.layer),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,q.util.toJSONOptions)},e}(),e.user_auth=function(){function e(e){if(this.module_auth=[],this.graphic_auth=[],e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.id_name=W.newBuffer([]),e.prototype.action_seq=0,e.prototype.module_auth=W.emptyArray,e.prototype.graphic_auth=W.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=U.create()),null!=e.id_name&&Object.hasOwnProperty.call(e,"id_name")&&t.uint32(10).bytes(e.id_name),null!=e.action_seq&&Object.hasOwnProperty.call(e,"action_seq")&&t.uint32(16).uint32(e.action_seq),null!=e.module_auth&&e.module_auth.length){t.uint32(26).fork();for(let o=0;o<e.module_auth.length;++o)t.uint32(e.module_auth[o]);t.ldelim()}if(null!=e.graphic_auth&&e.graphic_auth.length){t.uint32(34).fork();for(let o=0;o<e.graphic_auth.length;++o)t.uint32(e.graphic_auth[o]);t.ldelim()}return t},e.decode=function(e,t){e instanceof G||(e=G.create(e));let o=void 0===t?e.len:e.pos+t,r=new Y.proto_edu_tcpuplink.user_auth;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.id_name=e.bytes();break;case 2:r.action_seq=e.uint32();break;case 3:if(r.module_auth&&r.module_auth.length||(r.module_auth=[]),2==(7&t)){let t=e.uint32()+e.pos;for(;e.pos<t;)r.module_auth.push(e.uint32())}else r.module_auth.push(e.uint32());break;case 4:if(r.graphic_auth&&r.graphic_auth.length||(r.graphic_auth=[]),2==(7&t)){let t=e.uint32()+e.pos;for(;e.pos<t;)r.graphic_auth.push(e.uint32())}else r.graphic_auth.push(e.uint32());break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof Y.proto_edu_tcpuplink.user_auth)return e;let t=new Y.proto_edu_tcpuplink.user_auth;if(null!=e.id_name&&("string"==typeof e.id_name?W.base64.decode(e.id_name,t.id_name=W.newBuffer(W.base64.length(e.id_name)),0):e.id_name.length&&(t.id_name=e.id_name)),null!=e.action_seq&&(t.action_seq=e.action_seq>>>0),e.module_auth){if(!Array.isArray(e.module_auth))throw TypeError(".proto_edu_tcpuplink.user_auth.module_auth: array expected");t.module_auth=[];for(let o=0;o<e.module_auth.length;++o)t.module_auth[o]=e.module_auth[o]>>>0}if(e.graphic_auth){if(!Array.isArray(e.graphic_auth))throw TypeError(".proto_edu_tcpuplink.user_auth.graphic_auth: array expected");t.graphic_auth=[];for(let o=0;o<e.graphic_auth.length;++o)t.graphic_auth[o]=e.graphic_auth[o]>>>0}return t},e.toObject=function(e,t){t||(t={});let o={};if((t.arrays||t.defaults)&&(o.module_auth=[],o.graphic_auth=[]),t.defaults&&(t.bytes===String?o.id_name="":(o.id_name=[],t.bytes!==Array&&(o.id_name=W.newBuffer(o.id_name))),o.action_seq=0),null!=e.id_name&&e.hasOwnProperty("id_name")&&(o.id_name=t.bytes===String?W.base64.encode(e.id_name,0,e.id_name.length):t.bytes===Array?Array.prototype.slice.call(e.id_name):e.id_name),null!=e.action_seq&&e.hasOwnProperty("action_seq")&&(o.action_seq=e.action_seq),e.module_auth&&e.module_auth.length){o.module_auth=[];for(let t=0;t<e.module_auth.length;++t)o.module_auth[t]=e.module_auth[t]}if(e.graphic_auth&&e.graphic_auth.length){o.graphic_auth=[];for(let t=0;t<e.graphic_auth.length;++t)o.graphic_auth[t]=e.graphic_auth[t]}return o},e.prototype.toJSON=function(){return this.constructor.toObject(this,q.util.toJSONOptions)},e}(),e.proto_sync=function(){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.req_head=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=U.create()),null!=e.req_head&&Object.hasOwnProperty.call(e,"req_head")&&Y.proto_edu_tcpuplink.ReqHead.encode(e.req_head,t.uint32(10).fork()).ldelim(),t},e.decode=function(e,t){e instanceof G||(e=G.create(e));let o=void 0===t?e.len:e.pos+t,r=new Y.proto_edu_tcpuplink.proto_sync;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.req_head=Y.proto_edu_tcpuplink.ReqHead.decode(e,e.uint32());break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof Y.proto_edu_tcpuplink.proto_sync)return e;let t=new Y.proto_edu_tcpuplink.proto_sync;if(null!=e.req_head){if("object"!=typeof e.req_head)throw TypeError(".proto_edu_tcpuplink.proto_sync.req_head: object expected");t.req_head=Y.proto_edu_tcpuplink.ReqHead.fromObject(e.req_head)}return t},e.toObject=function(e,t){t||(t={});let o={};return t.defaults&&(o.req_head=null),null!=e.req_head&&e.hasOwnProperty("req_head")&&(o.req_head=Y.proto_edu_tcpuplink.ReqHead.toObject(e.req_head,t)),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,q.util.toJSONOptions)},e}(),e.proto_sync_rsp=function(){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.rsp_head=null,e.prototype.sync_interval=0,e.prototype.room_extra_info_seq=0,e.prototype.user_list_seq=0,e.prototype.user_extra_info_seq=0,e.prototype.joinlive_seq=0,e.prototype.mod_list_seq=0,e.prototype.user_auth_seq=0,e.prototype.room_auth_seq=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=U.create()),null!=e.rsp_head&&Object.hasOwnProperty.call(e,"rsp_head")&&Y.proto_edu_tcpuplink.RspHead.encode(e.rsp_head,t.uint32(10).fork()).ldelim(),null!=e.sync_interval&&Object.hasOwnProperty.call(e,"sync_interval")&&t.uint32(16).uint32(e.sync_interval),null!=e.room_extra_info_seq&&Object.hasOwnProperty.call(e,"room_extra_info_seq")&&t.uint32(24).uint32(e.room_extra_info_seq),null!=e.user_list_seq&&Object.hasOwnProperty.call(e,"user_list_seq")&&t.uint32(32).uint32(e.user_list_seq),null!=e.user_extra_info_seq&&Object.hasOwnProperty.call(e,"user_extra_info_seq")&&t.uint32(40).uint32(e.user_extra_info_seq),null!=e.joinlive_seq&&Object.hasOwnProperty.call(e,"joinlive_seq")&&t.uint32(48).uint32(e.joinlive_seq),null!=e.mod_list_seq&&Object.hasOwnProperty.call(e,"mod_list_seq")&&t.uint32(56).uint32(e.mod_list_seq),null!=e.user_auth_seq&&Object.hasOwnProperty.call(e,"user_auth_seq")&&t.uint32(64).uint32(e.user_auth_seq),null!=e.room_auth_seq&&Object.hasOwnProperty.call(e,"room_auth_seq")&&t.uint32(72).uint32(e.room_auth_seq),t},e.decode=function(e,t){e instanceof G||(e=G.create(e));let o=void 0===t?e.len:e.pos+t,r=new Y.proto_edu_tcpuplink.proto_sync_rsp;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.rsp_head=Y.proto_edu_tcpuplink.RspHead.decode(e,e.uint32());break;case 2:r.sync_interval=e.uint32();break;case 3:r.room_extra_info_seq=e.uint32();break;case 4:r.user_list_seq=e.uint32();break;case 5:r.user_extra_info_seq=e.uint32();break;case 6:r.joinlive_seq=e.uint32();break;case 7:r.mod_list_seq=e.uint32();break;case 8:r.user_auth_seq=e.uint32();break;case 9:r.room_auth_seq=e.uint32();break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof Y.proto_edu_tcpuplink.proto_sync_rsp)return e;let t=new Y.proto_edu_tcpuplink.proto_sync_rsp;if(null!=e.rsp_head){if("object"!=typeof e.rsp_head)throw TypeError(".proto_edu_tcpuplink.proto_sync_rsp.rsp_head: object expected");t.rsp_head=Y.proto_edu_tcpuplink.RspHead.fromObject(e.rsp_head)}return null!=e.sync_interval&&(t.sync_interval=e.sync_interval>>>0),null!=e.room_extra_info_seq&&(t.room_extra_info_seq=e.room_extra_info_seq>>>0),null!=e.user_list_seq&&(t.user_list_seq=e.user_list_seq>>>0),null!=e.user_extra_info_seq&&(t.user_extra_info_seq=e.user_extra_info_seq>>>0),null!=e.joinlive_seq&&(t.joinlive_seq=e.joinlive_seq>>>0),null!=e.mod_list_seq&&(t.mod_list_seq=e.mod_list_seq>>>0),null!=e.user_auth_seq&&(t.user_auth_seq=e.user_auth_seq>>>0),null!=e.room_auth_seq&&(t.room_auth_seq=e.room_auth_seq>>>0),t},e.toObject=function(e,t){t||(t={});let o={};return t.defaults&&(o.rsp_head=null,o.sync_interval=0,o.room_extra_info_seq=0,o.user_list_seq=0,o.user_extra_info_seq=0,o.joinlive_seq=0,o.mod_list_seq=0,o.user_auth_seq=0,o.room_auth_seq=0),null!=e.rsp_head&&e.hasOwnProperty("rsp_head")&&(o.rsp_head=Y.proto_edu_tcpuplink.RspHead.toObject(e.rsp_head,t)),null!=e.sync_interval&&e.hasOwnProperty("sync_interval")&&(o.sync_interval=e.sync_interval),null!=e.room_extra_info_seq&&e.hasOwnProperty("room_extra_info_seq")&&(o.room_extra_info_seq=e.room_extra_info_seq),null!=e.user_list_seq&&e.hasOwnProperty("user_list_seq")&&(o.user_list_seq=e.user_list_seq),null!=e.user_extra_info_seq&&e.hasOwnProperty("user_extra_info_seq")&&(o.user_extra_info_seq=e.user_extra_info_seq),null!=e.joinlive_seq&&e.hasOwnProperty("joinlive_seq")&&(o.joinlive_seq=e.joinlive_seq),null!=e.mod_list_seq&&e.hasOwnProperty("mod_list_seq")&&(o.mod_list_seq=e.mod_list_seq),null!=e.user_auth_seq&&e.hasOwnProperty("user_auth_seq")&&(o.user_auth_seq=e.user_auth_seq),null!=e.room_auth_seq&&e.hasOwnProperty("room_auth_seq")&&(o.room_auth_seq=e.room_auth_seq),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,q.util.toJSONOptions)},e}(),e.proto_create_mod=function(){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.req_head=null,e.prototype.mod_id=W.Long?W.Long.fromBits(0,0,!0):0,e.prototype.mod_title=W.newBuffer([]),e.prototype.mod_type=0,e.prototype.mod_subtype=0,e.prototype.mod_pos=W.newBuffer([]),e.prototype.mod_status=W.Long?W.Long.fromBits(0,0,!0):0,e.prototype.mod_content=W.newBuffer([]),e.prototype.mod_extra=W.newBuffer([]),e.prototype.mod_reserve=0,e.prototype.mod_delete_flag=0,e.prototype.mod_horizontal_percent=0,e.prototype.mod_vertical_percent=0,e.prototype.mod_scale=W.newBuffer([]),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=U.create()),null!=e.req_head&&Object.hasOwnProperty.call(e,"req_head")&&Y.proto_edu_tcpuplink.ReqHead.encode(e.req_head,t.uint32(10).fork()).ldelim(),null!=e.mod_id&&Object.hasOwnProperty.call(e,"mod_id")&&t.uint32(16).uint64(e.mod_id),null!=e.mod_title&&Object.hasOwnProperty.call(e,"mod_title")&&t.uint32(26).bytes(e.mod_title),null!=e.mod_type&&Object.hasOwnProperty.call(e,"mod_type")&&t.uint32(32).uint32(e.mod_type),null!=e.mod_subtype&&Object.hasOwnProperty.call(e,"mod_subtype")&&t.uint32(40).uint32(e.mod_subtype),null!=e.mod_pos&&Object.hasOwnProperty.call(e,"mod_pos")&&t.uint32(50).bytes(e.mod_pos),null!=e.mod_status&&Object.hasOwnProperty.call(e,"mod_status")&&t.uint32(56).uint64(e.mod_status),null!=e.mod_content&&Object.hasOwnProperty.call(e,"mod_content")&&t.uint32(66).bytes(e.mod_content),null!=e.mod_extra&&Object.hasOwnProperty.call(e,"mod_extra")&&t.uint32(74).bytes(e.mod_extra),null!=e.mod_reserve&&Object.hasOwnProperty.call(e,"mod_reserve")&&t.uint32(80).uint32(e.mod_reserve),null!=e.mod_delete_flag&&Object.hasOwnProperty.call(e,"mod_delete_flag")&&t.uint32(88).int32(e.mod_delete_flag),null!=e.mod_horizontal_percent&&Object.hasOwnProperty.call(e,"mod_horizontal_percent")&&t.uint32(101).float(e.mod_horizontal_percent),null!=e.mod_vertical_percent&&Object.hasOwnProperty.call(e,"mod_vertical_percent")&&t.uint32(109).float(e.mod_vertical_percent),null!=e.mod_scale&&Object.hasOwnProperty.call(e,"mod_scale")&&t.uint32(114).bytes(e.mod_scale),t},e.decode=function(e,t){e instanceof G||(e=G.create(e));let o=void 0===t?e.len:e.pos+t,r=new Y.proto_edu_tcpuplink.proto_create_mod;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.req_head=Y.proto_edu_tcpuplink.ReqHead.decode(e,e.uint32());break;case 2:r.mod_id=e.uint64();break;case 3:r.mod_title=e.bytes();break;case 4:r.mod_type=e.uint32();break;case 5:r.mod_subtype=e.uint32();break;case 6:r.mod_pos=e.bytes();break;case 7:r.mod_status=e.uint64();break;case 8:r.mod_content=e.bytes();break;case 9:r.mod_extra=e.bytes();break;case 10:r.mod_reserve=e.uint32();break;case 11:r.mod_delete_flag=e.int32();break;case 12:r.mod_horizontal_percent=e.float();break;case 13:r.mod_vertical_percent=e.float();break;case 14:r.mod_scale=e.bytes();break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof Y.proto_edu_tcpuplink.proto_create_mod)return e;let t=new Y.proto_edu_tcpuplink.proto_create_mod;if(null!=e.req_head){if("object"!=typeof e.req_head)throw TypeError(".proto_edu_tcpuplink.proto_create_mod.req_head: object expected");t.req_head=Y.proto_edu_tcpuplink.ReqHead.fromObject(e.req_head)}return null!=e.mod_id&&(W.Long?(t.mod_id=W.Long.fromValue(e.mod_id)).unsigned=!0:"string"==typeof e.mod_id?t.mod_id=parseInt(e.mod_id,10):"number"==typeof e.mod_id?t.mod_id=e.mod_id:"object"==typeof e.mod_id&&(t.mod_id=new W.LongBits(e.mod_id.low>>>0,e.mod_id.high>>>0).toNumber(!0))),null!=e.mod_title&&("string"==typeof e.mod_title?W.base64.decode(e.mod_title,t.mod_title=W.newBuffer(W.base64.length(e.mod_title)),0):e.mod_title.length&&(t.mod_title=e.mod_title)),null!=e.mod_type&&(t.mod_type=e.mod_type>>>0),null!=e.mod_subtype&&(t.mod_subtype=e.mod_subtype>>>0),null!=e.mod_pos&&("string"==typeof e.mod_pos?W.base64.decode(e.mod_pos,t.mod_pos=W.newBuffer(W.base64.length(e.mod_pos)),0):e.mod_pos.length&&(t.mod_pos=e.mod_pos)),null!=e.mod_status&&(W.Long?(t.mod_status=W.Long.fromValue(e.mod_status)).unsigned=!0:"string"==typeof e.mod_status?t.mod_status=parseInt(e.mod_status,10):"number"==typeof e.mod_status?t.mod_status=e.mod_status:"object"==typeof e.mod_status&&(t.mod_status=new W.LongBits(e.mod_status.low>>>0,e.mod_status.high>>>0).toNumber(!0))),null!=e.mod_content&&("string"==typeof e.mod_content?W.base64.decode(e.mod_content,t.mod_content=W.newBuffer(W.base64.length(e.mod_content)),0):e.mod_content.length&&(t.mod_content=e.mod_content)),null!=e.mod_extra&&("string"==typeof e.mod_extra?W.base64.decode(e.mod_extra,t.mod_extra=W.newBuffer(W.base64.length(e.mod_extra)),0):e.mod_extra.length&&(t.mod_extra=e.mod_extra)),null!=e.mod_reserve&&(t.mod_reserve=e.mod_reserve>>>0),null!=e.mod_delete_flag&&(t.mod_delete_flag=0|e.mod_delete_flag),null!=e.mod_horizontal_percent&&(t.mod_horizontal_percent=Number(e.mod_horizontal_percent)),null!=e.mod_vertical_percent&&(t.mod_vertical_percent=Number(e.mod_vertical_percent)),null!=e.mod_scale&&("string"==typeof e.mod_scale?W.base64.decode(e.mod_scale,t.mod_scale=W.newBuffer(W.base64.length(e.mod_scale)),0):e.mod_scale.length&&(t.mod_scale=e.mod_scale)),t},e.toObject=function(e,t){t||(t={});let o={};if(t.defaults){if(o.req_head=null,W.Long){let e=new W.Long(0,0,!0);o.mod_id=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else o.mod_id=t.longs===String?"0":0;if(t.bytes===String?o.mod_title="":(o.mod_title=[],t.bytes!==Array&&(o.mod_title=W.newBuffer(o.mod_title))),o.mod_type=0,o.mod_subtype=0,t.bytes===String?o.mod_pos="":(o.mod_pos=[],t.bytes!==Array&&(o.mod_pos=W.newBuffer(o.mod_pos))),W.Long){let e=new W.Long(0,0,!0);o.mod_status=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else o.mod_status=t.longs===String?"0":0;t.bytes===String?o.mod_content="":(o.mod_content=[],t.bytes!==Array&&(o.mod_content=W.newBuffer(o.mod_content))),t.bytes===String?o.mod_extra="":(o.mod_extra=[],t.bytes!==Array&&(o.mod_extra=W.newBuffer(o.mod_extra))),o.mod_reserve=0,o.mod_delete_flag=0,o.mod_horizontal_percent=0,o.mod_vertical_percent=0,t.bytes===String?o.mod_scale="":(o.mod_scale=[],t.bytes!==Array&&(o.mod_scale=W.newBuffer(o.mod_scale)))}return null!=e.req_head&&e.hasOwnProperty("req_head")&&(o.req_head=Y.proto_edu_tcpuplink.ReqHead.toObject(e.req_head,t)),null!=e.mod_id&&e.hasOwnProperty("mod_id")&&("number"==typeof e.mod_id?o.mod_id=t.longs===String?String(e.mod_id):e.mod_id:o.mod_id=t.longs===String?W.Long.prototype.toString.call(e.mod_id):t.longs===Number?new W.LongBits(e.mod_id.low>>>0,e.mod_id.high>>>0).toNumber(!0):e.mod_id),null!=e.mod_title&&e.hasOwnProperty("mod_title")&&(o.mod_title=t.bytes===String?W.base64.encode(e.mod_title,0,e.mod_title.length):t.bytes===Array?Array.prototype.slice.call(e.mod_title):e.mod_title),null!=e.mod_type&&e.hasOwnProperty("mod_type")&&(o.mod_type=e.mod_type),null!=e.mod_subtype&&e.hasOwnProperty("mod_subtype")&&(o.mod_subtype=e.mod_subtype),null!=e.mod_pos&&e.hasOwnProperty("mod_pos")&&(o.mod_pos=t.bytes===String?W.base64.encode(e.mod_pos,0,e.mod_pos.length):t.bytes===Array?Array.prototype.slice.call(e.mod_pos):e.mod_pos),null!=e.mod_status&&e.hasOwnProperty("mod_status")&&("number"==typeof e.mod_status?o.mod_status=t.longs===String?String(e.mod_status):e.mod_status:o.mod_status=t.longs===String?W.Long.prototype.toString.call(e.mod_status):t.longs===Number?new W.LongBits(e.mod_status.low>>>0,e.mod_status.high>>>0).toNumber(!0):e.mod_status),null!=e.mod_content&&e.hasOwnProperty("mod_content")&&(o.mod_content=t.bytes===String?W.base64.encode(e.mod_content,0,e.mod_content.length):t.bytes===Array?Array.prototype.slice.call(e.mod_content):e.mod_content),null!=e.mod_extra&&e.hasOwnProperty("mod_extra")&&(o.mod_extra=t.bytes===String?W.base64.encode(e.mod_extra,0,e.mod_extra.length):t.bytes===Array?Array.prototype.slice.call(e.mod_extra):e.mod_extra),null!=e.mod_reserve&&e.hasOwnProperty("mod_reserve")&&(o.mod_reserve=e.mod_reserve),null!=e.mod_delete_flag&&e.hasOwnProperty("mod_delete_flag")&&(o.mod_delete_flag=e.mod_delete_flag),null!=e.mod_horizontal_percent&&e.hasOwnProperty("mod_horizontal_percent")&&(o.mod_horizontal_percent=t.json&&!isFinite(e.mod_horizontal_percent)?String(e.mod_horizontal_percent):e.mod_horizontal_percent),null!=e.mod_vertical_percent&&e.hasOwnProperty("mod_vertical_percent")&&(o.mod_vertical_percent=t.json&&!isFinite(e.mod_vertical_percent)?String(e.mod_vertical_percent):e.mod_vertical_percent),null!=e.mod_scale&&e.hasOwnProperty("mod_scale")&&(o.mod_scale=t.bytes===String?W.base64.encode(e.mod_scale,0,e.mod_scale.length):t.bytes===Array?Array.prototype.slice.call(e.mod_scale):e.mod_scale),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,q.util.toJSONOptions)},e}(),e.proto_create_mod_rsp=function(){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.rsp_head=null,e.prototype.mod_id=W.Long?W.Long.fromBits(0,0,!0):0,e.prototype.mod_seq=0,e.prototype.mod_list_seq=0,e.prototype.mod_create_time=W.Long?W.Long.fromBits(0,0,!1):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=U.create()),null!=e.rsp_head&&Object.hasOwnProperty.call(e,"rsp_head")&&Y.proto_edu_tcpuplink.RspHead.encode(e.rsp_head,t.uint32(10).fork()).ldelim(),null!=e.mod_id&&Object.hasOwnProperty.call(e,"mod_id")&&t.uint32(16).uint64(e.mod_id),null!=e.mod_seq&&Object.hasOwnProperty.call(e,"mod_seq")&&t.uint32(24).uint32(e.mod_seq),null!=e.mod_list_seq&&Object.hasOwnProperty.call(e,"mod_list_seq")&&t.uint32(32).uint32(e.mod_list_seq),null!=e.mod_create_time&&Object.hasOwnProperty.call(e,"mod_create_time")&&t.uint32(40).int64(e.mod_create_time),t},e.decode=function(e,t){e instanceof G||(e=G.create(e));let o=void 0===t?e.len:e.pos+t,r=new Y.proto_edu_tcpuplink.proto_create_mod_rsp;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.rsp_head=Y.proto_edu_tcpuplink.RspHead.decode(e,e.uint32());break;case 2:r.mod_id=e.uint64();break;case 3:r.mod_seq=e.uint32();break;case 4:r.mod_list_seq=e.uint32();break;case 5:r.mod_create_time=e.int64();break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof Y.proto_edu_tcpuplink.proto_create_mod_rsp)return e;let t=new Y.proto_edu_tcpuplink.proto_create_mod_rsp;if(null!=e.rsp_head){if("object"!=typeof e.rsp_head)throw TypeError(".proto_edu_tcpuplink.proto_create_mod_rsp.rsp_head: object expected");t.rsp_head=Y.proto_edu_tcpuplink.RspHead.fromObject(e.rsp_head)}return null!=e.mod_id&&(W.Long?(t.mod_id=W.Long.fromValue(e.mod_id)).unsigned=!0:"string"==typeof e.mod_id?t.mod_id=parseInt(e.mod_id,10):"number"==typeof e.mod_id?t.mod_id=e.mod_id:"object"==typeof e.mod_id&&(t.mod_id=new W.LongBits(e.mod_id.low>>>0,e.mod_id.high>>>0).toNumber(!0))),null!=e.mod_seq&&(t.mod_seq=e.mod_seq>>>0),null!=e.mod_list_seq&&(t.mod_list_seq=e.mod_list_seq>>>0),null!=e.mod_create_time&&(W.Long?(t.mod_create_time=W.Long.fromValue(e.mod_create_time)).unsigned=!1:"string"==typeof e.mod_create_time?t.mod_create_time=parseInt(e.mod_create_time,10):"number"==typeof e.mod_create_time?t.mod_create_time=e.mod_create_time:"object"==typeof e.mod_create_time&&(t.mod_create_time=new W.LongBits(e.mod_create_time.low>>>0,e.mod_create_time.high>>>0).toNumber())),t},e.toObject=function(e,t){t||(t={});let o={};if(t.defaults){if(o.rsp_head=null,W.Long){let e=new W.Long(0,0,!0);o.mod_id=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else o.mod_id=t.longs===String?"0":0;if(o.mod_seq=0,o.mod_list_seq=0,W.Long){let e=new W.Long(0,0,!1);o.mod_create_time=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else o.mod_create_time=t.longs===String?"0":0}return null!=e.rsp_head&&e.hasOwnProperty("rsp_head")&&(o.rsp_head=Y.proto_edu_tcpuplink.RspHead.toObject(e.rsp_head,t)),null!=e.mod_id&&e.hasOwnProperty("mod_id")&&("number"==typeof e.mod_id?o.mod_id=t.longs===String?String(e.mod_id):e.mod_id:o.mod_id=t.longs===String?W.Long.prototype.toString.call(e.mod_id):t.longs===Number?new W.LongBits(e.mod_id.low>>>0,e.mod_id.high>>>0).toNumber(!0):e.mod_id),null!=e.mod_seq&&e.hasOwnProperty("mod_seq")&&(o.mod_seq=e.mod_seq),null!=e.mod_list_seq&&e.hasOwnProperty("mod_list_seq")&&(o.mod_list_seq=e.mod_list_seq),null!=e.mod_create_time&&e.hasOwnProperty("mod_create_time")&&("number"==typeof e.mod_create_time?o.mod_create_time=t.longs===String?String(e.mod_create_time):e.mod_create_time:o.mod_create_time=t.longs===String?W.Long.prototype.toString.call(e.mod_create_time):t.longs===Number?new W.LongBits(e.mod_create_time.low>>>0,e.mod_create_time.high>>>0).toNumber():e.mod_create_time),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,q.util.toJSONOptions)},e}(),e.proto_destroy_mod=function(){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.req_head=null,e.prototype.mod_id=W.Long?W.Long.fromBits(0,0,!0):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=U.create()),null!=e.req_head&&Object.hasOwnProperty.call(e,"req_head")&&Y.proto_edu_tcpuplink.ReqHead.encode(e.req_head,t.uint32(10).fork()).ldelim(),null!=e.mod_id&&Object.hasOwnProperty.call(e,"mod_id")&&t.uint32(16).uint64(e.mod_id),t},e.decode=function(e,t){e instanceof G||(e=G.create(e));let o=void 0===t?e.len:e.pos+t,r=new Y.proto_edu_tcpuplink.proto_destroy_mod;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.req_head=Y.proto_edu_tcpuplink.ReqHead.decode(e,e.uint32());break;case 2:r.mod_id=e.uint64();break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof Y.proto_edu_tcpuplink.proto_destroy_mod)return e;let t=new Y.proto_edu_tcpuplink.proto_destroy_mod;if(null!=e.req_head){if("object"!=typeof e.req_head)throw TypeError(".proto_edu_tcpuplink.proto_destroy_mod.req_head: object expected");t.req_head=Y.proto_edu_tcpuplink.ReqHead.fromObject(e.req_head)}return null!=e.mod_id&&(W.Long?(t.mod_id=W.Long.fromValue(e.mod_id)).unsigned=!0:"string"==typeof e.mod_id?t.mod_id=parseInt(e.mod_id,10):"number"==typeof e.mod_id?t.mod_id=e.mod_id:"object"==typeof e.mod_id&&(t.mod_id=new W.LongBits(e.mod_id.low>>>0,e.mod_id.high>>>0).toNumber(!0))),t},e.toObject=function(e,t){t||(t={});let o={};if(t.defaults)if(o.req_head=null,W.Long){let e=new W.Long(0,0,!0);o.mod_id=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else o.mod_id=t.longs===String?"0":0;return null!=e.req_head&&e.hasOwnProperty("req_head")&&(o.req_head=Y.proto_edu_tcpuplink.ReqHead.toObject(e.req_head,t)),null!=e.mod_id&&e.hasOwnProperty("mod_id")&&("number"==typeof e.mod_id?o.mod_id=t.longs===String?String(e.mod_id):e.mod_id:o.mod_id=t.longs===String?W.Long.prototype.toString.call(e.mod_id):t.longs===Number?new W.LongBits(e.mod_id.low>>>0,e.mod_id.high>>>0).toNumber(!0):e.mod_id),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,q.util.toJSONOptions)},e}(),e.proto_destroy_mod_rsp=function(){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.rsp_head=null,e.prototype.mod_id=W.Long?W.Long.fromBits(0,0,!0):0,e.prototype.mod_list_seq=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=U.create()),null!=e.rsp_head&&Object.hasOwnProperty.call(e,"rsp_head")&&Y.proto_edu_tcpuplink.RspHead.encode(e.rsp_head,t.uint32(10).fork()).ldelim(),null!=e.mod_id&&Object.hasOwnProperty.call(e,"mod_id")&&t.uint32(16).uint64(e.mod_id),null!=e.mod_list_seq&&Object.hasOwnProperty.call(e,"mod_list_seq")&&t.uint32(24).uint32(e.mod_list_seq),t},e.decode=function(e,t){e instanceof G||(e=G.create(e));let o=void 0===t?e.len:e.pos+t,r=new Y.proto_edu_tcpuplink.proto_destroy_mod_rsp;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.rsp_head=Y.proto_edu_tcpuplink.RspHead.decode(e,e.uint32());break;case 2:r.mod_id=e.uint64();break;case 3:r.mod_list_seq=e.uint32();break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof Y.proto_edu_tcpuplink.proto_destroy_mod_rsp)return e;let t=new Y.proto_edu_tcpuplink.proto_destroy_mod_rsp;if(null!=e.rsp_head){if("object"!=typeof e.rsp_head)throw TypeError(".proto_edu_tcpuplink.proto_destroy_mod_rsp.rsp_head: object expected");t.rsp_head=Y.proto_edu_tcpuplink.RspHead.fromObject(e.rsp_head)}return null!=e.mod_id&&(W.Long?(t.mod_id=W.Long.fromValue(e.mod_id)).unsigned=!0:"string"==typeof e.mod_id?t.mod_id=parseInt(e.mod_id,10):"number"==typeof e.mod_id?t.mod_id=e.mod_id:"object"==typeof e.mod_id&&(t.mod_id=new W.LongBits(e.mod_id.low>>>0,e.mod_id.high>>>0).toNumber(!0))),null!=e.mod_list_seq&&(t.mod_list_seq=e.mod_list_seq>>>0),t},e.toObject=function(e,t){t||(t={});let o={};if(t.defaults){if(o.rsp_head=null,W.Long){let e=new W.Long(0,0,!0);o.mod_id=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else o.mod_id=t.longs===String?"0":0;o.mod_list_seq=0}return null!=e.rsp_head&&e.hasOwnProperty("rsp_head")&&(o.rsp_head=Y.proto_edu_tcpuplink.RspHead.toObject(e.rsp_head,t)),null!=e.mod_id&&e.hasOwnProperty("mod_id")&&("number"==typeof e.mod_id?o.mod_id=t.longs===String?String(e.mod_id):e.mod_id:o.mod_id=t.longs===String?W.Long.prototype.toString.call(e.mod_id):t.longs===Number?new W.LongBits(e.mod_id.low>>>0,e.mod_id.high>>>0).toNumber(!0):e.mod_id),null!=e.mod_list_seq&&e.hasOwnProperty("mod_list_seq")&&(o.mod_list_seq=e.mod_list_seq),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,q.util.toJSONOptions)},e}(),e.proto_modify_mod=function(){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.req_head=null,e.prototype.mod_seq=0,e.prototype.mod_id=W.Long?W.Long.fromBits(0,0,!0):0,e.prototype.mod_title=W.newBuffer([]),e.prototype.mod_pos=W.newBuffer([]),e.prototype.mod_status=W.Long?W.Long.fromBits(0,0,!0):0,e.prototype.mod_content=W.newBuffer([]),e.prototype.mod_extra=W.newBuffer([]),e.prototype.mod_reserve=0,e.prototype.is_modify_mod_title=!1,e.prototype.is_modify_mod_pos=!1,e.prototype.is_modify_mod_status=!1,e.prototype.is_modify_mod_content=!1,e.prototype.is_modify_mod_extra=!1,e.prototype.is_modify_mod_reserve=!1,e.prototype.mod_horizontal_percent=0,e.prototype.mod_vertical_percent=0,e.prototype.is_modify_mod_horizontal_percent=!1,e.prototype.is_modify_mod_vertical_percent=!1,e.prototype.is_modify_mod_scale=!1,e.prototype.mod_scale=W.newBuffer([]),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=U.create()),null!=e.req_head&&Object.hasOwnProperty.call(e,"req_head")&&Y.proto_edu_tcpuplink.ReqHead.encode(e.req_head,t.uint32(10).fork()).ldelim(),null!=e.mod_seq&&Object.hasOwnProperty.call(e,"mod_seq")&&t.uint32(16).uint32(e.mod_seq),null!=e.mod_id&&Object.hasOwnProperty.call(e,"mod_id")&&t.uint32(24).uint64(e.mod_id),null!=e.mod_title&&Object.hasOwnProperty.call(e,"mod_title")&&t.uint32(34).bytes(e.mod_title),null!=e.mod_pos&&Object.hasOwnProperty.call(e,"mod_pos")&&t.uint32(42).bytes(e.mod_pos),null!=e.mod_status&&Object.hasOwnProperty.call(e,"mod_status")&&t.uint32(48).uint64(e.mod_status),null!=e.mod_content&&Object.hasOwnProperty.call(e,"mod_content")&&t.uint32(58).bytes(e.mod_content),null!=e.mod_extra&&Object.hasOwnProperty.call(e,"mod_extra")&&t.uint32(66).bytes(e.mod_extra),null!=e.mod_reserve&&Object.hasOwnProperty.call(e,"mod_reserve")&&t.uint32(72).uint32(e.mod_reserve),null!=e.is_modify_mod_title&&Object.hasOwnProperty.call(e,"is_modify_mod_title")&&t.uint32(80).bool(e.is_modify_mod_title),null!=e.is_modify_mod_pos&&Object.hasOwnProperty.call(e,"is_modify_mod_pos")&&t.uint32(88).bool(e.is_modify_mod_pos),null!=e.is_modify_mod_status&&Object.hasOwnProperty.call(e,"is_modify_mod_status")&&t.uint32(96).bool(e.is_modify_mod_status),null!=e.is_modify_mod_content&&Object.hasOwnProperty.call(e,"is_modify_mod_content")&&t.uint32(104).bool(e.is_modify_mod_content),null!=e.is_modify_mod_extra&&Object.hasOwnProperty.call(e,"is_modify_mod_extra")&&t.uint32(112).bool(e.is_modify_mod_extra),null!=e.is_modify_mod_reserve&&Object.hasOwnProperty.call(e,"is_modify_mod_reserve")&&t.uint32(120).bool(e.is_modify_mod_reserve),null!=e.mod_horizontal_percent&&Object.hasOwnProperty.call(e,"mod_horizontal_percent")&&t.uint32(133).float(e.mod_horizontal_percent),null!=e.mod_vertical_percent&&Object.hasOwnProperty.call(e,"mod_vertical_percent")&&t.uint32(141).float(e.mod_vertical_percent),null!=e.is_modify_mod_horizontal_percent&&Object.hasOwnProperty.call(e,"is_modify_mod_horizontal_percent")&&t.uint32(144).bool(e.is_modify_mod_horizontal_percent),null!=e.is_modify_mod_vertical_percent&&Object.hasOwnProperty.call(e,"is_modify_mod_vertical_percent")&&t.uint32(152).bool(e.is_modify_mod_vertical_percent),null!=e.is_modify_mod_scale&&Object.hasOwnProperty.call(e,"is_modify_mod_scale")&&t.uint32(160).bool(e.is_modify_mod_scale),null!=e.mod_scale&&Object.hasOwnProperty.call(e,"mod_scale")&&t.uint32(170).bytes(e.mod_scale),t},e.decode=function(e,t){e instanceof G||(e=G.create(e));let o=void 0===t?e.len:e.pos+t,r=new Y.proto_edu_tcpuplink.proto_modify_mod;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.req_head=Y.proto_edu_tcpuplink.ReqHead.decode(e,e.uint32());break;case 2:r.mod_seq=e.uint32();break;case 3:r.mod_id=e.uint64();break;case 4:r.mod_title=e.bytes();break;case 5:r.mod_pos=e.bytes();break;case 6:r.mod_status=e.uint64();break;case 7:r.mod_content=e.bytes();break;case 8:r.mod_extra=e.bytes();break;case 9:r.mod_reserve=e.uint32();break;case 10:r.is_modify_mod_title=e.bool();break;case 11:r.is_modify_mod_pos=e.bool();break;case 12:r.is_modify_mod_status=e.bool();break;case 13:r.is_modify_mod_content=e.bool();break;case 14:r.is_modify_mod_extra=e.bool();break;case 15:r.is_modify_mod_reserve=e.bool();break;case 16:r.mod_horizontal_percent=e.float();break;case 17:r.mod_vertical_percent=e.float();break;case 18:r.is_modify_mod_horizontal_percent=e.bool();break;case 19:r.is_modify_mod_vertical_percent=e.bool();break;case 20:r.is_modify_mod_scale=e.bool();break;case 21:r.mod_scale=e.bytes();break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof Y.proto_edu_tcpuplink.proto_modify_mod)return e;let t=new Y.proto_edu_tcpuplink.proto_modify_mod;if(null!=e.req_head){if("object"!=typeof e.req_head)throw TypeError(".proto_edu_tcpuplink.proto_modify_mod.req_head: object expected");t.req_head=Y.proto_edu_tcpuplink.ReqHead.fromObject(e.req_head)}return null!=e.mod_seq&&(t.mod_seq=e.mod_seq>>>0),null!=e.mod_id&&(W.Long?(t.mod_id=W.Long.fromValue(e.mod_id)).unsigned=!0:"string"==typeof e.mod_id?t.mod_id=parseInt(e.mod_id,10):"number"==typeof e.mod_id?t.mod_id=e.mod_id:"object"==typeof e.mod_id&&(t.mod_id=new W.LongBits(e.mod_id.low>>>0,e.mod_id.high>>>0).toNumber(!0))),null!=e.mod_title&&("string"==typeof e.mod_title?W.base64.decode(e.mod_title,t.mod_title=W.newBuffer(W.base64.length(e.mod_title)),0):e.mod_title.length&&(t.mod_title=e.mod_title)),null!=e.mod_pos&&("string"==typeof e.mod_pos?W.base64.decode(e.mod_pos,t.mod_pos=W.newBuffer(W.base64.length(e.mod_pos)),0):e.mod_pos.length&&(t.mod_pos=e.mod_pos)),null!=e.mod_status&&(W.Long?(t.mod_status=W.Long.fromValue(e.mod_status)).unsigned=!0:"string"==typeof e.mod_status?t.mod_status=parseInt(e.mod_status,10):"number"==typeof e.mod_status?t.mod_status=e.mod_status:"object"==typeof e.mod_status&&(t.mod_status=new W.LongBits(e.mod_status.low>>>0,e.mod_status.high>>>0).toNumber(!0))),null!=e.mod_content&&("string"==typeof e.mod_content?W.base64.decode(e.mod_content,t.mod_content=W.newBuffer(W.base64.length(e.mod_content)),0):e.mod_content.length&&(t.mod_content=e.mod_content)),null!=e.mod_extra&&("string"==typeof e.mod_extra?W.base64.decode(e.mod_extra,t.mod_extra=W.newBuffer(W.base64.length(e.mod_extra)),0):e.mod_extra.length&&(t.mod_extra=e.mod_extra)),null!=e.mod_reserve&&(t.mod_reserve=e.mod_reserve>>>0),null!=e.is_modify_mod_title&&(t.is_modify_mod_title=Boolean(e.is_modify_mod_title)),null!=e.is_modify_mod_pos&&(t.is_modify_mod_pos=Boolean(e.is_modify_mod_pos)),null!=e.is_modify_mod_status&&(t.is_modify_mod_status=Boolean(e.is_modify_mod_status)),null!=e.is_modify_mod_content&&(t.is_modify_mod_content=Boolean(e.is_modify_mod_content)),null!=e.is_modify_mod_extra&&(t.is_modify_mod_extra=Boolean(e.is_modify_mod_extra)),null!=e.is_modify_mod_reserve&&(t.is_modify_mod_reserve=Boolean(e.is_modify_mod_reserve)),null!=e.mod_horizontal_percent&&(t.mod_horizontal_percent=Number(e.mod_horizontal_percent)),null!=e.mod_vertical_percent&&(t.mod_vertical_percent=Number(e.mod_vertical_percent)),null!=e.is_modify_mod_horizontal_percent&&(t.is_modify_mod_horizontal_percent=Boolean(e.is_modify_mod_horizontal_percent)),null!=e.is_modify_mod_vertical_percent&&(t.is_modify_mod_vertical_percent=Boolean(e.is_modify_mod_vertical_percent)),null!=e.is_modify_mod_scale&&(t.is_modify_mod_scale=Boolean(e.is_modify_mod_scale)),null!=e.mod_scale&&("string"==typeof e.mod_scale?W.base64.decode(e.mod_scale,t.mod_scale=W.newBuffer(W.base64.length(e.mod_scale)),0):e.mod_scale.length&&(t.mod_scale=e.mod_scale)),t},e.toObject=function(e,t){t||(t={});let o={};if(t.defaults){if(o.req_head=null,o.mod_seq=0,W.Long){let e=new W.Long(0,0,!0);o.mod_id=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else o.mod_id=t.longs===String?"0":0;if(t.bytes===String?o.mod_title="":(o.mod_title=[],t.bytes!==Array&&(o.mod_title=W.newBuffer(o.mod_title))),t.bytes===String?o.mod_pos="":(o.mod_pos=[],t.bytes!==Array&&(o.mod_pos=W.newBuffer(o.mod_pos))),W.Long){let e=new W.Long(0,0,!0);o.mod_status=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else o.mod_status=t.longs===String?"0":0;t.bytes===String?o.mod_content="":(o.mod_content=[],t.bytes!==Array&&(o.mod_content=W.newBuffer(o.mod_content))),t.bytes===String?o.mod_extra="":(o.mod_extra=[],t.bytes!==Array&&(o.mod_extra=W.newBuffer(o.mod_extra))),o.mod_reserve=0,o.is_modify_mod_title=!1,o.is_modify_mod_pos=!1,o.is_modify_mod_status=!1,o.is_modify_mod_content=!1,o.is_modify_mod_extra=!1,o.is_modify_mod_reserve=!1,o.mod_horizontal_percent=0,o.mod_vertical_percent=0,o.is_modify_mod_horizontal_percent=!1,o.is_modify_mod_vertical_percent=!1,o.is_modify_mod_scale=!1,t.bytes===String?o.mod_scale="":(o.mod_scale=[],t.bytes!==Array&&(o.mod_scale=W.newBuffer(o.mod_scale)))}return null!=e.req_head&&e.hasOwnProperty("req_head")&&(o.req_head=Y.proto_edu_tcpuplink.ReqHead.toObject(e.req_head,t)),null!=e.mod_seq&&e.hasOwnProperty("mod_seq")&&(o.mod_seq=e.mod_seq),null!=e.mod_id&&e.hasOwnProperty("mod_id")&&("number"==typeof e.mod_id?o.mod_id=t.longs===String?String(e.mod_id):e.mod_id:o.mod_id=t.longs===String?W.Long.prototype.toString.call(e.mod_id):t.longs===Number?new W.LongBits(e.mod_id.low>>>0,e.mod_id.high>>>0).toNumber(!0):e.mod_id),null!=e.mod_title&&e.hasOwnProperty("mod_title")&&(o.mod_title=t.bytes===String?W.base64.encode(e.mod_title,0,e.mod_title.length):t.bytes===Array?Array.prototype.slice.call(e.mod_title):e.mod_title),null!=e.mod_pos&&e.hasOwnProperty("mod_pos")&&(o.mod_pos=t.bytes===String?W.base64.encode(e.mod_pos,0,e.mod_pos.length):t.bytes===Array?Array.prototype.slice.call(e.mod_pos):e.mod_pos),null!=e.mod_status&&e.hasOwnProperty("mod_status")&&("number"==typeof e.mod_status?o.mod_status=t.longs===String?String(e.mod_status):e.mod_status:o.mod_status=t.longs===String?W.Long.prototype.toString.call(e.mod_status):t.longs===Number?new W.LongBits(e.mod_status.low>>>0,e.mod_status.high>>>0).toNumber(!0):e.mod_status),null!=e.mod_content&&e.hasOwnProperty("mod_content")&&(o.mod_content=t.bytes===String?W.base64.encode(e.mod_content,0,e.mod_content.length):t.bytes===Array?Array.prototype.slice.call(e.mod_content):e.mod_content),null!=e.mod_extra&&e.hasOwnProperty("mod_extra")&&(o.mod_extra=t.bytes===String?W.base64.encode(e.mod_extra,0,e.mod_extra.length):t.bytes===Array?Array.prototype.slice.call(e.mod_extra):e.mod_extra),null!=e.mod_reserve&&e.hasOwnProperty("mod_reserve")&&(o.mod_reserve=e.mod_reserve),null!=e.is_modify_mod_title&&e.hasOwnProperty("is_modify_mod_title")&&(o.is_modify_mod_title=e.is_modify_mod_title),null!=e.is_modify_mod_pos&&e.hasOwnProperty("is_modify_mod_pos")&&(o.is_modify_mod_pos=e.is_modify_mod_pos),null!=e.is_modify_mod_status&&e.hasOwnProperty("is_modify_mod_status")&&(o.is_modify_mod_status=e.is_modify_mod_status),null!=e.is_modify_mod_content&&e.hasOwnProperty("is_modify_mod_content")&&(o.is_modify_mod_content=e.is_modify_mod_content),null!=e.is_modify_mod_extra&&e.hasOwnProperty("is_modify_mod_extra")&&(o.is_modify_mod_extra=e.is_modify_mod_extra),null!=e.is_modify_mod_reserve&&e.hasOwnProperty("is_modify_mod_reserve")&&(o.is_modify_mod_reserve=e.is_modify_mod_reserve),null!=e.mod_horizontal_percent&&e.hasOwnProperty("mod_horizontal_percent")&&(o.mod_horizontal_percent=t.json&&!isFinite(e.mod_horizontal_percent)?String(e.mod_horizontal_percent):e.mod_horizontal_percent),null!=e.mod_vertical_percent&&e.hasOwnProperty("mod_vertical_percent")&&(o.mod_vertical_percent=t.json&&!isFinite(e.mod_vertical_percent)?String(e.mod_vertical_percent):e.mod_vertical_percent),null!=e.is_modify_mod_horizontal_percent&&e.hasOwnProperty("is_modify_mod_horizontal_percent")&&(o.is_modify_mod_horizontal_percent=e.is_modify_mod_horizontal_percent),null!=e.is_modify_mod_vertical_percent&&e.hasOwnProperty("is_modify_mod_vertical_percent")&&(o.is_modify_mod_vertical_percent=e.is_modify_mod_vertical_percent),null!=e.is_modify_mod_scale&&e.hasOwnProperty("is_modify_mod_scale")&&(o.is_modify_mod_scale=e.is_modify_mod_scale),null!=e.mod_scale&&e.hasOwnProperty("mod_scale")&&(o.mod_scale=t.bytes===String?W.base64.encode(e.mod_scale,0,e.mod_scale.length):t.bytes===Array?Array.prototype.slice.call(e.mod_scale):e.mod_scale),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,q.util.toJSONOptions)},e}(),e.proto_modify_mod_rsp=function(){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.rsp_head=null,e.prototype.mod_id=W.Long?W.Long.fromBits(0,0,!0):0,e.prototype.mod_seq=0,e.prototype.mod_list_seq=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=U.create()),null!=e.rsp_head&&Object.hasOwnProperty.call(e,"rsp_head")&&Y.proto_edu_tcpuplink.RspHead.encode(e.rsp_head,t.uint32(10).fork()).ldelim(),null!=e.mod_id&&Object.hasOwnProperty.call(e,"mod_id")&&t.uint32(16).uint64(e.mod_id),null!=e.mod_seq&&Object.hasOwnProperty.call(e,"mod_seq")&&t.uint32(24).uint32(e.mod_seq),null!=e.mod_list_seq&&Object.hasOwnProperty.call(e,"mod_list_seq")&&t.uint32(32).uint32(e.mod_list_seq),t},e.decode=function(e,t){e instanceof G||(e=G.create(e));let o=void 0===t?e.len:e.pos+t,r=new Y.proto_edu_tcpuplink.proto_modify_mod_rsp;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.rsp_head=Y.proto_edu_tcpuplink.RspHead.decode(e,e.uint32());break;case 2:r.mod_id=e.uint64();break;case 3:r.mod_seq=e.uint32();break;case 4:r.mod_list_seq=e.uint32();break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof Y.proto_edu_tcpuplink.proto_modify_mod_rsp)return e;let t=new Y.proto_edu_tcpuplink.proto_modify_mod_rsp;if(null!=e.rsp_head){if("object"!=typeof e.rsp_head)throw TypeError(".proto_edu_tcpuplink.proto_modify_mod_rsp.rsp_head: object expected");t.rsp_head=Y.proto_edu_tcpuplink.RspHead.fromObject(e.rsp_head)}return null!=e.mod_id&&(W.Long?(t.mod_id=W.Long.fromValue(e.mod_id)).unsigned=!0:"string"==typeof e.mod_id?t.mod_id=parseInt(e.mod_id,10):"number"==typeof e.mod_id?t.mod_id=e.mod_id:"object"==typeof e.mod_id&&(t.mod_id=new W.LongBits(e.mod_id.low>>>0,e.mod_id.high>>>0).toNumber(!0))),null!=e.mod_seq&&(t.mod_seq=e.mod_seq>>>0),null!=e.mod_list_seq&&(t.mod_list_seq=e.mod_list_seq>>>0),t},e.toObject=function(e,t){t||(t={});let o={};if(t.defaults){if(o.rsp_head=null,W.Long){let e=new W.Long(0,0,!0);o.mod_id=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else o.mod_id=t.longs===String?"0":0;o.mod_seq=0,o.mod_list_seq=0}return null!=e.rsp_head&&e.hasOwnProperty("rsp_head")&&(o.rsp_head=Y.proto_edu_tcpuplink.RspHead.toObject(e.rsp_head,t)),null!=e.mod_id&&e.hasOwnProperty("mod_id")&&("number"==typeof e.mod_id?o.mod_id=t.longs===String?String(e.mod_id):e.mod_id:o.mod_id=t.longs===String?W.Long.prototype.toString.call(e.mod_id):t.longs===Number?new W.LongBits(e.mod_id.low>>>0,e.mod_id.high>>>0).toNumber(!0):e.mod_id),null!=e.mod_seq&&e.hasOwnProperty("mod_seq")&&(o.mod_seq=e.mod_seq),null!=e.mod_list_seq&&e.hasOwnProperty("mod_list_seq")&&(o.mod_list_seq=e.mod_list_seq),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,q.util.toJSONOptions)},e}(),e.proto_get_mod=function(){function e(e){if(this.mod_id_list=[],e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.req_head=null,e.prototype.mod_id_list=W.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=U.create()),null!=e.req_head&&Object.hasOwnProperty.call(e,"req_head")&&Y.proto_edu_tcpuplink.ReqHead.encode(e.req_head,t.uint32(10).fork()).ldelim(),null!=e.mod_id_list&&e.mod_id_list.length){t.uint32(18).fork();for(let o=0;o<e.mod_id_list.length;++o)t.uint64(e.mod_id_list[o]);t.ldelim()}return t},e.decode=function(e,t){e instanceof G||(e=G.create(e));let o=void 0===t?e.len:e.pos+t,r=new Y.proto_edu_tcpuplink.proto_get_mod;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.req_head=Y.proto_edu_tcpuplink.ReqHead.decode(e,e.uint32());break;case 2:if(r.mod_id_list&&r.mod_id_list.length||(r.mod_id_list=[]),2==(7&t)){let t=e.uint32()+e.pos;for(;e.pos<t;)r.mod_id_list.push(e.uint64())}else r.mod_id_list.push(e.uint64());break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof Y.proto_edu_tcpuplink.proto_get_mod)return e;let t=new Y.proto_edu_tcpuplink.proto_get_mod;if(null!=e.req_head){if("object"!=typeof e.req_head)throw TypeError(".proto_edu_tcpuplink.proto_get_mod.req_head: object expected");t.req_head=Y.proto_edu_tcpuplink.ReqHead.fromObject(e.req_head)}if(e.mod_id_list){if(!Array.isArray(e.mod_id_list))throw TypeError(".proto_edu_tcpuplink.proto_get_mod.mod_id_list: array expected");t.mod_id_list=[];for(let o=0;o<e.mod_id_list.length;++o)W.Long?(t.mod_id_list[o]=W.Long.fromValue(e.mod_id_list[o])).unsigned=!0:"string"==typeof e.mod_id_list[o]?t.mod_id_list[o]=parseInt(e.mod_id_list[o],10):"number"==typeof e.mod_id_list[o]?t.mod_id_list[o]=e.mod_id_list[o]:"object"==typeof e.mod_id_list[o]&&(t.mod_id_list[o]=new W.LongBits(e.mod_id_list[o].low>>>0,e.mod_id_list[o].high>>>0).toNumber(!0))}return t},e.toObject=function(e,t){t||(t={});let o={};if((t.arrays||t.defaults)&&(o.mod_id_list=[]),t.defaults&&(o.req_head=null),null!=e.req_head&&e.hasOwnProperty("req_head")&&(o.req_head=Y.proto_edu_tcpuplink.ReqHead.toObject(e.req_head,t)),e.mod_id_list&&e.mod_id_list.length){o.mod_id_list=[];for(let r=0;r<e.mod_id_list.length;++r)"number"==typeof e.mod_id_list[r]?o.mod_id_list[r]=t.longs===String?String(e.mod_id_list[r]):e.mod_id_list[r]:o.mod_id_list[r]=t.longs===String?W.Long.prototype.toString.call(e.mod_id_list[r]):t.longs===Number?new W.LongBits(e.mod_id_list[r].low>>>0,e.mod_id_list[r].high>>>0).toNumber(!0):e.mod_id_list[r]}return o},e.prototype.toJSON=function(){return this.constructor.toObject(this,q.util.toJSONOptions)},e}(),e.proto_get_mod_rsp=function(){function e(e){if(this.mod_list=[],e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.rsp_head=null,e.prototype.mod_list=W.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=U.create()),null!=e.rsp_head&&Object.hasOwnProperty.call(e,"rsp_head")&&Y.proto_edu_tcpuplink.RspHead.encode(e.rsp_head,t.uint32(10).fork()).ldelim(),null!=e.mod_list&&e.mod_list.length)for(let o=0;o<e.mod_list.length;++o)Y.proto_edu_tcpuplink.proto_mod.encode(e.mod_list[o],t.uint32(18).fork()).ldelim();return t},e.decode=function(e,t){e instanceof G||(e=G.create(e));let o=void 0===t?e.len:e.pos+t,r=new Y.proto_edu_tcpuplink.proto_get_mod_rsp;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.rsp_head=Y.proto_edu_tcpuplink.RspHead.decode(e,e.uint32());break;case 2:r.mod_list&&r.mod_list.length||(r.mod_list=[]),r.mod_list.push(Y.proto_edu_tcpuplink.proto_mod.decode(e,e.uint32()));break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof Y.proto_edu_tcpuplink.proto_get_mod_rsp)return e;let t=new Y.proto_edu_tcpuplink.proto_get_mod_rsp;if(null!=e.rsp_head){if("object"!=typeof e.rsp_head)throw TypeError(".proto_edu_tcpuplink.proto_get_mod_rsp.rsp_head: object expected");t.rsp_head=Y.proto_edu_tcpuplink.RspHead.fromObject(e.rsp_head)}if(e.mod_list){if(!Array.isArray(e.mod_list))throw TypeError(".proto_edu_tcpuplink.proto_get_mod_rsp.mod_list: array expected");t.mod_list=[];for(let o=0;o<e.mod_list.length;++o){if("object"!=typeof e.mod_list[o])throw TypeError(".proto_edu_tcpuplink.proto_get_mod_rsp.mod_list: object expected");t.mod_list[o]=Y.proto_edu_tcpuplink.proto_mod.fromObject(e.mod_list[o])}}return t},e.toObject=function(e,t){t||(t={});let o={};if((t.arrays||t.defaults)&&(o.mod_list=[]),t.defaults&&(o.rsp_head=null),null!=e.rsp_head&&e.hasOwnProperty("rsp_head")&&(o.rsp_head=Y.proto_edu_tcpuplink.RspHead.toObject(e.rsp_head,t)),e.mod_list&&e.mod_list.length){o.mod_list=[];for(let r=0;r<e.mod_list.length;++r)o.mod_list[r]=Y.proto_edu_tcpuplink.proto_mod.toObject(e.mod_list[r],t)}return o},e.prototype.toJSON=function(){return this.constructor.toObject(this,q.util.toJSONOptions)},e}(),e.proto_get_mod_list=function(){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.req_head=null,e.prototype.mod_list_seq=0,e.prototype.limit=0,e.prototype.marker=W.newBuffer([]),e.prototype.mod_type=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=U.create()),null!=e.req_head&&Object.hasOwnProperty.call(e,"req_head")&&Y.proto_edu_tcpuplink.ReqHead.encode(e.req_head,t.uint32(10).fork()).ldelim(),null!=e.mod_list_seq&&Object.hasOwnProperty.call(e,"mod_list_seq")&&t.uint32(16).uint32(e.mod_list_seq),null!=e.limit&&Object.hasOwnProperty.call(e,"limit")&&t.uint32(24).uint32(e.limit),null!=e.marker&&Object.hasOwnProperty.call(e,"marker")&&t.uint32(34).bytes(e.marker),null!=e.mod_type&&Object.hasOwnProperty.call(e,"mod_type")&&t.uint32(40).uint32(e.mod_type),t},e.decode=function(e,t){e instanceof G||(e=G.create(e));let o=void 0===t?e.len:e.pos+t,r=new Y.proto_edu_tcpuplink.proto_get_mod_list;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.req_head=Y.proto_edu_tcpuplink.ReqHead.decode(e,e.uint32());break;case 2:r.mod_list_seq=e.uint32();break;case 3:r.limit=e.uint32();break;case 4:r.marker=e.bytes();break;case 5:r.mod_type=e.uint32();break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof Y.proto_edu_tcpuplink.proto_get_mod_list)return e;let t=new Y.proto_edu_tcpuplink.proto_get_mod_list;if(null!=e.req_head){if("object"!=typeof e.req_head)throw TypeError(".proto_edu_tcpuplink.proto_get_mod_list.req_head: object expected");t.req_head=Y.proto_edu_tcpuplink.ReqHead.fromObject(e.req_head)}return null!=e.mod_list_seq&&(t.mod_list_seq=e.mod_list_seq>>>0),null!=e.limit&&(t.limit=e.limit>>>0),null!=e.marker&&("string"==typeof e.marker?W.base64.decode(e.marker,t.marker=W.newBuffer(W.base64.length(e.marker)),0):e.marker.length&&(t.marker=e.marker)),null!=e.mod_type&&(t.mod_type=e.mod_type>>>0),t},e.toObject=function(e,t){t||(t={});let o={};return t.defaults&&(o.req_head=null,o.mod_list_seq=0,o.limit=0,t.bytes===String?o.marker="":(o.marker=[],t.bytes!==Array&&(o.marker=W.newBuffer(o.marker))),o.mod_type=0),null!=e.req_head&&e.hasOwnProperty("req_head")&&(o.req_head=Y.proto_edu_tcpuplink.ReqHead.toObject(e.req_head,t)),null!=e.mod_list_seq&&e.hasOwnProperty("mod_list_seq")&&(o.mod_list_seq=e.mod_list_seq),null!=e.limit&&e.hasOwnProperty("limit")&&(o.limit=e.limit),null!=e.marker&&e.hasOwnProperty("marker")&&(o.marker=t.bytes===String?W.base64.encode(e.marker,0,e.marker.length):t.bytes===Array?Array.prototype.slice.call(e.marker):e.marker),null!=e.mod_type&&e.hasOwnProperty("mod_type")&&(o.mod_type=e.mod_type),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,q.util.toJSONOptions)},e}(),e.proto_get_mod_list_rsp=function(){function e(e){if(this.mod_list=[],e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.rsp_head=null,e.prototype.mod_list_seq=0,e.prototype.marker=W.newBuffer([]),e.prototype.mod_type=0,e.prototype.mod_list=W.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=U.create()),null!=e.rsp_head&&Object.hasOwnProperty.call(e,"rsp_head")&&Y.proto_edu_tcpuplink.RspHead.encode(e.rsp_head,t.uint32(10).fork()).ldelim(),null!=e.mod_list_seq&&Object.hasOwnProperty.call(e,"mod_list_seq")&&t.uint32(16).uint32(e.mod_list_seq),null!=e.marker&&Object.hasOwnProperty.call(e,"marker")&&t.uint32(26).bytes(e.marker),null!=e.mod_type&&Object.hasOwnProperty.call(e,"mod_type")&&t.uint32(32).uint32(e.mod_type),null!=e.mod_list&&e.mod_list.length)for(let o=0;o<e.mod_list.length;++o)Y.proto_edu_tcpuplink.proto_mod.encode(e.mod_list[o],t.uint32(42).fork()).ldelim();return t},e.decode=function(e,t){e instanceof G||(e=G.create(e));let o=void 0===t?e.len:e.pos+t,r=new Y.proto_edu_tcpuplink.proto_get_mod_list_rsp;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.rsp_head=Y.proto_edu_tcpuplink.RspHead.decode(e,e.uint32());break;case 2:r.mod_list_seq=e.uint32();break;case 3:r.marker=e.bytes();break;case 4:r.mod_type=e.uint32();break;case 5:r.mod_list&&r.mod_list.length||(r.mod_list=[]),r.mod_list.push(Y.proto_edu_tcpuplink.proto_mod.decode(e,e.uint32()));break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof Y.proto_edu_tcpuplink.proto_get_mod_list_rsp)return e;let t=new Y.proto_edu_tcpuplink.proto_get_mod_list_rsp;if(null!=e.rsp_head){if("object"!=typeof e.rsp_head)throw TypeError(".proto_edu_tcpuplink.proto_get_mod_list_rsp.rsp_head: object expected");t.rsp_head=Y.proto_edu_tcpuplink.RspHead.fromObject(e.rsp_head)}if(null!=e.mod_list_seq&&(t.mod_list_seq=e.mod_list_seq>>>0),null!=e.marker&&("string"==typeof e.marker?W.base64.decode(e.marker,t.marker=W.newBuffer(W.base64.length(e.marker)),0):e.marker.length&&(t.marker=e.marker)),null!=e.mod_type&&(t.mod_type=e.mod_type>>>0),e.mod_list){if(!Array.isArray(e.mod_list))throw TypeError(".proto_edu_tcpuplink.proto_get_mod_list_rsp.mod_list: array expected");t.mod_list=[];for(let o=0;o<e.mod_list.length;++o){if("object"!=typeof e.mod_list[o])throw TypeError(".proto_edu_tcpuplink.proto_get_mod_list_rsp.mod_list: object expected");t.mod_list[o]=Y.proto_edu_tcpuplink.proto_mod.fromObject(e.mod_list[o])}}return t},e.toObject=function(e,t){t||(t={});let o={};if((t.arrays||t.defaults)&&(o.mod_list=[]),t.defaults&&(o.rsp_head=null,o.mod_list_seq=0,t.bytes===String?o.marker="":(o.marker=[],t.bytes!==Array&&(o.marker=W.newBuffer(o.marker))),o.mod_type=0),null!=e.rsp_head&&e.hasOwnProperty("rsp_head")&&(o.rsp_head=Y.proto_edu_tcpuplink.RspHead.toObject(e.rsp_head,t)),null!=e.mod_list_seq&&e.hasOwnProperty("mod_list_seq")&&(o.mod_list_seq=e.mod_list_seq),null!=e.marker&&e.hasOwnProperty("marker")&&(o.marker=t.bytes===String?W.base64.encode(e.marker,0,e.marker.length):t.bytes===Array?Array.prototype.slice.call(e.marker):e.marker),null!=e.mod_type&&e.hasOwnProperty("mod_type")&&(o.mod_type=e.mod_type),e.mod_list&&e.mod_list.length){o.mod_list=[];for(let r=0;r<e.mod_list.length;++r)o.mod_list[r]=Y.proto_edu_tcpuplink.proto_mod.toObject(e.mod_list[r],t)}return o},e.prototype.toJSON=function(){return this.constructor.toObject(this,q.util.toJSONOptions)},e}(),e.proto_draw_page_graphics=function(){function e(e){if(this.draw_pages=[],e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.req_head=null,e.prototype.mod_id=W.Long?W.Long.fromBits(0,0,!0):0,e.prototype.draw_pages=W.emptyArray,e.prototype.timestamp=W.Long?W.Long.fromBits(0,0,!0):0,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=U.create()),null!=e.req_head&&Object.hasOwnProperty.call(e,"req_head")&&Y.proto_edu_tcpuplink.ReqHead.encode(e.req_head,t.uint32(10).fork()).ldelim(),null!=e.mod_id&&Object.hasOwnProperty.call(e,"mod_id")&&t.uint32(16).uint64(e.mod_id),null!=e.draw_pages&&e.draw_pages.length)for(let o=0;o<e.draw_pages.length;++o)Y.proto_edu_tcpuplink.proto_draw_page.encode(e.draw_pages[o],t.uint32(26).fork()).ldelim();return null!=e.timestamp&&Object.hasOwnProperty.call(e,"timestamp")&&t.uint32(32).uint64(e.timestamp),t},e.decode=function(e,t){e instanceof G||(e=G.create(e));let o=void 0===t?e.len:e.pos+t,r=new Y.proto_edu_tcpuplink.proto_draw_page_graphics;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.req_head=Y.proto_edu_tcpuplink.ReqHead.decode(e,e.uint32());break;case 2:r.mod_id=e.uint64();break;case 3:r.draw_pages&&r.draw_pages.length||(r.draw_pages=[]),r.draw_pages.push(Y.proto_edu_tcpuplink.proto_draw_page.decode(e,e.uint32()));break;case 4:r.timestamp=e.uint64();break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof Y.proto_edu_tcpuplink.proto_draw_page_graphics)return e;let t=new Y.proto_edu_tcpuplink.proto_draw_page_graphics;if(null!=e.req_head){if("object"!=typeof e.req_head)throw TypeError(".proto_edu_tcpuplink.proto_draw_page_graphics.req_head: object expected");t.req_head=Y.proto_edu_tcpuplink.ReqHead.fromObject(e.req_head)}if(null!=e.mod_id&&(W.Long?(t.mod_id=W.Long.fromValue(e.mod_id)).unsigned=!0:"string"==typeof e.mod_id?t.mod_id=parseInt(e.mod_id,10):"number"==typeof e.mod_id?t.mod_id=e.mod_id:"object"==typeof e.mod_id&&(t.mod_id=new W.LongBits(e.mod_id.low>>>0,e.mod_id.high>>>0).toNumber(!0))),e.draw_pages){if(!Array.isArray(e.draw_pages))throw TypeError(".proto_edu_tcpuplink.proto_draw_page_graphics.draw_pages: array expected");t.draw_pages=[];for(let o=0;o<e.draw_pages.length;++o){if("object"!=typeof e.draw_pages[o])throw TypeError(".proto_edu_tcpuplink.proto_draw_page_graphics.draw_pages: object expected");t.draw_pages[o]=Y.proto_edu_tcpuplink.proto_draw_page.fromObject(e.draw_pages[o])}}return null!=e.timestamp&&(W.Long?(t.timestamp=W.Long.fromValue(e.timestamp)).unsigned=!0:"string"==typeof e.timestamp?t.timestamp=parseInt(e.timestamp,10):"number"==typeof e.timestamp?t.timestamp=e.timestamp:"object"==typeof e.timestamp&&(t.timestamp=new W.LongBits(e.timestamp.low>>>0,e.timestamp.high>>>0).toNumber(!0))),t},e.toObject=function(e,t){t||(t={});let o={};if((t.arrays||t.defaults)&&(o.draw_pages=[]),t.defaults){if(o.req_head=null,W.Long){let e=new W.Long(0,0,!0);o.mod_id=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else o.mod_id=t.longs===String?"0":0;if(W.Long){let e=new W.Long(0,0,!0);o.timestamp=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else o.timestamp=t.longs===String?"0":0}if(null!=e.req_head&&e.hasOwnProperty("req_head")&&(o.req_head=Y.proto_edu_tcpuplink.ReqHead.toObject(e.req_head,t)),null!=e.mod_id&&e.hasOwnProperty("mod_id")&&("number"==typeof e.mod_id?o.mod_id=t.longs===String?String(e.mod_id):e.mod_id:o.mod_id=t.longs===String?W.Long.prototype.toString.call(e.mod_id):t.longs===Number?new W.LongBits(e.mod_id.low>>>0,e.mod_id.high>>>0).toNumber(!0):e.mod_id),e.draw_pages&&e.draw_pages.length){o.draw_pages=[];for(let r=0;r<e.draw_pages.length;++r)o.draw_pages[r]=Y.proto_edu_tcpuplink.proto_draw_page.toObject(e.draw_pages[r],t)}return null!=e.timestamp&&e.hasOwnProperty("timestamp")&&("number"==typeof e.timestamp?o.timestamp=t.longs===String?String(e.timestamp):e.timestamp:o.timestamp=t.longs===String?W.Long.prototype.toString.call(e.timestamp):t.longs===Number?new W.LongBits(e.timestamp.low>>>0,e.timestamp.high>>>0).toNumber(!0):e.timestamp),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,q.util.toJSONOptions)},e}(),e.proto_draw_page=function(){function e(e){if(this.draw_list=[],e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.page=0,e.prototype.graphic_list_seq=0,e.prototype.draw_list=W.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=U.create()),null!=e.page&&Object.hasOwnProperty.call(e,"page")&&t.uint32(8).uint32(e.page),null!=e.graphic_list_seq&&Object.hasOwnProperty.call(e,"graphic_list_seq")&&t.uint32(16).uint32(e.graphic_list_seq),null!=e.draw_list&&e.draw_list.length)for(let o=0;o<e.draw_list.length;++o)Y.proto_edu_tcpuplink.proto_draw.encode(e.draw_list[o],t.uint32(26).fork()).ldelim();return t},e.decode=function(e,t){e instanceof G||(e=G.create(e));let o=void 0===t?e.len:e.pos+t,r=new Y.proto_edu_tcpuplink.proto_draw_page;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.page=e.uint32();break;case 2:r.graphic_list_seq=e.uint32();break;case 3:r.draw_list&&r.draw_list.length||(r.draw_list=[]),r.draw_list.push(Y.proto_edu_tcpuplink.proto_draw.decode(e,e.uint32()));break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof Y.proto_edu_tcpuplink.proto_draw_page)return e;let t=new Y.proto_edu_tcpuplink.proto_draw_page;if(null!=e.page&&(t.page=e.page>>>0),null!=e.graphic_list_seq&&(t.graphic_list_seq=e.graphic_list_seq>>>0),e.draw_list){if(!Array.isArray(e.draw_list))throw TypeError(".proto_edu_tcpuplink.proto_draw_page.draw_list: array expected");t.draw_list=[];for(let o=0;o<e.draw_list.length;++o){if("object"!=typeof e.draw_list[o])throw TypeError(".proto_edu_tcpuplink.proto_draw_page.draw_list: object expected");t.draw_list[o]=Y.proto_edu_tcpuplink.proto_draw.fromObject(e.draw_list[o])}}return t},e.toObject=function(e,t){t||(t={});let o={};if((t.arrays||t.defaults)&&(o.draw_list=[]),t.defaults&&(o.page=0,o.graphic_list_seq=0),null!=e.page&&e.hasOwnProperty("page")&&(o.page=e.page),null!=e.graphic_list_seq&&e.hasOwnProperty("graphic_list_seq")&&(o.graphic_list_seq=e.graphic_list_seq),e.draw_list&&e.draw_list.length){o.draw_list=[];for(let r=0;r<e.draw_list.length;++r)o.draw_list[r]=Y.proto_edu_tcpuplink.proto_draw.toObject(e.draw_list[r],t)}return o},e.prototype.toJSON=function(){return this.constructor.toObject(this,q.util.toJSONOptions)},e}(),e.proto_draw_page_graphics_rsp=function(){function e(e){if(this.pages=[],this.graphic_list_seqs=[],e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.rsp_head=null,e.prototype.mod_id=W.Long?W.Long.fromBits(0,0,!0):0,e.prototype.pages=W.emptyArray,e.prototype.graphic_list_seqs=W.emptyArray,e.prototype.commit_time=W.Long?W.Long.fromBits(0,0,!1):0,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=U.create()),null!=e.rsp_head&&Object.hasOwnProperty.call(e,"rsp_head")&&Y.proto_edu_tcpuplink.RspHead.encode(e.rsp_head,t.uint32(10).fork()).ldelim(),null!=e.mod_id&&Object.hasOwnProperty.call(e,"mod_id")&&t.uint32(16).uint64(e.mod_id),null!=e.pages&&e.pages.length){t.uint32(26).fork();for(let o=0;o<e.pages.length;++o)t.uint32(e.pages[o]);t.ldelim()}if(null!=e.graphic_list_seqs&&e.graphic_list_seqs.length){t.uint32(34).fork();for(let o=0;o<e.graphic_list_seqs.length;++o)t.uint32(e.graphic_list_seqs[o]);t.ldelim()}return null!=e.commit_time&&Object.hasOwnProperty.call(e,"commit_time")&&t.uint32(40).int64(e.commit_time),t},e.decode=function(e,t){e instanceof G||(e=G.create(e));let o=void 0===t?e.len:e.pos+t,r=new Y.proto_edu_tcpuplink.proto_draw_page_graphics_rsp;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.rsp_head=Y.proto_edu_tcpuplink.RspHead.decode(e,e.uint32());break;case 2:r.mod_id=e.uint64();break;case 3:if(r.pages&&r.pages.length||(r.pages=[]),2==(7&t)){let t=e.uint32()+e.pos;for(;e.pos<t;)r.pages.push(e.uint32())}else r.pages.push(e.uint32());break;case 4:if(r.graphic_list_seqs&&r.graphic_list_seqs.length||(r.graphic_list_seqs=[]),2==(7&t)){let t=e.uint32()+e.pos;for(;e.pos<t;)r.graphic_list_seqs.push(e.uint32())}else r.graphic_list_seqs.push(e.uint32());break;case 5:r.commit_time=e.int64();break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof Y.proto_edu_tcpuplink.proto_draw_page_graphics_rsp)return e;let t=new Y.proto_edu_tcpuplink.proto_draw_page_graphics_rsp;if(null!=e.rsp_head){if("object"!=typeof e.rsp_head)throw TypeError(".proto_edu_tcpuplink.proto_draw_page_graphics_rsp.rsp_head: object expected");t.rsp_head=Y.proto_edu_tcpuplink.RspHead.fromObject(e.rsp_head)}if(null!=e.mod_id&&(W.Long?(t.mod_id=W.Long.fromValue(e.mod_id)).unsigned=!0:"string"==typeof e.mod_id?t.mod_id=parseInt(e.mod_id,10):"number"==typeof e.mod_id?t.mod_id=e.mod_id:"object"==typeof e.mod_id&&(t.mod_id=new W.LongBits(e.mod_id.low>>>0,e.mod_id.high>>>0).toNumber(!0))),e.pages){if(!Array.isArray(e.pages))throw TypeError(".proto_edu_tcpuplink.proto_draw_page_graphics_rsp.pages: array expected");t.pages=[];for(let o=0;o<e.pages.length;++o)t.pages[o]=e.pages[o]>>>0}if(e.graphic_list_seqs){if(!Array.isArray(e.graphic_list_seqs))throw TypeError(".proto_edu_tcpuplink.proto_draw_page_graphics_rsp.graphic_list_seqs: array expected");t.graphic_list_seqs=[];for(let o=0;o<e.graphic_list_seqs.length;++o)t.graphic_list_seqs[o]=e.graphic_list_seqs[o]>>>0}return null!=e.commit_time&&(W.Long?(t.commit_time=W.Long.fromValue(e.commit_time)).unsigned=!1:"string"==typeof e.commit_time?t.commit_time=parseInt(e.commit_time,10):"number"==typeof e.commit_time?t.commit_time=e.commit_time:"object"==typeof e.commit_time&&(t.commit_time=new W.LongBits(e.commit_time.low>>>0,e.commit_time.high>>>0).toNumber())),t},e.toObject=function(e,t){t||(t={});let o={};if((t.arrays||t.defaults)&&(o.pages=[],o.graphic_list_seqs=[]),t.defaults){if(o.rsp_head=null,W.Long){let e=new W.Long(0,0,!0);o.mod_id=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else o.mod_id=t.longs===String?"0":0;if(W.Long){let e=new W.Long(0,0,!1);o.commit_time=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else o.commit_time=t.longs===String?"0":0}if(null!=e.rsp_head&&e.hasOwnProperty("rsp_head")&&(o.rsp_head=Y.proto_edu_tcpuplink.RspHead.toObject(e.rsp_head,t)),null!=e.mod_id&&e.hasOwnProperty("mod_id")&&("number"==typeof e.mod_id?o.mod_id=t.longs===String?String(e.mod_id):e.mod_id:o.mod_id=t.longs===String?W.Long.prototype.toString.call(e.mod_id):t.longs===Number?new W.LongBits(e.mod_id.low>>>0,e.mod_id.high>>>0).toNumber(!0):e.mod_id),e.pages&&e.pages.length){o.pages=[];for(let t=0;t<e.pages.length;++t)o.pages[t]=e.pages[t]}if(e.graphic_list_seqs&&e.graphic_list_seqs.length){o.graphic_list_seqs=[];for(let t=0;t<e.graphic_list_seqs.length;++t)o.graphic_list_seqs[t]=e.graphic_list_seqs[t]}return null!=e.commit_time&&e.hasOwnProperty("commit_time")&&("number"==typeof e.commit_time?o.commit_time=t.longs===String?String(e.commit_time):e.commit_time:o.commit_time=t.longs===String?W.Long.prototype.toString.call(e.commit_time):t.longs===Number?new W.LongBits(e.commit_time.low>>>0,e.commit_time.high>>>0).toNumber():e.commit_time),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,q.util.toJSONOptions)},e}(),e.proto_draw=function(){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.graphic_id=W.Long?W.Long.fromBits(0,0,!0):0,e.prototype.action=0,e.prototype.action_type=0,e.prototype.type=0,e.prototype.zorder=0,e.prototype.x=0,e.prototype.y=0,e.prototype.px=0,e.prototype.py=0,e.prototype.data=W.newBuffer([]),e.prototype.size=0,e.prototype.color=0,e.prototype.width=0,e.prototype.height=0,e.prototype.attributes=W.newBuffer([]),e.prototype.operate_id="",e.prototype.is_end_draw=!1,e.prototype.layer=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=U.create()),null!=e.graphic_id&&Object.hasOwnProperty.call(e,"graphic_id")&&t.uint32(8).uint64(e.graphic_id),null!=e.action&&Object.hasOwnProperty.call(e,"action")&&t.uint32(16).int32(e.action),null!=e.action_type&&Object.hasOwnProperty.call(e,"action_type")&&t.uint32(24).int32(e.action_type),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(32).int32(e.type),null!=e.zorder&&Object.hasOwnProperty.call(e,"zorder")&&t.uint32(40).int32(e.zorder),null!=e.x&&Object.hasOwnProperty.call(e,"x")&&t.uint32(48).int32(e.x),null!=e.y&&Object.hasOwnProperty.call(e,"y")&&t.uint32(56).int32(e.y),null!=e.px&&Object.hasOwnProperty.call(e,"px")&&t.uint32(64).int32(e.px),null!=e.py&&Object.hasOwnProperty.call(e,"py")&&t.uint32(72).int32(e.py),null!=e.data&&Object.hasOwnProperty.call(e,"data")&&t.uint32(82).bytes(e.data),null!=e.size&&Object.hasOwnProperty.call(e,"size")&&t.uint32(88).int32(e.size),null!=e.color&&Object.hasOwnProperty.call(e,"color")&&t.uint32(96).uint32(e.color),null!=e.width&&Object.hasOwnProperty.call(e,"width")&&t.uint32(104).int32(e.width),null!=e.height&&Object.hasOwnProperty.call(e,"height")&&t.uint32(112).int32(e.height),null!=e.attributes&&Object.hasOwnProperty.call(e,"attributes")&&t.uint32(122).bytes(e.attributes),null!=e.operate_id&&Object.hasOwnProperty.call(e,"operate_id")&&t.uint32(130).string(e.operate_id),null!=e.is_end_draw&&Object.hasOwnProperty.call(e,"is_end_draw")&&t.uint32(136).bool(e.is_end_draw),null!=e.layer&&Object.hasOwnProperty.call(e,"layer")&&t.uint32(144).uint32(e.layer),t},e.decode=function(e,t){e instanceof G||(e=G.create(e));let o=void 0===t?e.len:e.pos+t,r=new Y.proto_edu_tcpuplink.proto_draw;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.graphic_id=e.uint64();break;case 2:r.action=e.int32();break;case 3:r.action_type=e.int32();break;case 4:r.type=e.int32();break;case 5:r.zorder=e.int32();break;case 6:r.x=e.int32();break;case 7:r.y=e.int32();break;case 8:r.px=e.int32();break;case 9:r.py=e.int32();break;case 10:r.data=e.bytes();break;case 11:r.size=e.int32();break;case 12:r.color=e.uint32();break;case 13:r.width=e.int32();break;case 14:r.height=e.int32();break;case 15:r.attributes=e.bytes();break;case 16:r.operate_id=e.string();break;case 17:r.is_end_draw=e.bool();break;case 18:r.layer=e.uint32();break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof Y.proto_edu_tcpuplink.proto_draw)return e;let t=new Y.proto_edu_tcpuplink.proto_draw;return null!=e.graphic_id&&(W.Long?(t.graphic_id=W.Long.fromValue(e.graphic_id)).unsigned=!0:"string"==typeof e.graphic_id?t.graphic_id=parseInt(e.graphic_id,10):"number"==typeof e.graphic_id?t.graphic_id=e.graphic_id:"object"==typeof e.graphic_id&&(t.graphic_id=new W.LongBits(e.graphic_id.low>>>0,e.graphic_id.high>>>0).toNumber(!0))),null!=e.action&&(t.action=0|e.action),null!=e.action_type&&(t.action_type=0|e.action_type),null!=e.type&&(t.type=0|e.type),null!=e.zorder&&(t.zorder=0|e.zorder),null!=e.x&&(t.x=0|e.x),null!=e.y&&(t.y=0|e.y),null!=e.px&&(t.px=0|e.px),null!=e.py&&(t.py=0|e.py),null!=e.data&&("string"==typeof e.data?W.base64.decode(e.data,t.data=W.newBuffer(W.base64.length(e.data)),0):e.data.length&&(t.data=e.data)),null!=e.size&&(t.size=0|e.size),null!=e.color&&(t.color=e.color>>>0),null!=e.width&&(t.width=0|e.width),null!=e.height&&(t.height=0|e.height),null!=e.attributes&&("string"==typeof e.attributes?W.base64.decode(e.attributes,t.attributes=W.newBuffer(W.base64.length(e.attributes)),0):e.attributes.length&&(t.attributes=e.attributes)),null!=e.operate_id&&(t.operate_id=String(e.operate_id)),null!=e.is_end_draw&&(t.is_end_draw=Boolean(e.is_end_draw)),null!=e.layer&&(t.layer=e.layer>>>0),t},e.toObject=function(e,t){t||(t={});let o={};if(t.defaults){if(W.Long){let e=new W.Long(0,0,!0);o.graphic_id=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else o.graphic_id=t.longs===String?"0":0;o.action=0,o.action_type=0,o.type=0,o.zorder=0,o.x=0,o.y=0,o.px=0,o.py=0,t.bytes===String?o.data="":(o.data=[],t.bytes!==Array&&(o.data=W.newBuffer(o.data))),o.size=0,o.color=0,o.width=0,o.height=0,t.bytes===String?o.attributes="":(o.attributes=[],t.bytes!==Array&&(o.attributes=W.newBuffer(o.attributes))),o.operate_id="",o.is_end_draw=!1,o.layer=0}return null!=e.graphic_id&&e.hasOwnProperty("graphic_id")&&("number"==typeof e.graphic_id?o.graphic_id=t.longs===String?String(e.graphic_id):e.graphic_id:o.graphic_id=t.longs===String?W.Long.prototype.toString.call(e.graphic_id):t.longs===Number?new W.LongBits(e.graphic_id.low>>>0,e.graphic_id.high>>>0).toNumber(!0):e.graphic_id),null!=e.action&&e.hasOwnProperty("action")&&(o.action=e.action),null!=e.action_type&&e.hasOwnProperty("action_type")&&(o.action_type=e.action_type),null!=e.type&&e.hasOwnProperty("type")&&(o.type=e.type),null!=e.zorder&&e.hasOwnProperty("zorder")&&(o.zorder=e.zorder),null!=e.x&&e.hasOwnProperty("x")&&(o.x=e.x),null!=e.y&&e.hasOwnProperty("y")&&(o.y=e.y),null!=e.px&&e.hasOwnProperty("px")&&(o.px=e.px),null!=e.py&&e.hasOwnProperty("py")&&(o.py=e.py),null!=e.data&&e.hasOwnProperty("data")&&(o.data=t.bytes===String?W.base64.encode(e.data,0,e.data.length):t.bytes===Array?Array.prototype.slice.call(e.data):e.data),null!=e.size&&e.hasOwnProperty("size")&&(o.size=e.size),null!=e.color&&e.hasOwnProperty("color")&&(o.color=e.color),null!=e.width&&e.hasOwnProperty("width")&&(o.width=e.width),null!=e.height&&e.hasOwnProperty("height")&&(o.height=e.height),null!=e.attributes&&e.hasOwnProperty("attributes")&&(o.attributes=t.bytes===String?W.base64.encode(e.attributes,0,e.attributes.length):t.bytes===Array?Array.prototype.slice.call(e.attributes):e.attributes),null!=e.operate_id&&e.hasOwnProperty("operate_id")&&(o.operate_id=e.operate_id),null!=e.is_end_draw&&e.hasOwnProperty("is_end_draw")&&(o.is_end_draw=e.is_end_draw),null!=e.layer&&e.hasOwnProperty("layer")&&(o.layer=e.layer),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,q.util.toJSONOptions)},e}(),e.proto_clear_page_graphics=function(){function e(e){if(this.layers=[],e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.req_head=null,e.prototype.mod_id=W.Long?W.Long.fromBits(0,0,!0):0,e.prototype.timestamp=W.Long?W.Long.fromBits(0,0,!0):0,e.prototype.layers=W.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=U.create()),null!=e.req_head&&Object.hasOwnProperty.call(e,"req_head")&&Y.proto_edu_tcpuplink.ReqHead.encode(e.req_head,t.uint32(10).fork()).ldelim(),null!=e.mod_id&&Object.hasOwnProperty.call(e,"mod_id")&&t.uint32(16).uint64(e.mod_id),null!=e.timestamp&&Object.hasOwnProperty.call(e,"timestamp")&&t.uint32(24).uint64(e.timestamp),null!=e.layers&&e.layers.length){t.uint32(34).fork();for(let o=0;o<e.layers.length;++o)t.uint32(e.layers[o]);t.ldelim()}return t},e.decode=function(e,t){e instanceof G||(e=G.create(e));let o=void 0===t?e.len:e.pos+t,r=new Y.proto_edu_tcpuplink.proto_clear_page_graphics;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.req_head=Y.proto_edu_tcpuplink.ReqHead.decode(e,e.uint32());break;case 2:r.mod_id=e.uint64();break;case 3:r.timestamp=e.uint64();break;case 4:if(r.layers&&r.layers.length||(r.layers=[]),2==(7&t)){let t=e.uint32()+e.pos;for(;e.pos<t;)r.layers.push(e.uint32())}else r.layers.push(e.uint32());break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof Y.proto_edu_tcpuplink.proto_clear_page_graphics)return e;let t=new Y.proto_edu_tcpuplink.proto_clear_page_graphics;if(null!=e.req_head){if("object"!=typeof e.req_head)throw TypeError(".proto_edu_tcpuplink.proto_clear_page_graphics.req_head: object expected");t.req_head=Y.proto_edu_tcpuplink.ReqHead.fromObject(e.req_head)}if(null!=e.mod_id&&(W.Long?(t.mod_id=W.Long.fromValue(e.mod_id)).unsigned=!0:"string"==typeof e.mod_id?t.mod_id=parseInt(e.mod_id,10):"number"==typeof e.mod_id?t.mod_id=e.mod_id:"object"==typeof e.mod_id&&(t.mod_id=new W.LongBits(e.mod_id.low>>>0,e.mod_id.high>>>0).toNumber(!0))),null!=e.timestamp&&(W.Long?(t.timestamp=W.Long.fromValue(e.timestamp)).unsigned=!0:"string"==typeof e.timestamp?t.timestamp=parseInt(e.timestamp,10):"number"==typeof e.timestamp?t.timestamp=e.timestamp:"object"==typeof e.timestamp&&(t.timestamp=new W.LongBits(e.timestamp.low>>>0,e.timestamp.high>>>0).toNumber(!0))),e.layers){if(!Array.isArray(e.layers))throw TypeError(".proto_edu_tcpuplink.proto_clear_page_graphics.layers: array expected");t.layers=[];for(let o=0;o<e.layers.length;++o)t.layers[o]=e.layers[o]>>>0}return t},e.toObject=function(e,t){t||(t={});let o={};if((t.arrays||t.defaults)&&(o.layers=[]),t.defaults){if(o.req_head=null,W.Long){let e=new W.Long(0,0,!0);o.mod_id=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else o.mod_id=t.longs===String?"0":0;if(W.Long){let e=new W.Long(0,0,!0);o.timestamp=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else o.timestamp=t.longs===String?"0":0}if(null!=e.req_head&&e.hasOwnProperty("req_head")&&(o.req_head=Y.proto_edu_tcpuplink.ReqHead.toObject(e.req_head,t)),null!=e.mod_id&&e.hasOwnProperty("mod_id")&&("number"==typeof e.mod_id?o.mod_id=t.longs===String?String(e.mod_id):e.mod_id:o.mod_id=t.longs===String?W.Long.prototype.toString.call(e.mod_id):t.longs===Number?new W.LongBits(e.mod_id.low>>>0,e.mod_id.high>>>0).toNumber(!0):e.mod_id),null!=e.timestamp&&e.hasOwnProperty("timestamp")&&("number"==typeof e.timestamp?o.timestamp=t.longs===String?String(e.timestamp):e.timestamp:o.timestamp=t.longs===String?W.Long.prototype.toString.call(e.timestamp):t.longs===Number?new W.LongBits(e.timestamp.low>>>0,e.timestamp.high>>>0).toNumber(!0):e.timestamp),e.layers&&e.layers.length){o.layers=[];for(let t=0;t<e.layers.length;++t)o.layers[t]=e.layers[t]}return o},e.prototype.toJSON=function(){return this.constructor.toObject(this,q.util.toJSONOptions)},e}(),e.proto_clear_page_graphics_rsp=function(){function e(e){if(this.pages=[],this.graphic_list_seqs=[],e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.rsp_head=null,e.prototype.mod_id=W.Long?W.Long.fromBits(0,0,!0):0,e.prototype.pages=W.emptyArray,e.prototype.graphic_list_seqs=W.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=U.create()),null!=e.rsp_head&&Object.hasOwnProperty.call(e,"rsp_head")&&Y.proto_edu_tcpuplink.RspHead.encode(e.rsp_head,t.uint32(10).fork()).ldelim(),null!=e.mod_id&&Object.hasOwnProperty.call(e,"mod_id")&&t.uint32(16).uint64(e.mod_id),null!=e.pages&&e.pages.length){t.uint32(26).fork();for(let o=0;o<e.pages.length;++o)t.uint32(e.pages[o]);t.ldelim()}if(null!=e.graphic_list_seqs&&e.graphic_list_seqs.length){t.uint32(34).fork();for(let o=0;o<e.graphic_list_seqs.length;++o)t.uint32(e.graphic_list_seqs[o]);t.ldelim()}return t},e.decode=function(e,t){e instanceof G||(e=G.create(e));let o=void 0===t?e.len:e.pos+t,r=new Y.proto_edu_tcpuplink.proto_clear_page_graphics_rsp;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.rsp_head=Y.proto_edu_tcpuplink.RspHead.decode(e,e.uint32());break;case 2:r.mod_id=e.uint64();break;case 3:if(r.pages&&r.pages.length||(r.pages=[]),2==(7&t)){let t=e.uint32()+e.pos;for(;e.pos<t;)r.pages.push(e.uint32())}else r.pages.push(e.uint32());break;case 4:if(r.graphic_list_seqs&&r.graphic_list_seqs.length||(r.graphic_list_seqs=[]),2==(7&t)){let t=e.uint32()+e.pos;for(;e.pos<t;)r.graphic_list_seqs.push(e.uint32())}else r.graphic_list_seqs.push(e.uint32());break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof Y.proto_edu_tcpuplink.proto_clear_page_graphics_rsp)return e;let t=new Y.proto_edu_tcpuplink.proto_clear_page_graphics_rsp;if(null!=e.rsp_head){if("object"!=typeof e.rsp_head)throw TypeError(".proto_edu_tcpuplink.proto_clear_page_graphics_rsp.rsp_head: object expected");t.rsp_head=Y.proto_edu_tcpuplink.RspHead.fromObject(e.rsp_head)}if(null!=e.mod_id&&(W.Long?(t.mod_id=W.Long.fromValue(e.mod_id)).unsigned=!0:"string"==typeof e.mod_id?t.mod_id=parseInt(e.mod_id,10):"number"==typeof e.mod_id?t.mod_id=e.mod_id:"object"==typeof e.mod_id&&(t.mod_id=new W.LongBits(e.mod_id.low>>>0,e.mod_id.high>>>0).toNumber(!0))),e.pages){if(!Array.isArray(e.pages))throw TypeError(".proto_edu_tcpuplink.proto_clear_page_graphics_rsp.pages: array expected");t.pages=[];for(let o=0;o<e.pages.length;++o)t.pages[o]=e.pages[o]>>>0}if(e.graphic_list_seqs){if(!Array.isArray(e.graphic_list_seqs))throw TypeError(".proto_edu_tcpuplink.proto_clear_page_graphics_rsp.graphic_list_seqs: array expected");t.graphic_list_seqs=[];for(let o=0;o<e.graphic_list_seqs.length;++o)t.graphic_list_seqs[o]=e.graphic_list_seqs[o]>>>0}return t},e.toObject=function(e,t){t||(t={});let o={};if((t.arrays||t.defaults)&&(o.pages=[],o.graphic_list_seqs=[]),t.defaults)if(o.rsp_head=null,W.Long){let e=new W.Long(0,0,!0);o.mod_id=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else o.mod_id=t.longs===String?"0":0;if(null!=e.rsp_head&&e.hasOwnProperty("rsp_head")&&(o.rsp_head=Y.proto_edu_tcpuplink.RspHead.toObject(e.rsp_head,t)),null!=e.mod_id&&e.hasOwnProperty("mod_id")&&("number"==typeof e.mod_id?o.mod_id=t.longs===String?String(e.mod_id):e.mod_id:o.mod_id=t.longs===String?W.Long.prototype.toString.call(e.mod_id):t.longs===Number?new W.LongBits(e.mod_id.low>>>0,e.mod_id.high>>>0).toNumber(!0):e.mod_id),e.pages&&e.pages.length){o.pages=[];for(let t=0;t<e.pages.length;++t)o.pages[t]=e.pages[t]}if(e.graphic_list_seqs&&e.graphic_list_seqs.length){o.graphic_list_seqs=[];for(let t=0;t<e.graphic_list_seqs.length;++t)o.graphic_list_seqs[t]=e.graphic_list_seqs[t]}return o},e.prototype.toJSON=function(){return this.constructor.toObject(this,q.util.toJSONOptions)},e}(),e.proto_get_page_graphics=function(){function e(e){if(this.pages=[],this.graphic_list_seqs=[],e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.req_head=null,e.prototype.mod_id=W.Long?W.Long.fromBits(0,0,!0):0,e.prototype.pages=W.emptyArray,e.prototype.graphic_list_seqs=W.emptyArray,e.prototype.limit=0,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=U.create()),null!=e.req_head&&Object.hasOwnProperty.call(e,"req_head")&&Y.proto_edu_tcpuplink.ReqHead.encode(e.req_head,t.uint32(10).fork()).ldelim(),null!=e.mod_id&&Object.hasOwnProperty.call(e,"mod_id")&&t.uint32(16).uint64(e.mod_id),null!=e.pages&&e.pages.length){t.uint32(26).fork();for(let o=0;o<e.pages.length;++o)t.uint32(e.pages[o]);t.ldelim()}if(null!=e.graphic_list_seqs&&e.graphic_list_seqs.length){t.uint32(34).fork();for(let o=0;o<e.graphic_list_seqs.length;++o)t.uint32(e.graphic_list_seqs[o]);t.ldelim()}return null!=e.limit&&Object.hasOwnProperty.call(e,"limit")&&t.uint32(40).uint32(e.limit),t},e.decode=function(e,t){e instanceof G||(e=G.create(e));let o=void 0===t?e.len:e.pos+t,r=new Y.proto_edu_tcpuplink.proto_get_page_graphics;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.req_head=Y.proto_edu_tcpuplink.ReqHead.decode(e,e.uint32());break;case 2:r.mod_id=e.uint64();break;case 3:if(r.pages&&r.pages.length||(r.pages=[]),2==(7&t)){let t=e.uint32()+e.pos;for(;e.pos<t;)r.pages.push(e.uint32())}else r.pages.push(e.uint32());break;case 4:if(r.graphic_list_seqs&&r.graphic_list_seqs.length||(r.graphic_list_seqs=[]),2==(7&t)){let t=e.uint32()+e.pos;for(;e.pos<t;)r.graphic_list_seqs.push(e.uint32())}else r.graphic_list_seqs.push(e.uint32());break;case 5:r.limit=e.uint32();break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof Y.proto_edu_tcpuplink.proto_get_page_graphics)return e;let t=new Y.proto_edu_tcpuplink.proto_get_page_graphics;if(null!=e.req_head){if("object"!=typeof e.req_head)throw TypeError(".proto_edu_tcpuplink.proto_get_page_graphics.req_head: object expected");t.req_head=Y.proto_edu_tcpuplink.ReqHead.fromObject(e.req_head)}if(null!=e.mod_id&&(W.Long?(t.mod_id=W.Long.fromValue(e.mod_id)).unsigned=!0:"string"==typeof e.mod_id?t.mod_id=parseInt(e.mod_id,10):"number"==typeof e.mod_id?t.mod_id=e.mod_id:"object"==typeof e.mod_id&&(t.mod_id=new W.LongBits(e.mod_id.low>>>0,e.mod_id.high>>>0).toNumber(!0))),e.pages){if(!Array.isArray(e.pages))throw TypeError(".proto_edu_tcpuplink.proto_get_page_graphics.pages: array expected");t.pages=[];for(let o=0;o<e.pages.length;++o)t.pages[o]=e.pages[o]>>>0}if(e.graphic_list_seqs){if(!Array.isArray(e.graphic_list_seqs))throw TypeError(".proto_edu_tcpuplink.proto_get_page_graphics.graphic_list_seqs: array expected");t.graphic_list_seqs=[];for(let o=0;o<e.graphic_list_seqs.length;++o)t.graphic_list_seqs[o]=e.graphic_list_seqs[o]>>>0}return null!=e.limit&&(t.limit=e.limit>>>0),t},e.toObject=function(e,t){t||(t={});let o={};if((t.arrays||t.defaults)&&(o.pages=[],o.graphic_list_seqs=[]),t.defaults){if(o.req_head=null,W.Long){let e=new W.Long(0,0,!0);o.mod_id=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else o.mod_id=t.longs===String?"0":0;o.limit=0}if(null!=e.req_head&&e.hasOwnProperty("req_head")&&(o.req_head=Y.proto_edu_tcpuplink.ReqHead.toObject(e.req_head,t)),null!=e.mod_id&&e.hasOwnProperty("mod_id")&&("number"==typeof e.mod_id?o.mod_id=t.longs===String?String(e.mod_id):e.mod_id:o.mod_id=t.longs===String?W.Long.prototype.toString.call(e.mod_id):t.longs===Number?new W.LongBits(e.mod_id.low>>>0,e.mod_id.high>>>0).toNumber(!0):e.mod_id),e.pages&&e.pages.length){o.pages=[];for(let t=0;t<e.pages.length;++t)o.pages[t]=e.pages[t]}if(e.graphic_list_seqs&&e.graphic_list_seqs.length){o.graphic_list_seqs=[];for(let t=0;t<e.graphic_list_seqs.length;++t)o.graphic_list_seqs[t]=e.graphic_list_seqs[t]}return null!=e.limit&&e.hasOwnProperty("limit")&&(o.limit=e.limit),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,q.util.toJSONOptions)},e}(),e.proto_get_page_graphics_info=function(){function e(e){if(this.graphic_list=[],this.del_graphic_id_list=[],e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.page=0,e.prototype.ret_graphic_list_seq=0,e.prototype.svr_graphic_list_seq=0,e.prototype.graphic_list=W.emptyArray,e.prototype.del_graphic_id_list=W.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=U.create()),null!=e.page&&Object.hasOwnProperty.call(e,"page")&&t.uint32(8).uint32(e.page),null!=e.ret_graphic_list_seq&&Object.hasOwnProperty.call(e,"ret_graphic_list_seq")&&t.uint32(16).uint32(e.ret_graphic_list_seq),null!=e.svr_graphic_list_seq&&Object.hasOwnProperty.call(e,"svr_graphic_list_seq")&&t.uint32(24).uint32(e.svr_graphic_list_seq),null!=e.graphic_list&&e.graphic_list.length)for(let o=0;o<e.graphic_list.length;++o)Y.proto_edu_tcpuplink.proto_graphic.encode(e.graphic_list[o],t.uint32(34).fork()).ldelim();if(null!=e.del_graphic_id_list&&e.del_graphic_id_list.length){t.uint32(42).fork();for(let o=0;o<e.del_graphic_id_list.length;++o)t.uint64(e.del_graphic_id_list[o]);t.ldelim()}return t},e.decode=function(e,t){e instanceof G||(e=G.create(e));let o=void 0===t?e.len:e.pos+t,r=new Y.proto_edu_tcpuplink.proto_get_page_graphics_info;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.page=e.uint32();break;case 2:r.ret_graphic_list_seq=e.uint32();break;case 3:r.svr_graphic_list_seq=e.uint32();break;case 4:r.graphic_list&&r.graphic_list.length||(r.graphic_list=[]),r.graphic_list.push(Y.proto_edu_tcpuplink.proto_graphic.decode(e,e.uint32()));break;case 5:if(r.del_graphic_id_list&&r.del_graphic_id_list.length||(r.del_graphic_id_list=[]),2==(7&t)){let t=e.uint32()+e.pos;for(;e.pos<t;)r.del_graphic_id_list.push(e.uint64())}else r.del_graphic_id_list.push(e.uint64());break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof Y.proto_edu_tcpuplink.proto_get_page_graphics_info)return e;let t=new Y.proto_edu_tcpuplink.proto_get_page_graphics_info;if(null!=e.page&&(t.page=e.page>>>0),null!=e.ret_graphic_list_seq&&(t.ret_graphic_list_seq=e.ret_graphic_list_seq>>>0),null!=e.svr_graphic_list_seq&&(t.svr_graphic_list_seq=e.svr_graphic_list_seq>>>0),e.graphic_list){if(!Array.isArray(e.graphic_list))throw TypeError(".proto_edu_tcpuplink.proto_get_page_graphics_info.graphic_list: array expected");t.graphic_list=[];for(let o=0;o<e.graphic_list.length;++o){if("object"!=typeof e.graphic_list[o])throw TypeError(".proto_edu_tcpuplink.proto_get_page_graphics_info.graphic_list: object expected");t.graphic_list[o]=Y.proto_edu_tcpuplink.proto_graphic.fromObject(e.graphic_list[o])}}if(e.del_graphic_id_list){if(!Array.isArray(e.del_graphic_id_list))throw TypeError(".proto_edu_tcpuplink.proto_get_page_graphics_info.del_graphic_id_list: array expected");t.del_graphic_id_list=[];for(let o=0;o<e.del_graphic_id_list.length;++o)W.Long?(t.del_graphic_id_list[o]=W.Long.fromValue(e.del_graphic_id_list[o])).unsigned=!0:"string"==typeof e.del_graphic_id_list[o]?t.del_graphic_id_list[o]=parseInt(e.del_graphic_id_list[o],10):"number"==typeof e.del_graphic_id_list[o]?t.del_graphic_id_list[o]=e.del_graphic_id_list[o]:"object"==typeof e.del_graphic_id_list[o]&&(t.del_graphic_id_list[o]=new W.LongBits(e.del_graphic_id_list[o].low>>>0,e.del_graphic_id_list[o].high>>>0).toNumber(!0))}return t},e.toObject=function(e,t){t||(t={});let o={};if((t.arrays||t.defaults)&&(o.graphic_list=[],o.del_graphic_id_list=[]),t.defaults&&(o.page=0,o.ret_graphic_list_seq=0,o.svr_graphic_list_seq=0),null!=e.page&&e.hasOwnProperty("page")&&(o.page=e.page),null!=e.ret_graphic_list_seq&&e.hasOwnProperty("ret_graphic_list_seq")&&(o.ret_graphic_list_seq=e.ret_graphic_list_seq),null!=e.svr_graphic_list_seq&&e.hasOwnProperty("svr_graphic_list_seq")&&(o.svr_graphic_list_seq=e.svr_graphic_list_seq),e.graphic_list&&e.graphic_list.length){o.graphic_list=[];for(let r=0;r<e.graphic_list.length;++r)o.graphic_list[r]=Y.proto_edu_tcpuplink.proto_graphic.toObject(e.graphic_list[r],t)}if(e.del_graphic_id_list&&e.del_graphic_id_list.length){o.del_graphic_id_list=[];for(let r=0;r<e.del_graphic_id_list.length;++r)"number"==typeof e.del_graphic_id_list[r]?o.del_graphic_id_list[r]=t.longs===String?String(e.del_graphic_id_list[r]):e.del_graphic_id_list[r]:o.del_graphic_id_list[r]=t.longs===String?W.Long.prototype.toString.call(e.del_graphic_id_list[r]):t.longs===Number?new W.LongBits(e.del_graphic_id_list[r].low>>>0,e.del_graphic_id_list[r].high>>>0).toNumber(!0):e.del_graphic_id_list[r]}return o},e.prototype.toJSON=function(){return this.constructor.toObject(this,q.util.toJSONOptions)},e}(),e.proto_get_page_graphics_rsp=function(){function e(e){if(this.pages=[],e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.rsp_head=null,e.prototype.pages=W.emptyArray,e.prototype.operate_expire_time=W.Long?W.Long.fromBits(0,0,!0):0,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=U.create()),null!=e.rsp_head&&Object.hasOwnProperty.call(e,"rsp_head")&&Y.proto_edu_tcpuplink.RspHead.encode(e.rsp_head,t.uint32(10).fork()).ldelim(),null!=e.pages&&e.pages.length)for(let o=0;o<e.pages.length;++o)Y.proto_edu_tcpuplink.proto_get_page_graphics_info.encode(e.pages[o],t.uint32(18).fork()).ldelim();return null!=e.operate_expire_time&&Object.hasOwnProperty.call(e,"operate_expire_time")&&t.uint32(24).uint64(e.operate_expire_time),t},e.decode=function(e,t){e instanceof G||(e=G.create(e));let o=void 0===t?e.len:e.pos+t,r=new Y.proto_edu_tcpuplink.proto_get_page_graphics_rsp;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.rsp_head=Y.proto_edu_tcpuplink.RspHead.decode(e,e.uint32());break;case 2:r.pages&&r.pages.length||(r.pages=[]),r.pages.push(Y.proto_edu_tcpuplink.proto_get_page_graphics_info.decode(e,e.uint32()));break;case 3:r.operate_expire_time=e.uint64();break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof Y.proto_edu_tcpuplink.proto_get_page_graphics_rsp)return e;let t=new Y.proto_edu_tcpuplink.proto_get_page_graphics_rsp;if(null!=e.rsp_head){if("object"!=typeof e.rsp_head)throw TypeError(".proto_edu_tcpuplink.proto_get_page_graphics_rsp.rsp_head: object expected");t.rsp_head=Y.proto_edu_tcpuplink.RspHead.fromObject(e.rsp_head)}if(e.pages){if(!Array.isArray(e.pages))throw TypeError(".proto_edu_tcpuplink.proto_get_page_graphics_rsp.pages: array expected");t.pages=[];for(let o=0;o<e.pages.length;++o){if("object"!=typeof e.pages[o])throw TypeError(".proto_edu_tcpuplink.proto_get_page_graphics_rsp.pages: object expected");t.pages[o]=Y.proto_edu_tcpuplink.proto_get_page_graphics_info.fromObject(e.pages[o])}}return null!=e.operate_expire_time&&(W.Long?(t.operate_expire_time=W.Long.fromValue(e.operate_expire_time)).unsigned=!0:"string"==typeof e.operate_expire_time?t.operate_expire_time=parseInt(e.operate_expire_time,10):"number"==typeof e.operate_expire_time?t.operate_expire_time=e.operate_expire_time:"object"==typeof e.operate_expire_time&&(t.operate_expire_time=new W.LongBits(e.operate_expire_time.low>>>0,e.operate_expire_time.high>>>0).toNumber(!0))),t},e.toObject=function(e,t){t||(t={});let o={};if((t.arrays||t.defaults)&&(o.pages=[]),t.defaults)if(o.rsp_head=null,W.Long){let e=new W.Long(0,0,!0);o.operate_expire_time=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else o.operate_expire_time=t.longs===String?"0":0;if(null!=e.rsp_head&&e.hasOwnProperty("rsp_head")&&(o.rsp_head=Y.proto_edu_tcpuplink.RspHead.toObject(e.rsp_head,t)),e.pages&&e.pages.length){o.pages=[];for(let r=0;r<e.pages.length;++r)o.pages[r]=Y.proto_edu_tcpuplink.proto_get_page_graphics_info.toObject(e.pages[r],t)}return null!=e.operate_expire_time&&e.hasOwnProperty("operate_expire_time")&&("number"==typeof e.operate_expire_time?o.operate_expire_time=t.longs===String?String(e.operate_expire_time):e.operate_expire_time:o.operate_expire_time=t.longs===String?W.Long.prototype.toString.call(e.operate_expire_time):t.longs===Number?new W.LongBits(e.operate_expire_time.low>>>0,e.operate_expire_time.high>>>0).toNumber(!0):e.operate_expire_time),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,q.util.toJSONOptions)},e}(),e.proto_get_user_auth_req=function(){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.req_head=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=U.create()),null!=e.req_head&&Object.hasOwnProperty.call(e,"req_head")&&Y.proto_edu_tcpuplink.ReqHead.encode(e.req_head,t.uint32(10).fork()).ldelim(),t},e.decode=function(e,t){e instanceof G||(e=G.create(e));let o=void 0===t?e.len:e.pos+t,r=new Y.proto_edu_tcpuplink.proto_get_user_auth_req;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.req_head=Y.proto_edu_tcpuplink.ReqHead.decode(e,e.uint32());break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof Y.proto_edu_tcpuplink.proto_get_user_auth_req)return e;let t=new Y.proto_edu_tcpuplink.proto_get_user_auth_req;if(null!=e.req_head){if("object"!=typeof e.req_head)throw TypeError(".proto_edu_tcpuplink.proto_get_user_auth_req.req_head: object expected");t.req_head=Y.proto_edu_tcpuplink.ReqHead.fromObject(e.req_head)}return t},e.toObject=function(e,t){t||(t={});let o={};return t.defaults&&(o.req_head=null),null!=e.req_head&&e.hasOwnProperty("req_head")&&(o.req_head=Y.proto_edu_tcpuplink.ReqHead.toObject(e.req_head,t)),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,q.util.toJSONOptions)},e}(),e.proto_get_user_auth_rsp=function(){function e(e){if(this.module_auth=[],this.graphic_auth=[],e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.rsp_head=null,e.prototype.id_name=W.newBuffer([]),e.prototype.auth_seq=0,e.prototype.module_auth=W.emptyArray,e.prototype.graphic_auth=W.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=U.create()),null!=e.rsp_head&&Object.hasOwnProperty.call(e,"rsp_head")&&Y.proto_edu_tcpuplink.RspHead.encode(e.rsp_head,t.uint32(10).fork()).ldelim(),null!=e.id_name&&Object.hasOwnProperty.call(e,"id_name")&&t.uint32(18).bytes(e.id_name),null!=e.auth_seq&&Object.hasOwnProperty.call(e,"auth_seq")&&t.uint32(24).uint32(e.auth_seq),null!=e.module_auth&&e.module_auth.length){t.uint32(34).fork();for(let o=0;o<e.module_auth.length;++o)t.uint32(e.module_auth[o]);t.ldelim()}if(null!=e.graphic_auth&&e.graphic_auth.length){t.uint32(42).fork();for(let o=0;o<e.graphic_auth.length;++o)t.uint32(e.graphic_auth[o]);t.ldelim()}return t},e.decode=function(e,t){e instanceof G||(e=G.create(e));let o=void 0===t?e.len:e.pos+t,r=new Y.proto_edu_tcpuplink.proto_get_user_auth_rsp;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.rsp_head=Y.proto_edu_tcpuplink.RspHead.decode(e,e.uint32());break;case 2:r.id_name=e.bytes();break;case 3:r.auth_seq=e.uint32();break;case 4:if(r.module_auth&&r.module_auth.length||(r.module_auth=[]),2==(7&t)){let t=e.uint32()+e.pos;for(;e.pos<t;)r.module_auth.push(e.uint32())}else r.module_auth.push(e.uint32());break;case 5:if(r.graphic_auth&&r.graphic_auth.length||(r.graphic_auth=[]),2==(7&t)){let t=e.uint32()+e.pos;for(;e.pos<t;)r.graphic_auth.push(e.uint32())}else r.graphic_auth.push(e.uint32());break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof Y.proto_edu_tcpuplink.proto_get_user_auth_rsp)return e;let t=new Y.proto_edu_tcpuplink.proto_get_user_auth_rsp;if(null!=e.rsp_head){if("object"!=typeof e.rsp_head)throw TypeError(".proto_edu_tcpuplink.proto_get_user_auth_rsp.rsp_head: object expected");t.rsp_head=Y.proto_edu_tcpuplink.RspHead.fromObject(e.rsp_head)}if(null!=e.id_name&&("string"==typeof e.id_name?W.base64.decode(e.id_name,t.id_name=W.newBuffer(W.base64.length(e.id_name)),0):e.id_name.length&&(t.id_name=e.id_name)),null!=e.auth_seq&&(t.auth_seq=e.auth_seq>>>0),e.module_auth){if(!Array.isArray(e.module_auth))throw TypeError(".proto_edu_tcpuplink.proto_get_user_auth_rsp.module_auth: array expected");t.module_auth=[];for(let o=0;o<e.module_auth.length;++o)t.module_auth[o]=e.module_auth[o]>>>0}if(e.graphic_auth){if(!Array.isArray(e.graphic_auth))throw TypeError(".proto_edu_tcpuplink.proto_get_user_auth_rsp.graphic_auth: array expected");t.graphic_auth=[];for(let o=0;o<e.graphic_auth.length;++o)t.graphic_auth[o]=e.graphic_auth[o]>>>0}return t},e.toObject=function(e,t){t||(t={});let o={};if((t.arrays||t.defaults)&&(o.module_auth=[],o.graphic_auth=[]),t.defaults&&(o.rsp_head=null,t.bytes===String?o.id_name="":(o.id_name=[],t.bytes!==Array&&(o.id_name=W.newBuffer(o.id_name))),o.auth_seq=0),null!=e.rsp_head&&e.hasOwnProperty("rsp_head")&&(o.rsp_head=Y.proto_edu_tcpuplink.RspHead.toObject(e.rsp_head,t)),null!=e.id_name&&e.hasOwnProperty("id_name")&&(o.id_name=t.bytes===String?W.base64.encode(e.id_name,0,e.id_name.length):t.bytes===Array?Array.prototype.slice.call(e.id_name):e.id_name),null!=e.auth_seq&&e.hasOwnProperty("auth_seq")&&(o.auth_seq=e.auth_seq),e.module_auth&&e.module_auth.length){o.module_auth=[];for(let t=0;t<e.module_auth.length;++t)o.module_auth[t]=e.module_auth[t]}if(e.graphic_auth&&e.graphic_auth.length){o.graphic_auth=[];for(let t=0;t<e.graphic_auth.length;++t)o.graphic_auth[t]=e.graphic_auth[t]}return o},e.prototype.toJSON=function(){return this.constructor.toObject(this,q.util.toJSONOptions)},e}(),e.proto_get_room_auth_req=function(){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.req_head=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=U.create()),null!=e.req_head&&Object.hasOwnProperty.call(e,"req_head")&&Y.proto_edu_tcpuplink.ReqHead.encode(e.req_head,t.uint32(10).fork()).ldelim(),t},e.decode=function(e,t){e instanceof G||(e=G.create(e));let o=void 0===t?e.len:e.pos+t,r=new Y.proto_edu_tcpuplink.proto_get_room_auth_req;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.req_head=Y.proto_edu_tcpuplink.ReqHead.decode(e,e.uint32());break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof Y.proto_edu_tcpuplink.proto_get_room_auth_req)return e;let t=new Y.proto_edu_tcpuplink.proto_get_room_auth_req;if(null!=e.req_head){if("object"!=typeof e.req_head)throw TypeError(".proto_edu_tcpuplink.proto_get_room_auth_req.req_head: object expected");t.req_head=Y.proto_edu_tcpuplink.ReqHead.fromObject(e.req_head)}return t},e.toObject=function(e,t){t||(t={});let o={};return t.defaults&&(o.req_head=null),null!=e.req_head&&e.hasOwnProperty("req_head")&&(o.req_head=Y.proto_edu_tcpuplink.ReqHead.toObject(e.req_head,t)),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,q.util.toJSONOptions)},e}(),e.proto_get_room_auth_rsp=function(){function e(e){if(this.module_auth=[],this.graphic_auth=[],e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.rsp_head=null,e.prototype.auth_seq=0,e.prototype.module_auth=W.emptyArray,e.prototype.graphic_auth=W.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=U.create()),null!=e.rsp_head&&Object.hasOwnProperty.call(e,"rsp_head")&&Y.proto_edu_tcpuplink.RspHead.encode(e.rsp_head,t.uint32(10).fork()).ldelim(),null!=e.auth_seq&&Object.hasOwnProperty.call(e,"auth_seq")&&t.uint32(16).uint32(e.auth_seq),null!=e.module_auth&&e.module_auth.length){t.uint32(26).fork();for(let o=0;o<e.module_auth.length;++o)t.uint32(e.module_auth[o]);t.ldelim()}if(null!=e.graphic_auth&&e.graphic_auth.length){t.uint32(34).fork();for(let o=0;o<e.graphic_auth.length;++o)t.uint32(e.graphic_auth[o]);t.ldelim()}return t},e.decode=function(e,t){e instanceof G||(e=G.create(e));let o=void 0===t?e.len:e.pos+t,r=new Y.proto_edu_tcpuplink.proto_get_room_auth_rsp;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.rsp_head=Y.proto_edu_tcpuplink.RspHead.decode(e,e.uint32());break;case 2:r.auth_seq=e.uint32();break;case 3:if(r.module_auth&&r.module_auth.length||(r.module_auth=[]),2==(7&t)){let t=e.uint32()+e.pos;for(;e.pos<t;)r.module_auth.push(e.uint32())}else r.module_auth.push(e.uint32());break;case 4:if(r.graphic_auth&&r.graphic_auth.length||(r.graphic_auth=[]),2==(7&t)){let t=e.uint32()+e.pos;for(;e.pos<t;)r.graphic_auth.push(e.uint32())}else r.graphic_auth.push(e.uint32());break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof Y.proto_edu_tcpuplink.proto_get_room_auth_rsp)return e;let t=new Y.proto_edu_tcpuplink.proto_get_room_auth_rsp;if(null!=e.rsp_head){if("object"!=typeof e.rsp_head)throw TypeError(".proto_edu_tcpuplink.proto_get_room_auth_rsp.rsp_head: object expected");t.rsp_head=Y.proto_edu_tcpuplink.RspHead.fromObject(e.rsp_head)}if(null!=e.auth_seq&&(t.auth_seq=e.auth_seq>>>0),e.module_auth){if(!Array.isArray(e.module_auth))throw TypeError(".proto_edu_tcpuplink.proto_get_room_auth_rsp.module_auth: array expected");t.module_auth=[];for(let o=0;o<e.module_auth.length;++o)t.module_auth[o]=e.module_auth[o]>>>0}if(e.graphic_auth){if(!Array.isArray(e.graphic_auth))throw TypeError(".proto_edu_tcpuplink.proto_get_room_auth_rsp.graphic_auth: array expected");t.graphic_auth=[];for(let o=0;o<e.graphic_auth.length;++o)t.graphic_auth[o]=e.graphic_auth[o]>>>0}return t},e.toObject=function(e,t){t||(t={});let o={};if((t.arrays||t.defaults)&&(o.module_auth=[],o.graphic_auth=[]),t.defaults&&(o.rsp_head=null,o.auth_seq=0),null!=e.rsp_head&&e.hasOwnProperty("rsp_head")&&(o.rsp_head=Y.proto_edu_tcpuplink.RspHead.toObject(e.rsp_head,t)),null!=e.auth_seq&&e.hasOwnProperty("auth_seq")&&(o.auth_seq=e.auth_seq),e.module_auth&&e.module_auth.length){o.module_auth=[];for(let t=0;t<e.module_auth.length;++t)o.module_auth[t]=e.module_auth[t]}if(e.graphic_auth&&e.graphic_auth.length){o.graphic_auth=[];for(let t=0;t<e.graphic_auth.length;++t)o.graphic_auth[t]=e.graphic_auth[t]}return o},e.prototype.toJSON=function(){return this.constructor.toObject(this,q.util.toJSONOptions)},e}(),e.E_PUSH_CMD=function(){const e={},t=Object.create(e);return t[e[0]="push_cmd_none"]=0,t[e[291001]="push_cmd_set_room"]=291001,t[e[291002]="push_cmd_set_user"]=291002,t[e[291003]="push_cmd_joinlive"]=291003,t[e[291101]="push_cmd_set_mod"]=291101,t[e[291201]="push_cmd_draw_graphics"]=291201,t[e[291202]="push_cmd_clear_graphics"]=291202,t[e[291203]="push_cmd_draw_page_graphics"]=291203,t[e[291204]="push_cmd_clear_page_graphics"]=291204,t[e[291205]="push_cmd_clear_user_graphic_list"]=291205,t[e[291401]="push_cmd_qaa"]=291401,t[e[291501]="push_cmd_set_user_auth"]=291501,t[e[291502]="push_cmd_set_room_auth"]=291502,t}(),e.push_set_room=function(){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.room_id="",e.prototype.mute=!1,e.prototype.silenced=!1,e.prototype.notice_info="",e.prototype.room_extra_info_seq=0,e.prototype.qaa_disable=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=U.create()),null!=e.room_id&&Object.hasOwnProperty.call(e,"room_id")&&t.uint32(10).string(e.room_id),null!=e.mute&&Object.hasOwnProperty.call(e,"mute")&&t.uint32(16).bool(e.mute),null!=e.silenced&&Object.hasOwnProperty.call(e,"silenced")&&t.uint32(24).bool(e.silenced),null!=e.notice_info&&Object.hasOwnProperty.call(e,"notice_info")&&t.uint32(34).string(e.notice_info),null!=e.room_extra_info_seq&&Object.hasOwnProperty.call(e,"room_extra_info_seq")&&t.uint32(40).uint32(e.room_extra_info_seq),null!=e.qaa_disable&&Object.hasOwnProperty.call(e,"qaa_disable")&&t.uint32(48).bool(e.qaa_disable),t},e.decode=function(e,t){e instanceof G||(e=G.create(e));let o=void 0===t?e.len:e.pos+t,r=new Y.proto_edu_tcpuplink.push_set_room;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.room_id=e.string();break;case 2:r.mute=e.bool();break;case 3:r.silenced=e.bool();break;case 4:r.notice_info=e.string();break;case 5:r.room_extra_info_seq=e.uint32();break;case 6:r.qaa_disable=e.bool();break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof Y.proto_edu_tcpuplink.push_set_room)return e;let t=new Y.proto_edu_tcpuplink.push_set_room;return null!=e.room_id&&(t.room_id=String(e.room_id)),null!=e.mute&&(t.mute=Boolean(e.mute)),null!=e.silenced&&(t.silenced=Boolean(e.silenced)),null!=e.notice_info&&(t.notice_info=String(e.notice_info)),null!=e.room_extra_info_seq&&(t.room_extra_info_seq=e.room_extra_info_seq>>>0),null!=e.qaa_disable&&(t.qaa_disable=Boolean(e.qaa_disable)),t},e.toObject=function(e,t){t||(t={});let o={};return t.defaults&&(o.room_id="",o.mute=!1,o.silenced=!1,o.notice_info="",o.room_extra_info_seq=0,o.qaa_disable=!1),null!=e.room_id&&e.hasOwnProperty("room_id")&&(o.room_id=e.room_id),null!=e.mute&&e.hasOwnProperty("mute")&&(o.mute=e.mute),null!=e.silenced&&e.hasOwnProperty("silenced")&&(o.silenced=e.silenced),null!=e.notice_info&&e.hasOwnProperty("notice_info")&&(o.notice_info=e.notice_info),null!=e.room_extra_info_seq&&e.hasOwnProperty("room_extra_info_seq")&&(o.room_extra_info_seq=e.room_extra_info_seq),null!=e.qaa_disable&&e.hasOwnProperty("qaa_disable")&&(o.qaa_disable=e.qaa_disable),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,q.util.toJSONOptions)},e}(),e.push_set_user=function(){function e(e){if(this.action_list=[],e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.room_id="",e.prototype.user_list_seq=0,e.prototype.user_edu_seq=0,e.prototype.action_list=W.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=U.create()),null!=e.room_id&&Object.hasOwnProperty.call(e,"room_id")&&t.uint32(10).string(e.room_id),null!=e.user_list_seq&&Object.hasOwnProperty.call(e,"user_list_seq")&&t.uint32(16).uint32(e.user_list_seq),null!=e.user_edu_seq&&Object.hasOwnProperty.call(e,"user_edu_seq")&&t.uint32(24).uint32(e.user_edu_seq),null!=e.action_list&&e.action_list.length)for(let o=0;o<e.action_list.length;++o)Y.proto_edu_tcpuplink.push_set_user_action.encode(e.action_list[o],t.uint32(34).fork()).ldelim();return t},e.decode=function(e,t){e instanceof G||(e=G.create(e));let o=void 0===t?e.len:e.pos+t,r=new Y.proto_edu_tcpuplink.push_set_user;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.room_id=e.string();break;case 2:r.user_list_seq=e.uint32();break;case 3:r.user_edu_seq=e.uint32();break;case 4:r.action_list&&r.action_list.length||(r.action_list=[]),r.action_list.push(Y.proto_edu_tcpuplink.push_set_user_action.decode(e,e.uint32()));break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof Y.proto_edu_tcpuplink.push_set_user)return e;let t=new Y.proto_edu_tcpuplink.push_set_user;if(null!=e.room_id&&(t.room_id=String(e.room_id)),null!=e.user_list_seq&&(t.user_list_seq=e.user_list_seq>>>0),null!=e.user_edu_seq&&(t.user_edu_seq=e.user_edu_seq>>>0),e.action_list){if(!Array.isArray(e.action_list))throw TypeError(".proto_edu_tcpuplink.push_set_user.action_list: array expected");t.action_list=[];for(let o=0;o<e.action_list.length;++o){if("object"!=typeof e.action_list[o])throw TypeError(".proto_edu_tcpuplink.push_set_user.action_list: object expected");t.action_list[o]=Y.proto_edu_tcpuplink.push_set_user_action.fromObject(e.action_list[o])}}return t},e.toObject=function(e,t){t||(t={});let o={};if((t.arrays||t.defaults)&&(o.action_list=[]),t.defaults&&(o.room_id="",o.user_list_seq=0,o.user_edu_seq=0),null!=e.room_id&&e.hasOwnProperty("room_id")&&(o.room_id=e.room_id),null!=e.user_list_seq&&e.hasOwnProperty("user_list_seq")&&(o.user_list_seq=e.user_list_seq),null!=e.user_edu_seq&&e.hasOwnProperty("user_edu_seq")&&(o.user_edu_seq=e.user_edu_seq),e.action_list&&e.action_list.length){o.action_list=[];for(let r=0;r<e.action_list.length;++r)o.action_list[r]=Y.proto_edu_tcpuplink.push_set_user_action.toObject(e.action_list[r],t)}return o},e.prototype.toJSON=function(){return this.constructor.toObject(this,q.util.toJSONOptions)},e}(),e.push_set_user_action=function(){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.action=0,e.prototype.id_name="",e.prototype.id=W.Long?W.Long.fromBits(0,0,!0):0,e.prototype.role=0,e.prototype.nick_name="",e.prototype.enter_time=W.Long?W.Long.fromBits(0,0,!1):0,e.prototype.avatar="",e.prototype.mute=!1,e.prototype.silenced=!1,e.prototype.raise_hand=!1,e.prototype.gift_count=0,e.prototype.permissions=0,e.prototype.group_code=0,e.prototype.group_name="",e.prototype.video=!1,e.prototype.is_modify_avatar=!1,e.prototype.is_modify_mute=!1,e.prototype.is_modify_silenced=!1,e.prototype.is_modify_raise_hand=!1,e.prototype.is_modify_gift_count=!1,e.prototype.is_modify_permissions=!1,e.prototype.is_modify_group_code=!1,e.prototype.is_modify_group_name=!1,e.prototype.is_modify_video=!1,e.prototype.wait=0,e.prototype.is_modify_role=!1,e.prototype.is_modify_nick_name=!1,e.prototype.is_modify_wait=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=U.create()),null!=e.action&&Object.hasOwnProperty.call(e,"action")&&t.uint32(8).uint32(e.action),null!=e.id_name&&Object.hasOwnProperty.call(e,"id_name")&&t.uint32(18).string(e.id_name),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(24).uint64(e.id),null!=e.role&&Object.hasOwnProperty.call(e,"role")&&t.uint32(32).uint32(e.role),null!=e.nick_name&&Object.hasOwnProperty.call(e,"nick_name")&&t.uint32(42).string(e.nick_name),null!=e.enter_time&&Object.hasOwnProperty.call(e,"enter_time")&&t.uint32(48).int64(e.enter_time),null!=e.avatar&&Object.hasOwnProperty.call(e,"avatar")&&t.uint32(58).string(e.avatar),null!=e.mute&&Object.hasOwnProperty.call(e,"mute")&&t.uint32(64).bool(e.mute),null!=e.silenced&&Object.hasOwnProperty.call(e,"silenced")&&t.uint32(72).bool(e.silenced),null!=e.raise_hand&&Object.hasOwnProperty.call(e,"raise_hand")&&t.uint32(80).bool(e.raise_hand),null!=e.gift_count&&Object.hasOwnProperty.call(e,"gift_count")&&t.uint32(88).uint32(e.gift_count),null!=e.permissions&&Object.hasOwnProperty.call(e,"permissions")&&t.uint32(96).uint32(e.permissions),null!=e.group_code&&Object.hasOwnProperty.call(e,"group_code")&&t.uint32(104).uint32(e.group_code),null!=e.group_name&&Object.hasOwnProperty.call(e,"group_name")&&t.uint32(114).string(e.group_name),null!=e.video&&Object.hasOwnProperty.call(e,"video")&&t.uint32(120).bool(e.video),null!=e.is_modify_avatar&&Object.hasOwnProperty.call(e,"is_modify_avatar")&&t.uint32(128).bool(e.is_modify_avatar),null!=e.is_modify_mute&&Object.hasOwnProperty.call(e,"is_modify_mute")&&t.uint32(136).bool(e.is_modify_mute),null!=e.is_modify_silenced&&Object.hasOwnProperty.call(e,"is_modify_silenced")&&t.uint32(144).bool(e.is_modify_silenced),null!=e.is_modify_raise_hand&&Object.hasOwnProperty.call(e,"is_modify_raise_hand")&&t.uint32(152).bool(e.is_modify_raise_hand),null!=e.is_modify_gift_count&&Object.hasOwnProperty.call(e,"is_modify_gift_count")&&t.uint32(160).bool(e.is_modify_gift_count),null!=e.is_modify_permissions&&Object.hasOwnProperty.call(e,"is_modify_permissions")&&t.uint32(168).bool(e.is_modify_permissions),null!=e.is_modify_group_code&&Object.hasOwnProperty.call(e,"is_modify_group_code")&&t.uint32(176).bool(e.is_modify_group_code),null!=e.is_modify_group_name&&Object.hasOwnProperty.call(e,"is_modify_group_name")&&t.uint32(184).bool(e.is_modify_group_name),null!=e.is_modify_video&&Object.hasOwnProperty.call(e,"is_modify_video")&&t.uint32(192).bool(e.is_modify_video),null!=e.wait&&Object.hasOwnProperty.call(e,"wait")&&t.uint32(200).uint32(e.wait),null!=e.is_modify_role&&Object.hasOwnProperty.call(e,"is_modify_role")&&t.uint32(208).bool(e.is_modify_role),null!=e.is_modify_nick_name&&Object.hasOwnProperty.call(e,"is_modify_nick_name")&&t.uint32(216).bool(e.is_modify_nick_name),null!=e.is_modify_wait&&Object.hasOwnProperty.call(e,"is_modify_wait")&&t.uint32(224).bool(e.is_modify_wait),t},e.decode=function(e,t){e instanceof G||(e=G.create(e));let o=void 0===t?e.len:e.pos+t,r=new Y.proto_edu_tcpuplink.push_set_user_action;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.action=e.uint32();break;case 2:r.id_name=e.string();break;case 3:r.id=e.uint64();break;case 4:r.role=e.uint32();break;case 5:r.nick_name=e.string();break;case 6:r.enter_time=e.int64();break;case 7:r.avatar=e.string();break;case 8:r.mute=e.bool();break;case 9:r.silenced=e.bool();break;case 10:r.raise_hand=e.bool();break;case 11:r.gift_count=e.uint32();break;case 12:r.permissions=e.uint32();break;case 13:r.group_code=e.uint32();break;case 14:r.group_name=e.string();break;case 15:r.video=e.bool();break;case 16:r.is_modify_avatar=e.bool();break;case 17:r.is_modify_mute=e.bool();break;case 18:r.is_modify_silenced=e.bool();break;case 19:r.is_modify_raise_hand=e.bool();break;case 20:r.is_modify_gift_count=e.bool();break;case 21:r.is_modify_permissions=e.bool();break;case 22:r.is_modify_group_code=e.bool();break;case 23:r.is_modify_group_name=e.bool();break;case 24:r.is_modify_video=e.bool();break;case 25:r.wait=e.uint32();break;case 26:r.is_modify_role=e.bool();break;case 27:r.is_modify_nick_name=e.bool();break;case 28:r.is_modify_wait=e.bool();break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof Y.proto_edu_tcpuplink.push_set_user_action)return e;let t=new Y.proto_edu_tcpuplink.push_set_user_action;return null!=e.action&&(t.action=e.action>>>0),null!=e.id_name&&(t.id_name=String(e.id_name)),null!=e.id&&(W.Long?(t.id=W.Long.fromValue(e.id)).unsigned=!0:"string"==typeof e.id?t.id=parseInt(e.id,10):"number"==typeof e.id?t.id=e.id:"object"==typeof e.id&&(t.id=new W.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber(!0))),null!=e.role&&(t.role=e.role>>>0),null!=e.nick_name&&(t.nick_name=String(e.nick_name)),null!=e.enter_time&&(W.Long?(t.enter_time=W.Long.fromValue(e.enter_time)).unsigned=!1:"string"==typeof e.enter_time?t.enter_time=parseInt(e.enter_time,10):"number"==typeof e.enter_time?t.enter_time=e.enter_time:"object"==typeof e.enter_time&&(t.enter_time=new W.LongBits(e.enter_time.low>>>0,e.enter_time.high>>>0).toNumber())),null!=e.avatar&&(t.avatar=String(e.avatar)),null!=e.mute&&(t.mute=Boolean(e.mute)),null!=e.silenced&&(t.silenced=Boolean(e.silenced)),null!=e.raise_hand&&(t.raise_hand=Boolean(e.raise_hand)),null!=e.gift_count&&(t.gift_count=e.gift_count>>>0),null!=e.permissions&&(t.permissions=e.permissions>>>0),null!=e.group_code&&(t.group_code=e.group_code>>>0),null!=e.group_name&&(t.group_name=String(e.group_name)),null!=e.video&&(t.video=Boolean(e.video)),null!=e.is_modify_avatar&&(t.is_modify_avatar=Boolean(e.is_modify_avatar)),null!=e.is_modify_mute&&(t.is_modify_mute=Boolean(e.is_modify_mute)),null!=e.is_modify_silenced&&(t.is_modify_silenced=Boolean(e.is_modify_silenced)),null!=e.is_modify_raise_hand&&(t.is_modify_raise_hand=Boolean(e.is_modify_raise_hand)),null!=e.is_modify_gift_count&&(t.is_modify_gift_count=Boolean(e.is_modify_gift_count)),null!=e.is_modify_permissions&&(t.is_modify_permissions=Boolean(e.is_modify_permissions)),null!=e.is_modify_group_code&&(t.is_modify_group_code=Boolean(e.is_modify_group_code)),null!=e.is_modify_group_name&&(t.is_modify_group_name=Boolean(e.is_modify_group_name)),null!=e.is_modify_video&&(t.is_modify_video=Boolean(e.is_modify_video)),null!=e.wait&&(t.wait=e.wait>>>0),null!=e.is_modify_role&&(t.is_modify_role=Boolean(e.is_modify_role)),null!=e.is_modify_nick_name&&(t.is_modify_nick_name=Boolean(e.is_modify_nick_name)),null!=e.is_modify_wait&&(t.is_modify_wait=Boolean(e.is_modify_wait)),t},e.toObject=function(e,t){t||(t={});let o={};if(t.defaults){if(o.action=0,o.id_name="",W.Long){let e=new W.Long(0,0,!0);o.id=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else o.id=t.longs===String?"0":0;if(o.role=0,o.nick_name="",W.Long){let e=new W.Long(0,0,!1);o.enter_time=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else o.enter_time=t.longs===String?"0":0;o.avatar="",o.mute=!1,o.silenced=!1,o.raise_hand=!1,o.gift_count=0,o.permissions=0,o.group_code=0,o.group_name="",o.video=!1,o.is_modify_avatar=!1,o.is_modify_mute=!1,o.is_modify_silenced=!1,o.is_modify_raise_hand=!1,o.is_modify_gift_count=!1,o.is_modify_permissions=!1,o.is_modify_group_code=!1,o.is_modify_group_name=!1,o.is_modify_video=!1,o.wait=0,o.is_modify_role=!1,o.is_modify_nick_name=!1,o.is_modify_wait=!1}return null!=e.action&&e.hasOwnProperty("action")&&(o.action=e.action),null!=e.id_name&&e.hasOwnProperty("id_name")&&(o.id_name=e.id_name),null!=e.id&&e.hasOwnProperty("id")&&("number"==typeof e.id?o.id=t.longs===String?String(e.id):e.id:o.id=t.longs===String?W.Long.prototype.toString.call(e.id):t.longs===Number?new W.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber(!0):e.id),null!=e.role&&e.hasOwnProperty("role")&&(o.role=e.role),null!=e.nick_name&&e.hasOwnProperty("nick_name")&&(o.nick_name=e.nick_name),null!=e.enter_time&&e.hasOwnProperty("enter_time")&&("number"==typeof e.enter_time?o.enter_time=t.longs===String?String(e.enter_time):e.enter_time:o.enter_time=t.longs===String?W.Long.prototype.toString.call(e.enter_time):t.longs===Number?new W.LongBits(e.enter_time.low>>>0,e.enter_time.high>>>0).toNumber():e.enter_time),null!=e.avatar&&e.hasOwnProperty("avatar")&&(o.avatar=e.avatar),null!=e.mute&&e.hasOwnProperty("mute")&&(o.mute=e.mute),null!=e.silenced&&e.hasOwnProperty("silenced")&&(o.silenced=e.silenced),null!=e.raise_hand&&e.hasOwnProperty("raise_hand")&&(o.raise_hand=e.raise_hand),null!=e.gift_count&&e.hasOwnProperty("gift_count")&&(o.gift_count=e.gift_count),null!=e.permissions&&e.hasOwnProperty("permissions")&&(o.permissions=e.permissions),null!=e.group_code&&e.hasOwnProperty("group_code")&&(o.group_code=e.group_code),null!=e.group_name&&e.hasOwnProperty("group_name")&&(o.group_name=e.group_name),null!=e.video&&e.hasOwnProperty("video")&&(o.video=e.video),null!=e.is_modify_avatar&&e.hasOwnProperty("is_modify_avatar")&&(o.is_modify_avatar=e.is_modify_avatar),null!=e.is_modify_mute&&e.hasOwnProperty("is_modify_mute")&&(o.is_modify_mute=e.is_modify_mute),null!=e.is_modify_silenced&&e.hasOwnProperty("is_modify_silenced")&&(o.is_modify_silenced=e.is_modify_silenced),null!=e.is_modify_raise_hand&&e.hasOwnProperty("is_modify_raise_hand")&&(o.is_modify_raise_hand=e.is_modify_raise_hand),null!=e.is_modify_gift_count&&e.hasOwnProperty("is_modify_gift_count")&&(o.is_modify_gift_count=e.is_modify_gift_count),null!=e.is_modify_permissions&&e.hasOwnProperty("is_modify_permissions")&&(o.is_modify_permissions=e.is_modify_permissions),null!=e.is_modify_group_code&&e.hasOwnProperty("is_modify_group_code")&&(o.is_modify_group_code=e.is_modify_group_code),null!=e.is_modify_group_name&&e.hasOwnProperty("is_modify_group_name")&&(o.is_modify_group_name=e.is_modify_group_name),null!=e.is_modify_video&&e.hasOwnProperty("is_modify_video")&&(o.is_modify_video=e.is_modify_video),null!=e.wait&&e.hasOwnProperty("wait")&&(o.wait=e.wait),null!=e.is_modify_role&&e.hasOwnProperty("is_modify_role")&&(o.is_modify_role=e.is_modify_role),null!=e.is_modify_nick_name&&e.hasOwnProperty("is_modify_nick_name")&&(o.is_modify_nick_name=e.is_modify_nick_name),null!=e.is_modify_wait&&e.hasOwnProperty("is_modify_wait")&&(o.is_modify_wait=e.is_modify_wait),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,q.util.toJSONOptions)},e}(),e.push_joinlive=function(){function e(e){if(this.action_list=[],e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.room_id="",e.prototype.last_seq=0,e.prototype.action_list=W.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=U.create()),null!=e.room_id&&Object.hasOwnProperty.call(e,"room_id")&&t.uint32(10).string(e.room_id),null!=e.last_seq&&Object.hasOwnProperty.call(e,"last_seq")&&t.uint32(16).uint32(e.last_seq),null!=e.action_list&&e.action_list.length)for(let o=0;o<e.action_list.length;++o)Y.proto_edu_tcpuplink.push_joinlive_action.encode(e.action_list[o],t.uint32(26).fork()).ldelim();return t},e.decode=function(e,t){e instanceof G||(e=G.create(e));let o=void 0===t?e.len:e.pos+t,r=new Y.proto_edu_tcpuplink.push_joinlive;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.room_id=e.string();break;case 2:r.last_seq=e.uint32();break;case 3:r.action_list&&r.action_list.length||(r.action_list=[]),r.action_list.push(Y.proto_edu_tcpuplink.push_joinlive_action.decode(e,e.uint32()));break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof Y.proto_edu_tcpuplink.push_joinlive)return e;let t=new Y.proto_edu_tcpuplink.push_joinlive;if(null!=e.room_id&&(t.room_id=String(e.room_id)),null!=e.last_seq&&(t.last_seq=e.last_seq>>>0),e.action_list){if(!Array.isArray(e.action_list))throw TypeError(".proto_edu_tcpuplink.push_joinlive.action_list: array expected");t.action_list=[];for(let o=0;o<e.action_list.length;++o){if("object"!=typeof e.action_list[o])throw TypeError(".proto_edu_tcpuplink.push_joinlive.action_list: object expected");t.action_list[o]=Y.proto_edu_tcpuplink.push_joinlive_action.fromObject(e.action_list[o])}}return t},e.toObject=function(e,t){t||(t={});let o={};if((t.arrays||t.defaults)&&(o.action_list=[]),t.defaults&&(o.room_id="",o.last_seq=0),null!=e.room_id&&e.hasOwnProperty("room_id")&&(o.room_id=e.room_id),null!=e.last_seq&&e.hasOwnProperty("last_seq")&&(o.last_seq=e.last_seq),e.action_list&&e.action_list.length){o.action_list=[];for(let r=0;r<e.action_list.length;++r)o.action_list[r]=Y.proto_edu_tcpuplink.push_joinlive_action.toObject(e.action_list[r],t)}return o},e.prototype.toJSON=function(){return this.constructor.toObject(this,q.util.toJSONOptions)},e}(),e.push_joinlive_action=function(){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.action=0,e.prototype.id_name="",e.prototype.joinlive_req=0,e.prototype.old_pos=0,e.prototype.new_pos=0,e.prototype.nick_name="",e.prototype.role=0,e.prototype.join_type=0,e.prototype.state=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=U.create()),null!=e.action&&Object.hasOwnProperty.call(e,"action")&&t.uint32(8).uint32(e.action),null!=e.id_name&&Object.hasOwnProperty.call(e,"id_name")&&t.uint32(18).string(e.id_name),null!=e.joinlive_req&&Object.hasOwnProperty.call(e,"joinlive_req")&&t.uint32(24).uint32(e.joinlive_req),null!=e.old_pos&&Object.hasOwnProperty.call(e,"old_pos")&&t.uint32(32).uint32(e.old_pos),null!=e.new_pos&&Object.hasOwnProperty.call(e,"new_pos")&&t.uint32(40).uint32(e.new_pos),null!=e.nick_name&&Object.hasOwnProperty.call(e,"nick_name")&&t.uint32(50).string(e.nick_name),null!=e.role&&Object.hasOwnProperty.call(e,"role")&&t.uint32(56).uint32(e.role),null!=e.join_type&&Object.hasOwnProperty.call(e,"join_type")&&t.uint32(64).uint32(e.join_type),null!=e.state&&Object.hasOwnProperty.call(e,"state")&&t.uint32(72).uint32(e.state),t},e.decode=function(e,t){e instanceof G||(e=G.create(e));let o=void 0===t?e.len:e.pos+t,r=new Y.proto_edu_tcpuplink.push_joinlive_action;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.action=e.uint32();break;case 2:r.id_name=e.string();break;case 3:r.joinlive_req=e.uint32();break;case 4:r.old_pos=e.uint32();break;case 5:r.new_pos=e.uint32();break;case 6:r.nick_name=e.string();break;case 7:r.role=e.uint32();break;case 8:r.join_type=e.uint32();break;case 9:r.state=e.uint32();break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof Y.proto_edu_tcpuplink.push_joinlive_action)return e;let t=new Y.proto_edu_tcpuplink.push_joinlive_action;return null!=e.action&&(t.action=e.action>>>0),null!=e.id_name&&(t.id_name=String(e.id_name)),null!=e.joinlive_req&&(t.joinlive_req=e.joinlive_req>>>0),null!=e.old_pos&&(t.old_pos=e.old_pos>>>0),null!=e.new_pos&&(t.new_pos=e.new_pos>>>0),null!=e.nick_name&&(t.nick_name=String(e.nick_name)),null!=e.role&&(t.role=e.role>>>0),null!=e.join_type&&(t.join_type=e.join_type>>>0),null!=e.state&&(t.state=e.state>>>0),t},e.toObject=function(e,t){t||(t={});let o={};return t.defaults&&(o.action=0,o.id_name="",o.joinlive_req=0,o.old_pos=0,o.new_pos=0,o.nick_name="",o.role=0,o.join_type=0,o.state=0),null!=e.action&&e.hasOwnProperty("action")&&(o.action=e.action),null!=e.id_name&&e.hasOwnProperty("id_name")&&(o.id_name=e.id_name),null!=e.joinlive_req&&e.hasOwnProperty("joinlive_req")&&(o.joinlive_req=e.joinlive_req),null!=e.old_pos&&e.hasOwnProperty("old_pos")&&(o.old_pos=e.old_pos),null!=e.new_pos&&e.hasOwnProperty("new_pos")&&(o.new_pos=e.new_pos),null!=e.nick_name&&e.hasOwnProperty("nick_name")&&(o.nick_name=e.nick_name),null!=e.role&&e.hasOwnProperty("role")&&(o.role=e.role),null!=e.join_type&&e.hasOwnProperty("join_type")&&(o.join_type=e.join_type),null!=e.state&&e.hasOwnProperty("state")&&(o.state=e.state),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,q.util.toJSONOptions)},e}(),e.push_set_mod=function(){function e(e){if(this.action_list=[],e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.room_id="",e.prototype.mod_list_seq=0,e.prototype.action_list=W.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=U.create()),null!=e.room_id&&Object.hasOwnProperty.call(e,"room_id")&&t.uint32(10).string(e.room_id),null!=e.mod_list_seq&&Object.hasOwnProperty.call(e,"mod_list_seq")&&t.uint32(16).uint32(e.mod_list_seq),null!=e.action_list&&e.action_list.length)for(let o=0;o<e.action_list.length;++o)Y.proto_edu_tcpuplink.push_set_mod_action.encode(e.action_list[o],t.uint32(26).fork()).ldelim();return t},e.decode=function(e,t){e instanceof G||(e=G.create(e));let o=void 0===t?e.len:e.pos+t,r=new Y.proto_edu_tcpuplink.push_set_mod;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.room_id=e.string();break;case 2:r.mod_list_seq=e.uint32();break;case 3:r.action_list&&r.action_list.length||(r.action_list=[]),r.action_list.push(Y.proto_edu_tcpuplink.push_set_mod_action.decode(e,e.uint32()));break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof Y.proto_edu_tcpuplink.push_set_mod)return e;let t=new Y.proto_edu_tcpuplink.push_set_mod;if(null!=e.room_id&&(t.room_id=String(e.room_id)),null!=e.mod_list_seq&&(t.mod_list_seq=e.mod_list_seq>>>0),e.action_list){if(!Array.isArray(e.action_list))throw TypeError(".proto_edu_tcpuplink.push_set_mod.action_list: array expected");t.action_list=[];for(let o=0;o<e.action_list.length;++o){if("object"!=typeof e.action_list[o])throw TypeError(".proto_edu_tcpuplink.push_set_mod.action_list: object expected");t.action_list[o]=Y.proto_edu_tcpuplink.push_set_mod_action.fromObject(e.action_list[o])}}return t},e.toObject=function(e,t){t||(t={});let o={};if((t.arrays||t.defaults)&&(o.action_list=[]),t.defaults&&(o.room_id="",o.mod_list_seq=0),null!=e.room_id&&e.hasOwnProperty("room_id")&&(o.room_id=e.room_id),null!=e.mod_list_seq&&e.hasOwnProperty("mod_list_seq")&&(o.mod_list_seq=e.mod_list_seq),e.action_list&&e.action_list.length){o.action_list=[];for(let r=0;r<e.action_list.length;++r)o.action_list[r]=Y.proto_edu_tcpuplink.push_set_mod_action.toObject(e.action_list[r],t)}return o},e.prototype.toJSON=function(){return this.constructor.toObject(this,q.util.toJSONOptions)},e}(),e.push_set_mod_action=function(){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.action=0,e.prototype.mod_id=W.Long?W.Long.fromBits(0,0,!0):0,e.prototype.mod_type=0,e.prototype.mod_subtype=0,e.prototype.mod_seq=0,e.prototype.mod_title="",e.prototype.mod_pos="",e.prototype.mod_status=W.Long?W.Long.fromBits(0,0,!0):0,e.prototype.mod_content="",e.prototype.mod_extra="",e.prototype.mod_reserve=0,e.prototype.mod_create_time=W.Long?W.Long.fromBits(0,0,!1):0,e.prototype.is_modify_mod_title=!1,e.prototype.is_modify_mod_pos=!1,e.prototype.is_modify_mod_status=!1,e.prototype.is_modify_mod_content=!1,e.prototype.is_modify_mod_extra=!1,e.prototype.is_modify_mod_reserve=!1,e.prototype.mod_horizontal_percent=0,e.prototype.mod_vertical_percent=0,e.prototype.is_modify_mod_horizontal_percent=!1,e.prototype.is_modify_mod_vertical_percent=!1,e.prototype.is_modify_mod_scale=!1,e.prototype.mod_scale="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=U.create()),null!=e.action&&Object.hasOwnProperty.call(e,"action")&&t.uint32(8).uint32(e.action),null!=e.mod_id&&Object.hasOwnProperty.call(e,"mod_id")&&t.uint32(16).uint64(e.mod_id),null!=e.mod_type&&Object.hasOwnProperty.call(e,"mod_type")&&t.uint32(24).uint32(e.mod_type),null!=e.mod_subtype&&Object.hasOwnProperty.call(e,"mod_subtype")&&t.uint32(32).uint32(e.mod_subtype),null!=e.mod_seq&&Object.hasOwnProperty.call(e,"mod_seq")&&t.uint32(40).uint32(e.mod_seq),null!=e.mod_title&&Object.hasOwnProperty.call(e,"mod_title")&&t.uint32(50).string(e.mod_title),null!=e.mod_pos&&Object.hasOwnProperty.call(e,"mod_pos")&&t.uint32(58).string(e.mod_pos),null!=e.mod_status&&Object.hasOwnProperty.call(e,"mod_status")&&t.uint32(64).uint64(e.mod_status),null!=e.mod_content&&Object.hasOwnProperty.call(e,"mod_content")&&t.uint32(74).string(e.mod_content),null!=e.mod_extra&&Object.hasOwnProperty.call(e,"mod_extra")&&t.uint32(82).string(e.mod_extra),null!=e.mod_reserve&&Object.hasOwnProperty.call(e,"mod_reserve")&&t.uint32(88).uint32(e.mod_reserve),null!=e.mod_create_time&&Object.hasOwnProperty.call(e,"mod_create_time")&&t.uint32(96).int64(e.mod_create_time),null!=e.is_modify_mod_title&&Object.hasOwnProperty.call(e,"is_modify_mod_title")&&t.uint32(104).bool(e.is_modify_mod_title),null!=e.is_modify_mod_pos&&Object.hasOwnProperty.call(e,"is_modify_mod_pos")&&t.uint32(112).bool(e.is_modify_mod_pos),null!=e.is_modify_mod_status&&Object.hasOwnProperty.call(e,"is_modify_mod_status")&&t.uint32(120).bool(e.is_modify_mod_status),null!=e.is_modify_mod_content&&Object.hasOwnProperty.call(e,"is_modify_mod_content")&&t.uint32(128).bool(e.is_modify_mod_content),null!=e.is_modify_mod_extra&&Object.hasOwnProperty.call(e,"is_modify_mod_extra")&&t.uint32(136).bool(e.is_modify_mod_extra),null!=e.is_modify_mod_reserve&&Object.hasOwnProperty.call(e,"is_modify_mod_reserve")&&t.uint32(144).bool(e.is_modify_mod_reserve),null!=e.mod_horizontal_percent&&Object.hasOwnProperty.call(e,"mod_horizontal_percent")&&t.uint32(157).float(e.mod_horizontal_percent),null!=e.mod_vertical_percent&&Object.hasOwnProperty.call(e,"mod_vertical_percent")&&t.uint32(165).float(e.mod_vertical_percent),null!=e.is_modify_mod_horizontal_percent&&Object.hasOwnProperty.call(e,"is_modify_mod_horizontal_percent")&&t.uint32(168).bool(e.is_modify_mod_horizontal_percent),null!=e.is_modify_mod_vertical_percent&&Object.hasOwnProperty.call(e,"is_modify_mod_vertical_percent")&&t.uint32(176).bool(e.is_modify_mod_vertical_percent),null!=e.is_modify_mod_scale&&Object.hasOwnProperty.call(e,"is_modify_mod_scale")&&t.uint32(184).bool(e.is_modify_mod_scale),null!=e.mod_scale&&Object.hasOwnProperty.call(e,"mod_scale")&&t.uint32(194).string(e.mod_scale),t},e.decode=function(e,t){e instanceof G||(e=G.create(e));let o=void 0===t?e.len:e.pos+t,r=new Y.proto_edu_tcpuplink.push_set_mod_action;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.action=e.uint32();break;case 2:r.mod_id=e.uint64();break;case 3:r.mod_type=e.uint32();break;case 4:r.mod_subtype=e.uint32();break;case 5:r.mod_seq=e.uint32();break;case 6:r.mod_title=e.string();break;case 7:r.mod_pos=e.string();break;case 8:r.mod_status=e.uint64();break;case 9:r.mod_content=e.string();break;case 10:r.mod_extra=e.string();break;case 11:r.mod_reserve=e.uint32();break;case 12:r.mod_create_time=e.int64();break;case 13:r.is_modify_mod_title=e.bool();break;case 14:r.is_modify_mod_pos=e.bool();break;case 15:r.is_modify_mod_status=e.bool();break;case 16:r.is_modify_mod_content=e.bool();break;case 17:r.is_modify_mod_extra=e.bool();break;case 18:r.is_modify_mod_reserve=e.bool();break;case 19:r.mod_horizontal_percent=e.float();break;case 20:r.mod_vertical_percent=e.float();break;case 21:r.is_modify_mod_horizontal_percent=e.bool();break;case 22:r.is_modify_mod_vertical_percent=e.bool();break;case 23:r.is_modify_mod_scale=e.bool();break;case 24:r.mod_scale=e.string();break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof Y.proto_edu_tcpuplink.push_set_mod_action)return e;let t=new Y.proto_edu_tcpuplink.push_set_mod_action;return null!=e.action&&(t.action=e.action>>>0),null!=e.mod_id&&(W.Long?(t.mod_id=W.Long.fromValue(e.mod_id)).unsigned=!0:"string"==typeof e.mod_id?t.mod_id=parseInt(e.mod_id,10):"number"==typeof e.mod_id?t.mod_id=e.mod_id:"object"==typeof e.mod_id&&(t.mod_id=new W.LongBits(e.mod_id.low>>>0,e.mod_id.high>>>0).toNumber(!0))),null!=e.mod_type&&(t.mod_type=e.mod_type>>>0),null!=e.mod_subtype&&(t.mod_subtype=e.mod_subtype>>>0),null!=e.mod_seq&&(t.mod_seq=e.mod_seq>>>0),null!=e.mod_title&&(t.mod_title=String(e.mod_title)),null!=e.mod_pos&&(t.mod_pos=String(e.mod_pos)),null!=e.mod_status&&(W.Long?(t.mod_status=W.Long.fromValue(e.mod_status)).unsigned=!0:"string"==typeof e.mod_status?t.mod_status=parseInt(e.mod_status,10):"number"==typeof e.mod_status?t.mod_status=e.mod_status:"object"==typeof e.mod_status&&(t.mod_status=new W.LongBits(e.mod_status.low>>>0,e.mod_status.high>>>0).toNumber(!0))),null!=e.mod_content&&(t.mod_content=String(e.mod_content)),null!=e.mod_extra&&(t.mod_extra=String(e.mod_extra)),null!=e.mod_reserve&&(t.mod_reserve=e.mod_reserve>>>0),null!=e.mod_create_time&&(W.Long?(t.mod_create_time=W.Long.fromValue(e.mod_create_time)).unsigned=!1:"string"==typeof e.mod_create_time?t.mod_create_time=parseInt(e.mod_create_time,10):"number"==typeof e.mod_create_time?t.mod_create_time=e.mod_create_time:"object"==typeof e.mod_create_time&&(t.mod_create_time=new W.LongBits(e.mod_create_time.low>>>0,e.mod_create_time.high>>>0).toNumber())),null!=e.is_modify_mod_title&&(t.is_modify_mod_title=Boolean(e.is_modify_mod_title)),null!=e.is_modify_mod_pos&&(t.is_modify_mod_pos=Boolean(e.is_modify_mod_pos)),null!=e.is_modify_mod_status&&(t.is_modify_mod_status=Boolean(e.is_modify_mod_status)),null!=e.is_modify_mod_content&&(t.is_modify_mod_content=Boolean(e.is_modify_mod_content)),null!=e.is_modify_mod_extra&&(t.is_modify_mod_extra=Boolean(e.is_modify_mod_extra)),null!=e.is_modify_mod_reserve&&(t.is_modify_mod_reserve=Boolean(e.is_modify_mod_reserve)),null!=e.mod_horizontal_percent&&(t.mod_horizontal_percent=Number(e.mod_horizontal_percent)),null!=e.mod_vertical_percent&&(t.mod_vertical_percent=Number(e.mod_vertical_percent)),null!=e.is_modify_mod_horizontal_percent&&(t.is_modify_mod_horizontal_percent=Boolean(e.is_modify_mod_horizontal_percent)),null!=e.is_modify_mod_vertical_percent&&(t.is_modify_mod_vertical_percent=Boolean(e.is_modify_mod_vertical_percent)),null!=e.is_modify_mod_scale&&(t.is_modify_mod_scale=Boolean(e.is_modify_mod_scale)),null!=e.mod_scale&&(t.mod_scale=String(e.mod_scale)),t},e.toObject=function(e,t){t||(t={});let o={};if(t.defaults){if(o.action=0,W.Long){let e=new W.Long(0,0,!0);o.mod_id=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else o.mod_id=t.longs===String?"0":0;if(o.mod_type=0,o.mod_subtype=0,o.mod_seq=0,o.mod_title="",o.mod_pos="",W.Long){let e=new W.Long(0,0,!0);o.mod_status=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else o.mod_status=t.longs===String?"0":0;if(o.mod_content="",o.mod_extra="",o.mod_reserve=0,W.Long){let e=new W.Long(0,0,!1);o.mod_create_time=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else o.mod_create_time=t.longs===String?"0":0;o.is_modify_mod_title=!1,o.is_modify_mod_pos=!1,o.is_modify_mod_status=!1,o.is_modify_mod_content=!1,o.is_modify_mod_extra=!1,o.is_modify_mod_reserve=!1,o.mod_horizontal_percent=0,o.mod_vertical_percent=0,o.is_modify_mod_horizontal_percent=!1,o.is_modify_mod_vertical_percent=!1,o.is_modify_mod_scale=!1,o.mod_scale=""}return null!=e.action&&e.hasOwnProperty("action")&&(o.action=e.action),null!=e.mod_id&&e.hasOwnProperty("mod_id")&&("number"==typeof e.mod_id?o.mod_id=t.longs===String?String(e.mod_id):e.mod_id:o.mod_id=t.longs===String?W.Long.prototype.toString.call(e.mod_id):t.longs===Number?new W.LongBits(e.mod_id.low>>>0,e.mod_id.high>>>0).toNumber(!0):e.mod_id),null!=e.mod_type&&e.hasOwnProperty("mod_type")&&(o.mod_type=e.mod_type),null!=e.mod_subtype&&e.hasOwnProperty("mod_subtype")&&(o.mod_subtype=e.mod_subtype),null!=e.mod_seq&&e.hasOwnProperty("mod_seq")&&(o.mod_seq=e.mod_seq),null!=e.mod_title&&e.hasOwnProperty("mod_title")&&(o.mod_title=e.mod_title),null!=e.mod_pos&&e.hasOwnProperty("mod_pos")&&(o.mod_pos=e.mod_pos),null!=e.mod_status&&e.hasOwnProperty("mod_status")&&("number"==typeof e.mod_status?o.mod_status=t.longs===String?String(e.mod_status):e.mod_status:o.mod_status=t.longs===String?W.Long.prototype.toString.call(e.mod_status):t.longs===Number?new W.LongBits(e.mod_status.low>>>0,e.mod_status.high>>>0).toNumber(!0):e.mod_status),null!=e.mod_content&&e.hasOwnProperty("mod_content")&&(o.mod_content=e.mod_content),null!=e.mod_extra&&e.hasOwnProperty("mod_extra")&&(o.mod_extra=e.mod_extra),null!=e.mod_reserve&&e.hasOwnProperty("mod_reserve")&&(o.mod_reserve=e.mod_reserve),null!=e.mod_create_time&&e.hasOwnProperty("mod_create_time")&&("number"==typeof e.mod_create_time?o.mod_create_time=t.longs===String?String(e.mod_create_time):e.mod_create_time:o.mod_create_time=t.longs===String?W.Long.prototype.toString.call(e.mod_create_time):t.longs===Number?new W.LongBits(e.mod_create_time.low>>>0,e.mod_create_time.high>>>0).toNumber():e.mod_create_time),null!=e.is_modify_mod_title&&e.hasOwnProperty("is_modify_mod_title")&&(o.is_modify_mod_title=e.is_modify_mod_title),null!=e.is_modify_mod_pos&&e.hasOwnProperty("is_modify_mod_pos")&&(o.is_modify_mod_pos=e.is_modify_mod_pos),null!=e.is_modify_mod_status&&e.hasOwnProperty("is_modify_mod_status")&&(o.is_modify_mod_status=e.is_modify_mod_status),null!=e.is_modify_mod_content&&e.hasOwnProperty("is_modify_mod_content")&&(o.is_modify_mod_content=e.is_modify_mod_content),null!=e.is_modify_mod_extra&&e.hasOwnProperty("is_modify_mod_extra")&&(o.is_modify_mod_extra=e.is_modify_mod_extra),null!=e.is_modify_mod_reserve&&e.hasOwnProperty("is_modify_mod_reserve")&&(o.is_modify_mod_reserve=e.is_modify_mod_reserve),null!=e.mod_horizontal_percent&&e.hasOwnProperty("mod_horizontal_percent")&&(o.mod_horizontal_percent=t.json&&!isFinite(e.mod_horizontal_percent)?String(e.mod_horizontal_percent):e.mod_horizontal_percent),null!=e.mod_vertical_percent&&e.hasOwnProperty("mod_vertical_percent")&&(o.mod_vertical_percent=t.json&&!isFinite(e.mod_vertical_percent)?String(e.mod_vertical_percent):e.mod_vertical_percent),null!=e.is_modify_mod_horizontal_percent&&e.hasOwnProperty("is_modify_mod_horizontal_percent")&&(o.is_modify_mod_horizontal_percent=e.is_modify_mod_horizontal_percent),null!=e.is_modify_mod_vertical_percent&&e.hasOwnProperty("is_modify_mod_vertical_percent")&&(o.is_modify_mod_vertical_percent=e.is_modify_mod_vertical_percent),null!=e.is_modify_mod_scale&&e.hasOwnProperty("is_modify_mod_scale")&&(o.is_modify_mod_scale=e.is_modify_mod_scale),null!=e.mod_scale&&e.hasOwnProperty("mod_scale")&&(o.mod_scale=e.mod_scale),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,q.util.toJSONOptions)},e}(),e.push_draw_graphics=function(){function e(e){if(this.graphic_list=[],this.del_graphic_id_list=[],e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.mod_id=W.Long?W.Long.fromBits(0,0,!0):0,e.prototype.action_seq=0,e.prototype.graphic_list=W.emptyArray,e.prototype.del_graphic_id_list=W.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=U.create()),null!=e.mod_id&&Object.hasOwnProperty.call(e,"mod_id")&&t.uint32(8).uint64(e.mod_id),null!=e.action_seq&&Object.hasOwnProperty.call(e,"action_seq")&&t.uint32(16).uint32(e.action_seq),null!=e.graphic_list&&e.graphic_list.length)for(let o=0;o<e.graphic_list.length;++o)Y.proto_edu_tcpuplink.proto_graphic.encode(e.graphic_list[o],t.uint32(26).fork()).ldelim();if(null!=e.del_graphic_id_list&&e.del_graphic_id_list.length){t.uint32(34).fork();for(let o=0;o<e.del_graphic_id_list.length;++o)t.uint64(e.del_graphic_id_list[o]);t.ldelim()}return t},e.decode=function(e,t){e instanceof G||(e=G.create(e));let o=void 0===t?e.len:e.pos+t,r=new Y.proto_edu_tcpuplink.push_draw_graphics;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.mod_id=e.uint64();break;case 2:r.action_seq=e.uint32();break;case 3:r.graphic_list&&r.graphic_list.length||(r.graphic_list=[]),r.graphic_list.push(Y.proto_edu_tcpuplink.proto_graphic.decode(e,e.uint32()));break;case 4:if(r.del_graphic_id_list&&r.del_graphic_id_list.length||(r.del_graphic_id_list=[]),2==(7&t)){let t=e.uint32()+e.pos;for(;e.pos<t;)r.del_graphic_id_list.push(e.uint64())}else r.del_graphic_id_list.push(e.uint64());break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof Y.proto_edu_tcpuplink.push_draw_graphics)return e;let t=new Y.proto_edu_tcpuplink.push_draw_graphics;if(null!=e.mod_id&&(W.Long?(t.mod_id=W.Long.fromValue(e.mod_id)).unsigned=!0:"string"==typeof e.mod_id?t.mod_id=parseInt(e.mod_id,10):"number"==typeof e.mod_id?t.mod_id=e.mod_id:"object"==typeof e.mod_id&&(t.mod_id=new W.LongBits(e.mod_id.low>>>0,e.mod_id.high>>>0).toNumber(!0))),null!=e.action_seq&&(t.action_seq=e.action_seq>>>0),e.graphic_list){if(!Array.isArray(e.graphic_list))throw TypeError(".proto_edu_tcpuplink.push_draw_graphics.graphic_list: array expected");t.graphic_list=[];for(let o=0;o<e.graphic_list.length;++o){if("object"!=typeof e.graphic_list[o])throw TypeError(".proto_edu_tcpuplink.push_draw_graphics.graphic_list: object expected");t.graphic_list[o]=Y.proto_edu_tcpuplink.proto_graphic.fromObject(e.graphic_list[o])}}if(e.del_graphic_id_list){if(!Array.isArray(e.del_graphic_id_list))throw TypeError(".proto_edu_tcpuplink.push_draw_graphics.del_graphic_id_list: array expected");t.del_graphic_id_list=[];for(let o=0;o<e.del_graphic_id_list.length;++o)W.Long?(t.del_graphic_id_list[o]=W.Long.fromValue(e.del_graphic_id_list[o])).unsigned=!0:"string"==typeof e.del_graphic_id_list[o]?t.del_graphic_id_list[o]=parseInt(e.del_graphic_id_list[o],10):"number"==typeof e.del_graphic_id_list[o]?t.del_graphic_id_list[o]=e.del_graphic_id_list[o]:"object"==typeof e.del_graphic_id_list[o]&&(t.del_graphic_id_list[o]=new W.LongBits(e.del_graphic_id_list[o].low>>>0,e.del_graphic_id_list[o].high>>>0).toNumber(!0))}return t},e.toObject=function(e,t){t||(t={});let o={};if((t.arrays||t.defaults)&&(o.graphic_list=[],o.del_graphic_id_list=[]),t.defaults){if(W.Long){let e=new W.Long(0,0,!0);o.mod_id=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else o.mod_id=t.longs===String?"0":0;o.action_seq=0}if(null!=e.mod_id&&e.hasOwnProperty("mod_id")&&("number"==typeof e.mod_id?o.mod_id=t.longs===String?String(e.mod_id):e.mod_id:o.mod_id=t.longs===String?W.Long.prototype.toString.call(e.mod_id):t.longs===Number?new W.LongBits(e.mod_id.low>>>0,e.mod_id.high>>>0).toNumber(!0):e.mod_id),null!=e.action_seq&&e.hasOwnProperty("action_seq")&&(o.action_seq=e.action_seq),e.graphic_list&&e.graphic_list.length){o.graphic_list=[];for(let r=0;r<e.graphic_list.length;++r)o.graphic_list[r]=Y.proto_edu_tcpuplink.proto_graphic.toObject(e.graphic_list[r],t)}if(e.del_graphic_id_list&&e.del_graphic_id_list.length){o.del_graphic_id_list=[];for(let r=0;r<e.del_graphic_id_list.length;++r)"number"==typeof e.del_graphic_id_list[r]?o.del_graphic_id_list[r]=t.longs===String?String(e.del_graphic_id_list[r]):e.del_graphic_id_list[r]:o.del_graphic_id_list[r]=t.longs===String?W.Long.prototype.toString.call(e.del_graphic_id_list[r]):t.longs===Number?new W.LongBits(e.del_graphic_id_list[r].low>>>0,e.del_graphic_id_list[r].high>>>0).toNumber(!0):e.del_graphic_id_list[r]}return o},e.prototype.toJSON=function(){return this.constructor.toObject(this,q.util.toJSONOptions)},e}(),e.push_draw_page_graphics=function(){function e(e){if(this.page_graphics=[],e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.mod_id=W.Long?W.Long.fromBits(0,0,!0):0,e.prototype.page_graphics=W.emptyArray,e.prototype.timestamp=W.Long?W.Long.fromBits(0,0,!0):0,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=U.create()),null!=e.mod_id&&Object.hasOwnProperty.call(e,"mod_id")&&t.uint32(8).uint64(e.mod_id),null!=e.page_graphics&&e.page_graphics.length)for(let o=0;o<e.page_graphics.length;++o)Y.proto_edu_tcpuplink.push_draw_graphics_info.encode(e.page_graphics[o],t.uint32(18).fork()).ldelim();return null!=e.timestamp&&Object.hasOwnProperty.call(e,"timestamp")&&t.uint32(24).uint64(e.timestamp),t},e.decode=function(e,t){e instanceof G||(e=G.create(e));let o=void 0===t?e.len:e.pos+t,r=new Y.proto_edu_tcpuplink.push_draw_page_graphics;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.mod_id=e.uint64();break;case 2:r.page_graphics&&r.page_graphics.length||(r.page_graphics=[]),r.page_graphics.push(Y.proto_edu_tcpuplink.push_draw_graphics_info.decode(e,e.uint32()));break;case 3:r.timestamp=e.uint64();break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof Y.proto_edu_tcpuplink.push_draw_page_graphics)return e;let t=new Y.proto_edu_tcpuplink.push_draw_page_graphics;if(null!=e.mod_id&&(W.Long?(t.mod_id=W.Long.fromValue(e.mod_id)).unsigned=!0:"string"==typeof e.mod_id?t.mod_id=parseInt(e.mod_id,10):"number"==typeof e.mod_id?t.mod_id=e.mod_id:"object"==typeof e.mod_id&&(t.mod_id=new W.LongBits(e.mod_id.low>>>0,e.mod_id.high>>>0).toNumber(!0))),e.page_graphics){if(!Array.isArray(e.page_graphics))throw TypeError(".proto_edu_tcpuplink.push_draw_page_graphics.page_graphics: array expected");t.page_graphics=[];for(let o=0;o<e.page_graphics.length;++o){if("object"!=typeof e.page_graphics[o])throw TypeError(".proto_edu_tcpuplink.push_draw_page_graphics.page_graphics: object expected");t.page_graphics[o]=Y.proto_edu_tcpuplink.push_draw_graphics_info.fromObject(e.page_graphics[o])}}return null!=e.timestamp&&(W.Long?(t.timestamp=W.Long.fromValue(e.timestamp)).unsigned=!0:"string"==typeof e.timestamp?t.timestamp=parseInt(e.timestamp,10):"number"==typeof e.timestamp?t.timestamp=e.timestamp:"object"==typeof e.timestamp&&(t.timestamp=new W.LongBits(e.timestamp.low>>>0,e.timestamp.high>>>0).toNumber(!0))),t},e.toObject=function(e,t){t||(t={});let o={};if((t.arrays||t.defaults)&&(o.page_graphics=[]),t.defaults){if(W.Long){let e=new W.Long(0,0,!0);o.mod_id=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else o.mod_id=t.longs===String?"0":0;if(W.Long){let e=new W.Long(0,0,!0);o.timestamp=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else o.timestamp=t.longs===String?"0":0}if(null!=e.mod_id&&e.hasOwnProperty("mod_id")&&("number"==typeof e.mod_id?o.mod_id=t.longs===String?String(e.mod_id):e.mod_id:o.mod_id=t.longs===String?W.Long.prototype.toString.call(e.mod_id):t.longs===Number?new W.LongBits(e.mod_id.low>>>0,e.mod_id.high>>>0).toNumber(!0):e.mod_id),e.page_graphics&&e.page_graphics.length){o.page_graphics=[];for(let r=0;r<e.page_graphics.length;++r)o.page_graphics[r]=Y.proto_edu_tcpuplink.push_draw_graphics_info.toObject(e.page_graphics[r],t)}return null!=e.timestamp&&e.hasOwnProperty("timestamp")&&("number"==typeof e.timestamp?o.timestamp=t.longs===String?String(e.timestamp):e.timestamp:o.timestamp=t.longs===String?W.Long.prototype.toString.call(e.timestamp):t.longs===Number?new W.LongBits(e.timestamp.low>>>0,e.timestamp.high>>>0).toNumber(!0):e.timestamp),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,q.util.toJSONOptions)},e}(),e.push_draw_graphics_info=function(){function e(e){if(this.graphic_list=[],this.del_graphic_id_list=[],e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.page=0,e.prototype.action_seq=0,e.prototype.graphic_list=W.emptyArray,e.prototype.del_graphic_id_list=W.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=U.create()),null!=e.page&&Object.hasOwnProperty.call(e,"page")&&t.uint32(8).uint32(e.page),null!=e.action_seq&&Object.hasOwnProperty.call(e,"action_seq")&&t.uint32(16).uint32(e.action_seq),null!=e.graphic_list&&e.graphic_list.length)for(let o=0;o<e.graphic_list.length;++o)Y.proto_edu_tcpuplink.proto_graphic.encode(e.graphic_list[o],t.uint32(26).fork()).ldelim();if(null!=e.del_graphic_id_list&&e.del_graphic_id_list.length){t.uint32(34).fork();for(let o=0;o<e.del_graphic_id_list.length;++o)t.uint64(e.del_graphic_id_list[o]);t.ldelim()}return t},e.decode=function(e,t){e instanceof G||(e=G.create(e));let o=void 0===t?e.len:e.pos+t,r=new Y.proto_edu_tcpuplink.push_draw_graphics_info;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.page=e.uint32();break;case 2:r.action_seq=e.uint32();break;case 3:r.graphic_list&&r.graphic_list.length||(r.graphic_list=[]),r.graphic_list.push(Y.proto_edu_tcpuplink.proto_graphic.decode(e,e.uint32()));break;case 4:if(r.del_graphic_id_list&&r.del_graphic_id_list.length||(r.del_graphic_id_list=[]),2==(7&t)){let t=e.uint32()+e.pos;for(;e.pos<t;)r.del_graphic_id_list.push(e.uint64())}else r.del_graphic_id_list.push(e.uint64());break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof Y.proto_edu_tcpuplink.push_draw_graphics_info)return e;let t=new Y.proto_edu_tcpuplink.push_draw_graphics_info;if(null!=e.page&&(t.page=e.page>>>0),null!=e.action_seq&&(t.action_seq=e.action_seq>>>0),e.graphic_list){if(!Array.isArray(e.graphic_list))throw TypeError(".proto_edu_tcpuplink.push_draw_graphics_info.graphic_list: array expected");t.graphic_list=[];for(let o=0;o<e.graphic_list.length;++o){if("object"!=typeof e.graphic_list[o])throw TypeError(".proto_edu_tcpuplink.push_draw_graphics_info.graphic_list: object expected");t.graphic_list[o]=Y.proto_edu_tcpuplink.proto_graphic.fromObject(e.graphic_list[o])}}if(e.del_graphic_id_list){if(!Array.isArray(e.del_graphic_id_list))throw TypeError(".proto_edu_tcpuplink.push_draw_graphics_info.del_graphic_id_list: array expected");t.del_graphic_id_list=[];for(let o=0;o<e.del_graphic_id_list.length;++o)W.Long?(t.del_graphic_id_list[o]=W.Long.fromValue(e.del_graphic_id_list[o])).unsigned=!0:"string"==typeof e.del_graphic_id_list[o]?t.del_graphic_id_list[o]=parseInt(e.del_graphic_id_list[o],10):"number"==typeof e.del_graphic_id_list[o]?t.del_graphic_id_list[o]=e.del_graphic_id_list[o]:"object"==typeof e.del_graphic_id_list[o]&&(t.del_graphic_id_list[o]=new W.LongBits(e.del_graphic_id_list[o].low>>>0,e.del_graphic_id_list[o].high>>>0).toNumber(!0))}return t},e.toObject=function(e,t){t||(t={});let o={};if((t.arrays||t.defaults)&&(o.graphic_list=[],o.del_graphic_id_list=[]),t.defaults&&(o.page=0,o.action_seq=0),null!=e.page&&e.hasOwnProperty("page")&&(o.page=e.page),null!=e.action_seq&&e.hasOwnProperty("action_seq")&&(o.action_seq=e.action_seq),e.graphic_list&&e.graphic_list.length){o.graphic_list=[];for(let r=0;r<e.graphic_list.length;++r)o.graphic_list[r]=Y.proto_edu_tcpuplink.proto_graphic.toObject(e.graphic_list[r],t)}if(e.del_graphic_id_list&&e.del_graphic_id_list.length){o.del_graphic_id_list=[];for(let r=0;r<e.del_graphic_id_list.length;++r)"number"==typeof e.del_graphic_id_list[r]?o.del_graphic_id_list[r]=t.longs===String?String(e.del_graphic_id_list[r]):e.del_graphic_id_list[r]:o.del_graphic_id_list[r]=t.longs===String?W.Long.prototype.toString.call(e.del_graphic_id_list[r]):t.longs===Number?new W.LongBits(e.del_graphic_id_list[r].low>>>0,e.del_graphic_id_list[r].high>>>0).toNumber(!0):e.del_graphic_id_list[r]}return o},e.prototype.toJSON=function(){return this.constructor.toObject(this,q.util.toJSONOptions)},e}(),e.push_clear_graphics=function(){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.mod_id=W.Long?W.Long.fromBits(0,0,!0):0,e.prototype.action_seq=0,e.prototype.id_name="",e.prototype.nick_name="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=U.create()),null!=e.mod_id&&Object.hasOwnProperty.call(e,"mod_id")&&t.uint32(8).uint64(e.mod_id),null!=e.action_seq&&Object.hasOwnProperty.call(e,"action_seq")&&t.uint32(16).uint32(e.action_seq),null!=e.id_name&&Object.hasOwnProperty.call(e,"id_name")&&t.uint32(26).string(e.id_name),null!=e.nick_name&&Object.hasOwnProperty.call(e,"nick_name")&&t.uint32(34).string(e.nick_name),t},e.decode=function(e,t){e instanceof G||(e=G.create(e));let o=void 0===t?e.len:e.pos+t,r=new Y.proto_edu_tcpuplink.push_clear_graphics;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.mod_id=e.uint64();break;case 2:r.action_seq=e.uint32();break;case 3:r.id_name=e.string();break;case 4:r.nick_name=e.string();break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof Y.proto_edu_tcpuplink.push_clear_graphics)return e;let t=new Y.proto_edu_tcpuplink.push_clear_graphics;return null!=e.mod_id&&(W.Long?(t.mod_id=W.Long.fromValue(e.mod_id)).unsigned=!0:"string"==typeof e.mod_id?t.mod_id=parseInt(e.mod_id,10):"number"==typeof e.mod_id?t.mod_id=e.mod_id:"object"==typeof e.mod_id&&(t.mod_id=new W.LongBits(e.mod_id.low>>>0,e.mod_id.high>>>0).toNumber(!0))),null!=e.action_seq&&(t.action_seq=e.action_seq>>>0),null!=e.id_name&&(t.id_name=String(e.id_name)),null!=e.nick_name&&(t.nick_name=String(e.nick_name)),t},e.toObject=function(e,t){t||(t={});let o={};if(t.defaults){if(W.Long){let e=new W.Long(0,0,!0);o.mod_id=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else o.mod_id=t.longs===String?"0":0;o.action_seq=0,o.id_name="",o.nick_name=""}return null!=e.mod_id&&e.hasOwnProperty("mod_id")&&("number"==typeof e.mod_id?o.mod_id=t.longs===String?String(e.mod_id):e.mod_id:o.mod_id=t.longs===String?W.Long.prototype.toString.call(e.mod_id):t.longs===Number?new W.LongBits(e.mod_id.low>>>0,e.mod_id.high>>>0).toNumber(!0):e.mod_id),null!=e.action_seq&&e.hasOwnProperty("action_seq")&&(o.action_seq=e.action_seq),null!=e.id_name&&e.hasOwnProperty("id_name")&&(o.id_name=e.id_name),null!=e.nick_name&&e.hasOwnProperty("nick_name")&&(o.nick_name=e.nick_name),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,q.util.toJSONOptions)},e}(),e.push_clear_page_graphics=function(){function e(e){if(this.pages=[],this.action_seqs=[],this.layers=[],e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.mod_id=W.Long?W.Long.fromBits(0,0,!0):0,e.prototype.pages=W.emptyArray,e.prototype.action_seqs=W.emptyArray,e.prototype.id_name="",e.prototype.nick_name="",e.prototype.timestamp=W.Long?W.Long.fromBits(0,0,!0):0,e.prototype.layers=W.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=U.create()),null!=e.mod_id&&Object.hasOwnProperty.call(e,"mod_id")&&t.uint32(8).uint64(e.mod_id),null!=e.pages&&e.pages.length){t.uint32(18).fork();for(let o=0;o<e.pages.length;++o)t.uint32(e.pages[o]);t.ldelim()}if(null!=e.action_seqs&&e.action_seqs.length){t.uint32(26).fork();for(let o=0;o<e.action_seqs.length;++o)t.uint32(e.action_seqs[o]);t.ldelim()}if(null!=e.id_name&&Object.hasOwnProperty.call(e,"id_name")&&t.uint32(34).string(e.id_name),null!=e.nick_name&&Object.hasOwnProperty.call(e,"nick_name")&&t.uint32(42).string(e.nick_name),null!=e.timestamp&&Object.hasOwnProperty.call(e,"timestamp")&&t.uint32(48).uint64(e.timestamp),null!=e.layers&&e.layers.length){t.uint32(58).fork();for(let o=0;o<e.layers.length;++o)t.uint32(e.layers[o]);t.ldelim()}return t},e.decode=function(e,t){e instanceof G||(e=G.create(e));let o=void 0===t?e.len:e.pos+t,r=new Y.proto_edu_tcpuplink.push_clear_page_graphics;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.mod_id=e.uint64();break;case 2:if(r.pages&&r.pages.length||(r.pages=[]),2==(7&t)){let t=e.uint32()+e.pos;for(;e.pos<t;)r.pages.push(e.uint32())}else r.pages.push(e.uint32());break;case 3:if(r.action_seqs&&r.action_seqs.length||(r.action_seqs=[]),2==(7&t)){let t=e.uint32()+e.pos;for(;e.pos<t;)r.action_seqs.push(e.uint32())}else r.action_seqs.push(e.uint32());break;case 4:r.id_name=e.string();break;case 5:r.nick_name=e.string();break;case 6:r.timestamp=e.uint64();break;case 7:if(r.layers&&r.layers.length||(r.layers=[]),2==(7&t)){let t=e.uint32()+e.pos;for(;e.pos<t;)r.layers.push(e.uint32())}else r.layers.push(e.uint32());break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof Y.proto_edu_tcpuplink.push_clear_page_graphics)return e;let t=new Y.proto_edu_tcpuplink.push_clear_page_graphics;if(null!=e.mod_id&&(W.Long?(t.mod_id=W.Long.fromValue(e.mod_id)).unsigned=!0:"string"==typeof e.mod_id?t.mod_id=parseInt(e.mod_id,10):"number"==typeof e.mod_id?t.mod_id=e.mod_id:"object"==typeof e.mod_id&&(t.mod_id=new W.LongBits(e.mod_id.low>>>0,e.mod_id.high>>>0).toNumber(!0))),e.pages){if(!Array.isArray(e.pages))throw TypeError(".proto_edu_tcpuplink.push_clear_page_graphics.pages: array expected");t.pages=[];for(let o=0;o<e.pages.length;++o)t.pages[o]=e.pages[o]>>>0}if(e.action_seqs){if(!Array.isArray(e.action_seqs))throw TypeError(".proto_edu_tcpuplink.push_clear_page_graphics.action_seqs: array expected");t.action_seqs=[];for(let o=0;o<e.action_seqs.length;++o)t.action_seqs[o]=e.action_seqs[o]>>>0}if(null!=e.id_name&&(t.id_name=String(e.id_name)),null!=e.nick_name&&(t.nick_name=String(e.nick_name)),null!=e.timestamp&&(W.Long?(t.timestamp=W.Long.fromValue(e.timestamp)).unsigned=!0:"string"==typeof e.timestamp?t.timestamp=parseInt(e.timestamp,10):"number"==typeof e.timestamp?t.timestamp=e.timestamp:"object"==typeof e.timestamp&&(t.timestamp=new W.LongBits(e.timestamp.low>>>0,e.timestamp.high>>>0).toNumber(!0))),e.layers){if(!Array.isArray(e.layers))throw TypeError(".proto_edu_tcpuplink.push_clear_page_graphics.layers: array expected");t.layers=[];for(let o=0;o<e.layers.length;++o)t.layers[o]=e.layers[o]>>>0}return t},e.toObject=function(e,t){t||(t={});let o={};if((t.arrays||t.defaults)&&(o.pages=[],o.action_seqs=[],o.layers=[]),t.defaults){if(W.Long){let e=new W.Long(0,0,!0);o.mod_id=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else o.mod_id=t.longs===String?"0":0;if(o.id_name="",o.nick_name="",W.Long){let e=new W.Long(0,0,!0);o.timestamp=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else o.timestamp=t.longs===String?"0":0}if(null!=e.mod_id&&e.hasOwnProperty("mod_id")&&("number"==typeof e.mod_id?o.mod_id=t.longs===String?String(e.mod_id):e.mod_id:o.mod_id=t.longs===String?W.Long.prototype.toString.call(e.mod_id):t.longs===Number?new W.LongBits(e.mod_id.low>>>0,e.mod_id.high>>>0).toNumber(!0):e.mod_id),e.pages&&e.pages.length){o.pages=[];for(let t=0;t<e.pages.length;++t)o.pages[t]=e.pages[t]}if(e.action_seqs&&e.action_seqs.length){o.action_seqs=[];for(let t=0;t<e.action_seqs.length;++t)o.action_seqs[t]=e.action_seqs[t]}if(null!=e.id_name&&e.hasOwnProperty("id_name")&&(o.id_name=e.id_name),null!=e.nick_name&&e.hasOwnProperty("nick_name")&&(o.nick_name=e.nick_name),null!=e.timestamp&&e.hasOwnProperty("timestamp")&&("number"==typeof e.timestamp?o.timestamp=t.longs===String?String(e.timestamp):e.timestamp:o.timestamp=t.longs===String?W.Long.prototype.toString.call(e.timestamp):t.longs===Number?new W.LongBits(e.timestamp.low>>>0,e.timestamp.high>>>0).toNumber(!0):e.timestamp),e.layers&&e.layers.length){o.layers=[];for(let t=0;t<e.layers.length;++t)o.layers[t]=e.layers[t]}return o},e.prototype.toJSON=function(){return this.constructor.toObject(this,q.util.toJSONOptions)},e}(),e.push_qaa=function(){function e(e){if(this.qaa_data=[],e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.room_id="",e.prototype.qaa_data=W.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=U.create()),null!=e.room_id&&Object.hasOwnProperty.call(e,"room_id")&&t.uint32(10).string(e.room_id),null!=e.qaa_data&&e.qaa_data.length)for(let o=0;o<e.qaa_data.length;++o)Y.proto_edu_tcpuplink.push_qaa_data.encode(e.qaa_data[o],t.uint32(18).fork()).ldelim();return t},e.decode=function(e,t){e instanceof G||(e=G.create(e));let o=void 0===t?e.len:e.pos+t,r=new Y.proto_edu_tcpuplink.push_qaa;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.room_id=e.string();break;case 2:r.qaa_data&&r.qaa_data.length||(r.qaa_data=[]),r.qaa_data.push(Y.proto_edu_tcpuplink.push_qaa_data.decode(e,e.uint32()));break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof Y.proto_edu_tcpuplink.push_qaa)return e;let t=new Y.proto_edu_tcpuplink.push_qaa;if(null!=e.room_id&&(t.room_id=String(e.room_id)),e.qaa_data){if(!Array.isArray(e.qaa_data))throw TypeError(".proto_edu_tcpuplink.push_qaa.qaa_data: array expected");t.qaa_data=[];for(let o=0;o<e.qaa_data.length;++o){if("object"!=typeof e.qaa_data[o])throw TypeError(".proto_edu_tcpuplink.push_qaa.qaa_data: object expected");t.qaa_data[o]=Y.proto_edu_tcpuplink.push_qaa_data.fromObject(e.qaa_data[o])}}return t},e.toObject=function(e,t){t||(t={});let o={};if((t.arrays||t.defaults)&&(o.qaa_data=[]),t.defaults&&(o.room_id=""),null!=e.room_id&&e.hasOwnProperty("room_id")&&(o.room_id=e.room_id),e.qaa_data&&e.qaa_data.length){o.qaa_data=[];for(let r=0;r<e.qaa_data.length;++r)o.qaa_data[r]=Y.proto_edu_tcpuplink.push_qaa_data.toObject(e.qaa_data[r],t)}return o},e.prototype.toJSON=function(){return this.constructor.toObject(this,q.util.toJSONOptions)},e}(),e.push_qaa_data=function(){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.id_name="",e.prototype.nick_name="",e.prototype.role=0,e.prototype.qaa_id="",e.prototype.qaa_target_id="",e.prototype.qaa_category=0,e.prototype.qaa_content="",e.prototype.send_time=W.Long?W.Long.fromBits(0,0,!1):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=U.create()),null!=e.id_name&&Object.hasOwnProperty.call(e,"id_name")&&t.uint32(10).string(e.id_name),null!=e.nick_name&&Object.hasOwnProperty.call(e,"nick_name")&&t.uint32(18).string(e.nick_name),null!=e.role&&Object.hasOwnProperty.call(e,"role")&&t.uint32(24).uint32(e.role),null!=e.qaa_id&&Object.hasOwnProperty.call(e,"qaa_id")&&t.uint32(34).string(e.qaa_id),null!=e.qaa_target_id&&Object.hasOwnProperty.call(e,"qaa_target_id")&&t.uint32(42).string(e.qaa_target_id),null!=e.qaa_category&&Object.hasOwnProperty.call(e,"qaa_category")&&t.uint32(48).uint32(e.qaa_category),null!=e.qaa_content&&Object.hasOwnProperty.call(e,"qaa_content")&&t.uint32(58).string(e.qaa_content),null!=e.send_time&&Object.hasOwnProperty.call(e,"send_time")&&t.uint32(64).int64(e.send_time),t},e.decode=function(e,t){e instanceof G||(e=G.create(e));let o=void 0===t?e.len:e.pos+t,r=new Y.proto_edu_tcpuplink.push_qaa_data;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.id_name=e.string();break;case 2:r.nick_name=e.string();break;case 3:r.role=e.uint32();break;case 4:r.qaa_id=e.string();break;case 5:r.qaa_target_id=e.string();break;case 6:r.qaa_category=e.uint32();break;case 7:r.qaa_content=e.string();break;case 8:r.send_time=e.int64();break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof Y.proto_edu_tcpuplink.push_qaa_data)return e;let t=new Y.proto_edu_tcpuplink.push_qaa_data;return null!=e.id_name&&(t.id_name=String(e.id_name)),null!=e.nick_name&&(t.nick_name=String(e.nick_name)),null!=e.role&&(t.role=e.role>>>0),null!=e.qaa_id&&(t.qaa_id=String(e.qaa_id)),null!=e.qaa_target_id&&(t.qaa_target_id=String(e.qaa_target_id)),null!=e.qaa_category&&(t.qaa_category=e.qaa_category>>>0),null!=e.qaa_content&&(t.qaa_content=String(e.qaa_content)),null!=e.send_time&&(W.Long?(t.send_time=W.Long.fromValue(e.send_time)).unsigned=!1:"string"==typeof e.send_time?t.send_time=parseInt(e.send_time,10):"number"==typeof e.send_time?t.send_time=e.send_time:"object"==typeof e.send_time&&(t.send_time=new W.LongBits(e.send_time.low>>>0,e.send_time.high>>>0).toNumber())),t},e.toObject=function(e,t){t||(t={});let o={};if(t.defaults)if(o.id_name="",o.nick_name="",o.role=0,o.qaa_id="",o.qaa_target_id="",o.qaa_category=0,o.qaa_content="",W.Long){let e=new W.Long(0,0,!1);o.send_time=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else o.send_time=t.longs===String?"0":0;return null!=e.id_name&&e.hasOwnProperty("id_name")&&(o.id_name=e.id_name),null!=e.nick_name&&e.hasOwnProperty("nick_name")&&(o.nick_name=e.nick_name),null!=e.role&&e.hasOwnProperty("role")&&(o.role=e.role),null!=e.qaa_id&&e.hasOwnProperty("qaa_id")&&(o.qaa_id=e.qaa_id),null!=e.qaa_target_id&&e.hasOwnProperty("qaa_target_id")&&(o.qaa_target_id=e.qaa_target_id),null!=e.qaa_category&&e.hasOwnProperty("qaa_category")&&(o.qaa_category=e.qaa_category),null!=e.qaa_content&&e.hasOwnProperty("qaa_content")&&(o.qaa_content=e.qaa_content),null!=e.send_time&&e.hasOwnProperty("send_time")&&("number"==typeof e.send_time?o.send_time=t.longs===String?String(e.send_time):e.send_time:o.send_time=t.longs===String?W.Long.prototype.toString.call(e.send_time):t.longs===Number?new W.LongBits(e.send_time.low>>>0,e.send_time.high>>>0).toNumber():e.send_time),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,q.util.toJSONOptions)},e}(),e.push_user_auth=function(){function e(e){if(this.user_auth=[],e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.user_auth=W.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=U.create()),null!=e.user_auth&&e.user_auth.length)for(let o=0;o<e.user_auth.length;++o)Y.proto_edu_tcpuplink.push_user_auth_data.encode(e.user_auth[o],t.uint32(10).fork()).ldelim();return t},e.decode=function(e,t){e instanceof G||(e=G.create(e));let o=void 0===t?e.len:e.pos+t,r=new Y.proto_edu_tcpuplink.push_user_auth;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.user_auth&&r.user_auth.length||(r.user_auth=[]),r.user_auth.push(Y.proto_edu_tcpuplink.push_user_auth_data.decode(e,e.uint32()));break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof Y.proto_edu_tcpuplink.push_user_auth)return e;let t=new Y.proto_edu_tcpuplink.push_user_auth;if(e.user_auth){if(!Array.isArray(e.user_auth))throw TypeError(".proto_edu_tcpuplink.push_user_auth.user_auth: array expected");t.user_auth=[];for(let o=0;o<e.user_auth.length;++o){if("object"!=typeof e.user_auth[o])throw TypeError(".proto_edu_tcpuplink.push_user_auth.user_auth: object expected");t.user_auth[o]=Y.proto_edu_tcpuplink.push_user_auth_data.fromObject(e.user_auth[o])}}return t},e.toObject=function(e,t){t||(t={});let o={};if((t.arrays||t.defaults)&&(o.user_auth=[]),e.user_auth&&e.user_auth.length){o.user_auth=[];for(let r=0;r<e.user_auth.length;++r)o.user_auth[r]=Y.proto_edu_tcpuplink.push_user_auth_data.toObject(e.user_auth[r],t)}return o},e.prototype.toJSON=function(){return this.constructor.toObject(this,q.util.toJSONOptions)},e}(),e.push_user_auth_data=function(){function e(e){if(this.module_auth=[],this.graphic_auth=[],e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.id_name="",e.prototype.auth_seq=0,e.prototype.module_auth=W.emptyArray,e.prototype.graphic_auth=W.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=U.create()),null!=e.id_name&&Object.hasOwnProperty.call(e,"id_name")&&t.uint32(10).string(e.id_name),null!=e.auth_seq&&Object.hasOwnProperty.call(e,"auth_seq")&&t.uint32(16).uint32(e.auth_seq),null!=e.module_auth&&e.module_auth.length){t.uint32(26).fork();for(let o=0;o<e.module_auth.length;++o)t.uint32(e.module_auth[o]);t.ldelim()}if(null!=e.graphic_auth&&e.graphic_auth.length){t.uint32(34).fork();for(let o=0;o<e.graphic_auth.length;++o)t.uint32(e.graphic_auth[o]);t.ldelim()}return t},e.decode=function(e,t){e instanceof G||(e=G.create(e));let o=void 0===t?e.len:e.pos+t,r=new Y.proto_edu_tcpuplink.push_user_auth_data;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.id_name=e.string();break;case 2:r.auth_seq=e.uint32();break;case 3:if(r.module_auth&&r.module_auth.length||(r.module_auth=[]),2==(7&t)){let t=e.uint32()+e.pos;for(;e.pos<t;)r.module_auth.push(e.uint32())}else r.module_auth.push(e.uint32());break;case 4:if(r.graphic_auth&&r.graphic_auth.length||(r.graphic_auth=[]),2==(7&t)){let t=e.uint32()+e.pos;for(;e.pos<t;)r.graphic_auth.push(e.uint32())}else r.graphic_auth.push(e.uint32());break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof Y.proto_edu_tcpuplink.push_user_auth_data)return e;let t=new Y.proto_edu_tcpuplink.push_user_auth_data;if(null!=e.id_name&&(t.id_name=String(e.id_name)),null!=e.auth_seq&&(t.auth_seq=e.auth_seq>>>0),e.module_auth){if(!Array.isArray(e.module_auth))throw TypeError(".proto_edu_tcpuplink.push_user_auth_data.module_auth: array expected");t.module_auth=[];for(let o=0;o<e.module_auth.length;++o)t.module_auth[o]=e.module_auth[o]>>>0}if(e.graphic_auth){if(!Array.isArray(e.graphic_auth))throw TypeError(".proto_edu_tcpuplink.push_user_auth_data.graphic_auth: array expected");t.graphic_auth=[];for(let o=0;o<e.graphic_auth.length;++o)t.graphic_auth[o]=e.graphic_auth[o]>>>0}return t},e.toObject=function(e,t){t||(t={});let o={};if((t.arrays||t.defaults)&&(o.module_auth=[],o.graphic_auth=[]),t.defaults&&(o.id_name="",o.auth_seq=0),null!=e.id_name&&e.hasOwnProperty("id_name")&&(o.id_name=e.id_name),null!=e.auth_seq&&e.hasOwnProperty("auth_seq")&&(o.auth_seq=e.auth_seq),e.module_auth&&e.module_auth.length){o.module_auth=[];for(let t=0;t<e.module_auth.length;++t)o.module_auth[t]=e.module_auth[t]}if(e.graphic_auth&&e.graphic_auth.length){o.graphic_auth=[];for(let t=0;t<e.graphic_auth.length;++t)o.graphic_auth[t]=e.graphic_auth[t]}return o},e.prototype.toJSON=function(){return this.constructor.toObject(this,q.util.toJSONOptions)},e}(),e.push_room_auth=function(){function e(e){if(this.module_auth=[],this.graphic_auth=[],e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.auth_seq=0,e.prototype.module_auth=W.emptyArray,e.prototype.graphic_auth=W.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=U.create()),null!=e.auth_seq&&Object.hasOwnProperty.call(e,"auth_seq")&&t.uint32(8).uint32(e.auth_seq),null!=e.module_auth&&e.module_auth.length){t.uint32(18).fork();for(let o=0;o<e.module_auth.length;++o)t.uint32(e.module_auth[o]);t.ldelim()}if(null!=e.graphic_auth&&e.graphic_auth.length){t.uint32(26).fork();for(let o=0;o<e.graphic_auth.length;++o)t.uint32(e.graphic_auth[o]);t.ldelim()}return t},e.decode=function(e,t){e instanceof G||(e=G.create(e));let o=void 0===t?e.len:e.pos+t,r=new Y.proto_edu_tcpuplink.push_room_auth;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.auth_seq=e.uint32();break;case 2:if(r.module_auth&&r.module_auth.length||(r.module_auth=[]),2==(7&t)){let t=e.uint32()+e.pos;for(;e.pos<t;)r.module_auth.push(e.uint32())}else r.module_auth.push(e.uint32());break;case 3:if(r.graphic_auth&&r.graphic_auth.length||(r.graphic_auth=[]),2==(7&t)){let t=e.uint32()+e.pos;for(;e.pos<t;)r.graphic_auth.push(e.uint32())}else r.graphic_auth.push(e.uint32());break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof Y.proto_edu_tcpuplink.push_room_auth)return e;let t=new Y.proto_edu_tcpuplink.push_room_auth;if(null!=e.auth_seq&&(t.auth_seq=e.auth_seq>>>0),e.module_auth){if(!Array.isArray(e.module_auth))throw TypeError(".proto_edu_tcpuplink.push_room_auth.module_auth: array expected");t.module_auth=[];for(let o=0;o<e.module_auth.length;++o)t.module_auth[o]=e.module_auth[o]>>>0}if(e.graphic_auth){if(!Array.isArray(e.graphic_auth))throw TypeError(".proto_edu_tcpuplink.push_room_auth.graphic_auth: array expected");t.graphic_auth=[];for(let o=0;o<e.graphic_auth.length;++o)t.graphic_auth[o]=e.graphic_auth[o]>>>0}return t},e.toObject=function(e,t){t||(t={});let o={};if((t.arrays||t.defaults)&&(o.module_auth=[],o.graphic_auth=[]),t.defaults&&(o.auth_seq=0),null!=e.auth_seq&&e.hasOwnProperty("auth_seq")&&(o.auth_seq=e.auth_seq),e.module_auth&&e.module_auth.length){o.module_auth=[];for(let t=0;t<e.module_auth.length;++t)o.module_auth[t]=e.module_auth[t]}if(e.graphic_auth&&e.graphic_auth.length){o.graphic_auth=[];for(let t=0;t<e.graphic_auth.length;++t)o.graphic_auth[t]=e.graphic_auth[t]}return o},e.prototype.toJSON=function(){return this.constructor.toObject(this,q.util.toJSONOptions)},e}(),e.mod=function(){function e(e){if(this.graphic_ids=[],e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.mod_id=0,e.prototype.graphic_ids=W.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=U.create()),null!=e.mod_id&&Object.hasOwnProperty.call(e,"mod_id")&&t.uint32(8).uint32(e.mod_id),null!=e.graphic_ids&&e.graphic_ids.length){t.uint32(18).fork();for(let o=0;o<e.graphic_ids.length;++o)t.uint32(e.graphic_ids[o]);t.ldelim()}return t},e.decode=function(e,t){e instanceof G||(e=G.create(e));let o=void 0===t?e.len:e.pos+t,r=new Y.proto_edu_tcpuplink.mod;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.mod_id=e.uint32();break;case 2:if(r.graphic_ids&&r.graphic_ids.length||(r.graphic_ids=[]),2==(7&t)){let t=e.uint32()+e.pos;for(;e.pos<t;)r.graphic_ids.push(e.uint32())}else r.graphic_ids.push(e.uint32());break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof Y.proto_edu_tcpuplink.mod)return e;let t=new Y.proto_edu_tcpuplink.mod;if(null!=e.mod_id&&(t.mod_id=e.mod_id>>>0),e.graphic_ids){if(!Array.isArray(e.graphic_ids))throw TypeError(".proto_edu_tcpuplink.mod.graphic_ids: array expected");t.graphic_ids=[];for(let o=0;o<e.graphic_ids.length;++o)t.graphic_ids[o]=e.graphic_ids[o]>>>0}return t},e.toObject=function(e,t){t||(t={});let o={};if((t.arrays||t.defaults)&&(o.graphic_ids=[]),t.defaults&&(o.mod_id=0),null!=e.mod_id&&e.hasOwnProperty("mod_id")&&(o.mod_id=e.mod_id),e.graphic_ids&&e.graphic_ids.length){o.graphic_ids=[];for(let t=0;t<e.graphic_ids.length;++t)o.graphic_ids[t]=e.graphic_ids[t]}return o},e.prototype.toJSON=function(){return this.constructor.toObject(this,q.util.toJSONOptions)},e}(),e.push_clear_user_graphic_list=function(){function e(e){if(this.mods=[],e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.id_name="",e.prototype.mods=W.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=U.create()),null!=e.id_name&&Object.hasOwnProperty.call(e,"id_name")&&t.uint32(10).string(e.id_name),null!=e.mods&&e.mods.length)for(let o=0;o<e.mods.length;++o)Y.proto_edu_tcpuplink.mod.encode(e.mods[o],t.uint32(18).fork()).ldelim();return t},e.decode=function(e,t){e instanceof G||(e=G.create(e));let o=void 0===t?e.len:e.pos+t,r=new Y.proto_edu_tcpuplink.push_clear_user_graphic_list;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.id_name=e.string();break;case 2:r.mods&&r.mods.length||(r.mods=[]),r.mods.push(Y.proto_edu_tcpuplink.mod.decode(e,e.uint32()));break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof Y.proto_edu_tcpuplink.push_clear_user_graphic_list)return e;let t=new Y.proto_edu_tcpuplink.push_clear_user_graphic_list;if(null!=e.id_name&&(t.id_name=String(e.id_name)),e.mods){if(!Array.isArray(e.mods))throw TypeError(".proto_edu_tcpuplink.push_clear_user_graphic_list.mods: array expected");t.mods=[];for(let o=0;o<e.mods.length;++o){if("object"!=typeof e.mods[o])throw TypeError(".proto_edu_tcpuplink.push_clear_user_graphic_list.mods: object expected");t.mods[o]=Y.proto_edu_tcpuplink.mod.fromObject(e.mods[o])}}return t},e.toObject=function(e,t){t||(t={});let o={};if((t.arrays||t.defaults)&&(o.mods=[]),t.defaults&&(o.id_name=""),null!=e.id_name&&e.hasOwnProperty("id_name")&&(o.id_name=e.id_name),e.mods&&e.mods.length){o.mods=[];for(let r=0;r<e.mods.length;++r)o.mods[r]=Y.proto_edu_tcpuplink.mod.toObject(e.mods[r],t)}return o},e.prototype.toJSON=function(){return this.constructor.toObject(this,q.util.toJSONOptions)},e}(),e})();var J,X=function(e,t,o,r){return new(o||(o=Promise))((function(i,n){function a(e){try{c(r.next(e))}catch(e){n(e)}}function s(e){try{c(r.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},Q=function(e,t){var o,r,i,n,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(n){return function(s){return function(n){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,r&&(i=2&n[0]?r.return:n[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,n[1])).done)return i;switch(r=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,r=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==n[0]&&2!==n[0])){a=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){a.label=n[1];break}if(6===n[0]&&a.label<i[1]){a.label=i[1],i=n;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(n);break}i[2]&&a.ops.pop(),a.trys.pop();continue}n=t.call(e,a)}catch(e){n=[6,e],r=0}finally{o=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,s])}}},K=function(){function e(){this.proto=Y,this.cmdReqMap={"/edu/sync":"proto_sync","/edu/get_room_auth":"proto_get_room_auth_req","/edu/get_user_auth":"proto_get_user_auth_req","/edu/create_mod":"proto_create_mod","/edu/destroy_mod":"proto_destroy_mod","/edu/get_mod":"proto_get_mod","/edu/get_mod_list":"proto_get_mod_list","/edu/modify_mod":"proto_modify_mod","/edu/get_page_graphics":"proto_get_page_graphics","/edu/clear_page_graphics":"proto_clear_page_graphics","/edu/draw_page_graphics":"proto_draw_page_graphics"},this.cmdRspMap={"/edu/sync_rsp":"proto_sync_rsp","/edu/get_room_auth_rsp":"proto_get_room_auth_rsp","/edu/get_user_auth_rsp":"proto_get_user_auth_rsp","/edu/create_mod_rsp":"proto_create_mod_rsp","/edu/destroy_mod_rsp":"proto_destroy_mod_rsp","/edu/get_mod_rsp":"proto_get_mod_rsp","/edu/get_mod_list_rsp":"proto_get_mod_list_rsp","/edu/modify_mod_rsp":"proto_modify_mod_rsp","/edu/get_page_graphics_rsp":"proto_get_page_graphics_rsp","/edu/clear_page_graphics_rsp":"proto_clear_page_graphics_rsp","/edu/draw_page_graphics_rsp":"proto_draw_page_graphics_rsp"},this.cmdPushMap={"/edu/push/set_mod":"push_set_mod","/edu/push/draw_page_graphics":"push_draw_page_graphics","/edu/push/clear_page_graphics":"push_clear_page_graphics","/edu/push/set_user_auth":"push_user_auth","/edu/push/set_room_auth":"push_room_auth","/edu/push/clear_user_graphic_list":"push_clear_user_graphic_list"},this.cmdMsg={reqHeader:"req_header",reqBody:"proto_biz_channel",reqBodyBody:"req",rspHeader:"rsp_header",rspBody:"proto_biz_channel_rsp",rspBodyBody:"rsp",pushHeader:"proto_push_header",pushBody:"proto_push_biz_channel",pushBodyBody:"proto_push_biz_hannel_req"}}return e.prototype.encodeMsg=function(e,t){return X(this,void 0,void 0,(function(){return Q(this,(function(o){switch(o.label){case 0:return this.formatEduBody(t),JSON.stringify(t),[4,this.encode(this.proto.proto_edu_tcpuplink,this.cmdReqMap[e],t)];case 1:return[2,o.sent()]}}))}))},e.prototype.decodeMsg=function(e,t){return X(this,void 0,void 0,(function(){var o,r,i,n,a;return Q(this,(function(s){switch(s.label){case 0:if("/sw/push"!==e.cmd)return[3,5];o=t.head.sub_cmd,r=t.msg_body,s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this.decodePushMsg(o,r)];case 2:return n=s.sent(),(a={sub_cmd:"",msg_body:{}}).sub_cmd=o,a.msg_body=this.mergePushBody(o,n),[2,a];case 3:return s.sent(),[3,4];case 4:return[3,10];case 5:return this.cmdRspMap[e.cmd]?[3,6]:[2];case 6:i=new Uint8Array(t),s.label=7;case 7:return s.trys.push([7,9,,10]),[4,this.decodeRspMsg(e,i,e.seq)];case 8:return n=s.sent(),[2,a=this.mergeRspBody(n,e.cmd)];case 9:return s.sent(),[3,10];case 10:return[2]}}))}))},e.prototype.checkSendLength=function(e,t){return X(this,void 0,void 0,(function(){var o,r;return Q(this,(function(i){switch(i.label){case 0:return this.formatEduBody(t),[4,this.encode(this.proto.proto_edu_tcpuplink,this.cmdReqMap[e],t)];case 1:return o=i.sent(),[2,(r=o.length)>5e3?r:0]}}))}))},e.prototype.createUnknownError=function(e,t){return{cmd:t,header:{seq:e,code:1,message:"unknown error"},body:{}}},e.prototype.formatEduBody=function(e){e.mod_id&&(e.mod_id=j.a.fromString(e.mod_id,!0)),e.draw_pages&&e.draw_pages.forEach((function(e){e.draw_list.forEach((function(e){var t=e.graphic_id,o=e.attributes;t&&"string"==typeof t&&(e.graphic_id=j.a.fromString(t,!0)),o&&"string"==typeof o&&(e.attributes=Uint8Array.from(Array.from(unescape(encodeURIComponent(o))).map((function(e){return e.charCodeAt(0)}))))}))}))},e.prototype.mergeModList=function(e){e&&e.forEach((function(t,o){e[o]=Object.assign({mod_seq:0,graphic_list_seq:0,sync_interval:0,mod_reserve:1,mod_horizontal_percent:0,mod_vertical_percent:0,mod_extra:"",mod_scale:JSON.stringify({scale:1,ofs_x:0,ofs_y:0})},t)}))},e.prototype.mergePageGraphics=function(e,t){e&&e.forEach((function(o,r){e[r]=o||0,t&&(t[r]=t[r]||0)}))},e.prototype.mergeGraphicList=function(e){e&&e.forEach((function(t,o){e[o]=Object.assign({action_seq:0,zorder:1,x:0,y:0,size:0,color:0,layer:0},t)}))},e.prototype.mergeRspBody=function(e,t){var o=this;switch(e.rsp_head.code=e.rsp_head.code||0,t){case"/edu/sync_rsp":return e=Object.assign({sync_interval:0,room_auth_seq:0,user_auth_seq:0,mod_list_seq:0},e);case"/edu/get_room_auth_rsp":case"/edu/get_user_auth_rsp":return e.auth_seq=e.auth_seq||0,e;case"/edu/create_mod_rsp":return e.mod_seq=e.mod_seq||0,e.mod_list_seq=e.mod_list_seq||0,e;case"/edu/destroy_mod_rsp":return e.mod_list_seq=e.mod_list_seq||0,e;case"/edu/get_mod_rsp":return this.mergeModList(e.mod_list),e;case"/edu/get_mod_list_rsp":return e.mod_list_seq=e.mod_list_seq||0,this.mergeModList(e.mod_list),e;case"/edu/modify_mod_rsp":return e.mod_seq=e.mod_seq||0,e.mod_list_seq=e.mod_list_seq||0,e;case"/edu/get_page_graphics_rsp":return e.pages&&e.pages.forEach((function(e){e.page=e.page||0,e.ret_graphic_list_seq=e.ret_graphic_list_seq||0,e.svr_graphic_list_seq=e.svr_graphic_list_seq||0,o.mergeGraphicList(e.graphic_list)})),e;case"/edu/clear_page_graphics_rsp":case"/edu/draw_page_graphics_rsp":return this.mergePageGraphics(e.pages,e.graphic_list_seqs),e}},e.prototype.mergePushBody=function(e,t){var o=this;switch(e){case"/edu/push/set_mod":return t.mod_list_seq=t.mod_list_seq||0,t.action_list&&t.action_list.forEach((function(e){e.is_modify_mod_extra&&(e.mod_extra=e.mod_extra||""),e.is_modify_mod_reserve&&(e.mod_reserve=e.mod_reserve||1),e.is_modify_mod_horizontal_percent&&(e.mod_horizontal_percent=e.mod_horizontal_percent||0),e.is_modify_mod_vertical_percent&&(e.mod_vertical_percent=e.mod_vertical_percent||0),e.is_modify_mod_scale&&(e.mod_scale=e.mod_scale||JSON.stringify({scale:1,ofs_x:0,ofs_y:0}))})),t;case"/edu/push/draw_page_graphics":return t.page_graphics&&t.page_graphics.forEach((function(e){e.page=e.page||0,e.action_seq=e.action_seq||0,o.mergeGraphicList(e.graphic_list)})),t;case"/edu/push/clear_page_graphics":return t.pages&&t.pages.forEach((function(e,o){t.pages[o]=e||0,t.action_seqs&&(t.action_seqs[o]=t.action_seqs[o]||0)})),t;case"/edu/push/set_user_auth":case"/edu/push/set_room_auth":return t.auth_seq=t.auth_seq||0,t;default:return t}},e.prototype.encode=function(e,t,o){return X(this,void 0,void 0,(function(){var r;return Q(this,(function(i){return[2,(r=e[t]).encode(r.create(o)).finish()]}))}))},e.prototype.decode=function(e,t,o){return X(this,void 0,void 0,(function(){var r;return Q(this,(function(i){return[2,(r=e[t]).toObject(r.decode(o),{default:!0,longs:String})]}))}))},e.prototype.decodeRspMsg=function(e,t,o){return X(this,void 0,void 0,(function(){var r,i;return Q(this,(function(n){switch(n.label){case 0:return i=e.cmd,[4,this.decode(this.proto.proto_edu_tcpuplink,this.cmdRspMap[i],t)];case 1:return(r=n.sent())||(r=this.createUnknownError(o,i)),[2,r]}}))}))},e.prototype.decodePushMsg=function(e,t){return X(this,void 0,void 0,(function(){var o;return Q(this,(function(r){switch(r.label){case 0:return o=this.cmdPushMap[e]||"",[4,this.decode(this.proto.proto_edu_tcpuplink,o,t)];case 1:return[2,r.sent()]}}))}))},e}(),$=function(){return($=Object.assign||function(e){for(var t,o=1,r=arguments.length;o<r;o++)for(var i in t=arguments[o])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},ee=function(){function e(e){this.roomState="DISCONNECTED",this.pbReqCallbackMap={},this.isRegistedEvent=!1,this.REQ_TIMEOUT=6e3,this.isSendPB=!1,this.isSwitch=!1,this.timerMap={},this.cmdPushMap={"/edu/push/set_mod":291101,"/edu/push/push_set_mod":291101,"/edu/push/draw_page_graphics":291203,"/edu/push/push_clear_page_graphics":291204,"/edu/push/push_user_auth":291501,"/edu/push/push_room_auth":291502,"/edu/push/push_clear_user_graphic_list":291205,"/edu/push/clear_page_graphics":291204,"/edu/push/set_user_auth":291501,"/edu/push/set_room_auth":291502},this.zegoWebEngin=e.standarWebRTC,this.webrtcVersion=this.zegoWebEngin.getVersion(),Object(y.c)("2.9.0","2.3.0")&&!Object(y.c)(this.webrtcVersion,"2.15.0")&&this.zegoWebEngin.RTCType&&(this.zegoWebEngin.setAccess(!1),this.isSwitch=!1,this.isSendPB=!0),this.zegoWebEngin.RTCType&&this.init()}return e.prototype.init=function(){this.isSwitch=this.zegoWebEngin.isUseNetAgent(),this.isSendPB=this.zegoWebEngin.isPB(),this.zegoWebEngin.setDebugVerbose(!1),this.isSwitch?(this.eduProtobuf=new K,this.zegoWebEngin.setProtoFormat("pb"),this.isSendPB=!1):this.isSendPB&&(this.eduProtobuf=new Z,this.zegoWebEngin.setProtoFormat("pb"),this.isSwitch=!1),this.zegoWebEngin.setSdkLoginRelateService&&this.zegoWebEngin.setSdkLoginRelateService(["edusvr"]),this.bindRoomStateUpdate()},e.prototype.bindRoomStateUpdate=function(){var e=this,t=function(t,o){S.a.getInstance().info1(I.d.RoomStateUpdate,o),e.roomState=o;try{if("CONNECTED"===o){T.f.emit(T.d.RoomConnected);var r=e.getServer();r.includes("-test")?S.a.getInstance().setWBEnv("test"):r.includes("-alpha")&&S.a.getInstance().setWBEnv("alpha"),S.a.getInstance().initRoomInfo({roomID:t,userID:e.getUserID(),logLevel:S.a.getInstance().getLogLevel()}),S.a.getInstance().info1(I.d.New,"wb version:2.9.0,rtc:"+e.webrtcVersion)}else"DISCONNECTED"===o&&T.f.emit(T.d.RoomDisConnected)}catch(e){}};try{this.webrtcVersion<"2.0"?this.zegoWebEngin.bindListener("roomStateUpdate",t):this.zegoWebEngin._on("_roomStateUpdate",t)}catch(e){}},e.prototype.getSocket=function(){return this.zegoWebEngin.getSocket()},e.prototype.getState=function(){return this.zegoWebEngin.getState()},e.prototype.getServer=function(){return this.getState().server},e.prototype.getAppID=function(){return this.getState().appid},e.prototype.createJsonReqBody=function(e){return{header:{sdk_version:1,id_name:this.getUserID()},body:JSON.stringify(e)}},e.prototype.createPbReqBody=function(e){return{header:{sdk_version:1,id_name:this.getUserID()},body:e}},e.prototype.createSwitchReqBody=function(e){return e.req_head=this.zegoWebEngin.getReqHead(),e},e.prototype.sendJsonMessage=function(e,t,o){var r=this;this.getSocket().sendMessage("biz_channel",{channel:"edu",cmd:e,req_body:JSON.stringify(this.createJsonReqBody(t))},(function(t,i,n){try{var a=void 0;a=r.webrtcVersion<"2.0"?r.rspSuccessHandle(n):r.rspSuccessHandle(t.body.rsp_body),S.a.getInstance().info1(I.d.Socket_Response,"cmd="+e+",body="+JSON.stringify(a)),o(a)}catch(e){}}),(function(t,i,n,a){try{var s=void 0;s=r.webrtcVersion<"2.0"?"[object Object]"===Object.prototype.toString.call(t)?{header:{code:t.code,message:t.msg}}:r.rspErrorHandle(n):r.rspErrorHandle(t.body.rsp_body),S.a.getInstance().info1(I.d.Socket_Response,"cmd="+e+",body="+JSON.stringify(s)),o(s)}catch(e){}}))},e.prototype.sendPbMessage=function(e,t,o){var r=this;if("DISCONNECTED"!==this.getRoomState()){var i=this.zegoWebEngin.getHeader("biz_channel");(null==i?void 0:i.seq)&&!this.timerMap[i.seq]?this.timerMap[i.seq]=setTimeout((function(){o({header:{code:v.j.ZegoWhiteboardViewErrorNetworkTimeout},seq:i.seq})}),this.REQ_TIMEOUT):o({header:{code:v.j.ZegoWhiteboardViewErrorInternal}}),this.eduProtobuf.encodeMsg(e,i,this.createPbReqBody(t)).then((function(e){!1===r.zegoWebEngin.sendPB(e)?o({header:{code:v.j.ZegoWhiteboardViewErrorNetworkDisconnect}}):r.pbReqCallbackMap[i.seq]=o})).catch((function(e){S.a.getInstance().error1(I.d.Socket_Req,e)}))}else S.a.getInstance().warn1(I.d.SendPbMessage,"room state is DISCONNECTED")},e.prototype.sendSwitchMessage=function(e,t,o){var r=this;"DISCONNECTED"!==this.getRoomState()?this.eduProtobuf.encodeMsg(e,this.createSwitchReqBody(t)).then((function(t){var i=r.zegoWebEngin.sendSwitchMessage(e,t);i&&!r.timerMap[i]&&(r.timerMap[i]=setTimeout((function(){o({header:{code:v.j.ZegoWhiteboardViewErrorNetworkTimeout},seq:i})}),r.REQ_TIMEOUT)),i&&-1!==i?r.pbReqCallbackMap[i]=o:o({header:{code:v.j.ZegoWhiteboardViewErrorNetworkDisconnect}})})).catch((function(e){o({header:{code:v.j.ZegoWhiteboardViewErrorInternal}}),S.a.getInstance().error1(I.d.Socket_Req_Catch,e)})):S.a.getInstance().warn1(I.d.SendSwitchMessage,"room state is DISCONNECTED")},e.prototype.handleJsonResponse=function(e,t){try{var o=JSON.parse(e.body.req_body);o.msg_body=JSON.parse(o.msg_body),S.a.getInstance().info1(I.d.Socket_Push,o),t(o)}catch(e){}},e.prototype.handlePbResponse=function(e,t){var o=this;this.eduProtobuf.decodeMsg(e).then((function(e){var r,i;if(e.cmd&&e.header){S.a.getInstance().info1(I.d.Socket_Response,"cmd="+e.cmd+",body="+JSON.stringify(e));var n=null===(r=e.header)||void 0===r?void 0:r.seq;o.pbReqCallbackMap[n]&&o.pbReqCallbackMap[n](e),delete o.pbReqCallbackMap[n],(null===(i=o.timerMap)||void 0===i?void 0:i[n])&&(clearTimeout(o.timerMap[n]),o.timerMap[n]=null,delete o.timerMap[n])}else S.a.getInstance().info1(I.d.Socket_Push,e),t(e)})).catch((function(e){S.a.getInstance().error1(I.d.Socket_Response,e)}))},e.prototype.handleSwitchResponse=function(e,t,o){var r=this,i=e.cmd,n=e.seq,a="/sw/push"===i;this.eduProtobuf.decodeMsg(e,t).then((function(e){var t;0===(a?1:e.rsp_head.code)?(S.a.getInstance().info1(I.d.Socket_Response,"cmd="+i+",body="+JSON.stringify(e)),e.header=e.rsp_head,e.body=$({},e),e.seq=n,r.pbReqCallbackMap[n]&&r.pbReqCallbackMap[n](e),delete r.pbReqCallbackMap[n],(null===(t=r.timerMap)||void 0===t?void 0:t[n])&&(clearTimeout(r.timerMap[n]),r.timerMap[n]=null,delete r.timerMap[n])):(S.a.getInstance().info1(I.d.Socket_Push,e),e.header=e.rsp_head,e.sub_cmd=r.cmdPushMap[e.sub_cmd],e.body=$({},e),o(e))})).catch((function(e){S.a.getInstance().error1(I.d.Socket_Response,e)}))},e.prototype.rspSuccessHandle=function(e){var t=JSON.parse(e);return t.body=t.body?JSON.parse(t.body):{},t},e.prototype.rspErrorHandle=function(e){var t=JSON.parse(e).header;return{header:{code:t.code,message:t.message}}},e.prototype.loginRoom=function(e,t,o,r){return this.zegoWebEngin.loginRoom(e,t,o,r)},e.prototype.logoutRoom=function(e){T.f.emit(T.d.RoomDisConnected),this.zegoWebEngin.logoutRoom(e)},e.prototype.renewToken=function(e,t){return this.zegoWebEngin.renewToken(e,t)},e.prototype.setLogConfig=function(e){return S.a.getInstance().setLogConfig(e),this.zegoWebEngin.setLogConfig(e)},e.prototype.config=function(e){this.zegoWebEngin.config(e),this.init()},e.prototype.clearLog=function(){return S.a.getInstance().uploadLog()},e.prototype.checkSendLength=function(e,t){var o=this.isSwitch?m.Exprsss.DrawPageGraphics.replace("v1",""):m.Exprsss.DrawPageGraphics,r=JSON.stringify({body:{channel:"edu",cmd:o,req_body:JSON.stringify(this.createJsonReqBody(e))}}).length;if(r>(this.isSendPB||this.isSwitch?5e4:4800)&&t==v.a.Update)return Promise.resolve(r);if(!this.isSendPB&&!this.isSwitch&&r>4800)return Promise.resolve(r);try{if(this.isSwitch)return this.eduProtobuf.checkSendLength(o,this.createSwitchReqBody(e));if(this.isSendPB)return this.eduProtobuf.checkSendLength(o,this.createPbReqBody(e))}catch(e){}return Promise.resolve(0)},e.prototype.registerWbMessage=function(e){var t=this;this.isSwitch?this.zegoWebEngin.onSwitchMessage((function(o,r){return t.handleSwitchResponse(o,r,e)})):(this.isRegistedEvent&&this.zegoWebEngin.off("_protobufResponse"),this.zegoWebEngin.on("_protobufResponse",(function(o){return t.handlePbResponse(o,e)})),this.isRegistedEvent=!0);var o=this.webrtcVersion<"2.0"?"registerRouter":"on";this.getSocket()[o]("push_biz_channel",(function(o){return t.handleJsonResponse(o,e)}))},e.prototype.queueWSCmdHandler=function(e,t){var o=this;return new Promise((function(r){S.a.getInstance().info1(I.d.Socket_Req,"cmd="+e+",body="+JSON.stringify(t)),o.isSwitch?o.sendSwitchMessage(e.replace("v1",""),t,r):o.isSendPB?o.sendPbMessage(e,t,r):o.sendJsonMessage(e,t,r)}))},e.prototype.getUserID=function(){return this.getState().idName},e.prototype.getRoomID=function(){return this.getState().roomid},e.prototype.getServerTimeOffset=function(){return this.getState().serverTimeOffset||0},e.prototype.getRoomState=function(){return this.roomState},e}(),te=function(){function e(e){this.module=e}return e.prototype.actionListener=function(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];T.f.emit(e,t)},e.prototype.bindListener=function(e,t){T.f.on(e,t)},e.prototype.pushRemovedMod=function(e){this.module.pushRemovedMod(e)},e.prototype.pushAddMod=function(e){this.module.pushAddMod(e)},e.prototype.pushModifyMod=function(e){if(e){var t=e.mod_id,o=e.mod_seq,r=e.mod_title,n=e.mod_horizontal_percent,a=e.mod_vertical_percent,s=e.mod_reserve,c=e.mod_extra,l=e.mod_scale,u=e.is_modify_mod_vertical_percent,d=e.is_modify_mod_horizontal_percent,p=e.is_modify_mod_reserve,h=e.is_modify_mod_title,_=e.is_modify_mod_extra,f=e.is_modify_mod_scale;if(this.module.getMap(t))if(this.module.getModSendSwitch(t)){var g={whiteboardID:t,modSeq:o};this.module.updateMap(g),this.updateMapByModifyModOption(e,o,!0)}else{var m={mod_id:t};h&&Object.assign(m,{mod_title:r,is_modify_mod_title:h}),_&&Object.assign(m,{mod_extra:c,is_modify_mod_extra:_}),d&&Object.assign(m,{mod_horizontal_percent:n,is_modify_mod_horizontal_percent:d}),u&&Object.assign(m,{mod_vertical_percent:a,is_modify_mod_vertical_percent:u,mod_reserve:s,is_modify_mod_reserve:p}),p&&Object.assign(m,{mod_reserve:s,is_modify_mod_reserve:p}),f&&Object.assign(m,{mod_scale:l,is_modify_mod_scale:f}),this.module.updateModifyModTaskList({status:i.Pending,data:m,push:!0,pushModSeq:o})}}},e.prototype.updateMapByModifyModOption=function(e,t,o){var r,i=e.mod_id,n=e.mod_title,a=e.mod_horizontal_percent,s=e.mod_vertical_percent,c=e.mod_reserve,l=e.mod_scale,u=e.is_modify_mod_horizontal_percent,d=e.is_modify_mod_vertical_percent,p=e.is_modify_mod_reserve,h=e.is_modify_mod_title,_=e.is_modify_mod_extra,f=e.is_modify_mod_scale,g=this.module.decodeH5Extra(e.mod_extra),m=this.module.getMap(i),y={isPushScroll:!1,horizontalPercent:m.horizontalPercent,verticalPercent:m.verticalPercent,pptStep:m.pptStep};if(u){y.isPushScroll=!0,y.horizontalPercent=+a||0;var b={whiteboardID:i,horizontalPercent:y.horizontalPercent,modPropSeq:{mod_horizontal_percent:t}};this.module.updateMap(b)}if(d){y.isPushScroll=!0,y.verticalPercent=+s||0,y.pptStep=+c;var v={whiteboardID:i,verticalPercent:y.verticalPercent,pptStep:y.pptStep,modPropSeq:{mod_vertical_percent:t}};this.module.updateMap(v)}if(p){y.isPushScroll=!0,y.pptStep=+c;var w={whiteboardID:i,pptStep:y.pptStep,modPropSeq:{mod_reserve:t}};this.module.updateMap(w)}if(y.isPushScroll&&o&&(this.module.pushScrollHandle(i,y.horizontalPercent,y.verticalPercent,y.pptStep),this.module.updateMap({whiteboardID:i,modExtra:""}),r=e),h){var S={whiteboardID:i,name:n,modPropSeq:{mod_title:t}};this.module.updateMap(S)}if(_){var I={whiteboardID:i,modExtra:g,modPropSeq:{mod_extra:t}};if(o){var E=this.module.checkH5Extra(i,g,!0);E&&(this.module.pushExtraHandle(i,E),r=e)}this.module.updateMap(I)}if(f){var O=JSON.parse(l);I={whiteboardID:i,modScale:O,modPropSeq:{mod_scale:t}};o&&this.module.pushScaleHandle(i,O.scale,O.ofs_x,O.ofs_y),this.module.updateMap(I)}return r},e.prototype.parseGraphicsHandle=function(e){var t=this,o=e.page_graphics,r=e.mod_id,i=this.module.checkModInfo(r);if(i){var n=i.width,a={},s=[],c=[];return o.forEach((function(e){var o=e.del_graphic_id_list,r=e.graphic_list,i=e.action_seq,l=e.page;t.transGraphicList(c,r,n),o&&s.push.apply(s,o),a[l]=i})),{whiteboardID:r,graphicList:c=JSON.parse(JSON.stringify(c)),delGraphicIdList:s,graphicListSeqs:a}}},e.prototype.pushDrawPageGraphicsHandle=function(e){var t=e.whiteboardID,o=e.graphicListSeqs,r=e.graphicList,i=e.delGraphicIdList;this.module.updateMapByGraphicListSeqs(t,o),T.f.emit(T.d.PushDrawPageGraphics,t,r,i)},e.prototype.transGraphicList=function(e,t,o){var r=this;t&&t.length&&t.forEach((function(t){e.some((function(e){return e.graphic_id===t.graphic_id}))||(t.zorder>r.module.zorderSeq&&(r.module.zorderSeq=t.zorder),Object(y.i)(t,!0),r.module.setGraphicItem(t),Object(y.a)(t,o,!0),t.color=Object(w.t)(t.color,!0),e.push(t))}))},e.prototype.pushClearPageGraphicsHandle=function(e){this.module.pushClearPageGraphicsHandle(e)},e}(),oe=(J=function(e,t){return(J=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}J(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),re=function(e){function t(t){var o=e.call(this,"web")||this;return o.socket=new ee(t),o.module=new L(o.socket),o.graphic=new k(o.socket,o.module),o.logConfig={appID:o.socket.getAppID(),userID:"1",token:"1",isTestEnv:!1},Object(S.b)(0,o.logConfig,"WhiteBoard",{WhiteBoard_VER:"2.9.0"}),o.init(),o}return oe(t,e),t.prototype.init=function(){var e=this;T.f.on(T.d.RoomConnected,(function(){e.isPlayback||(e.logConfig.userID=e.socket.getUserID()+"",S.a.getInstance().setLoggerHeader(e.logConfig,{WhiteBoard_VER:"2.9.0"}),e.module.reload(),T.f.emit(T.d.SuperRoomConnected))})),T.f.on(T.d.RoomDisConnected,(function(){T.f.emit(T.d.SuperDocsLogoutRoom),T.f.emit(T.d.SuperRoomDisConnected),e.isPlayback||e.module.unload()}))},t.prototype.setFileInfo=function(e){this.module.setFileInfo(e)},t.prototype.enablePlayback=function(){this.isPlayback=!0,this.socket.isSendPB=!1,this.execute=new te(this.module)},t.prototype.loginRoom=function(e,t,o,r){return S.a.getInstance().info1(I.e.LoginRoom,{roomID:e,user:o,config:r}),S.a.getInstance().updateDocToken(t),this.socket.loginRoom(e,t,o,r)},t.prototype.logoutRoom=function(e){return S.a.getInstance().info1(I.e.API_logoutRoom,{roomID:e}),this.socket.logoutRoom(e)},t.prototype.config=function(e){return this.socket.config(e)},t.prototype.renewToken=function(e,t){return S.a.getInstance().info1(I.e.API_renewToken,{token:e}),S.a.getInstance().updateDocToken(e),this.socket.renewToken(e,t)},t.prototype.setLogConfig=function(e){return this.socket.setLogConfig(e)},t.prototype.getGraphicIsEndDraw=function(e){return this.graphic.getGraphicIsEndDraw(e)},t.prototype.updateToRemoteHandle=function(e,t,o,r){this.isPlayback?null==o||o():this.graphic.updateToRemoteHandle(e,t,o,r)},t.prototype.getModName=function(e){return this.module.getModName(e)},t.prototype.getCreateTime=function(e){return this.module.getCreateTime(e)},t.prototype.getRoomID=function(e){return this.module.getRoomID(e)},t.prototype.getUniqueID=function(e){return this.module.getUniqueID(e)},t.prototype.getUserID=function(){return this.socket.getUserID()},t.prototype.getRoomState=function(){return this.socket.getRoomState()},t.prototype.getPageCount=function(e){return this.module.getPageCount(e)},t.prototype.setSize=function(e,t,o){return this.module.setSize(e,t,o)},t.prototype.setViewSize=function(e,t,o){return this.module.setViewSize(e,t,o)},t.prototype.undo=function(e){},t.prototype.redo=function(e){},t.prototype.createMod=function(e,t){return this.module.createMod(e,t)},t.prototype.clearView=function(e,t){return this.graphic.clearView(e,t)},t.prototype.scroll=function(e,t,o,r,i){this.isPlayback||this.module.scroll(e,t,o,r,i)},t.prototype.scale=function(e,t,o,r){this.isPlayback||this.module.scale(e,t,o,r)},t.prototype.loadCurrentGraphics=function(e,t,o){this.isPlayback||this.module.loadCurrentGraphics(e,t,o)},t.prototype.getScrollPercent=function(e){return this.module.getScrollPercent(e)},t.prototype.getScale=function(e){return this.module.getScale(e)},t.prototype.getAspectRatio=function(e){return this.module.getAspectRatio(e)},t.prototype.getFileInfo=function(e){return this.module.getFileInfo(e)},t.prototype.uploadImage=function(e,t){return this.graphic.uploadImage(e,t)},t.prototype.createZorder=function(){return this.module.createZorder()},t.prototype.destroyMod=function(e){return this.module.destroyMod(e)},t.prototype.getModList=function(){return this.module.getModList()},t.prototype.getH5Extra=function(e){return this.module.getH5Extra(e)},t.prototype.appendH5Extra=function(e,t){this.isPlayback||this.module.appendH5Extra(e,t)},t.prototype.getUserAuth=function(){return this.module.getUserAuth()},t.prototype.enableHandwriting=function(){},t.prototype.isAppendPathLimit=function(e,t){return this.graphic.isAppendPathLimit(e,t)},t.prototype.reloadViewGraphics=function(e,t){this.module.reloadViewGraphics(e,t)},t.prototype.switchView=function(e){return this.module.switchView(e)},t.prototype.getCurrentActivitedView=function(){return this.module.getCurrentActivitedView()},t.prototype.isSwitch=function(){return this.socket.isSwitch},t}((function(e){this.isElectron=!1,this.isPlayback=!1,this.isElectron="electron"===e}))},function(e,t,o){"use strict";o.d(t,"a",(function(){return G}));o(39),o(26),o(47),o(61),o(62),o(63),o(36),o(46),o(53),o(87),o(49),o(50),o(218),o(115),o(106),o(124),o(105),o(229),o(250),o(37),o(69),o(56),o(406),o(379),o(296),o(94),o(77),o(85),o(227),o(228),o(55),o(188);var r=o(5),i=o(4),n=o(10),a=(o(210),o(168),o(226),o(59),o(121),o(169),o(167),o(123),o(186),o(151),o(297),o(9)),s=o(0),c=o(1),l=o(2),u=function(){return(u=Object.assign||function(e){for(var t,o=1,r=arguments.length;o<r;o++)for(var i in t=arguments[o])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},d=function(){function e(e){var t=this;this.bindFlag=!1,this.authFlag=!0,this.laserInfo={hiddenX:-100,hiddenY:-100,initX:0,initY:0,touchLeaveRect:{left:0,top:0,right:0,bottom:0}},this.mousemoveHandle=function(e){if(t.toolInstance.enableDraw){if(!t.toolInstance.getUserAuth().create)return t.authFlag&&Object(n.a)(s.j.ZegoWhiteboardViewErrorNoAuthCreateGraphic),void(t.authFlag=!1);if(window.TouchEvent&&e instanceof TouchEvent&&e.preventDefault(),t.laserInfo.touchLeaveRect.right||(t.laserInfo.touchLeaveRect=t.toolInstance.getWhiteboardNodeRect()),t.toolInstance.isTouchLeaveWhenMove(e,t.laserInfo.touchLeaveRect))t.mouseleaveHandle();else{t.toolInstance.updateOffsetAndScrollHandle();var o=t.getMouseChangedPoint(e),r=t.addLaserHandle(void 0,o);r.x=o.clientX,r.y=o.clientY,r.is_end_draw=!0,r.operate_id=Object(a.d)(),t.drawGraphicsHandle(r,!0),t.toolInstance.updateToRemoteNewHandle([t.calLaserActualPlaceHandle(r)],s.a.Move)}}},this.mouseleaveHandle=function(){t.authFlag=!0,t.laserHiddenHandle(),c.a.getInstance().info1(l.e.Laser_MouseleaveHandle)},this.wheelHandle=function(e){var o;e.preventDefault();var i=t.toolInstance.whiteboardID,n=r.a.reservedPrefix.whiteboard,a=null===(o=document.querySelector("#"+n+i))||void 0===o?void 0:o.parentNode,s=a.getBoundingClientRect(),c=s.width;s.height!==a.scrollHeight&&(a.scrollTop+=Number(e.deltaY.toFixed(7))),c!==a.scrollWidth&&(a.scrollLeft+=Number(e.deltaX.toFixed(7)))},this.toolInstance=e,this.laserContainerNode=this.addLaserConDomHandle(),this.updateZIndexHandle(-1)}return e.prototype.transLocationHandle=function(e){var t=e.clientX,o=e.clientY,r=this.toolInstance,i=r.offsetData,n=r.scrollData,a=i.offsetLeft,s=i.offsetTop,c=n.scrollTop,l=n.scrollLeft,u=this.toolInstance.conNode,d=u.scrollLeft,p=u.scrollTop;return{clientX:Math.round(t-a+l-d),clientY:Math.round(o-s+c-p)}},e.prototype.getMouseChangedPoint=function(e){var t;if(e instanceof MouseEvent){var o=e,r=o.clientX,i=o.clientY;t=this.transLocationHandle({clientX:r,clientY:i})}else{var n=e.changedTouches[0];r=n.clientX,i=n.clientY;t=this.transLocationHandle({clientX:r,clientY:i})}return t},e.prototype.laserHiddenHandle=function(e){var t=this.findLaserHandle(e);if(t){var o=this.laserInfo,r=o.hiddenX,i=o.hiddenY;Object.assign(t,{x:r,y:i,px:0,py:0}),this.toolInstance.moveGraphicsHandle(t.graphic_id,r,i),e||(t.is_end_draw=!0,t.operate_id=Object(a.d)(),this.toolInstance.updateToRemoteNewHandle([t],s.a.Move)),c.a.getInstance().info1(l.e.Laser_LaserHiddenHandle,e)}},e.prototype.addLaserHandle=function(e,t){var o=this.toolInstance.graphicList;if(!e){var i=this.findLaserHandle();if(i)return i;var n=this.laserInfo,c=n.initX,l=n.initY,d=n.hiddenX,p=n.hiddenY;e=u(u({graphic_id:Object(a.d)(),creator_id:this.toolInstance.getUserID()},r.a.basicState),{type:s.f.Laser,x:d,y:p,px:0,py:0,data:[c,l],zorder:this.toolInstance.serviceHandle.createZorder()})}return(e=e).operate_id=Object(a.d)(),e.is_end_draw=!0,o.push(e),this.drawGraphicsHandle(e,!0),this.toolInstance.updateToRemoteNewHandle([this.calLaserActualPlaceHandle(e)],s.a.Create),e},e.prototype.findLaserHandle=function(e){var t=this.toolInstance.getUserID();return this.toolInstance.graphicList.find((function(o){return e?o.graphic_id===e:o.type===s.f.Laser&&o.creator_id===t}))},e.prototype.addLaserConDomHandle=function(){var e=this.toolInstance.whiteboardID,t=""+r.a.reservedPrefix.laserContainer+e,o=this.toolInstance.userNode.querySelector("#"+t);return o||((o=document.createElement("div")).id=t,this.toolInstance.zoomNode.appendChild(o),this.updateLaserConSize(o),o)},e.prototype.updateZIndexHandle=function(e){this.laserContainerNode.style.zIndex=""+e,this.laserContainerNode.style.visibility=-1===e?"hidden":"visible"},e.prototype.drawGraphicsHandle=function(e,t){var o=this.toolInstance.getUserID(),i=e.graphic_id,n=e.data,a=e.creator_id,u=e.x,d=e.y;if(a===o&&!t){t=!0;var p=this.calLaserPlaceHandle(u,d),h=p.x,_=p.y;e.x=h,e.y=_,u=h,d=_}var f=r.a.reservedPrefix,g=""+f.graphics+i,m=""+f.laserCon+i,y=this.toolInstance.userNode.querySelector("#"+g);if(!y){y=document.createElement("div");var b=document.createElement("div");y.id=g,b.id=m,b.appendChild(y),t?this.laserContainerNode.appendChild(b):this.toolInstance.appendGraphicsDomHandle(b,s.f.Laser)}var v="transform:translate("+(u||0)+"px, "+(d||0)+"px)"+(t?";":"scale("+1/this.toolInstance.viewInfo.zoom+");")+"left:"+n[0]+"px;top:"+n[1]+"px;";y.parentNode.style.cssText=v,c.a.getInstance().info1(l.e.Laser_DrawGraphicsHandle,{protoGraphic:e,local:t,x:u,y:d})},e.prototype.bindEventsHandle=function(){if(this.updateZIndexHandle("initial"),!this.bindFlag){this.bindFlag=!0;var e=r.a.mouseEvents;this.toolInstance.toolAddEL(this.laserContainerNode,e.move,this.mousemoveHandle),this.toolInstance.toolAddEL(this.laserContainerNode,e.leave,this.mouseleaveHandle),this.toolInstance.viewInfo.isScroll&&this.laserContainerNode.addEventListener("wheel",this.wheelHandle)}},e.prototype.removeEventsHandle=function(){if(this.bindFlag){this.bindFlag=!1,this.updateZIndexHandle(-1);var e=r.a.mouseEvents;this.toolInstance.toolRmEl(this.laserContainerNode,e.move,this.mousemoveHandle),this.toolInstance.toolRmEl(this.laserContainerNode,e.leave,this.mouseleaveHandle),this.laserContainerNode.removeEventListener("wheel",this.wheelHandle)}},e.prototype.calLaserActualPlaceHandle=function(e){var t=(e=JSON.parse(JSON.stringify(e))).x,o=e.y,r=this.toolInstance.viewInfo,i=r.zoom,n=r.zoomTX,a=r.zoomTY,s=r.offsetPageX,c=r.offsetPageY,l=this.toolInstance.conNode,u=l.scrollLeft,d=l.scrollTop;return e.x=Math.round((t+8+u-n)/i+s),e.y=Math.round((o+8+d-a)/i+c),e},e.prototype.calLaserPlaceHandle=function(e,t){var o=this.toolInstance.viewInfo,r=o.zoom,i=o.zoomTX,n=o.zoomTY,a=o.offsetPageX,s=o.offsetPageY,c=this.toolInstance.conNode,l=c.scrollLeft,u=c.scrollTop;return{x:e=Math.round((e-a)*r+i-l),y:t=Math.round((t-s)*r+n-u)}},e.prototype.pushActualPlaceHandle=function(){var e=this.findLaserHandle();e&&(this.toolInstance.updateOffsetAndScrollHandle(),e.is_end_draw=!0,e.operate_id=Object(a.d)(),c.a.getInstance().info1(l.e.Laser_PushActualPlaceHandle,{laserData:[this.calLaserActualPlaceHandle(e)],Action:"Move"}),this.toolInstance.updateToRemoteNewHandle([this.calLaserActualPlaceHandle(e)],s.a.Move))},e.prototype.clearLaserHandle=function(e){var t;(t=e?this.toolInstance.graphicList.filter((function(t){return t.creator_id===e}))[0]:this.findLaserHandle())&&(t.is_end_draw=!0,t.operate_id=Object(a.d)(),this.toolInstance.deleteHandle(t.graphic_id),this.toolInstance.updateToRemoteNewHandle([t],s.a.Delete))},e.prototype.updateLaserConSize=function(e){var t,o="z-index:"+((e=e||this.laserContainerNode).style.zIndex||"initial")+";",i=this.toolInstance.whiteboardID,n=r.a.reservedPrefix.whiteboard,a=null===(t=document.querySelector("#"+n+i))||void 0===t?void 0:t.parentNode;if(this.toolInstance.viewInfo.isScroll){var s=a.getBoundingClientRect(),c=s.width;(l=s.height)!==a.scrollHeight&&(o+="width:"+(c-18)+"px;"),c!==a.scrollWidth&&(o+="height:"+(l-18)+"px;")}else{var l,u=a.getBoundingClientRect();o+="width:"+(c=u.width)+"px;",o+="height:"+(l=u.height)+"px;",o+="top:"+a.style.top+";left:"+a.style.left}e.style.cssText=o},e}(),p=function(){return(p=Object.assign||function(e){for(var t,o=1,r=arguments.length;o<r;o++)for(var i in t=arguments[o])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},h=function(){function e(e){var t=this;this.bindFlag=!1,this.tolerance=1,this.isIos11=navigator.userAgent.includes("iPhone")&&navigator.userAgent.includes("11_4_1"),this.upSwitch=!1,this.mouseInfo={moveCount:0,moveTaskId:0,touchLeaveRect:{left:0,top:0,right:0,bottom:0},isHandWriting:!1,handWritingTimer:0,handWritingLastPoint:null,handWritingLastSize:null},this.mousedownHandle=function(e){if(t.toolInstance.enableDraw)if(t.toolInstance.getUserAuth().create){if(t.toolInstance.downCommonHandle(e)){t.upSwitch=!0,r.a.svgPath.tops.length=0,r.a.svgPath.bottoms.length=0,t.mouseInfo.isHandWriting=JSON.parse(r.a.basicState.attributes).stroke;var o=t.mouseInfo.isHandWriting&&r.a.basicState.type==s.k.ZegoWhiteboardViewToolPen,i=t.toolInstance.getMouseStartPoint(e,o),c=i.clientX,l=i.clientY,u=t.toolInstance.whiteboardNode;t.mouseInfo.touchLeaveRect=t.toolInstance.getWhiteboardNodeRect();var d=r.a.basicExtraState.customImage.url,h=r.a.basicState.type===s.k.ZegoWhitebaordViewToolCustomImage&&d?s.f.Image:r.a.basicState.type,_=h===s.f.Image?{x:c,y:l,ex:0,ey:0,url:d,hash:""}:[c,l],f=Object(a.d)();t.toolInstance.updateMousePointsHandle(c,l),t.toolInstance.updateProtoGraphic(p(p({creator_id:t.toolInstance.getUserID(),graphic_id:f,operate_id:f,is_end_draw:!1},r.a.basicState),{type:h,x:0,y:0,px:0,py:0,data:_,zorder:t.toolInstance.serviceHandle.createZorder()})),h===s.k.ZegoWhiteboardViewToolPen&&(t.toolInstance.protoGraphic.oldData=[c,l]),t.realTimeStartHandle(),t.mouseInfo.moveCount=0,t.mouseInfo.moveTaskId=0,t.toolInstance.toolAddEL(u,r.a.mouseEvents.move,t.mousemoveHandle)}}else Object(n.a)(s.j.ZegoWhiteboardViewErrorNoAuthCreateGraphic)},this.mousemoveHandle=function(e){if(!(window.TouchEvent&&e instanceof TouchEvent)||t.toolInstance.downCommonHandle(e))if(t.toolInstance.isTouchLeaveWhenMove(e,t.mouseInfo.touchLeaveRect))t.mouseupHandle();else{var o=t.toolInstance.protoGraphic;t.mouseInfo.isHandWriting?t.drawGraphicsHandWritingHandle(o,e):t.drawGraphicsPathHandle(o,e)}},this.mouseupHandle=function(){t.mouseInfo.handWritingTimer&&(clearTimeout(t.mouseInfo.handWritingTimer),t.mouseInfo.handWritingTimer=0);var e=t.toolInstance,o=e.protoGraphic,i=e.graphicList,c=e.whiteboardNode;if(o&&o.graphic_id&&t.upSwitch){t.toolInstance.toolRmEl(c,r.a.mouseEvents.move,t.mousemoveHandle),t.upSwitch=!1,t.mouseInfo.moveCount=0,t.mouseInfo.moveTaskId=0,t.drawGraphicsExceptionHandle(o);var l=o.graphic_id,u=o.type;if(t.toolInstance.updateBoxHandle(o)){if(u===s.f.Pencil){var d=t.toolInstance.getGraphicsHandle(l);if(!d)return;var h=o.oldData;if(o.data=h.slice(),t.mouseInfo.isHandWriting)t.drawGraphicsPencilSegment(o,s.e.Local);else Object(a.g)(d)[0].setAttribute("d",Object(a.m)(s.f.Pencil,o.data))}else if(u===s.f.Image){var _=(h=o.data).x,f=h.y,g=h.ex,m=h.ey,y=t.toolInstance.getUserAuth().create;if(_===g||f===m||!y){t.toolInstance.deleteHandle(o.graphic_id),t.toolInstance.initDrawHandle();var b=s.j.ZegoWhiteboardViewErrorNoAuthCreateGraphic;return void(!y&&Object(n.a)(b))}t.checkImageRect(h),o.initX=h.x,o.initY=h.y,o.oldData=p({},h)}o.is_end_draw=!0;var v=JSON.parse(JSON.stringify(o)),w=o.data;if(t.mouseInfo.isHandWriting&&4===w.length&&u===s.f.Pencil&&o.is_end_draw)return t.toolInstance.deleteHandle(o.graphic_id),void t.toolInstance.updateToRemoteNewHandle([o],s.a.Delete);if(u===s.f.Pencil&&2===w.length||4===w.length&&w[0]==w[2]&&w[1]==w[3])return t.toolInstance.deleteHandle(o.graphic_id),void t.toolInstance.updateToRemoteNewHandle([o],s.a.Delete);t.toolInstance.setGraphicsDomZorder(v),i.push(v),t.realTimeEndHandle()}else u!==s.f.Image&&(o.is_end_draw=!0,t.realTimeEndHandle());t.toolInstance.initDrawHandle()}},this.toolInstance=e,this.tolerance=this.toolInstance.serviceHandle.isElectron?.3:1}return e.prototype.drawGraphicsExceptionHandle=function(e){var t=e.type,o=e.data;t!==s.f.Image&&o.length<4&&(o[2]=o[0]+1,o[3]=o[1]+1,this.drawGraphicsHandle(e,s.e.Local))},e.prototype.isMouseMoveWithNoKeydown=function(e,t){return t instanceof MouseEvent&&!t.buttons&&(this.toolInstance.toolRmEl(this.toolInstance.whiteboardNode,r.a.mouseEvents.move,this.mousemoveHandle),this.toolInstance.deleteHandle(e),this.toolInstance.initDrawHandle(),!0)},e.prototype.catchMouseMoveException=function(){var e=this;this.mouseInfo.moveTaskId||(this.mouseInfo.moveTaskId=window.setTimeout((function(){if(e.mouseInfo.moveCount<5){var t=e.toolInstance.userNode.querySelector("#zego-whiteboard-input");t||((t=document.createElement("input")).id="zego-whiteboard-input",t.tabIndex=-1,e.toolInstance.userNode.insertBefore(t,e.toolInstance.userNode.firstChild)),t.focus()}}),200)),this.mouseInfo.moveCount++},e.prototype.realTimeStartHandle=function(){var e=this.toolInstance.protoGraphic;e.type!==s.f.Image&&this.toolInstance.updateToRemoteNewHandle([e],s.a.Create)},e.prototype.realTimeDrawHandle=function(){var e=this.toolInstance.protoGraphic;e.type!==s.f.Image&&(e.type===s.f.Pencil?this.mouseInfo.isHandWriting?this.realTimeHandWrittingSend(e):this.readlTimeNormalSend(e):this.toolInstance.updateToRemoteNewHandle([e],s.a.Update))},e.prototype.realTimeEndHandle=function(){var e=this.toolInstance.protoGraphic,t=e.type===s.f.Image?s.a.Create:s.a.Update;this.toolInstance.updateToRemoteNewHandle([e],t)},e.prototype.appendPath=function(e,t){var o,r=this;if(t.length){var i=JSON.parse(JSON.stringify(e));i.data=t,(o=e.oldData).push.apply(o,t),this.toolInstance.serviceHandle.isAppendPathLimit(this.toolInstance.whiteboardID,e).then((function(o){o?(e.oldData.splice(i.oldData.length,t.length),r.mouseupHandle()):r.upSwitch&&r.toolInstance.updateToRemoteNewHandle([i],s.a.Append)}))}},e.prototype.readlTimeNormalSend=function(e){var t=r.a.realTimeState.localDrawCount,o=e.data;if(o.length%t==2){var i=Object(a.q)(o.slice(o.length-t),this.tolerance);this.appendPath(e,i)}},e.prototype.realTimeHandWrittingSend=function(e){var t=e.data,o=t.slice(e.oldData.length,t.length);this.appendPath(e,o)},e.prototype.drawGraphicsHandWritingHandle=function(e,t){var o=this;this.mouseInfo.handWritingTimer||(this.mouseInfo.handWritingTimer=window.setTimeout((function(){o.drawGraphicsPathHandle(e,t),clearTimeout(o.mouseInfo.handWritingTimer),o.mouseInfo.handWritingTimer=0}),r.a.handWritingFactor.step))},e.prototype.drawGraphicsPathHandle=function(e,t){var o=this.mouseInfo.isHandWriting&&e.type==s.f.Pencil,r=this.toolInstance.getMouseChangedPoint(t,o);this.toolInstance.updateGraphicsDataHandle(r);var i=e.type===s.f.Image?s.o.ZegoWhiteboardViewImageCustom:void 0;this.realTimeDrawHandle(),this.drawGraphicsHandle(e,s.e.Local,i)},e.prototype.isHandWriting=function(e,t){return t==s.e.Local?this.mouseInfo.isHandWriting:!!e.attributes&&JSON.parse(e.attributes).stroke},e.prototype.bindEventsHandle=function(){var e=this;if(!this.bindFlag){this.bindFlag=!0;var t=this.toolInstance.whiteboardNode;this.toolInstance.toolAddEL(t,r.a.mouseEvents.down,this.mousedownHandle),this.toolInstance.toolAddEL(t,r.a.mouseEvents.up,(function(){r.a.basicState.type!=s.k.ZegoWhiteboardViewToolSelector&&(r.a.basicState.type==s.k.ZegoWhiteboardViewToolPen?window.setTimeout((function(){e.mouseupHandle()}),20):e.mouseupHandle())})),this.toolInstance.toolAddEL(t,r.a.mouseEvents.leave,this.mouseupHandle)}},e.prototype.removeEventsHandle=function(){if(this.bindFlag){this.bindFlag=!1;var e=this.toolInstance.whiteboardNode;this.toolInstance.toolRmEl(e,r.a.mouseEvents.down,this.mousedownHandle),this.toolInstance.toolRmEl(e,r.a.mouseEvents.up,this.mouseupHandle),this.toolInstance.toolRmEl(e,r.a.mouseEvents.leave,this.mouseupHandle)}},e.prototype.drawGraphicsHandle=function(e,t,o){switch(e.type){case s.f.Pencil:case s.f.RealTime:this.isHandWriting(e,t)?this.drawGraphicsPencilSegment(e,t):this.drawGraphicsPath(e,t);break;case s.f.Line:this.drawGraphicsLine(e,t);break;case s.f.Ellipse:this.drawGraphicsEllipse(e,t);break;case s.f.Rect:this.drawGraphicsRect(e,t);break;case s.f.Image:o===s.o.ZegoWhiteboardViewImageCustom?this.drawLocalCustomImage(e):this.drawReomteGraphicImage(e)}},e.prototype.updateGraphicsHandle=function(e){switch(e.type){case s.f.Pencil:this.isHandWriting(e,s.e.Remote)?this.drawGraphicsPencilSegment(e,s.e.Remote):this.drawGraphicsPath(e,s.e.Remote);break;case s.f.Line:this.drawGraphicsLine(e,s.e.Remote);break;case s.f.Ellipse:this.drawGraphicsEllipse(e,s.e.Remote);break;case s.f.Rect:this.drawGraphicsRect(e,s.e.Remote);break;case s.f.Image:this.updateGraphicsImage(e)}},e.prototype.drawGraphicsLine=function(e,t,o,i,n,c){void 0===o&&(o="none"),void 0===i&&(i=1),void 0===n&&(n="round"),void 0===c&&(c="round");var l=e.data,u=e.graphic_id,d=e.color,p=e.x,h=e.y,_=Object(a.m)(s.f.Line,l),f=_.x1,g=_.y1,m=_.x2,y=_.y2,b=""+r.a.reservedPrefix.graphicsSvg+u,v=""+r.a.reservedPrefix.graphics+u,w=Object(a.e)(b,v,"line",e.zorder);w[1]&&this.toolInstance.appendGraphicsDomHandle(w[1],s.f.Line),this.toolInstance.triggerAnimateHandle(w[0],t),Object(a.p)(w[0],[{attr:"fill",value:o},{attr:"opacity",value:i},{attr:"stroke",value:d},{attr:"stroke-width",value:this.getSize(e,t)},{attr:"stroke-linejoin",value:n},{attr:"stroke-linecap",value:c},{attr:"x1",value:f},{attr:"y1",value:g},{attr:"x2",value:m},{attr:"y2",value:y},{attr:"transform",value:"translate("+(p||0)+", "+(h||0)+")"}])},e.prototype.drawGraphicsRect=function(e,t,o,i,n,c){void 0===o&&(o="none"),void 0===i&&(i=1),void 0===n&&(n="round"),void 0===c&&(c="round");var l=e.data,u=e.graphic_id,d=e.color,p=e.x,h=e.y,_=Object(a.m)(s.f.Rect,l),f=_.width,g=_.height,m=_.x,y=_.y,b=""+r.a.reservedPrefix.graphicsSvg+u,v=""+r.a.reservedPrefix.graphics+u,w=Object(a.e)(b,v,"rect",e.zorder);w[1]&&this.toolInstance.appendGraphicsDomHandle(w[1],s.f.Rect),this.toolInstance.triggerAnimateHandle(w[0],t),Object(a.p)(w[0],[{attr:"fill",value:o},{attr:"opacity",value:i},{attr:"stroke",value:d},{attr:"stroke-width",value:this.getSize(e,t)},{attr:"stroke-linejoin",value:n},{attr:"stroke-linecap",value:c},{attr:"width",value:f},{attr:"height",value:g},{attr:"x",value:m},{attr:"y",value:y},{attr:"transform",value:"translate("+(p||0)+", "+(h||0)+")"}])},e.prototype.drawGraphicsPath=function(e,t,o,i,n){void 0===o&&(o="none"),void 0===i&&(i="round"),void 0===n&&(n="round");var c=t===s.e.Local?e.oldData:e.data;if(c&&c.length){var l=e.color,u=e.graphic_id,d=e.x,p=e.y,h=(e.is_end_draw,Object(a.m)(s.f.Pencil,c)),_=""+r.a.reservedPrefix.graphicsSvg+u,f=""+r.a.reservedPrefix.graphics+u,g=Object(a.e)(_,f,"path",e.zorder);g[1]&&this.toolInstance.appendGraphicsDomHandle(g[1],s.f.Pencil),this.toolInstance.triggerAnimateHandle(g[0],t),Object(a.p)(g[0],[{attr:"fill",value:o},{attr:"d",value:h},{attr:"stroke",value:l},{attr:"stroke-width",value:this.getSize(e,t)},{attr:"stroke-linejoin",value:i},{attr:"stroke-linecap",value:n},{attr:"transform",value:"translate("+(d||0)+", "+(p||0)+")"}])}},e.prototype.drawGraphicsPencilSegment=function(e,t){var o=e.color,i=e.graphic_id,n=e.x,c=e.y,l=e.is_end_draw,u=this.toolInstance.viewInfo.viewWidth,d=Object(a.n)(e,this.getSize(e,t),u),p=""+r.a.reservedPrefix.graphicsSvg+i,h=""+r.a.reservedPrefix.graphics+i,_=Object(a.e)(p,h,"path",e.zorder);_[1]&&this.toolInstance.appendGraphicsDomHandle(_[1],s.f.Pencil),this.toolInstance.triggerAnimateHandle(_[0],t),(null==d?void 0:d.includes("M"))&&Object(a.p)(_[0],[{attr:"fill",value:o},{attr:"d",value:d},{attr:"stroke-width",value:0},{attr:"transform",value:"translate("+(n||0)+", "+(c||0)+")"}]),l&&(r.a.svgPath.tops.length=0,r.a.svgPath.bottoms.length=0)},e.prototype.drawGraphicsEllipse=function(e,t,o,i,n,c){void 0===o&&(o="none"),void 0===i&&(i=1),void 0===n&&(n="round"),void 0===c&&(c="round");var l=e.color,u=e.data,d=e.graphic_id,p=e.x,h=e.y,_=Object(a.m)(s.f.Ellipse,u),f=_.cx,g=_.cy,m=_.rx,y=_.ry,b=""+r.a.reservedPrefix.graphicsSvg+d,v=""+r.a.reservedPrefix.graphics+d,w=Object(a.e)(b,v,"ellipse",e.zorder);w[1]&&this.toolInstance.appendGraphicsDomHandle(w[1],s.f.Ellipse),this.toolInstance.triggerAnimateHandle(w[0],t),Object(a.p)(w[0],[{attr:"fill",value:o},{attr:"opacity",value:i},{attr:"stroke",value:l},{attr:"stroke-width",value:this.getSize(e,t)},{attr:"stroke-linejoin",value:n},{attr:"stroke-linecap",value:c},{attr:"cx",value:f},{attr:"cy",value:g},{attr:"rx",value:m},{attr:"ry",value:y},{attr:"transform",value:"translate("+(p||0)+", "+(h||0)+")"}])},e.prototype.drawLocalGraphicImage=function(e,t,o){var i=this;return new Promise((function(c,l){if(!i.toolInstance.getUserAuth().create)return l(Object(n.b)(s.j.ZegoWhiteboardViewErrorNoAuthCreateGraphic));var u=new Image;u.setAttribute("crossOrigin","anonymous"),u.onload=function(){var n=i.toolInstance.graphicList,l=i.getScaleRect(u.width,u.height),d=l.width,h=l.height,_={x:t,y:o,ex:t+d,ey:o+h,url:e,hash:""},f=Object(a.d)(),g=i.toolInstance.serviceHandle.createZorder(),m=""+r.a.reservedPrefix.graphicsSvg+f,y=""+r.a.reservedPrefix.graphics+f,b=Object(a.e)(m,y,"image",g);if(b[1]&&i.toolInstance.appendGraphicsDomHandle(b[1],s.f.Image),Object(a.p)(b[0],[{attr:"width",value:d},{attr:"height",value:h},{attr:"crossorigin",value:"anonymous"},{attr:"href",value:e},{attr:"transform",value:"translate("+t+", "+o+")"}]),i.isIos11&&b[0].setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",e),i.toolInstance.updateProtoGraphic(p(p({creator_id:i.toolInstance.getUserID(),graphic_id:f,operate_id:f,is_end_draw:!0},r.a.basicState),{type:s.f.Image,x:0,y:0,px:0,py:0,initX:t,initY:o,data:_,oldData:p({},_),zorder:g})),i.toolInstance.updateOffsetAndScrollHandle(),i.toolInstance.updateBoxHandle(i.toolInstance.protoGraphic)){var v=JSON.parse(JSON.stringify(i.toolInstance.protoGraphic));v.is_end_draw=!0,n.push(v),i.toolInstance.updateToRemoteNewHandle([v],s.a.Create)}i.toolInstance.initDrawHandle(),c(e)},u.onerror=l,u.src=e}))},e.prototype.drawLocalCustomImage=function(e){var t=e.graphic_id,o=r.a.basicExtraState.customImage,i=o.w,n=o.h,c=e.data,l=c.x,u=c.y,d=c.ex,p=c.ey,h=c.url,_=""+r.a.reservedPrefix.graphicsSvg+t,f=""+r.a.reservedPrefix.graphics+t,g=Object(a.e)(_,f,"image",e.zorder);g[1]&&this.toolInstance.appendGraphicsDomHandle(g[1],s.f.Image);var m=Number((Math.abs(d-l)/i).toFixed(7)),y=Number((Math.abs(p-u)/n).toFixed(7));Object(a.p)(g[0],[{attr:"width",value:i},{attr:"height",value:n},{attr:"crossorigin",value:"anonymous"},{attr:"href",value:h},{attr:"transform",value:"translate("+Math.min(l,d)+", "+Math.min(u,p)+") scale("+m+", "+y+")"}]),this.isIos11&&g[0].setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h)},e.prototype.drawReomteGraphicImage=function(e){var t=this,o=e.graphic_id,r=e.zorder,i=e.data;this.checkImageRect(i);var n=i.x,s=i.y,c=i.ex,l=i.ey,u=i.url;this.toolInstance.appendImageDomHandle(o,r);var d=new Image;d.setAttribute("crossOrigin","anonymous"),d.onload=function(){var r=t.toolInstance.getImageDomHandle(o),i=r[0],p=r[1];if(i&&p){var h=t.getScaleRect(d.width,d.height),_=h.width,f=h.height,g=Number(((c-n)/_).toFixed(7)),m=Number(((l-s)/f).toFixed(7));Object(a.p)(i,[{attr:"width",value:_},{attr:"height",value:f},{attr:"crossorigin",value:"anonymous"},{attr:"href",value:u},{attr:"transform",value:"translate("+n+", "+s+") scale("+g+", "+m+")"}]),t.isIos11&&i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);var y=t.toolInstance.getBoxInfoByGraphic(e);if(y){var b=y.x,v=y.y,w=y.width,S=y.height;p.style.cssText+="width:"+w+"px;height:"+S+"px;left:"+b+"px;top:"+v+"px;"}}},d.src=u},e.prototype.updateGraphicsImage=function(e){var t=e.graphic_id,o=e.data;this.checkImageRect(o);var i=o.x,n=o.y,s=o.ex,c=o.ey,l=""+r.a.reservedPrefix.graphicsSvg+t,u=""+r.a.reservedPrefix.graphics+t,d=Object(a.e)(l,u,"image",e.zorder)[0];if(d){var p=+d.getAttribute("width"),h=+d.getAttribute("height"),_=Number(((s-i)/p).toFixed(7)),f=Number(((c-n)/h).toFixed(7));d.setAttribute("transform","translate("+i+", "+n+") scale("+_+", "+f+")")}},e.prototype.checkImageRect=function(e){var t=e.x,o=e.y,r=e.ex,i=e.ey;t>r&&(e.x=r,e.ex=t),o>i&&(e.y=i,e.ey=o)},e.prototype.getScaleRect=function(e,t){var o=this.toolInstance.viewInfo,r=o.viewWidth,i=o.viewHeight;if(e>r||t>i){var n=Math.min(r/e,i/t);e=e*n|0,t=t*n|0}return{width:e,height:t}},e.prototype.getSize=function(e,t){return t===s.e.Local?r.a.basicExtraState.drawSize:Object(a.c)(e.size,e.type,this.toolInstance.viewInfo.viewWidth,!1)},e}(),_=(o(376),o(377),o(23)),f=function(){return(f=Object.assign||function(e){for(var t,o=1,r=arguments.length;o<r;o++)for(var i in t=arguments[o])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},g=function(){function e(e){var t=this;this.bindFlag=!1,this.canCreate=!0,this.chInput=!1,this.allowTouchEnd=!0,this.isSwitch=!1,this.mouseupHandle=function(e){e instanceof MouseEvent?t.upEventHandle(e):t.allowTouchEnd&&(t.upEventHandle(e),t.allowTouchEnd=!1)},this.upEventHandle=function(e){if(t.toolInstance.enableDraw)if(t.toolInstance.getUserAuth().create){if(t.toolInstance.downCommonHandle(e))if(t.canCreate){var o=t.toolInstance.getMouseChangedPoint(e),r=o.clientX,i=o.clientY;if(!t.checkAddHandle(r,i))return;t.addTextGraphics("",r,i)}else t.canCreate=!0}else Object(n.a)(s.j.ZegoWhiteboardViewErrorNoAuthCreateGraphic)},this.toolInstance=e,this.isSwitch=this.toolInstance.serviceHandle.isSwitch()}return e.prototype.updateContentHandle=function(e){var t=r.a.textareaHPadding,o=e.value,i=e.previousSibling,n=Number(i.style.maxWidth.split("px")[0])-2*t,a=i.parentNode,s=document.createElement("span");s.style.cssText="position: absolute; z-index: -100; font-size: inherit; font-family: inherit; visibility: hidden; display: inline-block;line-height: 1;",a.appendChild(s);for(var c="",l=0,u=0,d=o;u<d.length;u++){var p=d[u];if("\n"===p)c+="\n",l=0;else{var h=this.textSizeHandle(s,p).width;(l+=h)>n?(c+="\n"+p,l=h):c+=p}}a.removeChild(s),i.innerHTML=c,e.value=c},e.prototype.addTextareaDomHandle=function(e){var t=e.graphic_id,o=e.data,i=document.createElement("textarea"),n=""+r.a.reservedPrefix.graphics+t;i.setAttribute("id",n),i.setAttribute("tabindex","-1"),i.setAttribute("spellcheck","false"),i.setAttribute("maxlength",""+r.a.maxlength),navigator.userAgent.includes("iPhone")&&navigator.userAgent.includes("11_4_1")&&(i.style.padding="0 "+Math.max(r.a.textareaHPadding-3,0)+"px");var s=Object(a.r)(o).text;return i.value=s,i},e.prototype.addPreDomHandle=function(e){var t=e.size,o=e.data,i=e.type,n=Object(a.r)(o).text,s=document.createElement("pre");s.innerHTML=n;var c=Object(a.c)(t,i,this.toolInstance.viewInfo.viewWidth,!1),l=r.a.textareaHPadding,u=r.a.textareaVPadding;return l*=2,u*=2,s.style.cssText="min-height:"+(c*r.a.lineHeight+u)+"px;min-width:"+(c+l)+"px;",s},e.prototype.addTextareaConDomHandle=function(e){var t=e.size,o=e.color,i=e.data,n=e.graphic_id,s=e.type,c=e.attributes,l=e.zorder,u=JSON.parse(this.isSwitch&&c.buffer&&Object(_.f)(c)||c||r.a.basicState.attributes),d=u.bold,p=u.italic,h=Object(a.c)(t,s,this.toolInstance.viewInfo.viewWidth,!1),f=Object(a.r)(i),g=f.beginX,m=f.beginY,y=document.createElement("div"),b=""+r.a.reservedPrefix.textareaCon+n;return y.setAttribute("id",b),l&&y.setAttribute("data-z",l+""),y.style.cssText="font-size:"+h+"px;font-style:"+(p?"italic":"normal")+";font-weight:"+(d?"bold":"normal")+";left:"+g+"px;top:"+m+"px;color:"+o+";caret-color:"+o+";",y},e.prototype.textSizeHandle=function(e,t){return" "===t&&(t=t.replace(/ /g,"&nbsp")),e.innerHTML=t,{width:e.getBoundingClientRect().width,height:e.getBoundingClientRect().height}},e.prototype.checkValueHandle=function(e){var t=r.a.maxlength;return e.length>t&&(e=e.slice(0,t)),e},e.prototype.initHeightHandle=function(e){var t=e.previousSibling;e.scrollTop=0,e.style.height="initial",t.style.height="initial",t.style.maxHeight="initial"},e.prototype.updateHeightHandle=function(e){var t=r.a.textareaHPadding,o=r.a.lineHeight,i=this.toolInstance.viewInfo.zoom,n=e.previousSibling,a=n.style.height,s=Number(n.style.maxHeight.split("px")[0]),c=(Number(n.style.maxWidth.split("px")[0])+2*t)/i,l=e.parentNode.style.fontSize,u=Number(l.split("px")[0]);e.style.maxWidth=c+"px",e.style.height=u*o+"px";var d=e.scrollHeight+"px";e.scrollHeight*i>s&&(d=a),n.style.height=d,e.style.height=d},e.prototype.inputCallbackHandle=function(e){var t=e.target,o=t.previousSibling,r=this.checkValueHandle(t.value);t.value=r,o.innerHTML=r,this.updateHeightHandle(t),!this.chInput&&this.updateToRemoteHandle(e)},e.prototype.chInputCallbackHandle=function(e){this.chInput=!1,this.updateToRemoteHandle(e)},e.prototype.updateToRemoteHandle=function(e){var t=e.target,o=t.parentNode,i=this.toolInstance.graphicList,n=t.id.split(r.a.reservedPrefix.graphics)[1],u=t.value,d=this.toolInstance.getDataFromGraphicList(n,"data").data,p=Object(a.r)(d),h=p.beginX,_=p.beginY,f=i.findIndex((function(e){return e.graphic_id===n})),g=i[f];g&&("blur"===e.type?(g.is_end_draw=!0,u?(this.updateContentHandle(t),this.toolInstance.updateBoxHandle(g,"blur"),g.data=Object(a.a)(t.value,h,_),c.a.getInstance().info1(l.e.TextArea_UpdateToRemoteHandle,{protoGraphic:[g],type:e.type,Action:"Update"}),this.toolInstance.updateToRemoteNewHandle([g],s.a.Update)):(Object(a.o)(o),Object(a.o)(this.toolInstance.getBoxHandle(n)),i.splice(f,1),c.a.getInstance().info1(l.e.TextArea_UpdateToRemoteHandle,{protoGraphic:[g],type:e.type,Action:"Delete"}),this.toolInstance.updateToRemoteNewHandle([g],s.a.Delete)),this.toolInstance.initDrawHandle()):this.toolInstance.getUserAuth().update||g.creator_id===this.toolInstance.getUserID()?(this.updateContentHandle(t),g.data=Object(a.a)(t.value,h,_),g.is_end_draw=!1,g.data=Object(a.a)(t.value,h,_),c.a.getInstance().info1(l.e.TextArea_UpdateToRemoteHandle,{protoGraphic:[g],type:e.type,Action:"Update"}),this.toolInstance.updateToRemoteNewHandle([g],s.a.Update)):t.blur())},e.prototype.bindTextareaInputEventHandle=function(e){var t=this;e.addEventListener("input",(function(e){t.inputCallbackHandle(e)})),e.addEventListener("compositionstart",(function(e){t.chInput=!0})),e.addEventListener("compositionend",(function(e){t.chInputCallbackHandle(e)})),e.addEventListener("keydown",(function(e){9===e.keyCode&&e.preventDefault()}))},e.prototype.bindTextareaFocusEvent=function(e,t){var o=this,i=t.data,n=Object(a.r)(i),s=n.beginX,c=n.beginY;e.addEventListener("focus",(function(e){var t=e.target;t.parentNode.style.borderColor="red";var i=t.id.split(r.a.reservedPrefix.graphics)[1];o.toolInstance.setDataToGraphicList(i,{oldData:Object(a.a)(t.value,s,c)})}))},e.prototype.bindTextareaBlurEvents=function(e){var t=this;e.addEventListener("blur",(function(e){var o=t.toolInstance.graphicsBoxConNode,i=e.target,n=i.parentNode,a=i.id.split(r.a.reservedPrefix.graphics)[1];t.initHeightHandle(i),t.updatePointerEvents(2,o.querySelector(t.toolInstance.getBoxSelHandle(a))),n.style.borderColor="transparent",t.canCreate=!1,t.updateToRemoteHandle(e),t.allowTouchEnd||(t.allowTouchEnd=!0)}))},e.prototype.updatePointerEvents=function(e,t){var o=this,i=this.toolInstance.graphicsBoxConNode;1===e?(Array.prototype.slice.call(Object(a.g)(i),0).forEach((function(e){var t=o.toolInstance.getGraphicsHandle(e.id.split(r.a.reservedPrefix.graphicsBox)[1]);t&&"DIV"===t.nodeName&&(e.style.pointerEvents="initial")})),i.style.pointerEvents="none",t&&(t.style.pointerEvents="none")):(i.style.pointerEvents="initial",t&&(t.style.pointerEvents="initial"))},e.prototype.checkAddHandle=function(e,t){var o=this.calMaxSizeHandle(e,t),i=o.maxWidth,n=o.maxHeight,c=this.toolInstance.viewInfo.viewWidth,l=r.a.textareaHPadding,u=r.a.basicState,d=r.a.lineHeight,p=r.a.textareaVPadding,h=Object(a.c)(u.fontSize,s.f.Text,c,!1);return 2*l+h+12<i&&2*p+h*d+12<n},e.prototype.bindEventsHandle=function(){if(!this.bindFlag){this.bindFlag=!0;var e=this.toolInstance.whiteboardNode;this.toolInstance.toolAddEL(e,r.a.mouseEvents.up,this.mouseupHandle)}},e.prototype.removeEventsHandle=function(){if(this.bindFlag){this.bindFlag=!1;var e=this.toolInstance.whiteboardNode;this.toolInstance.toolRmEl(e,r.a.mouseEvents.up,this.mouseupHandle)}},e.prototype.addTextGraphics=function(e,t,o){var i=this.toolInstance,n=i.protoGraphic,u=i.graphicList,d=Object(a.d)();this.toolInstance.updateProtoGraphic(f(f({creator_id:this.toolInstance.getUserID(),graphic_id:d,operate_id:d,is_end_draw:!!e,x:0,y:0,px:0,py:0,zorder:this.toolInstance.serviceHandle.createZorder(),data:Object(a.a)(e,t+"",o+"")},r.a.basicState),{size:r.a.basicState.fontSize}));var p=f({},n);u.push(p),this.drawGraphicsHandle(p,!e),this.toolInstance.setGraphicsDomZorder(p);var h=this.toolInstance.updateBoxHandle(p);!e&&this.updatePointerEvents(1,h),c.a.getInstance().info1(l.e.TextArea_AddTextGraphics,{text:[p],action:"Create"}),this.toolInstance.updateToRemoteNewHandle([p],s.a.Create)},e.prototype.drawGraphicsHandle=function(e,t){var o=e.x,i=e.y,n=this.addTextareaDomHandle(e),c=this.addPreDomHandle(e),l=this.addTextareaConDomHandle(e);l.appendChild(c),l.appendChild(n),l.style.transform="translate("+(o||0)+"px, "+(i||0)+"px)",this.toolInstance.appendGraphicsDomHandle(l,s.f.Text),this.bindTextareaInputEventHandle(n),this.bindTextareaFocusEvent(n,e);var u=r.a.mouseEvents;Object(a.b)(n,[u.down,u.move,u.up]),t&&(this.initMaxSizeHandle(n),n.focus(),this.updatePointerEvents(1,null)),this.bindTextareaBlurEvents(n)},e.prototype.updateGraphicsHandle=function(e){var t=e.graphic_id,o=e.data,i=e.size,n=e.color,s=e.x,c=e.y,l=e.type,u=e.attributes,d=JSON.parse(this.isSwitch&&u.buffer&&Object(_.f)(u)||u||r.a.basicState.attributes),p=d.bold,h=d.italic,f=Object(a.c)(i,l,this.toolInstance.viewInfo.viewWidth,!1),g=Object(a.r)(o),m=g.beginX,y=g.beginY,b=g.text,v=this.toolInstance.getGraphicsHandle(t);if(v){var w=Object(a.g)(v),S=w[0],I=w[1];I.value=b,v.style.cssText="font-size: "+f+"px;font-style:"+(h?"italic":"normal")+";font-weight:"+(p?"bold":"normal")+";left: "+m+"px;top: "+y+"px;color: "+n+";transform: translate("+s+"px, "+c+"px);caret-color:"+n+";";var E=b.split("\n").length*f*r.a.lineHeight+2*r.a.textareaVPadding;S.innerHTML=b,S.style.height=E+"px",S.style.maxWidth="initial",S.style.maxHeight="initial",I.value=b,I.style.height=E+"px"}},e.prototype.focusHandle=function(e){this.toolInstance.setDataToGraphicList(e,{selected:!1});var t=this.toolInstance.getBoxHandle(e);t&&(t.style.borderColor="transparent"),this.updatePointerEvents(1,t);var o=this.toolInstance.getGraphicsHandle(e);if(o){var r=Object(a.g)(o)[1];this.initMaxSizeHandle(r),o.style.borderColor="red",r.style.height="100%",r.focus();var i=this.toolInstance.graphicList.filter((function(t){return t.graphic_id===e}))[0];i.operate_id=Object(a.d)(),i.is_end_draw=!1,c.a.getInstance().info1(l.e.TextArea_FocusHandle,{graphic:[i],action:"Update"}),this.toolInstance.updateToRemoteNewHandle([i],s.a.Update)}},e.prototype.backUpdateGraphicsHandle=function(e){var t=e.graphic_id,o=e.data,r=Object(a.r)(o).text,i=this.toolInstance.getGraphicsHandle(t);if(i){var n=Object(a.g)(i),s=n[0];n[1].value=r,s.innerHTML=r;var u=i.getBoundingClientRect(),d=u.width,p=u.height,h=this.toolInstance.getBoxHandle(t);h&&(h.style.cssText+="width:"+d+"px;height:"+p+"px;"),c.a.getInstance().info1(l.e.TextArea_BackUpdateGraphicsHandle,{graphic_id:t,data:o}),this.toolInstance.setDataToGraphicList(t,{data:o})}},e.prototype.initMaxSizeHandle=function(e){var t=e.getBoundingClientRect(),o=t.left,r=t.top,i=this.toolInstance.transLocationHandle({clientX:o,clientY:r}),n=i.clientX,a=i.clientY,s=this.calMaxSizeHandle(n,a),c=s.maxWidth,l=s.maxHeight,u=e.previousSibling;u.style.maxHeight=l+"px",u.style.maxWidth=c+"px"},e.prototype.calMaxSizeHandle=function(e,t){var o,i=this.toolInstance.viewInfo,n=i.isScroll,a=i.isOriginScroll,s=i.width,c=i.height,l=i.viewWidth,u=i.viewHeight,d=i.zoom,p=i.zoomTX,h=i.zoomTY,_=i.offsetPageX,f=i.offsetPageY,g=0;return n?(o=Math.floor(s-e),g=Math.floor(c-t),a&&(o-=r.a.scrollbarSize,g-=r.a.scrollbarSize)):(o=Math.floor(l-e*d+_*d-p),g=Math.floor(u-t*d+f*d-h)),{maxWidth:o-=2*r.a.boxBorderWidth*d,maxHeight:g-=2*r.a.boxBorderWidth*d}},e}(),m=function(){function e(e){var t=this;this.bindFlag=!1,this.mouseInfo={touchLeaveRect:{left:0,top:0,right:0,bottom:0}},this.boxRectMap={},this.mousedownHandle=function(e){if(t.toolInstance.enableDraw){var o=t.toolInstance,i=o.whiteboardNode,n=o.graphicList;t.mouseInfo.touchLeaveRect=t.toolInstance.getWhiteboardNodeRect(),n.forEach((function(e){if(e.type!==s.f.Laser){var o=t.toolInstance.getBoxHandle(e.graphic_id);o&&(t.boxRectMap[e.graphic_id]=o.getBoundingClientRect())}})),t.mousemoveHandle(e),t.toolInstance.toolAddEL(i,r.a.mouseEvents.move,t.mousemoveHandle)}},this.mousemoveHandle=function(e){if(t.toolInstance.enableDraw){var o=e instanceof MouseEvent?e:e.changedTouches[0],r=o.clientX,i=o.clientY;if(t.toolInstance.isTouchLeaveWhenMove(e,t.mouseInfo.touchLeaveRect))t.mouseupHandle();else{var n=0,a="";t.toolInstance.graphicList.forEach((function(e){var o=t.boxRectMap[e.graphic_id];if(o){var s=o.left,c=o.right,l=o.top,u=o.bottom;if(r>=s&&r<=c&&i>=l&&i<=u){var d=e.zorder||1;(!n||d>n)&&(n=d,a=e.graphic_id)}}})),t.toolInstance.graphicList.forEach((function(e){e.selected=!!a&&(e.graphic_id===a&&t.toolInstance.getGraphicIsEndDraw(e.graphic_id)),t.toolInstance.updateBoxBorder(e)}))}}},this.mouseupHandle=function(){t.boxRectMap={};var e=t.toolInstance.whiteboardNode;t.toolInstance.toolRmEl(e,r.a.mouseEvents.move,t.mousemoveHandle),t.toolInstance.deleteSelectedGraphics(s.c.EraserTool)},this.toolInstance=e}return e.prototype.bindEventsHandle=function(){if(!this.bindFlag){this.bindFlag=!0;var e=this.toolInstance.whiteboardNode;this.toolInstance.toolAddEL(e,r.a.mouseEvents.down,this.mousedownHandle),this.toolInstance.toolAddEL(e,r.a.mouseEvents.up,this.mouseupHandle),this.toolInstance.toolAddEL(e,r.a.mouseEvents.leave,this.mouseupHandle)}},e.prototype.removeEventsHandle=function(){if(this.bindFlag){this.bindFlag=!1;var e=this.toolInstance.whiteboardNode;this.toolInstance.toolRmEl(e,r.a.mouseEvents.down,this.mousedownHandle),this.toolInstance.toolRmEl(e,r.a.mouseEvents.up,this.mouseupHandle),this.toolInstance.toolRmEl(e,r.a.mouseEvents.leave,this.mouseupHandle)}},e}(),y=(o(382),o(395),function(){function e(e){this.editBoxMap={w:0,h:0,tx:0,ty:0,x:0,y:0,mx:0,my:0,tx1:0,ty1:0,w0:0,h0:0,board:8,wdiff:9,tdiff:4,interrupt:!1,target:null,graphic:null,parent:document.createElement("div"),box:document.createElement("div"),img:document.createElementNS("http://www.w3.org/2000/svg","image")},this.toolInstance=e,this.setEditorBox()}return e.prototype.startEditTarget=function(e,t){this.endEditTarget();var o=e.target,i=o.className;if(i.includes("operation-point-desktop")){var n=this.editBoxMap.graphic;n&&((this.toolInstance.getUserAuth().update||n.creator_id===this.toolInstance.getUserID())&&(n.operate_id=Object(a.d)(),n.is_end_draw=!1,this.toolInstance.updateToRemoteNewHandle([n],s.a.Update)),Object.assign(n.oldData,n.data)),this.editBoxMap.target=o;var c=window.getComputedStyle(this.editBoxMap.parent),l=c.transform.match(/(-?\d+),\s?(-?\d+)\)$/)||[],u=this.toolInstance.getMouseChangedPoint(e),d=u.clientX,p=u.clientY;this.editBoxMap.w=+c.width.replace("px",""),this.editBoxMap.h=+c.height.replace("px",""),this.editBoxMap.tx=+l[1]||0,this.editBoxMap.ty=+l[2]||0,this.editBoxMap.x=d,this.editBoxMap.y=p;var h=i.substr(i.lastIndexOf(" ")+1);"L"==h?this.editBoxMap.mx=d+this.editBoxMap.w:"R"==h?this.editBoxMap.mx=d-this.editBoxMap.w:"T"==h?this.editBoxMap.my=p+this.editBoxMap.h:"B"==h?this.editBoxMap.my=p-this.editBoxMap.h:"LT"==h?(this.editBoxMap.mx=d+this.editBoxMap.w,this.editBoxMap.my=p+this.editBoxMap.h):"RB"==h?(this.editBoxMap.mx=d-this.editBoxMap.w,this.editBoxMap.my=p-this.editBoxMap.h):"LB"==h?(this.editBoxMap.mx=d+this.editBoxMap.w,this.editBoxMap.my=p-this.editBoxMap.h):"RT"==h&&(this.editBoxMap.mx=d-this.editBoxMap.w,this.editBoxMap.my=p+this.editBoxMap.h);var _=this.toolInstance,f=_.whiteboardNode,g=_.conNode;return this.toolInstance.toolAddEL(f,r.a.mouseEvents.move,t),g.style.cursor=i.replace(/.+cursor-(\w+).+/,"$1")+"-resize",!1}return!0},e.prototype.moveEditTarget=function(e){var t=this.editBoxMap,o=t.target,r=t.interrupt;if(!o)return!r;var i=o.className.substr(o.className.lastIndexOf(" ")+1),n=this.toolInstance.getMouseChangedPoint(e),a=n.clientX,s=n.clientY;return this["moveEditTarget"+i](a,s),!1},e.prototype.endEditTarget=function(){var e=this.editBoxMap,t=e.target,o=e.graphic;if(t&&o)if(this.toolInstance.getUserAuth().update||o.creator_id===this.toolInstance.getUserID()){var r=o.data,i=r.x,a=r.y;o.initX=i-o.x,o.initY=a-o.y,o.is_end_draw=!0,this.toolInstance.updateToRemoteNewHandle([o],s.a.Update)}else{Object.assign(o.data,o.oldData),this.initEditBox(o);var c=this.editBoxMap,l=c.w,u=c.h,d=c.tx1,p=c.ty1;this.updateSVGImageAttr(l,u,d,p,!0),Object(n.a)(s.j.ZegoWhiteboardViewErrorNoAuthUpdateGraphic)}this.editBoxMap.target=null,this.toolInstance.conNode.style.cursor="auto"},e.prototype.setEditorBox=function(){this.editBoxMap.parent=this.toolInstance.whiteboardNode.querySelector(".img-editor-box")},e.prototype.initEditBox=function(e){var t,o=e.graphic_id,r=null===(t=this.toolInstance.getGraphicsHandle(o))||void 0===t?void 0:t.children[0];if(r){var i=this.editBoxMap,n=i.parent,a=i.board,s=i.wdiff,c=i.tdiff,l=e.data,u=l.x,d=l.y,p=l.ex-u+s,h=l.ey-d+s;u-=c,d-=c,u|=0,d|=0,this.editBoxMap.tx1=u,this.editBoxMap.ty1=d,this.editBoxMap.graphic=e,this.editBoxMap.w0=+r.getAttribute("width"),this.editBoxMap.h0=+r.getAttribute("height"),this.editBoxMap.img=r,this.editBoxMap.box=this.toolInstance.getBoxHandle(o),n.style.cssText+="display:block;width:"+p+"px;height:"+h+"px;transform:translate("+u+"px,"+d+"px);",n.children[4].style.cssText+="left:"+(p/2-a)+"px;",n.children[6].style.cssText+="left:"+(p/2-a)+"px;",n.children[5].style.cssText+="top:"+(h/2-a)+"px;",n.children[7].style.cssText+="top:"+(h/2-a)+"px;"}},e.prototype.hideEditBox=function(e){this.editBoxMap.target=null,this.editBoxMap.graphic=null,this.editBoxMap.interrupt=!!e;var t=this.editBoxMap.parent;t&&(t.style.display="none")},e.prototype.hideEditBoxByList=function(e){var t,o=null===(t=this.editBoxMap.graphic)||void 0===t?void 0:t.graphic_id;e.some((function(e){return e.graphic_id===o}))&&this.hideEditBox()},e.prototype.hideEditBoxByIds=function(e){var t,o=null===(t=this.editBoxMap.graphic)||void 0===t?void 0:t.graphic_id;e.some((function(e){return e===o}))&&this.hideEditBox()},e.prototype.moveEditTargetL=function(e,t,o){var r=this.editBoxMap,i=r.x,n=r.mx,a=r.w,s=r.h,c=r.tx,l=r.ty,u=r.parent,d=r.board;if(e<=n){e=i-e;var p=0|(o?e-a:e+a),h=0|(o?c-e+a:c-e);u.style.cssText+="width:"+p+"px;transform:translate("+h+"px,"+l+"px);",u.children[4].style.cssText+="left:"+(p/2-d)+"px;",u.children[6].style.cssText+="left:"+(p/2-d)+"px;",this.editBoxMap.tx1=h,this.editBoxMap.ty1=l,this.updateSVGImageAttr(p,s,h,l)}else this.moveEditTargetR(e,0,!0)},e.prototype.moveEditTargetR=function(e,t,o){var r=this.editBoxMap,i=r.x,n=r.mx,a=r.w,s=r.h,c=r.tx1,l=r.ty1,u=r.parent,d=r.board;e>n?(e=0|(o?e-i-a:e-i+a),u.style.cssText+="width:"+e+"px;",u.children[4].style.cssText+="left:"+(e/2-d)+"px;",u.children[6].style.cssText+="left:"+(e/2-d)+"px;",this.updateSVGImageAttr(e,s,c,l)):this.moveEditTargetL(e,0,!0)},e.prototype.moveEditTargetT=function(e,t,o){var r=this.editBoxMap,i=r.y,n=r.my,a=r.w,s=r.h,c=r.tx,l=r.ty,u=r.parent,d=r.board;if(t<=n){t=i-t;var p=0|(o?t-s:t+s),h=0|(o?l-t+s:l-t);u.style.cssText+="height:"+p+"px;transform:translate("+c+"px,"+h+"px);",u.children[5].style.cssText+="top:"+(p/2-d)+"px;",u.children[7].style.cssText+="top:"+(p/2-d)+"px;",this.editBoxMap.tx1=c,this.editBoxMap.ty1=h,this.updateSVGImageAttr(a,p,c,h)}else this.moveEditTargetB(0,t,!0)},e.prototype.moveEditTargetB=function(e,t,o){var r=this.editBoxMap,i=r.y,n=r.my,a=r.w,s=r.h,c=r.tx1,l=r.ty1,u=r.parent,d=r.board;t>n?(t=0|(o?t-i-s:t-i+s),u.style.cssText+="height:"+t+"px;",u.children[5].style.cssText+="top:"+(t/2-d)+"px;",u.children[7].style.cssText+="top:"+(t/2-d)+"px;",this.updateSVGImageAttr(a,t,c,l)):this.moveEditTargetT(0,t,!0)},e.prototype.moveEditTargetLT=function(e,t,o){var r=this.editBoxMap,i=r.x,n=r.y,a=r.mx,s=r.my,c=r.w,l=r.h,u=r.tx,d=r.ty,p=r.parent,h=r.board;if(e>i-4&&t>n-4||e<i-4&&t<n-4)if(c<=l&&e<=a||l<c&&t<=s){var _=0,f=0,g=0,m=0;if(o?(e=Math.min(i-e-c,n-t-l),l<c?(f=e,_=Math.round(c*f/l),m=d-e,g=Math.round(u-c*e/l)):(_=e,f=Math.round(_*l/c),g=u-e,m=Math.round(d-l*e/c))):(t-=n,e=(e-=i)<0||t<0?Math.max(e,t):Math.min(e,t),l<c?(f=l-e,_=Math.round(c*f/l),m=d+e,g=Math.round(u+c*e/l)):(_=c-e,f=Math.round(_*l/c),g=u+e,m=Math.round(d+l*e/c))),_<0||f<0)return;_|=0,f|=0,g|=0,m|=0,p.style.cssText+="width:"+_+"px;height:"+f+"px;transform:translate("+g+"px,"+m+"px);",p.children[4].style.cssText+="left:"+(_/2-h)+"px;",p.children[6].style.cssText+="left:"+(_/2-h)+"px;",p.children[5].style.cssText+="top:"+(f/2-h)+"px;",p.children[7].style.cssText+="top:"+(f/2-h)+"px;",this.editBoxMap.tx1=g,this.editBoxMap.ty1=m,this.updateSVGImageAttr(_,f,g,m)}else this.moveEditTargetRB(e,t,!0)},e.prototype.moveEditTargetRB=function(e,t,o){var r=this.editBoxMap,i=r.x,n=r.y,a=r.mx,s=r.my,c=r.w,l=r.h,u=r.tx1,d=r.ty1,p=r.parent,h=r.board;if(e>i-4&&t>n-4||e<i-4&&t<n-4)if(c<=l&&e>=a||l<c&&t>=s){e-=i,t-=n;var _=0,f=0;if(o?l<c?(f=Math.min(e,t)-l,_=Math.round(c*f/l)):(_=Math.min(e,t)-c,f=Math.round(_*l/c)):(e=e<0||t<0?Math.max(e,t):Math.min(e,t),l<c?(f=e+l,_=Math.round(c*f/l)):(_=e+c,f=Math.round(_*l/c))),_<0||f<0)return;_|=0,f|=0,p.style.cssText+="width:"+_+"px;height:"+f+"px;",p.children[4].style.cssText+="left:"+(_/2-h)+"px;",p.children[6].style.cssText+="left:"+(_/2-h)+"px;",p.children[5].style.cssText+="top:"+(f/2-h)+"px;",p.children[7].style.cssText+="top:"+(f/2-h)+"px;",this.updateSVGImageAttr(_,f,u,d)}else this.moveEditTargetLT(e,t,!0)},e.prototype.moveEditTargetLB=function(e,t,o){var r=this.editBoxMap,i=r.x,n=r.y,a=r.mx,s=r.my,c=r.w,l=r.h,u=r.tx,d=r.ty,p=r.parent,h=r.board;if(e<i-4&&t>n-4||e>i-4&&t<n-4)if(c<=l&&e<a||l<c&&t>s){var _=0,f=0,g=0,m=d;o?(e=Math.min(i-e-c,t-n-l),e=Math.abs(e),l<c?(f=e,_=Math.round(c*f/l)):(_=e,f=Math.round(_*l/c)),g=u-_,m=d+l):(t-=n,e=(e-=i)<0||t>0?Math.min(-e,t):-Math.min(e,-t),l<c?(f=l+e,g=u+c-(_=Math.round(c*f/l))):(_=c+e,f=Math.round(_*l/c),g=u-e)),_|=0,f|=0,g|=0,m|=0,p.style.cssText+="width:"+_+"px;height:"+f+"px;transform:translate("+g+"px,"+m+"px);",p.children[4].style.cssText+="left:"+(_/2-h)+"px;",p.children[6].style.cssText+="left:"+(_/2-h)+"px;",p.children[5].style.cssText+="top:"+(f/2-h)+"px;",p.children[7].style.cssText+="top:"+(f/2-h)+"px;",this.editBoxMap.tx1=g,this.editBoxMap.ty1=m,this.updateSVGImageAttr(_,f,g,m)}else this.moveEditTargetRT(e,t,!0)},e.prototype.moveEditTargetRT=function(e,t,o){var r=this.editBoxMap,i=r.x,n=r.y,a=r.mx,s=r.my,c=r.w,l=r.h,u=r.tx,d=r.ty,p=r.parent,h=r.board;if(e>i-4&&t<n-4||e<i-4&&t>n-4)if(c<=l&&e>a||l<c&&t<s){var _=0,f=0,g=u,m=0;o?(e=Math.min(e-i-c,n-t-l),e=Math.abs(e),l<c?(f=e,_=Math.round(c*f/l)):(_=e,f=Math.round(_*l/c)),g=u+c,m=d-f):(t-=n,e=(e-=i)<0||t>0?-Math.min(-e,t):Math.min(e,-t),l<c?(f=l+e,_=Math.round(c*f/l),m=d-e):(_=c+e,m=d+l-(f=Math.round(_*l/c)))),_|=0,f|=0,g|=0,m|=0,p.style.cssText+="width:"+_+"px;height:"+f+"px;transform:translate("+g+"px,"+m+"px);",p.children[4].style.cssText+="left:"+(_/2-h)+"px;",p.children[6].style.cssText+="left:"+(_/2-h)+"px;",p.children[5].style.cssText+="top:"+(f/2-h)+"px;",p.children[7].style.cssText+="top:"+(f/2-h)+"px;",this.editBoxMap.tx1=g,this.editBoxMap.ty1=m,this.updateSVGImageAttr(_,f,g,m)}else this.moveEditTargetLB(e,t,!0)},e.prototype.updateSVGImageAttr=function(e,t,o,r,i){var n=this.editBoxMap,a=n.w0,s=n.h0,c=n.wdiff,l=n.tdiff,u=n.img,d=n.box,p=n.graphic;if(u&&d){e|=0,t|=0,o|=0,r|=0,d.style.cssText+="width:"+e+"px;height:"+t+"px;left:"+o+"px;top:"+r+"px;",e-=c,t-=c,o+=l,r+=l;var h=Number((e/a).toFixed(7)),_=Number((t/s).toFixed(7));if(u.setAttribute("transform","translate("+o+", "+r+") scale("+h+", "+_+")"),!i){var f=null==p?void 0:p.data;f.x=o,f.y=r,f.ex=o+e,f.ey=r+t}}},e}()),b=function(){return(b=Object.assign||function(e){for(var t,o=1,r=arguments.length;o<r;o++)for(var i in t=arguments[o])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},v=function(){function e(e){var t=this;this.bindFlag=!1,this.authFlag=!0,this.noMoveUp=!0,this.isWillMove=!1,this.mouseInfo={moveCount:0,touchLeaveRect:{left:0,top:0,right:0,bottom:0}},this.moveSelectedGraphicIds="",this.userId="",this.selectBoxMap={l:0,t:0,r:0,b:0,box:document.createElement("div")},this.mousedownHandle=function(e){if(t.toolInstance.enableDraw&&t.toolInstance.downCommonHandle(e)&&t.imageTool.startEditTarget(e,t.mousemoveHandle)){t.setGraphicsBox(),t.authFlag=!0,t.imageTool.editBoxMap.interrupt=!1;var o=t.selectBoxMap,i=o.l,u=o.t,d=o.r,p=o.b,h=t.toolInstance.getMouseStartPoint(e),_=h.clientX,f=h.clientY,g=t.toolInstance.getUserAuth(),m=t.toolInstance,y=m.graphicList,v=m.whiteboardNode;t.mouseInfo.touchLeaveRect=t.toolInstance.getWhiteboardNodeRect();var w=t.getCoveredMaxZorderGraphic(e);if(w){var S=w.rect,I=S.left,E=S.top,O=S.right,P=S.bottom,k=t.toolInstance.transLocationHandle({clientX:I,clientY:E}),T=t.toolInstance.transLocationHandle({clientX:O,clientY:P});I=k.clientX,E=k.clientY,O=T.clientX,P=T.clientY;var x=w.graphic,C=x.graphic_id,A=x.selected,D=x.type,M=x.creator_id,L=g.update||M===t.userId;A||(c.a.getInstance().info1(l.e.Selector_MousedownHandle,{GraphicType:D,update:!0}),y.forEach((function(e){e.selected=e.graphic_id===C})),D===s.f.Image?L?(t.imageTool.initEditBox(w.graphic),t.hideSelectBox(C)):(t.initSelectBox(I,E,O,P),Object(n.a)(s.j.ZegoWhiteboardViewErrorNoAuthUpdateGraphic)):(t.hideImageEditBox(),c.a.getInstance().info1(l.e.Selector_MousedownHandle,"鼠标落在图元上"),t.initSelectBox(I,E,O,P))),A&&D===s.f.Text&&1==y.filter((function(e){return e.selected})).length&&(L?(t.noMoveUp=C,setTimeout((function(){return t.hideSelectBox(C)}),50)):Object(n.a)(s.j.ZegoWhiteboardViewErrorNoAuthUpdateGraphic)),t.isWillMove=!0}else{d>i&&i<=_&&_<=d&&u<=f&&f<=p?(t.isWillMove=!0,c.a.getInstance().info1(l.e.Selector_MousedownHandle,"落在选择框中的空白处，表示将要执行移动操作")):(t.hideSelectBox(),c.a.getInstance().info1(l.e.Selector_MousedownHandle,"落在非选择框中的空白处，清除所有选中"))}t.mouseInfo.moveCount=0,t.moveSelectedGraphicIds="",t.toolInstance.updateMousePointsHandle(_,f),t.isWillMove?y.forEach((function(e){e.selected&&(g.move||e.creator_id===t.userId)&&(e.px=e.x,e.py=e.y,e.is_end_draw=!1,e.operate_id=Object(a.d)())})):(t.toolInstance.updateProtoGraphic(b(b({graphic_id:Object(a.d)()},r.a.basicState),{x:0,y:0,px:0,py:0,data:[_,f]})),t.hideImageEditBox(),t.hideSelectBox()),t.toolInstance.toolAddEL(v,r.a.mouseEvents.move,t.mousemoveHandle)}},this.mousemoveHandle=function(e){if(t.toolInstance.enableDraw){if(e instanceof MouseEvent&&!e.buttons)return t.resetMouse();if(t.imageTool.moveEditTarget(e))if(t.toolInstance.isTouchLeaveWhenMove(e,t.mouseInfo.touchLeaveRect))t.mouseupHandle();else{t.mouseInfo.moveCount++,t.noMoveUp=!1;var o=t.toolInstance.getMouseChangedPoint(e);if(t.isWillMove)t.updateGraphicsOnMoving(o);else{t.toolInstance.updateGraphicsDataHandle(o);var r=t.toolInstance.protoGraphic;t.svgTool.drawGraphicsRect(r,s.e.Local,r.color,.3),t.mouseInfo.moveCount%10==0&&t.updateBoxBorderOnSelector()}}}},this.mouseupHandle=function(){if(!t.toolInstance.enableDraw||!0===t.noMoveUp)return t.imageTool.endEditTarget(),void t.resetMouse();if(t.isWillMove){var e=t.selectBoxMap,o=e.l,r=e.t,i=e.r,n=e.b;if(t.selectBoxMap.l=+t.selectBoxMap.box.style.left.replace("px",""),t.selectBoxMap.t=+t.selectBoxMap.box.style.top.replace("px",""),t.selectBoxMap.r=t.selectBoxMap.l+i-o,t.selectBoxMap.b=t.selectBoxMap.t+n-r,!t.noMoveUp){var a=t.toolInstance.graphicList.filter((function(e){return!!t.moveSelectedGraphicIds.includes(e.graphic_id)&&(e.is_end_draw=!0,!0)}));c.a.getInstance().info1(l.e.Selector_MouseupHandle,{list:a,Action:"Move"}),t.toolInstance.updateToRemoteNewHandle(a,s.a.Move)}}else t.setSelectBox(!0);!t.imageTool.editBoxMap.interrupt&&t.noMoveUp&&t.toolInstance.getGraphicIsEndDraw(t.noMoveUp)&&t.toolInstance.getInstanceHandle(s.k.ZegoWhiteboardViewToolText).focusHandle(t.noMoveUp);t.resetMouse()},this.toolInstance=e,this.userId=e.getUserID(),this.svgTool=e.getInstanceHandle(s.k.ZegoWhiteboardViewToolLine),this.imageTool=new y(e),this.setGraphicsBox()}return e.prototype.setGraphicsBox=function(){this.selectBoxMap.box=this.toolInstance.whiteboardNode.querySelector(".graphics-box"),this.imageTool.setEditorBox()},e.prototype.initSelectBox=function(e,t,o,r){var i=this;this.selectBoxMap.l=e,this.selectBoxMap.t=t,this.selectBoxMap.r=o,this.selectBoxMap.b=r,o-=e,r-=t,this.toolInstance.graphicList.forEach((function(e){return i.toolInstance.updateBoxBorder(e)}));var n="left:"+e+"px;top:"+t+"px;width:"+o+"px;height:"+r+"px;display:block;";this.setSelectBoxStyle(n),c.a.getInstance().info1(l.e.Selector_InitSelectBox,{l:e,t:t,r:o,b:r})},e.prototype.hideSelectBox=function(e){var t=this;this.selectBoxMap.l=0,this.selectBoxMap.t=0,this.selectBoxMap.r=0,this.selectBoxMap.b=0,this.selectBoxMap.box.style.display="none",e?this.toolInstance.graphicList.forEach((function(e){!e.selected||e.type!==s.f.Image&&e.type!==s.f.Text?t.toolInstance.updateBoxBorder(e):t.toolInstance.updateBoxBorder(e,!0)})):this.toolInstance.graphicList.forEach((function(e){e.selected=!1,t.toolInstance.updateBoxBorder(e)}))},e.prototype.setSelectBox=function(e){var t,o=this;if("none"===(null===(t=this.imageTool.editBoxMap.parent)||void 0===t?void 0:t.style.display)){var r=Number.MAX_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER,n=0,a=0,c=0,l=0;if(this.toolInstance.graphicList.forEach((function(e){if(e.selected){var t=o.toolInstance.getBoxInfoByGraphic(e);if(t){l++,e.type===s.f.Image&&c++;var u=t.x,d=t.y,p=t.width,h=t.height;r=Math.min(r,u),i=Math.min(i,d),n=Math.max(n,u+p),a=Math.max(a,d+h)}}o.toolInstance.updateBoxBorder(e)})),n>0&&a>0){this.selectBoxMap.l=r,this.selectBoxMap.t=i,this.selectBoxMap.r=n,this.selectBoxMap.b=a;var u="left:"+r+"px;top:"+i+"px;width:"+(n-=r)+"px;height:"+(a-=i)+"px;display:block;";if(e&&1==c&&1==l){var d=this.toolInstance.graphicList.find((function(e){return e.selected&&e.type==s.f.Image}));d&&(d.creator_id==this.userId||this.toolInstance.getUserAuth().update)&&(u=u.replace("block","none"),this.toolInstance.updateBoxBorder(d,!0),this.imageTool.initEditBox(d))}this.setSelectBoxStyle(u)}else this.selectBoxMap.l=0,this.selectBoxMap.t=0,this.selectBoxMap.r=0,this.selectBoxMap.b=0,this.selectBoxMap.box.style.display="none"}},e.prototype.setSelectBoxStyle=function(e){this.selectBoxMap.box.style.cssText+=e},e.prototype.resetMouse=function(){var e=this.toolInstance,t=e.protoGraphic,o=e.whiteboardNode;this.toolInstance.toolRmEl(o,r.a.mouseEvents.move,this.mousemoveHandle);var i=this.toolInstance.getGraphicsHandle(t.graphic_id);Object(a.o)(null==i?void 0:i.parentElement),this.toolInstance.initDrawHandle(),this.isWillMove=!1,this.noMoveUp=!0},e.prototype.getCanMovedGraphicList=function(){var e=this,t=0,o=0,r=[],i=!this.moveSelectedGraphicIds,a=this.toolInstance.getUserAuth().move,c=this.toolInstance.graphicList.filter((function(n){if(n.selected){if(t++,!i&&e.moveSelectedGraphicIds.includes(n.graphic_id))return o++,!0;if(i&&(a||n.creator_id===e.userId))return o++,r.push(n.graphic_id),!0}return e.authFlag&&e.toolInstance.updateBoxBorder(n,!0),!1}));return i&&(this.moveSelectedGraphicIds=r.join(",")),t!==o&&(Object(n.a)(s.j.ZegoWhiteboardViewErrorNoAuthMoveGraphic),this.authFlag=!1),c},e.prototype.updateGraphicsOnMoving=function(e){var t=this,o=e.clientX,r=e.clientY,i=this.getCanMovedGraphicList();if(i.length){this.toolInstance.updateMousePointsHandle(o,r);var n=this.toolInstance.calMoveHandle(),a=n[0],c=n[1],l=this.imageTool.editBoxMap,u=l.tdiff,d=l.parent,p=l.graphic,h=null==p?void 0:p.graphic_id,_=1==i.length&&(i[0].creator_id==this.userId||!!this.toolInstance.getUserAuth().update);i.forEach((function(e){t.toolInstance.updateGraphicsOffsetHandle(e,a,c);var o=e.graphic_id,r=e.type;if(r===s.f.Image){var i=(e.initX||0)+e.x|0,n=(e.initY||0)+e.y|0,l=e.data,p=e.oldData;p.x=l.x,p.y=l.y,p.ex=l.ex,p.ey=l.ey,l.ex=i+l.ex-l.x,l.ey=n+l.ey-l.y,l.x=i,l.y=n,t.toolInstance.moveGraphicsHandle(o,i,n),h===o&&(i-=u,n-=u,t.imageTool.editBoxMap.tx1=i,t.imageTool.editBoxMap.ty1=n,d.style.cssText+="transform:translate("+i+"px,"+n+"px)"),t.toolInstance.updateBoxHandle(e,_)}else r!==s.f.Laser&&(t.toolInstance.moveGraphicsHandle(o,e.x,e.y),t.toolInstance.updateBoxHandle(e))}));var f=this.selectBoxMap,g=f.l,m=f.t,y=this.toolInstance.mousePoints,b="left:"+(g+y.boxX)+"px;top:"+(m+y.boxY)+"px;";this.setSelectBoxStyle(b),this.mouseInfo.moveCount%10==0&&this.toolInstance.updateToRemoteNewHandle(i,s.a.Move)}},e.prototype.updateBoxBorderOnSelector=function(){var e=this,t=this.toolInstance.graphicList,o=this.toolInstance.getGraphicsHandle(this.toolInstance.protoGraphic.graphic_id);if(o){var r=o.getBoundingClientRect(),i=r.left,n=r.right,a=r.top,c=r.bottom;t.forEach((function(t){if(t.type!==s.f.Laser){var o=e.toolInstance.getGraphicsHandle(t.graphic_id);if(o){var r=o.getBoundingClientRect(),l=r.left,u=r.top,d=r.right,p=r.bottom;l===d&&d++,u===p&&p++,t.selected=Math.max(i,l)<Math.min(n,d)&&Math.max(a,u)<Math.min(c,p)&&e.toolInstance.getGraphicIsEndDraw(t.graphic_id)}}})),this.setSelectBox()}},e.prototype.getCoveredMaxZorderGraphic=function(e){var t=this,o=e instanceof MouseEvent?e:e.changedTouches[0],r=o.clientX,i=o.clientY,n=0,a=null,c=null;return this.toolInstance.graphicList.forEach((function(e){if(e.type!==s.f.Laser&&t.toolInstance.getGraphicIsEndDraw(e.graphic_id)){var o=t.toolInstance.getBoxHandle(e.graphic_id);if(o){var l=o.getBoundingClientRect(),u=l.left,d=l.top,p=l.right,h=l.bottom;if(r>=u&&r<=p&&i>=d&&i<=h){var _=e.zorder||1;(!n||_>n)&&(n=_,a=e,c=l)}}}})),a&&c?{graphic:a,rect:c}:null},e.prototype.bindEventsHandle=function(){if(!this.bindFlag){this.bindFlag=!0;var e=this.toolInstance.whiteboardNode;this.toolInstance.toolAddEL(e,r.a.mouseEvents.down,this.mousedownHandle),this.toolInstance.toolAddEL(e,r.a.mouseEvents.up,this.mouseupHandle),this.toolInstance.toolAddEL(e,r.a.mouseEvents.leave,this.mouseupHandle)}},e.prototype.removeEventsHandle=function(){if(this.bindFlag){this.bindFlag=!1;var e=this.toolInstance.whiteboardNode;this.toolInstance.toolRmEl(e,r.a.mouseEvents.down,this.mousedownHandle),this.toolInstance.toolRmEl(e,r.a.mouseEvents.up,this.mouseupHandle),this.toolInstance.toolRmEl(e,r.a.mouseEvents.leave,this.mouseupHandle)}},e.prototype.hideImageEditBox=function(){this.imageTool.hideEditBox()},e.prototype.hideImageEditBoxByList=function(e){this.imageTool.hideEditBoxByList(e)},e.prototype.hideImageEditBoxByIds=function(e){this.imageTool.hideEditBoxByIds(e)},e.prototype.updateSelectorBoxHandle=function(e,t){if(this.hideImageEditBoxByIds(t),this.hideImageEditBoxByList(e),"none"!=this.selectBoxMap.box.style.display){var o=e.map((function(e){return e.graphic_id}));o.push.apply(o,t),this.toolInstance.graphicList.forEach((function(e){o.includes(e.graphic_id)&&(e.selected=!1)})),this.toolInstance.graphicList.some((function(e){return e.selected}))||this.setSelectBox(!0)}},e}();function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var S=function(){return(S=Object.assign||function(e){for(var t,o=1,r=arguments.length;o<r;o++)for(var i in t=arguments[o])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},I=function(e,t,o,r){return new(o||(o=Promise))((function(i,n){function a(e){try{c(r.next(e))}catch(e){n(e)}}function s(e){try{c(r.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},E=function(e,t){var o,r,i,n,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(n){return function(s){return function(n){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,r&&(i=2&n[0]?r.return:n[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,n[1])).done)return i;switch(r=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,r=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==n[0]&&2!==n[0])){a=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){a.label=n[1];break}if(6===n[0]&&a.label<i[1]){a.label=i[1],i=n;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(n);break}i[2]&&a.ops.pop(),a.trys.pop();continue}n=t.call(e,a)}catch(e){n=[6,e],r=0}finally{o=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,s])}}},O=function(){function e(e,t){this.isRemote=!1,this.backgroundInfo={image:"",pos:"",mode:0},this.toolInstance=e,this.createContainer(t)}return e.prototype.createContainer=function(e){var t;this.graphicsBgConNode&&(this.graphicsBgConNode.innerHTML="");var o=this.toolInstance,i=o.whiteboardID,n=o.viewInfo,a=r.a.reservedPrefix,c=a.graphicsBgContainer,l=a.graphicsBgImageContainer,u=document.createElement("div");u.id=""+c+i;for(var d=0,p=n.pageCount||1;d<p;d++){var h=document.createElement("div");h.id=l+d+i,u.appendChild(h)}this.graphicsBgConNode=u,this.toolInstance.viewInfo.direction===s.p.Vertical&&(this.graphicsBgConNode.style.flexDirection="column"),null===(t=e.firstChild)||void 0===t||t.before(u)},e.prototype.drawBackgroundImage=function(e,t){var o=this,r="";switch(t){case s.n.ZegoWhiteboardViewImageFitModeLeft:r="left";break;case s.n.ZegoWhiteboardViewImageFitModeRight:r="right";break;case s.n.ZegoWhiteboardViewImageFitModeBottom:r="bottom";break;case s.n.ZegoWhiteboardViewImageFitModeTop:r="top";break;case s.n.ZegoWhiteboardViewImageFitModeCenter:r="center"}var i=new Image;i.setAttribute("crossOrigin","anonymous"),i.onload=function(){for(var i=o.graphicsBgConNode.childNodes,n=0,a=i.length;n<a;n++){var s=i[n];s.style.backgroundImage="url("+e+")",s.style.backgroundPosition=r,s.style.backgroundRepeat="no-repeat",s.style.backgroundSize="contain"}o.backgroundInfo.image=e,o.backgroundInfo.pos=r,o.backgroundInfo.mode=t},i.src=e},e.prototype.clearBackgroundImageLocal=function(){var e=this,t=this.toolInstance.graphicList.filter((function(e){return e.type===s.f.BgImage}));this.backgroundInfo.image="",this.backgroundInfo.pos="",this.backgroundInfo.mode=0,t.map((function(t){e.toolInstance.deleteHandle(t.graphic_id)}));for(var o=this.graphicsBgConNode.childNodes,r=0,i=o.length;r<i;r++){o[r].style.backgroundImage="none"}},e.prototype.backgroundImageUpdateToRemote=function(e,t){if(this.isRemote)this.isRemote=!1;else{var o=t?s.a.Update:s.a.Create;this.toolInstance.updateToRemoteNewHandle([e],o)}},e.prototype.updateToLocal=function(e){return this.isRemote=e,this},e.prototype.setBackgroundColor=function(e){this.graphicsBgConNode.style.backgroundColor=e},e.prototype.setBackgroundImage=function(e,t,o){var r=this;if(!e||t>4){var i=Object(n.b)(s.j.ZegoWhiteboardViewErrorParamInvalid);return Promise.reject(i)}if(!this.toolInstance.enableDraw)return Promise.reject({});if(!this.toolInstance.getUserAuth().create){i=Object(n.b)(s.j.ZegoWhiteboardViewErrorNoAuthCreateGraphic);return Promise.reject(i)}var a=!!this.backgroundInfo.image,u=this.toolInstance.graphicList.find((function(e){return e.type==s.f.BgImage}));if(a&&u&&!this.toolInstance.getUserAuth().update&&u.creator_id!==this.toolInstance.getUserID()){i=Object(n.b)(s.j.ZegoWhiteboardViewErrorNoAuthUpdateGraphic);return Promise.reject(i)}if("string"==typeof e){var d=e;if(!d.startsWith("https://")){i=Object(n.b)(s.j.ZegoWhiteboardViewErrorGraphicIllegalUrl);return Promise.reject(i)}return new Promise((function(o,i){var a=!0,u=new XMLHttpRequest;u.open("HEAD",d,!0),u.onreadystatechange=function(){if(4==u.readyState){if(200!=u.status){a=!1;var o=404===u.status?s.j.ZegoWhiteboardViewErrorGraphicIllegalUrl:s.j.ZegoWhiteboardViewErrorInvalidRsp;return i(Object(n.b)(o))}var p=(u.getResponseHeader("Content-Type")||"").replace("image/",""),h=+u.getResponseHeader("Content-Length");if(!"jpg,jpeg,png".includes(p)){var _=Object(n.b)(s.j.ZegoWhiteboardViewErrorGraphicImageTypeNotSupport);return i(_)}if(h>10485760){_=Object(n.b)(s.j.ZegoWhiteboardViewErrorGraphicImageSizeLimit);return i(_)}c.a.getInstance().info1(l.e.SetBackgroundImage,{params:{address:e}}),r.addBackgroundImageGraphic(d,t)}},u.onerror=function(){if(a){var e=404===u.status?s.j.ZegoWhiteboardViewErrorGraphicIllegalUrl:s.j.ZegoWhiteboardViewErrorInvalidRsp;i(Object(n.b)(e))}},u.send(null)}))}if(this.toolInstance.serviceHandle.isElectron&&"object"==w(e)){if(!/(\.jpg|\.jpeg|\.png)$/.test((e=e).path)){i=Object(n.b)(s.j.ZegoWhiteboardViewErrorGraphicImageTypeNotSupport);return Promise.reject(i)}return c.a.getInstance().info1(l.e.SetBackgroundImage,{params:{address:e.path}}),this.toolInstance.serviceHandle.uploadImage(e.path,o).then((function(e){return r.addBackgroundImageGraphic(e,t)}))}var p=(e=e).type.replace("image/","");if(!"jpg,jpeg,png".includes(p)){i=Object(n.b)(s.j.ZegoWhiteboardViewErrorGraphicImageTypeNotSupport);return Promise.reject(i)}if(e.size>10485760){i=Object(n.b)(s.j.ZegoWhiteboardViewErrorGraphicImageSizeLimit);return Promise.reject(i)}return c.a.getInstance().info1(l.e.SetBackgroundImage,{params:{address:e.name}}),this.toolInstance.serviceHandle.uploadImage(e,o).then((function(e){if(e.code){var o=Object(n.b)(e.code,e.msg);return Promise.reject(S(S({},o),{error:e}))}return r.addBackgroundImageGraphic(e,t)}))},e.prototype.remoteAddBackgroundImageGraphic=function(e){var t=this.toolInstance.graphicList,o=t.find((function(e){return e.type===s.f.BgImage}));o?(o=Object.assign(o,e),this.toolInstance.setDataToGraphicList(o.graphic_id,{data:o.data})):t.push(e);var r=e.data,i=r.url,n=r.fit_mode;this.drawBackgroundImage(i,n)},e.prototype.addBackgroundImageGraphic=function(e,t){var o=this.toolInstance.graphicList,i={x:0,y:0,ex:0,ey:0,url:e,fit_mode:t,hash:""},n=Object(a.d)(),c=o.find((function(e){return e.type===s.f.BgImage})),l=!!c;if(c){var u=c.data;c=S(S({},c),{data:i,oldData:u,operate_id:Object(a.d)()}),this.toolInstance.setDataToGraphicList(c.graphic_id,{data:i})}else{c=S(S({graphic_id:n,operate_id:n,creator_id:this.toolInstance.getUserID()},r.a.basicState),{type:s.f.BgImage,x:0,y:0,initX:0,initY:0,data:i,oldData:{},zorder:0,layer:1,is_end_draw:!0});var d=JSON.parse(JSON.stringify(c));o.push(d)}return this.drawBackgroundImage(e,t),this.backgroundImageUpdateToRemote(c,l),Promise.resolve(e)},e.prototype.clearBackgroundImage=function(){return I(this,void 0,void 0,(function(){var e;return E(this,(function(t){return this.isRemote?(this.clearBackgroundImageLocal(),this.isRemote=!1,[2]):this.toolInstance.enableDraw?(e=this.toolInstance.graphicList.find((function(e){return e.type==s.f.BgImage})),this.backgroundInfo.image&&e&&!this.toolInstance.getUserAuth().delete&&e.creator_id!==this.toolInstance.getUserID()?(Object(n.a)(s.j.ZegoWhiteboardViewErrorNoAuthDeleteGraphic),[2]):(e&&(e.operate_id=Object(a.d)(),this.clearBackgroundImageLocal(),this.toolInstance.updateToRemoteNewHandle([e],s.a.Delete)),[2])):[2]}))}))},e}(),P=function(){return(P=Object.assign||function(e){for(var t,o=1,r=arguments.length;o<r;o++)for(var i in t=arguments[o])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},k=function(){function e(e){var t,o=this;this.defaultCursorMap=((t={})[s.k.ZegoWhiteboardViewToolPen]={url:"https://storage.zego.im/goclass/wbCursor/defaultCursor.png",offsetX:0,offsetY:18},t),this.defaultCursorPen=this.defaultCursorMap[r.a.basicState.type],this.authFlag=!0,this.roomFlag=!0,this.mousemoveHandle=function(e){var t=r.a.customCursor;if(t.enable)if(o.cursorInied){if("DISCONNECTED"===o.toolInstance.serviceHandle.getRoomState())return o.toolInstance.whiteboardNode.style.cursor="initial",o.roomFlag&&(Object(n.a)(s.j.ZegoWhiteboardViewErrorNoLoginRoom),c.a.getInstance().warn1(l.e.Cursor_MousemoveHandle,"room state is DISCONNECTED")),void(o.roomFlag=!1);if(!o.toolInstance.getUserAuth().create)return o.authFlag&&Object(n.a)(s.j.ZegoWhiteboardViewErrorNoAuthCreateGraphic),void(o.authFlag=!1);var i=JSON.parse(t.attributes);if(t.enable&&i.url&&r.a.basicState.type===s.k.ZegoWhiteboardViewToolPen){!Object(a.k)()&&o.show(),o.toolInstance.updateOffsetAndScrollHandle();var u=o.getMouseChangedPoint(e),d=o.addCursorHandle(void 0,u);d.data=[u.clientX,u.clientY];var p=JSON.parse(d.attributes);p.cursor=P({type:r.a.customCursor.type},i),p.hidden=!1,d.attributes=JSON.stringify(p),d.is_end_draw=!1,o.drawGraphicsHandle(d,!0),o.sendTimer||(o.sendTimer=window.setTimeout((function(){o.toolInstance.updateToRemoteNewHandle([o.calCursorPlaceHandle(d)],s.a.Update,!0,{isUndoAndRedo:!0},void 0,(function(e){})),clearTimeout(o.sendTimer),o.sendTimer=null}),100)),o.hideTimer&&(clearTimeout(o.hideTimer),o.hideTimer=null),o.hideTimer=window.setTimeout((function(){o.hide()}),3e3)}else o.hide()}else o.cursorInied=!0},this.mouseleaveHandle=function(){r.a.customCursor.enable&&o.toolInstance.getUserAuth().create&&o.hide()},this.toolInstance=e,this.init(),this.bindEventsHandle()}return e.prototype.init=function(){var e=this;this.cursorInied=!1;var t=this.defaultCursorMap[r.a.basicState.type],o=r.a.customCursor,n=JSON.parse(o.attributes);n.url||(n.url=t.url,n.pox_x=t.offsetX,n.pox_y=t.offsetY,o.attributes=JSON.stringify(n)),i.f.on(i.d.RoomDisConnected,(function(){r.a.basicState.type=s.k.ZegoWhiteboardViewToolPen,r.a.customCursor={enable:!1,remoteVisible:!0,type:s.i.pen,attributes:'{"url": "", "pox_x": 0, "pox_y": 0 }'},e.toolInstance.whiteboardNode.style.cursor="initial",clearTimeout(e.sendTimer),e.sendTimer=null,clearTimeout(e.hideTimer),e.hideTimer=null})),i.f.on(i.d.RemoteDelMod,(function(){clearTimeout(e.sendTimer),e.sendTimer=null,clearTimeout(e.hideTimer),e.hideTimer=null}))},e.prototype.bindEventsHandle=function(){var e=r.a.mouseEvents;this.toolInstance.toolAddEL(this.toolInstance.whiteboardNode,e.move,this.mousemoveHandle),this.toolInstance.toolAddEL(this.toolInstance.whiteboardNode,e.leave,this.mouseleaveHandle)},e.prototype.removeEventsHandle=function(){var e=this.toolInstance.getUserID();this.toolInstance.graphicList.splice(this.toolInstance.graphicList.findIndex((function(t){return t.type===s.f.Cursor&&t.creator_id===e})),1)},e.prototype.transLocationHandle=function(e){var t=e.clientX,o=e.clientY,r=this.toolInstance,i=r.offsetData,n=r.scrollData,a=i.offsetLeft,s=i.offsetTop,c=n.scrollTop,l=n.scrollLeft,u=this.toolInstance.conNode,d=u.scrollLeft,p=u.scrollTop;return{clientX:Math.round(t-a+l-d),clientY:Math.round(o-s+c-p)}},e.prototype.getMouseChangedPoint=function(e){var t;if(e instanceof MouseEvent){var o=e,r=o.clientX,i=o.clientY;t=this.transLocationHandle({clientX:r,clientY:i})}else{var n=e.changedTouches[0];r=n.clientX,i=n.clientY;t=this.transLocationHandle({clientX:r,clientY:i})}return t},e.prototype.toggleOtherCursorHandle=function(e){var t=""+r.a.reservedPrefix.cursorCon+e.graphic_id,o=this.toolInstance.whiteboardNode.querySelector("#"+t);if(o){var i=r.a.customCursor.remoteVisible;return o.style.display=i?"block":"none",!i}return!1},e.prototype.addCursorHandle=function(e,t){var o=this,i=this.toolInstance.graphicList;if(!e){var n=this.findSelfCursorHandle();if(n)return n;e=P(P({graphic_id:Object(a.d)(),creator_id:this.toolInstance.getUserID(),operate_id:Object(a.d)()},r.a.basicState),{type:s.f.Cursor,x:0,y:0,px:0,py:0,data:[],layer:2,size:0,zorder:this.toolInstance.serviceHandle.createZorder(),is_end_draw:!1})}(e=e).data=[(null==t?void 0:t.clientX)||0,(null==t?void 0:t.clientY)||0];var u=JSON.parse(e.attributes),d=JSON.parse(r.a.customCursor.attributes);return u.cursor=P({type:r.a.customCursor.type},d),e.attributes=JSON.stringify(u),i.push(e),this.drawGraphicsHandle(e,!0),this.toolInstance.updateToRemoteNewHandle([e],s.a.Create,!0,{isUndoAndRedo:!0},void 0,(function(e){o.removeEventsHandle(),c.a.getInstance().error1(l.e.Cursor_AddCursorHandle,"create cursor error")})),e},e.prototype.findSelfCursorHandle=function(e){var t=this.toolInstance.getUserID();return this.toolInstance.graphicList.find((function(o){return e?o.graphic_id===e:o.type===s.f.Cursor&&o.creator_id===t}))},e.prototype.drawGraphicsHandle=function(e,t){if(Object(a.k)()||!t){var o=this.toolInstance.getUserID(),i=e.graphic_id,n=e.creator_id;if(n!==o){var s=JSON.parse(e.attributes);if(s){var u=s.cursor;if(n!==o){if(this.toggleOtherCursorHandle(e))return void c.a.getInstance().info1(l.e.Cursor_drawGraphicsHandle_hidden,"对端隐藏的光标")}else if(!this.toolInstance.getUserAuth().create)return c.a.getInstance().info1(l.e.Cursor_DrawGraphicsHandle_Create,"无创建图元权限"),void this.hide();var d=this.toolInstance.whiteboardNode,p=r.a.reservedPrefix.cursorCon,h=d.querySelector("#"+p+i);if(h){var _=h.childNodes[0];_&&_.src!==u.url&&(_.parentNode.removeChild(_),(_=new Image).setAttribute("crossOrigin","anonymous"),_.onload=function(){_.width=_.width,_.height=_.height,h.appendChild(_)},_.src=u.url)}else{if(this.cursorConOldId){var f=null==d?void 0:d.querySelector("#"+this.cursorConOldId);d&&f&&(null==d||d.removeChild(f))}var g=""+p+i;this.cursorConOldId=g,(h=h=document.createElement("div")).id=g;var m=new Image;if(m.setAttribute("crossOrigin","anonymous"),m.onload=function(){m.width=m.width,m.height=m.height,h.appendChild(m)},m.src=u.url,d&&d.appendChild(h),o==n)(w=r.a.customCursor).enable=!0,w.attributes=JSON.stringify(u)}var y=e.data,b=y[0],v=y[1];if(s.hidden&&(b=-1024,v=-1024),n===o&&(this.cursorConNode=h,!t)){var w=r.a.customCursor,S=JSON.parse(w.attributes);u&&(S.url=u.url,S.pox_x=u.pox_x,S.pox_y=u.pox_y,w.attributes=JSON.stringify(S))}h.style.cssText="transform:translate("+(b||0)+"px, "+(v||0)+"px) scale("+1/this.toolInstance.viewInfo.zoom+");transform-origin:0 0;left:"+-u.pox_x/this.toolInstance.viewInfo.zoom+"px;top: "+-u.pox_y/this.toolInstance.viewInfo.zoom+"px;"}else c.a.getInstance().info1(l.e.Cursor_DrawGraphicsHandle,"no attr")}}},e.prototype.show=function(){var e;if(this.findSelfCursorHandle()){this.toolInstance.whiteboardNode.style.cursor="initial";var t=r.a.customCursor,o=JSON.parse(t.attributes),i=o.pox_x?Number(o.pox_x)-1:0,n=o.pox_y?Number(o.pox_y)-1:0;(null===(e=this.defaultCursorPen)||void 0===e?void 0:e.url)&&(this.toolInstance.whiteboardNode.style.cursor="url("+this.defaultCursorPen.url+") "+this.defaultCursorPen.offsetX+" "+this.defaultCursorPen.offsetY+", auto"),this.toolInstance.whiteboardNode.style.cursor="url("+o.url+") "+i+" "+n+", auto"}},e.prototype.hide=function(){var e=this.findSelfCursorHandle();if(e){var t=r.a.basicState.type===s.k.ZegoWhiteboardViewToolPen;this.cursorConNode&&(this.cursorConNode.style.display="none");var o=r.a.customCursor.enable;this.toolInstance.whiteboardNode.style.cursor=o&&t?"none":"initial";var i=JSON.parse(e.attributes);i.hidden=!0,e.attributes=JSON.stringify(i),e.data=[-1024,-1024],this.toolInstance.updateToRemoteNewHandle([e],s.a.Update,!0,{isUndoAndRedo:!0},void 0,(function(e){}))}},e.prototype.deleteCursorElement=function(e){var t,o,i=this.toolInstance.whiteboardNode,n=r.a.reservedPrefix.cursorCon,a=i.querySelector("#"+n+e);a&&(a.id==(null===(t=this.cursorConNode)||void 0===t?void 0:t.id)&&(this.cursorConNode=null),null===(o=null==a?void 0:a.parentNode)||void 0===o||o.removeChild(a))},e.prototype.updateCursorAttr=function(e){void 0===e&&(e=!1);var t=r.a.customCursor,o=JSON.parse(t.attributes),i=this.findSelfCursorHandle();if(i){var n=JSON.parse(i.attributes);n.cursor=P({type:r.a.customCursor.type},o),n.hidden=!1,i.attributes=JSON.stringify(n),this.drawGraphicsHandle(i,!0),e&&this.toolInstance.updateToRemoteNewHandle([i],s.a.Update,!0,{isUndoAndRedo:!0})}},e.prototype.updateOtherCursor=function(){var e=this,t=r.a.reservedPrefix.cursorCon,o=this.toolInstance,i=o.whiteboardNode,n=o.graphicList,a=this.toolInstance.getUserID();n.filter((function(e){return 1024===e.type&&e.creator_id!==a})).forEach((function(o){var r=JSON.parse(o.attributes).cursor,n=o.data,a=n[0],s=n[1],c=i.querySelector("#"+t+o.graphic_id);c&&(c.style.cssText="transform:translate("+(a||0)+"px, "+(s||0)+"px) scale("+1/e.toolInstance.viewInfo.zoom+");transform-origin:0 0;left:"+-r.pox_x/e.toolInstance.viewInfo.zoom+"px;top: "+-r.pox_y/e.toolInstance.viewInfo.zoom+"px;")}))},e.prototype.pushActualPlaceHandle=function(){var e=this.findSelfCursorHandle();if(e){var t=e.data,o=t[0],r=t[1];if(o<0&&r<0)return;this.toolInstance.updateOffsetAndScrollHandle(),this.toolInstance.updateToRemoteNewHandle([this.calCursorPlaceHandle(e)],s.a.Update,!0,{isUndoAndRedo:!0})}},e.prototype.calCursorPlaceHandle=function(e){e=JSON.parse(JSON.stringify(e));var t=this.toolInstance.viewInfo,o=t.zoom,r=t.zoomTX,i=t.zoomTY,n=t.offsetPageX,a=t.offsetPageY,s=e.data,c=s[0],l=s[1],u=this.toolInstance.conNode,d=u.scrollLeft,p=u.scrollTop,h=Math.round((c+d-r)/o+n),_=Math.round((l+p-i)/o+a);return e.data=[h,_],e},e}(),T=function(){return(T=Object.assign||function(e){for(var t,o=1,r=arguments.length;o<r;o++)for(var i in t=arguments[o])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},x=function(){for(var e=0,t=0,o=arguments.length;t<o;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<o;t++)for(var n=arguments[t],a=0,s=n.length;a<s;a++,i++)r[i]=n[a];return r},C=function(){function e(e){this.mousePoints={sx:-1,sy:-1,ex:-1,ey:-1,boxX:0,boxY:0},this.graphicList=[],this.enableDraw=!0,this.graphicTaskList=[],this.undoList=[],this.clearUndoData=null,this.redoList=[],this.doTaskSeq=0,this.canDo=!0,this.isReloading=!1,this.graphicExtraMap={},this.customCursor=null,this.instancesMap={};var t=e.whiteboardID,o=e.zoomNode,r=e.conNode,i=e.serviceHandle,n=e.graphicsConNode,a=e.graphicsBoxConNode,s=e.viewInfo,c=e.whiteboardNode;this.whiteboardID=t,this.conNode=r,this.zoomNode=o,this.userNode=o.parentNode,this.graphicsConNode=n,this.whiteboardNode=c,this.graphicsBoxConNode=a,this.serviceHandle=i,this.viewInfo=s,this.updateOffsetAndScrollHandle(),this.initDrawHandle()}return e.prototype.getTranslateXY=function(e){if(!e)return{x:0,y:0};var t=e.match(/translate\((-?\d*.?\d*)px(\,\s*(-?\d*.?\d*)px)?\)/);return{x:+t[1]||0,y:+t[3]||0}},e.prototype.clearRealTimeInterval=function(e){clearInterval(this.graphicExtraMap[e].realTimeId),delete this.graphicExtraMap[e]},e.prototype.realTimeHandle=function(e,t){var o,i,n=this,a=t.graphic_id,u=t.is_end_draw,d=t.operate_id,p=this.graphicList.find((function(e){return e.graphic_id==a&&e.operate_id==d}));if(p){var h=r.a.realTimeState,_=h.remoteDrawDelay,f=h.remoteDrawCount,g=h.remoteDrawEndDelay;u?u&&(null===(i=this.graphicExtraMap[a])||void 0===i?void 0:i.realTimeId)&&(this.clearRealTimeInterval(a),c.a.getInstance().info1(l.e.Gra_remote_draw_realtime_end,a)):this.graphicExtraMap[a]&&this.graphicExtraMap[a].realTimeId?(o=p.data).push.apply(o,t.data):(this.graphicExtraMap[a]=this.graphicExtraMap[a]||{},this.graphicExtraMap[a].realTimeIndex=0,this.graphicExtraMap[a].realTimeId=setInterval((function(t){var o,r=n.graphicList.find((function(e){return e.graphic_id===t}));if(r&&n.graphicExtraMap[t]){var i=r.data,a=n.graphicExtraMap[t].realTimeIndex>=i.length;a?a&&Date.now()-n.graphicExtraMap[t].realTimeLast>g&&(r.is_end_draw=!0,n.clearRealTimeInterval(t),c.a.getInstance().info1(l.e.Gra_remote_draw_realtime_timeout,t)):(n.graphicExtraMap[t].realTimeLast=Date.now(),(r=JSON.parse(JSON.stringify(r))).data=i.slice(0,n.graphicExtraMap[t].realTimeIndex+=f),e.drawGraphicsHandle(r,s.e.Remote))}else!r&&(null===(o=n.graphicExtraMap[t])||void 0===o?void 0:o.realTimeId)&&(n.clearRealTimeInterval(t),c.a.getInstance().info1(l.e.Gra_remote_draw_realtime_deleted,t))}),_,a))}},e.prototype.createHandle=function(e,t,o){var r=e.graphic_id;if(!this.graphicList.some((function(e){return e.graphic_id===r})))switch(this.graphicList.push(e),e.type){case s.f.Text:t.drawGraphicsHandle(e,!1);break;default:o.drawGraphicsHandle(e,s.e.UnReDo)}},e.prototype.moveHandle=function(e,t){var o=e.graphic_id,r=e.x,i=e.y,n=e.type;if(n===s.f.Image)this.assingImageGraphicData(e,s.a.Move),t.updateGraphicsImage(e);else{this.setDataToGraphicList(o,{x:r,y:i});var a=n===s.f.Laser?""+1/this.viewInfo.zoom:void 0;this.moveGraphicsHandle(o,r,i,a)}},e.prototype.updateHandle=function(e,t,o){switch(e.type){case s.f.Text:t.backUpdateGraphicsHandle(e);break;case s.f.Image:this.assingImageGraphicData(e,s.a.Update),o.updateGraphicsImage(e);break;case s.f.BgImage:this.background.remoteAddBackgroundImageGraphic(e)}},e.prototype.assingImageGraphicData=function(e,t){var o=e.graphic_id;this.graphicList.some((function(r){if(r.graphic_id===o){if(Object.assign(r.data,e.data),Object.assign(r.oldData,e.oldData),t===s.a.Move)r.x=e.x,r.y=e.y,r.px=e.px,r.py=e.py;else if(t===s.a.Update){var i=r.data,n=i.x,a=i.y;r.initX=n-r.x,r.initY=a-r.y}return!0}return!1}))},e.prototype.reverseGraphicByMove=function(e){if(e.x=[e.px||0,e.px=e.x][0],e.y=[e.py||0,e.py=e.y][0],e.type===s.f.Image){var t=e.data,o=t.ex-t.x,r=t.ey-t.y;t.x=e.x+(e.initX||0),t.y=e.y+(e.initY||0),t.ex=t.x+o,t.ey=t.y+r}},e.prototype.resetImageGraphicOrigin=function(e){var t=e.data,o=t.x,r=t.y;e.initX=o-e.x,e.initY=r-e.y},e.prototype.createUndoData=function(e){var t=this;if(!(e=e.filter((function(e){return e.type!==s.f.Cursor}))).length)return[];var o=JSON.parse(JSON.stringify(e)),r=o[0],i=r.action,n=r.type,c=r.oldData,l=r.data;if(i===s.a.Create||i===s.a.Append||i===s.a.Update)switch(n){case s.f.Text:var u=Object(a.r)(c).text,d=Object(a.r)(l).text;if(!u&&!d)return[];u?(r.action=d?s.a.Update:s.a.Create,r.data=c,r.oldData=l):r.action=s.a.Delete;break;case s.f.Pencil:case s.f.Line:case s.f.Rect:case s.f.Ellipse:r.action=s.a.Delete;break;case s.f.Image:i===s.a.Create?r.action=s.a.Delete:(r.data=c,r.oldData=l,this.resetImageGraphicOrigin(r));case s.f.BgImage:i===s.a.Create?r.action=s.a.Delete:(r.data=c,r.oldData=l)}else i===s.a.Delete?o.forEach((function(e){e.action=s.a.Create,e.type===s.f.Image&&t.resetImageGraphicOrigin(e)})):i===s.a.Move&&o.forEach((function(e){return t.reverseGraphicByMove(e)}));return o.forEach((function(e){e.operate_id=Object(a.d)(),e.is_end_draw=!0})),o},e.prototype.reverseData=function(e){var t=this;e.length&&e.forEach((function(e){var o=e.action,r=e.data,i=e.oldData;switch(o){case s.a.Create:e.action=s.a.Delete;break;case s.a.Delete:e.action=s.a.Create;break;case s.a.Move:t.reverseGraphicByMove(e);break;case s.a.Update:e.data=i,e.oldData=r}e.operate_id=Object(a.d)(),e.is_end_draw=!0}))},e.prototype.createBackground=function(e,t){this.background||(this.background=new O(this,e)),t&&this.background.createContainer(e)},e.prototype.setCustomCursor=function(e){void 0===e&&(e=!1),this.customCursor?this.customCursor.updateCursorAttr():this.customCursor=new k(this)},e.prototype.triggerAnimateHandle=function(e,t){t===s.e.Remote?e.classList.add("transition"):e.classList.remove("transition")},e.prototype.transLocationHandle=function(e,t){var o=e.clientX,r=e.clientY,i=this.offsetData,n=i.offsetLeft,a=i.offsetTop,s=this.scrollData,c=s.scrollLeft,l=s.scrollTop,u=this.viewInfo,d=u.zoom,p=u.zoomTX,h=u.zoomTY,_={clientX:(o-n+c-p)/d+u.offsetPageX,clientY:(r-a+l-h)/d+u.offsetPageY};return t||(_.clientX=Math.round(_.clientX),_.clientY=Math.round(_.clientY)),_},e.prototype.transLocationOrigin=function(e){var t=e.clientX,o=e.clientY,r=this.viewInfo,i=r.offsetPageX,n=r.offsetPageY,a=r.zoom,s=this.whiteboardNode.parentNode,c=s.scrollLeft,l=s.scrollTop;return{clientX:Math.round(t+c/a+i),clientY:Math.round(o+l/a+n)}},e.prototype.bindEventsHandle=function(e){this.initDrawHandle();var t=this.instancesMap[e];t&&t.bindEventsHandle(),c.a.getInstance().info1(l.e.Tool_bindEventsHandle,{type:e})},e.prototype.bindCursorEventsHandle=function(){var e;null===(e=this.customCursor)||void 0===e||e.bindEventsHandle()},e.prototype.removeEventsHandle=function(e){var t=this.instancesMap[e];t&&t.removeEventsHandle()},e.prototype.moveGraphicsHandle=function(e,t,o,r){var i=this.getGraphicsHandle(e);if(i)if("g"===i.tagName){var n=Object(a.g)(i)[0];r=(r=n.getAttribute("transform")||"")&&r.includes("scale(")?r.replace(/.*(scale\(\d+(.\d+)?,(\s*)?\d+(.\d+)?\)).*/," $1"):"",n.setAttribute("transform","translate("+(t||0)+", "+(o||0)+")"+r)}else{var s="translate("+(t||0)+"px, "+(o||0)+"px)",c=i.style.transform.match(/scale\((\d*.?\d*)\)/),l=c?c[1]:"";!r&&l?s=s+" scale("+l+")":r&&(s=s+" scale("+r+")"),i.style.transform=s}},e.prototype.getGraphicsHandle=function(e,t){void 0===t&&(t=this.userNode);var o=t.querySelector("#"+r.a.reservedPrefix.graphics+e);return o&&(o=o.parentNode),o},e.prototype.batchGetGraphicsHandle=function(e,t){return void 0===e&&(e=this.userNode),e.querySelectorAll("[id^="+t+"]")},e.prototype.getBoxSelHandle=function(e){return"#"+r.a.reservedPrefix.graphicsBox+e},e.prototype.updateOffsetAndScrollHandle=function(){this.offsetData=Object(a.h)(this.conNode),this.scrollData=Object(a.i)(this.conNode)},e.prototype.updateGraphicsOffsetHandle=function(e,t,o){var r=e.x,i=e.y;e.x=r+t,e.y=i+o},e.prototype.calMoveHandle=function(){var e=this.mousePoints,t=e.sx,o=e.sy,r=e.ex,i=e.ey;return-1!==t&&-1!==o?(this.mousePoints.boxX+=r-t,this.mousePoints.boxY+=i-o,[r-t,i-o]):[0,0]},e.prototype.updateMousePointsHandle=function(e,t){null==e||null==t?this.mousePoints={sx:-1,sy:-1,ex:-1,ey:-1,boxX:0,boxY:0}:(-1!==this.mousePoints.ex&&-1!==this.mousePoints.ey&&(this.mousePoints.sx=this.mousePoints.ex,this.mousePoints.sy=this.mousePoints.ey),this.mousePoints.ex=e,this.mousePoints.ey=t)},e.prototype.updateToRemoteNewHandle=function(e,t,o,r,i,n){if(void 0===o&&(o=!0),e.length){var c=Object(a.u)(e,t);if((!r||!r.isUndoAndRedo)&&(this.redoList.length=0),o){var l=this.graphicTaskList.length,u={taskStatus:l?s.h.Pending:s.h.InProgress,graphicList:c};!l&&this.graphicTaskList.push(u),this.syncUpdateToRemoteQueue(u,n)}else this.unSyncUpdateToRemoteQueue(c,r,i,n)}},e.prototype.unSyncUpdateToRemoteQueue=function(e,t,o,r){var n=this;this.serviceHandle.updateToRemoteHandle(this.whiteboardID,e,(function(){if(!t||!t.isUndoAndRedo){var r=n.createUndoData(e);n.undoList.push(r)}o&&o()}),(function(e){i.f.emit(i.c.Error,e),r&&r(e)}))},e.prototype.syncUpdateToRemoteQueue=function(e,t){var o=this;e.taskStatus===s.h.Pending?-1===this.graphicTaskList.findIndex((function(e){return e.taskStatus===s.h.Pending}))?this.graphicTaskList.push(e):this.mergegGraphicTaskList(e):this.serviceHandle.updateToRemoteHandle(this.whiteboardID,e.graphicList,(function(){o.graphicTaskCallbackHandle(s.g.success)}),(function(e){o.graphicTaskCallbackHandle(s.g.error,t,e)}))},e.prototype.filterUndoAndRedo=function(e){var t=this;return e.filter((function(e){var o=e.action,r=e.graphic_id,i=t.graphicList.some((function(e){return e.graphic_id===r}));return!i&&o===s.a.Create||i&&(o===s.a.Delete||o===s.a.Move||o===s.a.Update||o===s.a.Append)}))},e.prototype.undoClearPage=function(){this.clearUndoData&&this.updatePushLocalHandle(this.clearUndoData,[])},e.prototype.undoNewHandle=function(){var e=this;if((!this.graphicTaskList[0]||this.graphicTaskList[0].taskStatus!==s.h.InProgress)&&this.canDo){var t=this.undoList.length;if(t){var o=this.filterUndoAndRedo(this.undoList[t-1]);o.length?(this.canDo=!1,this.updateToRemoteNewHandle(o,void 0,!1,{isUndoAndRedo:!0},(function(){e.undoList.pop();var t=JSON.parse(JSON.stringify(o));e.updateLocalHandle(t),e.reverseData(t),e.redoList.push(t),e.canDo=!0}),(function(t){e.canDo=!0}))):this.undoList.pop()}}},e.prototype.redoNewHandle=function(){var e=this;if((!this.graphicTaskList[0]||this.graphicTaskList[0].taskStatus!==s.h.InProgress)&&this.canDo){var t=this.redoList.length;if(t){var o=this.filterUndoAndRedo(this.redoList[t-1]);o.length?(this.canDo=!1,this.updateToRemoteNewHandle(o,void 0,!1,{isUndoAndRedo:!0},(function(){e.redoList.pop();var t=JSON.parse(JSON.stringify(o));e.updateLocalHandle(t),e.reverseData(t),e.undoList.push(t),e.canDo=!0}),(function(t){e.canDo=!0}))):this.redoList.pop()}}},e.prototype.findLastTaskIndex=function(e,t){var o=this.graphicTaskList.slice(1);o.reverse();var r=o.findIndex((function(o){return o.graphicList[0][e]===t}));return-1!==r?o.length-r:-1},e.prototype.mergeMoveActionTaskList=function(e){var t=e.graphicList[0].operate_id,o=this.findLastTaskIndex("operate_id",t);-1===o?this.graphicTaskList.push(e):this.graphicTaskList.splice(o+1,1,e)},e.prototype.mergeOtherActionTaskList=function(e){switch(e.graphicList[0].type){case s.f.Text:this.mergeTextTaskList(e);break;case s.f.Pencil:this.mergePathTaskList(e);break;case s.f.Ellipse:case s.f.Rect:case s.f.Line:case s.f.Image:case s.f.BgImage:this.mergeOtherTaskList(e)}},e.prototype.mergeLaserTaskList=function(e){var t=e.graphicList[0],o=t.action,r=t.graphic_id;if(o===s.a.Move){var i=this.findLastTaskIndex("graphic_id",r);-1===i?this.graphicTaskList.push(e):this.graphicTaskList.splice(i,1,e)}else this.graphicTaskList.push(e)},e.prototype.mergeTextTaskList=function(e){var t=e.graphicList[0].operate_id;this.findLastTaskIndex("operate_id",t);this.graphicTaskList.push(e)},e.prototype.mergePathTaskList=function(e){var t=e.graphicList[0],o=t.operate_id,r=t.action,i=this.findLastTaskIndex("operate_id",o);if(-1===i)this.graphicTaskList.push(e);else{var n=this.graphicTaskList[i];n.graphicList[0].action===s.a.Create||r===s.a.Update?this.graphicTaskList.push(e):n.graphicList.forEach((function(t,o){t.data=t.data.concat(e.graphicList[o].data)}))}},e.prototype.mergeOtherTaskList=function(e){var t=e.graphicList[0].operate_id,o=this.findLastTaskIndex("operate_id",t);-1===o?this.graphicTaskList.push(e):this.graphicTaskList[o].graphicList[0].action===s.a.Create?this.graphicTaskList.push(e):this.graphicTaskList.splice(o,1,e)},e.prototype.mergegGraphicTaskList=function(e){var t=e.graphicList[0],o=t.action;t.type===s.f.Laser?this.mergeLaserTaskList(e):o===s.a.Move?this.mergeMoveActionTaskList(e):this.mergeOtherActionTaskList(e)},e.prototype.graphicTaskCallbackHandle=function(e,t,o){var r=this.graphicTaskList[0];if(r)if(r.taskStatus===s.h.InProgress){var n=r.graphicList[0],a=n.is_end_draw,c=n.type;n.action,n.graphic_id;if(a)if(e===s.g.success){if(c!==s.f.Laser&&c!==s.f.BgImage){var l=this.createUndoData(r.graphicList);this.undoList.push(l)}}else{if(c!==s.f.Laser){l=this.createUndoData(r.graphicList);this.updateLocalHandle(l)}t?t&&t(o):i.f.emit(i.c.Error,o)}else e===s.g.error&&(t?t&&t(o):i.f.emit(i.c.Error,o));this.graphicTaskList.shift();var u=this.graphicTaskList[0];u&&(u.taskStatus=s.h.InProgress)&&this.syncUpdateToRemoteQueue(u)}else r.taskStatus=s.h.InProgress,this.syncUpdateToRemoteQueue(r)},e.prototype.updateLocalHandle=function(e){var t=this;c.a.getInstance().info1(l.e.Gra_draw_local,e),this.updateOffsetAndScrollHandle();var o=this.getInstanceHandle(s.k.ZegoWhiteboardViewToolText),r=this.getInstanceHandle(s.k.ZegoWhiteboardViewToolLine),i=this.getInstanceHandle(s.k.ZegoWhiteboardViewToolSelector);i.hideImageEditBox(),i.hideSelectBox(),e.forEach((function(e){switch(e.action){case s.a.Delete:t.deleteHandle(e.graphic_id,e.type);break;case s.a.Create:e.type==s.f.BgImage||(t.createHandle(e,o,r),t.updateBoxHandle(e));break;case s.a.Move:t.moveHandle(e,r),t.updateBoxHandle(e);break;case s.a.Update:e.type==s.f.BgImage?t.updateHandle(e,o,r):(t.updateHandle(e,o,r),t.updateBoxHandle(e))}}))},e.prototype.updatePushLocalHandle=function(e,t){var o=this;c.a.getInstance().info1(l.e.Gra_Remote_draw,{graphicList:e,delGraphicList:t,actionMsg:"transValue"}),this.updateOffsetAndScrollHandle(),e.sort((function(e,t){return(e.zorder||0)-(t.zorder||0)})),t.forEach((function(e){return o.deleteHandle(e)}));var i=this.instancesMap[s.k.ZegoWhiteboardViewToolLaser],n=this.instancesMap[s.k.ZegoWhiteboardViewToolText],a=this.instancesMap[s.k.ZegoWhiteboardViewToolLine],u=this.instancesMap[s.k.ZegoWhiteboardViewToolSelector];u&&u.updateSelectorBoxHandle(e,t),e.forEach((function(e){var t,u=e.graphic_id,d=e.type,p=o.graphicList.some((function(t){return u===t.graphic_id&&(e.type!==s.f.RealTime&&(Object.assign(t,e),d===s.f.Image&&Object.assign(t.data,e.data)),!0)}));p||(d===s.f.Image&&(e.oldData=T({},e.data)),o.graphicList.push(e));var h="#"+r.a.reservedPrefix.graphicsBox+u;switch(p=p&&!!o.whiteboardNode.querySelector(h),d){case s.f.Cursor:null===(t=o.customCursor)||void 0===t||t.drawGraphicsHandle(e,!1);break;case s.f.Laser:i.drawGraphicsHandle(e,!1);break;case s.f.Text:p?n.updateGraphicsHandle(e):n.drawGraphicsHandle(e,!1),o.updateBoxHandle(e);break;default:d===s.f.RealTime?o.realTimeHandle(a,e):(p?(d===s.f.Pencil&&e.is_end_draw&&o.graphicExtraMap[u]&&(o.clearRealTimeInterval(u),c.a.getInstance().info1(l.e.Gra_Remote_draw_realtime_end,u)),a.updateGraphicsHandle(e)):a.drawGraphicsHandle(e,s.e.Remote),o.updateBoxHandle(e))}}))},e.prototype.deleteHandle=function(e,t){var o,r,i=this.graphicList.find((function(t){return t.graphic_id==e}));if((null==i?void 0:i.type)==s.f.Cursor&&(null===(o=this.customCursor)||void 0===o||o.deleteCursorElement(e)),t==s.f.BgImage)this.background.updateToLocal(!0).clearBackgroundImage();else{Object(a.o)(this.getBoxHandle(e));var n=this.getGraphicsHandle(e);Object(a.o)("g"===(null==n?void 0:n.tagName)?n.parentNode:n);var c=this.graphicList.findIndex((function(t){return t.graphic_id===e}));if(-1!==c){var l=null===(r=this.graphicExtraMap[e])||void 0===r?void 0:r.realTimeId;l&&clearInterval(l),this.graphicList.splice(c,1)}}},e.prototype.updateBoxHandle=function(e,t){if(e.type===s.f.Laser)return null;var o=this.getBoxInfoByGraphic(e);if(!o)return null;var i=o.x,n=o.y,a=o.width,c=o.height,l=e.type,u=e.graphic_id,d=e.selected,p=e.zorder,h=this.getBoxHandle(u);if(!h){(h=document.createElement("div")).setAttribute("id",""+r.a.reservedPrefix.graphicsBox+u),l===s.f.Text&&(h.style.pointerEvents="initial");var _=null;if(p)for(var f=this.graphicsBoxConNode.querySelectorAll("[data-z]"),g=0;g<f.length;g++)if(+(f[g].getAttribute("data-z")||"")>p){_=f[g];break}this.graphicsBoxConNode.insertBefore(h,_),p&&this.updateGraphicsDomIndex(p)}var m="width:"+a+"px;height:"+c+"px;border:"+(d&&!0!==t?r.a.selectedBorderCss:r.a.unSelectedBorderCss)+";";return"blur"!==t&&(m+="left:"+i+"px;top:"+n+"px;"),h.style.cssText+=m,p&&h.setAttribute("data-z",p+""),h},e.prototype.updateBoxBorder=function(e,t){if(e.type!==s.f.Laser){var o=this.getBoxHandle(e.graphic_id);o&&(o.style.border=e.selected&&!t?r.a.selectedBorderCss:r.a.unSelectedBorderCss)}},e.prototype.updateGraphicsDomIndex=function(e){var t=this,o=Array.from(this.graphicsBoxConNode.querySelectorAll('[data-z="'+e+'"]')).map((function(e){return e.id.replace(/\D/g,"")}));if(o.length>1){var r=Array.from(this.graphicsConNode.querySelectorAll('[data-z="'+e+'"]')),i=r.map((function(e){return e.id.replace(/\D/g,"")}));if(o.join()!==i.join()){var n=r[r.length-1].nextSibling;o.forEach((function(e){t.graphicsConNode.insertBefore(r[i.findIndex((function(t){return t===e}))],n)}))}}},e.prototype.getInstanceHandle=function(e){var t=this.instancesMap[e];if(!t){switch(e){case s.k.ZegoWhiteboardViewToolLaser:t=new d(this);break;case s.k.ZegoWhiteboardViewToolLine:t=new h(this);break;case s.k.ZegoWhiteboardViewToolText:t=new g(this);break;case s.k.ZegoWhiteboardViewToolEraser:t=new m(this);break;case s.k.ZegoWhiteboardViewToolSelector:t=new v(this)}this.instancesMap[e]=t}return t},e.prototype.getUserID=function(){return this.serviceHandle.getUserID()},e.prototype.getUserAuth=function(){return this.serviceHandle.getUserAuth()},e.prototype.getRoomState=function(){return this.serviceHandle.getRoomState()},e.prototype.getBoxHandle=function(e){var t=this.getBoxSelHandle(e);return this.userNode.querySelector(t)},e.prototype.setGraphicsDomZorder=function(e){var t=e.graphic_id,o=e.type,i=e.zorder,n=r.a.reservedPrefix,a=n.textareaCon,c=n.graphicsSvg,l=n.graphicsBox,u=o===s.f.Text?"#"+a+t:"#"+c+t,d=this.whiteboardNode.querySelector(u);d&&i&&d.setAttribute("data-z",i+""),u="#"+l+t,(d=this.whiteboardNode.querySelector(u))&&i&&d.setAttribute("data-z",i+"")},e.prototype.appendGraphicsDomHandle=function(e,t){if(s.f.Laser===t)this.graphicsConNode.appendChild(e);else{var o=+(e.getAttribute("data-z")||"");if(o)for(var i=this.graphicsConNode.querySelectorAll("[data-z]"),n=0;n<i.length;n++)if(+(i[n].getAttribute("data-z")||"")>o)return void this.graphicsConNode.insertBefore(e,i[n]);var a=this.graphicsConNode.querySelector("[id^="+r.a.reservedPrefix.laserCon+"]");this.graphicsConNode.insertBefore(e,a)}},e.prototype.getImageDomHandle=function(e){var t=r.a.reservedPrefix,o=t.graphics,i=t.graphicsBox;return[this.userNode.querySelector("#"+o+e),this.userNode.querySelector("#"+i+e)]},e.prototype.appendImageDomHandle=function(e,t){var o=r.a.reservedPrefix,i=o.graphicsSvg,n=o.graphics,a=o.laserCon,s=o.graphicsBox,c=document.createElementNS("http://www.w3.org/2000/svg","g"),l=document.createElementNS("http://www.w3.org/2000/svg","image");l.id=""+n+e,c.appendChild(l);var u=document.createElementNS("http://www.w3.org/2000/svg","svg");u.id=""+i+e,u.setAttribute("xmlns","http://www.w3.org/2000/svg"),u.setAttribute("version","1.1"),u.appendChild(c);var d=document.createElement("div");if(d.id=""+s+e,t){u.setAttribute("data-z",t+""),d.setAttribute("data-z",t+"");for(var p=this.graphicsConNode.querySelectorAll("[data-z]"),h=0;h<p.length;h++)if(+(p[h].getAttribute("data-z")||"")>t){this.graphicsConNode.insertBefore(u,p[h]);var _=this.graphicsBoxConNode.querySelectorAll("[data-z]")[h];return void this.graphicsBoxConNode.insertBefore(d,_)}}var f=this.graphicsConNode.querySelector("[id ^= "+a+"]");this.graphicsConNode.insertBefore(u,f),this.graphicsBoxConNode.appendChild(d)},e.prototype.resetImageBox=function(){var e=this;this.graphicList.forEach((function(t){if(t.type===s.f.Image){var o=e.getBoxHandle(t.graphic_id),r=t.y+(t.initY||0);o&&Math.abs(Number(o.style.top.replace("px",""))-r)>3&&e.updateBoxHandle(t)}}))},e.prototype.checkMultipointHandle=function(e){return e.touches.length>1},e.prototype.downCommonHandle=function(e){if(window.TouchEvent&&e instanceof TouchEvent){if(this.checkMultipointHandle(e))return!1;"touchstart"!==e.type&&e.preventDefault()}else if(e instanceof MouseEvent&&(e.button||"mouseup"!==e.type&&!e.buttons))return!1;return this.updateOffsetAndScrollHandle(),!0},e.prototype.updateProtoGraphic=function(e){if(e)Object.assign(this.protoGraphic,e);else{var t=r.a.basicState.type;this.protoGraphic=T(T({zorder:0,graphic_id:"",data:[],oldData:"",selected:!1,x:0,y:0,px:0,py:0},r.a.basicState),{type:t,operate_id:"",is_end_draw:!0})}},e.prototype.updateGraphicsDataHandle=function(e){var t=null;switch(this.protoGraphic.type){case s.f.Pencil:(t=this.protoGraphic.data)[t.length-2]===e.clientX&&t[t.length-1]===e.clientY||(t.push(e.clientX),t.push(e.clientY));break;case s.f.Image:(t=this.protoGraphic.data).ex=e.clientX,t.ey=e.clientY;break;default:(t=this.protoGraphic.data).splice(2,2,e.clientX,e.clientY)}},e.prototype.initDrawHandle=function(){this.updateProtoGraphic(),this.updateMousePointsHandle()},e.prototype.getBoxInfoByGraphic=function(e){var t=e.type,o=e.graphic_id,i=this.getGraphicsHandle(o);if(!i)return null;var n=Object(a.j)(e),c=t===s.f.Text||t===s.f.Image?0:e.size||r.a.basicState.size,l=this.viewInfo,u=l.zoom,d=l.offsetPageY,p=l.isScroll,h=r.a.boxBorderWidth,_=i.getBoundingClientRect(),f=_.left,g=_.top,m=_.width,y=_.height;!p&&g>d&&this.isReloading&&(g-=d);var b=this.transLocationHandle({clientX:f,clientY:g},n),v=b.clientX,w=b.clientY;return{x:f=Math.floor(v-h-c/2),y:g=Math.floor(w-h-c/2),width:m=Math.ceil(m/u+c+h),height:y=Math.ceil(y/u+c+h)}},e.prototype.getMouseStartPoint=function(e,t){var o;if(e instanceof MouseEvent){var r=e,i=r.clientX,n=r.clientY;o=this.transLocationHandle({clientX:i,clientY:n},t)}else{var a=e.touches[0];i=a.clientX,n=a.clientY;o=this.transLocationHandle({clientX:i,clientY:n},t)}return o},e.prototype.getMouseChangedPoint=function(e,t){var o;if(e instanceof MouseEvent){var r=e,i=r.clientX,n=r.clientY;o=this.transLocationHandle({clientX:i,clientY:n},t)}else{var a=e.changedTouches[0];i=a.clientX,n=a.clientY;o=this.transLocationHandle({clientX:i,clientY:n},t)}return o},e.prototype.getWhiteboardNodeRect=function(){var e=this.offsetData,t=e.offsetLeft,o=e.offsetTop,r=this.viewInfo,i=r.zoom,n=r.viewWidth,a=r.viewHeight;return i>1?{left:t,top:o,right:t+n,bottom:o+a}:this.whiteboardNode.getBoundingClientRect()},e.prototype.isTouchLeaveWhenMove=function(e,t){if(r.a.isTouch&&window.TouchEvent&&e instanceof TouchEvent){var o=e.changedTouches[0],i=o.clientX,n=o.clientY,a=t.left,s=t.right,c=t.top,l=t.bottom;return i<=a||i>=s||n<=c||n>=l}return!1},e.prototype.setDataToGraphicList=function(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];for(var r=0,i=this.graphicList.length;r<i;r++){var n=this.graphicList[r];if(e===n.graphic_id){Object.assign.apply(Object,x([n],t));break}}},e.prototype.getDataFromGraphicList=function(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];for(var r={},i=function(o,i){var a=n.graphicList[o];if(e===a.graphic_id)return t.forEach((function(e){r[e]=a[e]})),"break"},n=this,a=0,s=this.graphicList.length;a<s;a++){var c=i(a,s);if("break"===c)break}return r},e.prototype.filterExistingHandle=function(e){var t=this;return e.filter((function(e){var o=e.graphic_id;return e.action===s.a.Create||t.graphicList.some((function(e){return e.graphic_id===o}))}))},e.prototype.clearLocalHandle=function(){var e;this.graphicTaskList.length=0;var t=r.a.basicState.type;if(t!==s.k.ZegoWhiteboardViewToolClick&&!t){var o=this.getInstanceHandle(t===s.k.ZegoWhiteboardViewToolPen||t===s.k.ZegoWhiteboardViewToolRect||t===s.k.ZegoWhiteboardViewToolEllipse||t===s.k.ZegoWhitebaordViewToolCustomImage?s.k.ZegoWhiteboardViewToolLine:t);o.removeEventsHandle(),o.bindEventsHandle()}this.clearUndoData=JSON.parse(JSON.stringify(this.graphicList)),this.undoList.length=0,this.redoList.length=0;var i=this.getInstanceHandle(s.k.ZegoWhiteboardViewToolLaser),n=i.findLaserHandle(),a=this.graphicList.find((function(e){return e.type===s.f.BgImage})),c=this.graphicList.filter((function(e){return e.type===s.f.Cursor}));this.graphicList.length=0,a&&this.graphicList.push(a),(e=this.graphicList).push.apply(e,c),this.graphicsConNode.innerHTML="",n&&i.addLaserHandle(n)},e.prototype.reverseZoomHandle=function(e){var t=this;if(e===s.k.ZegoWhiteboardViewToolLaser){var o=this.viewInfo.zoom;this.batchGetGraphicsHandle(this.graphicsConNode,r.a.reservedPrefix.laserCon).forEach((function(e){var r=e.style.transform,i=t.getTranslateXY(r),n=i.x,a=i.y;e.style.transform="translate("+n+"px, "+a+"px) scale("+1/o+")"}))}},e.prototype.getGraphicIsEndDraw=function(e){return this.serviceHandle.getGraphicIsEndDraw(e)},e.prototype.clearPage=function(e){this.enableDraw&&(this.updateGraphicPage(),this.graphicList.forEach((function(t){var o;t.selected=null===(o=t.page)||void 0===o?void 0:o.includes(e)})),this.deleteSelectedGraphics(s.c.ClearPage))},e.prototype.deleteSelectedGraphics=function(e){var t=this;if(this.enableDraw){var o=this.getUserID(),r=this.getUserAuth().delete,i=0,u=0,d=this.graphicList.filter((function(e){var n=!!e.selected&&e.type!==s.f.BgImage&&t.getGraphicIsEndDraw(e.graphic_id),a=r||o===e.creator_id;return n&&i++,n&&a&&u++,n&&a}));if(i!==u&&Object(n.a)(s.j.ZegoWhiteboardViewErrorNoAuthDeleteGraphic),d.length){var p=this.getInstanceHandle(s.k.ZegoWhiteboardViewToolSelector);p.hideImageEditBox(),p.hideSelectBox(),d.forEach((function(e){e.is_end_draw=!0,e.operate_id=Object(a.d)(),t.deleteHandle(e.graphic_id)})),c.a.getInstance().info1(l.e.Gra_DeleteSelectedGraphics,{action:e,page:this.viewInfo.page,params:d.map((function(e){return e.graphic_id+","+e.page}))}),this.updateToRemoteNewHandle(d,s.a.Delete)}}},e.prototype.updateGraphicPage=function(){var e=this,t=this.graphicList.filter((function(t){return e.graphicsBoxConNode.querySelector(e.getBoxSelHandle(t.graphic_id))}));this.viewInfo.vpageAspecCache?t.forEach((function(t){var o=e.graphicsBoxConNode.querySelector(e.getBoxSelHandle(t.graphic_id)),r=o||{offsetTop:0,offsetHeight:0},i=r.offsetTop,n=r.offsetHeight,a=e.getPageByAspec(i,i+n);t.page=a||[e.viewInfo.page||1]})):!this.serviceHandle.getFileInfo(this.whiteboardID)&&this.conNode?t.forEach((function(t){var o=e.graphicsBoxConNode.querySelector(e.getBoxSelHandle(t.graphic_id)),r=[];if(1===e.viewInfo.direction){var i=o||{offsetLeft:0,offsetWidth:0},n=i.offsetLeft,a=i.offsetWidth;r=e.getPageByViewInfo(n,n+a,e.viewInfo.viewWidth)}else{var s=o||{offsetTop:0,offsetHeight:0},c=s.offsetTop,l=s.offsetHeight;r=e.getPageByViewInfo(c,c+l,e.viewInfo.viewHeight)}t.page=r||[e.viewInfo.page||1]})):this.graphicList.forEach((function(t){t.page=[e.viewInfo.page||1]}))},e.prototype.getPageByAspec=function(e,t){var o=this.viewInfo.vpageAspecCache;if(!o.hasOwnProperty("2"))return[1];for(var r=o.vs,i=o[r].h;i<=e&&o[r+1];)i+=o[r+1].h,r++;for(var n=r;i<=t&&o[n+1];)i+=o[n+1].h,n++;if(n===r)return[o[r].p];if(n-r>1){var a=new Array(n-r-1).fill(null);return a=a.map((function(e,t){return o[r+t+1].p})),x([o[r].p],a,[o[n].p])}return[o[r].p,o[n].p]},e.prototype.getPageByViewInfo=function(e,t,o){var r=Math.floor(e/o)+1,i=Math.floor(t/o)+1;if(i===r)return[r];if(i-r>1){var n=new Array(i-r-1).fill(null).map((function(e,t){return r+t+1}));return x([r],n,[i])}return[r,i]},e.prototype.toolAddEL=function(e,t,o){e.addEventListener(t,o);var i=r.a.mouseEvents[t];i&&e.addEventListener(i,o)},e.prototype.toolRmEl=function(e,t,o){e.removeEventListener(t,o);var i=r.a.mouseEvents[t];i&&e.removeEventListener(i,o)},e.prototype.updateOffsetPage=function(){var e=this.viewInfo,t=e.page,o=e.viewWidth,r=e.viewHeight,i=e.direction;e.isScroll||(i===s.p.Horizontal?this.viewInfo.offsetPageX=(t-1)*o:this.viewInfo.offsetPageY=(t-1)*r)},e}(),A=o(33),D=function(e,t,o,r){return new(o||(o=Promise))((function(i,n){function a(e){try{c(r.next(e))}catch(e){n(e)}}function s(e){try{c(r.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},M=function(e,t){var o,r,i,n,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(n){return function(s){return function(n){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,r&&(i=2&n[0]?r.return:n[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,n[1])).done)return i;switch(r=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,r=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==n[0]&&2!==n[0])){a=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){a.label=n[1];break}if(6===n[0]&&a.label<i[1]){a.label=i[1],i=n;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(n);break}i[2]&&a.ops.pop(),a.trys.pop();continue}n=t.call(e,a)}catch(e){n=[6,e],r=0}finally{o=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,s])}}},L=function(){for(var e=0,t=0,o=arguments.length;t<o;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<o;t++)for(var n=arguments[t],a=0,s=n.length;a<s;a++,i++)r[i]=n[a];return r},N=function(){function e(e,t){this.snapshotResult={image:""},this.canvasRatio=window.devicePixelRatio||1,this.toolInstance=e,this.backgroundInstance=t,this.file=this.toolInstance.serviceHandle.getFileInfo(this.toolInstance.whiteboardID),this.snapshotId=String(Date.now())}return e.prototype.snapshot=function(e){var t=this;return new Promise((function(o,r){return D(t,void 0,void 0,(function(){var t=this;return M(this,(function(r){return e&&(this.snapshotResult.userData=e),this.createCtx(),this.setWbBgColor(),this.setWbBgImage().then((function(){return D(t,void 0,void 0,(function(){var e,t,r;return M(this,(function(i){switch(i.label){case 0:return this.file&&(e={action:A.b.Snapshot,ctx:this.docsCtx,snapshotId:this.snapshotId},this.toolInstance.conNode.dispatchEvent(new CustomEvent(A.a.Whiteboard,{detail:e}))),[4,this.wbSnapshot()];case 1:return i.sent(),(t=null===(r=this.file)||void 0===r?void 0:r.fileType)===s.d.PPTH5||t===s.d.CUSTOM_H5?this.snapshotResolve=o:(this.snapshotResult.image=this.mergeCanvas(),o(this.snapshotResult)),[2]}}))}))})),[2]}))}))}))},e.prototype.getH5Snapshot=function(e){var t=this,o=this.toolInstance.viewInfo,r=o.viewWidth,i=o.viewHeight,n=new Image;n.src=e,n.onload=function(){t.docsCtx.drawImage(n,0,0,r,i),t.snapshotResult.image=t.mergeCanvas(),t.snapshotResolve(t.snapshotResult)}},e.prototype.mergeCanvas=function(){try{var e=this.toolInstance.viewInfo,t=e.viewWidth,o=e.viewHeight,r=document.createElement("canvas");r.width=t*this.canvasRatio,r.height=o*this.canvasRatio;var i=r.getContext("2d");return i.scale(this.canvasRatio,this.canvasRatio),i.drawImage(this.docsCanvas,0,0,t,o),i.drawImage(this.wbCanvas,0,0,t,o),r.toDataURL("image/png",1)}catch(e){return c.a.getInstance().error1(l.e.API_snapshot,{func:"mergeCanvas",error:e instanceof Error&&e.message}),""}},e.prototype.createCtx=function(){var e=this.toolInstance.viewInfo,t=e.viewWidth,o=e.viewHeight;this.wbCanvas=document.createElement("canvas"),this.wbCanvas.width=t*this.canvasRatio,this.wbCanvas.height=o*this.canvasRatio,this.wbCtx=this.wbCanvas.getContext("2d"),this.wbCtx.scale(this.canvasRatio,this.canvasRatio),this.docsCanvas=document.createElement("canvas"),this.docsCanvas.width=t*this.canvasRatio,this.docsCanvas.height=o*this.canvasRatio,this.docsCtx=this.docsCanvas.getContext("2d"),this.docsCtx.scale(this.canvasRatio,this.canvasRatio)},e.containImg=function(e,t,o,r,i,n,a){var s=e,c=t,l=o,u=r;return i>n?(u=n/i*l,i/n<=o/r&&(l=i/n*r)):i<=n&&(l=i/n*u),"top"==a?(c=0,s=e+(o-l)/2):"bottom"==a?(c=t+(r-u),s=e+(o-l)/2):"left"==a?(s=0,c=t+(r-u)/2):"right"==a?(s=e+(o-l),c=t+(r-u)/2):"center"==a&&(s=e+(o-l)/2,c=t+(r-u)/2),{dx:s,dy:c,dWidth:l,dHeight:u}},e.prototype.setWbBgColor=function(){var e=this.file?r.a.basicExtraState.defaultFileBgColor:r.a.basicState.bgColor;this.setBgColor(this.wbCtx,e)},e.prototype.setWbBgImage=function(){var t=this;return new Promise((function(o){var r=t.backgroundInstance.backgroundInfo,i=r.image,n=r.pos,a=t.toolInstance.viewInfo,s=a.viewWidth,c=a.height;if(i){var l=new Image;l.setAttribute("crossOrigin","Anonymous"),l.onload=function(){var r=e.containImg(0,0,s,c,l.width,l.height,n);t.wbCtx.drawImage(l,r.dx,r.dy,r.dWidth,r.dHeight),o()},l.src=i}else o()}))},e.prototype.setBgColor=function(e,t){var o=this.toolInstance.viewInfo,r=o.viewWidth,i=o.viewHeight;e.fillStyle=t,e.fillRect(0,0,r,i)},e.prototype.wbSnapshot=function(){return D(this,void 0,void 0,(function(){var e,t,o,r,i;return M(this,(function(n){switch(n.label){case 0:if(!(e=this.sortGraphics()))return[2];t=0,o=e,n.label=1;case 1:if(!(t<o.length))return[3,9];switch(r=o[t],i=this.getCorrectData(r),r.type){case s.f.Pencil:case s.f.Line:return[3,2];case s.f.Rect:return[3,3];case s.f.Ellipse:return[3,4];case s.f.Text:return[3,5];case s.f.Image:return[3,6]}return[3,8];case 2:return this.renderPencil(r,this.wbCtx,i),[3,8];case 3:return this.renderRect(r,this.wbCtx,i),[3,8];case 4:return this.renderEllipse(r,this.wbCtx,i),[3,8];case 5:return this.renderText(r,this.wbCtx,i),[3,8];case 6:return[4,this.renderImage(r,this.wbCtx,i)];case 7:n.sent(),n.label=8;case 8:return t++,[3,1];case 9:return[2]}}))}))},e.prototype.renderPencil=function(e,t,o){var r=Object(a.s)(o);this.setCtxStyle(e,t),t.beginPath(),t.moveTo(r.moveTo[0],r.moveTo[1]),r.path.forEach((function(e){t.bezierCurveTo(e[0],e[1],e[2],e[3],e[4],e[5])})),t.stroke()},e.prototype.renderRect=function(e,t,o){var r=o[0],i=o[1],n=o[2]-r,a=o[3]-i;this.setCtxStyle(e,t),t.beginPath(),t.strokeRect(r,i,n,a)},e.prototype.renderEllipse=function(e,t,o){var r=o[0],i=o[1],n=(o[2]-r)/2,a=(o[3]-i)/2,s=r+n,c=i+a,l=n>a?Math.abs(n):Math.abs(a);this.setCtxStyle(e,t),t.beginPath(),t.save(),t.translate(s,c),t.scale(n/l,a/l),t.arc(0,0,l,0,2*Math.PI),t.restore(),t.stroke()},e.prototype.renderText=function(e,t,o){this.setCtxStyle(e,t);var i=o.split(","),n=i[0],a=i[1],s=i[2],c=this.toolInstance.getGraphicsHandle(e.graphic_id),l=this.getComputedFs(c.querySelector("pre")||c,"fontSize"),u=this.getComputedLh(c.querySelector("pre")||c,"lineHeight",l),d=(u-1)/2,p=s.split("\n"),h=r.a.textareaHPadding,_=r.a.textareaConBorderWidth;p.forEach((function(e,o){var r=+n+h+_,i=+a+l*u*o+l*d*1+_;t.fillText(""+e,r,i)}))},e.prototype.getComputedStyle=function(e,t,o){var r=window.getComputedStyle(e)[t];return o?o(r):r},e.prototype.getComputedLh=function(e,t,o){return this.getComputedStyle(e,t,(function(e){var t=1.2;return e.includes("px")&&(t=+e.replace(/px/,"")/o),t}))},e.prototype.getComputedFs=function(e,t){return this.getComputedStyle(e,t,(function(e){var t=12;return e.includes("px")&&(t=+e.replace(/px/,"")),t}))},e.prototype.renderImage=function(e,t,o){var i=this;return new Promise((function(n){var a=o[0],s=o[1],u=o[2],d=o[3],p=u-a,h=d-s,_=i.toolInstance.graphicsConNode.querySelector("#"+r.a.reservedPrefix.graphics+e.graphic_id);if("image"===(null==_?void 0:_.nodeName)){var f=new Image;f.onload=function(){t.drawImage(f,a,s,p,h),n()},f.onerror=function(){n()},f.setAttribute("crossOrigin","anonymous"),f.src=_.href.baseVal}else{if(null==_?void 0:_.nodeName){var g=new XMLSerializer;c.a.getInstance().error1(l.e.API_snapshot,{func:"renderImage",error:g.serializeToString(_)})}else c.a.getInstance().error1(l.e.API_snapshot,{func:"renderImage",error:JSON.stringify(_)});n()}}))},e.prototype.setCtxStyle=function(e,t){var o=this.toolInstance.viewInfo.viewWidth,r=Object(a.c)(e.size,s.f.Pencil,o,!1);if(t.strokeStyle=e.color,t.fillStyle=e.color,e.type!==s.f.Text)t.lineWidth=r,t.lineJoin="round",t.lineCap="round";else{var i=this.toolInstance.getGraphicsHandle(e.graphic_id),n=this.getComputedFs(i.querySelector("pre")||i,"fontSize")+"px",c="string"==typeof e.attributes?JSON.parse(e.attributes):{},l=c.bold?"bold":"",u=c.italic?"italic":"",d=window.getComputedStyle(i.querySelector("pre")||i).fontFamily.replace(/"/g,"");t.textBaseline="hanging",t.font=u+" "+l+" "+n+" "+d+" "}},e.prototype.sortGraphics=function(){var e=this;return JSON.parse(JSON.stringify(this.toolInstance.graphicList)).filter((function(t){return e.toolInstance.getGraphicsHandle(t.graphic_id)})).sort((function(e,t){return(e.zorder||0)-(t.zorder||0)}))},e.prototype.getCorrectData=function(e){var t=e.type,o=e.data;switch(t){case s.f.Image:var r=e.data;o=this.correctData([r.x,r.y,r.ex,r.ey]);break;case s.f.Pencil:case s.f.Line:case s.f.Rect:case s.f.Ellipse:var i=this.correctData(e.data);o=this.getTransData(e,i);break;case s.f.Text:var n=e.data.split(","),a=n[2],c=this.correctData([+n[0],+n[1]]),l=this.getTransData(e,L(c));o=L(l,[a]).join(",")}return o},e.prototype.correctData=function(e){var t,o=this.toolInstance.viewInfo,r=o.direction,i=o.page,n=o.viewWidth,a=o.viewHeight,c=o.isScroll,l=o.zoom;if(r===s.p.Center)return e;if(r===s.p.Horizontal&&i)t=e.map((function(e,t){return t%2==0&&(e-=(i-1)*n),e}));else if(r===s.p.Vertical&&i){var u=this.toolInstance.whiteboardNode.parentNode.scrollTop;t=e.map((function(e,t){return t%2==1&&(e-=c?u/l:(i-1)*a),e}))}return t},e.prototype.getTransData=function(e,t){var o=e.x,r=e.y;return t.map((function(e,t){return e+=t%2==0?o:r}))},e}(),j=o(54);function q(e){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var B=function(){return(B=Object.assign||function(e){for(var t,o=1,r=arguments.length;o<r;o++)for(var i in t=arguments[o])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},R=function(e,t,o,r){return new(o||(o=Promise))((function(i,n){function a(e){try{c(r.next(e))}catch(e){n(e)}}function s(e){try{c(r.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},H=function(e,t){var o,r,i,n,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(n){return function(s){return function(n){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,r&&(i=2&n[0]?r.return:n[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,n[1])).done)return i;switch(r=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,r=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==n[0]&&2!==n[0])){a=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){a.label=n[1];break}if(6===n[0]&&a.label<i[1]){a.label=i[1],i=n;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(n);break}i[2]&&a.ops.pop(),a.trys.pop();continue}n=t.call(e,a)}catch(e){n=[6,e],r=0}finally{o=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,s])}}},V=function(){function e(e,t){var o=this;this.operationModes=Object.freeze({none:!1,scroll:!0,draw:!0,scale:!0}),this.canDraw=!0,this.activited=!1,this.viewInfo={},this.scaleInfo={x:-1,y:-1,syncTimer:0},this.snapshotInstances={},this.handleDragStart=function(e){if(o.operationModes.scale&&o.toolInstance.getUserAuth().scale&&(o.viewInfo.zoomX=o.viewInfo.zoomY=0,o.viewInfo.zoom>1&&!o.canDraw&&o.parentDom)){var t=e instanceof MouseEvent?e:e.changedTouches[0],r=t.clientX,i=t.clientY;o.viewInfo.zoomX=r,o.viewInfo.zoomY=i,c.a.getInstance().info1(l.e.HandleDragStart,{clientX:r,clientY:i})}},this.handleDragEnd=function(e){o.handleDragMove(e,!0)},this.handleDragMove=function(e,t){if(o.operationModes.scale&&o.toolInstance.getUserAuth().scale&&o.viewInfo.zoom>1&&o.viewInfo.zoomX&&!o.canDraw){if(e instanceof MouseEvent&&!t&&e.buttons<1)return;"touchmove"===e.type&&e.preventDefault(),o.dragPage(e,!!t)}},this.preventDefaultDragEvent=function(e){e.preventDefault()},this.docsviewEventCallback=function(e){var t=e.detail,i=t.action;if(i!==A.b.H5Snapshot&&i!==A.b.DocsAspect&&c.a.getInstance().info1(l.e.Zegoeventdocs,{data:t}),i===A.b.Page)o.handleDocsPageEvent(t);else if(i===A.b.Animation)o.serviceHandle.appendH5Extra(o.whiteboardID,t.data);else if(i===A.b.DocsAspect)o.viewInfo.vpageAspecCache=t.data;else if(i===A.b.H5Snapshot)o.getH5SnapshotResult(t);else if(i===A.b.ReloadView)o.reinitView();else if(i===A.b.WbError){if(!o.serviceHandle.isPlayback&&(1e3==t.data||1001==t.data))return;Object(n.a)(t.data)}else if(i===A.b.Step)r.a.basicState.type===s.k.ZegoWhiteboardViewToolSelector&&o.hideSelectBox();else if(i===A.b.SyncDrag){var a=t,u=a.x,d=a.y,p=a.notify;o.viewInfo.isScroll||(o.viewInfo.zoomTX=u,o.viewInfo.zoomTY=d),p&&o.emitScaleFactor(u,d)}},this.whiteboardID=e,this.serviceHandle=t,this.bindEventUpdate()}return e.prototype.bindEventUpdate=function(){var e=this;i.f.on(i.d.SuperDocsLogoutRoom,(function(){e.clearEvent()}))},e.prototype.setWhiteboardTransform=function(e,t,o){o||(this.viewInfo.zoomTX=e,this.viewInfo.zoomTY=t);var r=this.viewInfo,i=r.viewWidth,n=r.viewHeight,a=r.zoom,c=r.direction,l=this.viewInfo.page||1;c===s.p.Horizontal?e-=(l-1)*i*a:t-=(l-1)*n*a,this.whiteboardNode.style.cssText+="transform:translate("+e+"px,"+t+"px) scale("+a+");"},e.prototype.dragPage=function(e,t){var o=this.viewInfo,r=o.zoom,i=o.zoomTX,n=o.zoomTY,a=o.zoomX,s=o.zoomY,u=o.viewWidth,d=o.viewHeight,p=e instanceof MouseEvent?e:e.changedTouches[0],h=i+p.clientX-a,_=n+p.clientY-s,f=u*(1-r);h>0?h=0:h<f&&(h=f),f=d*(1-r),_>0?_=0:_<f&&(_=f),t&&(this.viewInfo.zoomX=0,this.viewInfo.zoomY=0,this.emitScaleFactor(h,_)),this.setWhiteboardTransform(h,_,!t),c.a.getInstance().info1(l.e.DragPage,{x:h,y:_,end:!t})},e.prototype.initDragEvents=function(){this.viewInfo.hasOwnProperty("offsetPageX")||(this.viewInfo.offsetPageX=0,this.viewInfo.offsetPageY=0,this.viewInfo.zoom=1,this.viewInfo.zoomX=0,this.viewInfo.zoomY=0,this.viewInfo.zoomTX=0,this.viewInfo.zoomTY=0),this.parentDom&&!this.getFileInfo()&&(this.parentDom.addEventListener("mousedown",this.handleDragStart),this.parentDom.addEventListener("mousemove",this.handleDragMove),this.parentDom.addEventListener("mouseup",this.handleDragEnd),this.parentDom.addEventListener("mouseleave",this.handleDragEnd),this.parentDom.addEventListener("touchstart",this.handleDragStart),this.parentDom.addEventListener("touchmove",this.handleDragMove),this.parentDom.addEventListener("touchend",this.handleDragEnd),this.parentDom.addEventListener("touchcancel",this.handleDragEnd))},e.prototype.updateBindEvents=function(){this.toolInstance.removeEventsHandle(s.k.ZegoWhiteboardViewToolLaser),this.toolInstance.removeEventsHandle(s.k.ZegoWhiteboardViewToolLine),this.toolInstance.removeEventsHandle(s.k.ZegoWhiteboardViewToolText),this.toolInstance.removeEventsHandle(s.k.ZegoWhiteboardViewToolSelector),this.toolInstance.removeEventsHandle(s.k.ZegoWhiteboardViewToolEraser),this.toolInstance.bindCursorEventsHandle();var e=r.a.basicState.type;switch(e){case s.k.ZegoWhiteboardViewToolPen:case s.k.ZegoWhiteboardViewToolLine:case s.k.ZegoWhiteboardViewToolEllipse:case s.k.ZegoWhiteboardViewToolRect:case s.k.ZegoWhitebaordViewToolCustomImage:this.toolInstance.bindEventsHandle(s.k.ZegoWhiteboardViewToolLine);break;case s.k.ZegoWhiteboardViewToolLaser:case s.k.ZegoWhiteboardViewToolText:this.toolInstance.bindEventsHandle(e);break;case s.k.ZegoWhiteboardViewToolSelector:case s.k.ZegoWhiteboardViewToolEraser:this.toolInstance.getInstanceHandle(e),this.toolInstance.bindEventsHandle(e)}},e.prototype.initToolHandle=function(){this.toolInstance?(this.toolInstance.zoomNode=this.zoomNode,this.toolInstance.conNode=this.parentDom,this.toolInstance.graphicsConNode=this.graphicsConNode,this.toolInstance.whiteboardNode=this.whiteboardNode,this.toolInstance.graphicsBoxConNode=this.graphicsBoxConNode,this.penetrateEventHandle(r.a.basicState.type),this.getUniqueID()?this.setToolType(r.a.basicState.type):this.updateBindEvents()):(this.toolInstance=new C({whiteboardID:this.whiteboardID,zoomNode:this.zoomNode,conNode:this.parentDom,graphicsConNode:this.graphicsConNode,whiteboardNode:this.whiteboardNode,graphicsBoxConNode:this.graphicsBoxConNode,serviceHandle:this.serviceHandle,viewInfo:this.viewInfo}),this.toolInstance.getInstanceHandle(s.k.ZegoWhiteboardViewToolLaser),this.toolInstance.getInstanceHandle(s.k.ZegoWhiteboardViewToolLine),this.toolInstance.getInstanceHandle(s.k.ZegoWhiteboardViewToolText),this.setToolType(r.a.basicState.type))},e.prototype.updateStateSizeHandle=function(){var e=this.viewInfo.viewWidth,t=r.a.basicState,o=t.size,i=t.fontSize;r.a.basicExtraState.drawSize=Object(a.c)(o,s.f.Line,e,!1),r.a.basicExtraState.drawFontSize=Object(a.c)(i,s.f.Text,e,!1)},e.prototype.getDocsViewAspect=function(e,t,o,r){var i=e.firstChild;if(i){var n=t.fileType,a="0"==e.getAttribute("data-mode"),c=Number(e.getAttribute("data-page")),l=i.clientWidth,u=i.clientHeight;if(l&&u||(l=+i.style.width.replace("px",""),u=+i.style.height.replace("px","")),n===s.d.PPTH5||n===s.d.CUSTOM_H5){var d=e.previousElementSibling;d&&(d.style.zIndex="0")}var p=document.getElementById(this.viewInfo.root),h=p.clientWidth,_=p.clientHeight,f=a&&u>r;this.updateViewInfo({isScroll:a,isOriginScroll:f,direction:s.p.Vertical,pageCount:c,width:l,height:u,viewWidth:o,viewHeight:r,page:this.viewInfo.page||1,zoom:this.viewInfo.zoom||1,parentWidth:h,parentHeight:_})}return{x:0,y:0,width:this.viewInfo.viewWidth,height:this.viewInfo.viewHeight}},e.prototype.getWhiteboardAspect=function(e,t,o){var r=this.getAspectRatio().split(":").map((function(e){return+e})),i=r[0],n=r[1];if(o){var a=this.viewInfo.pageCount,c=this.getWhiteboardLayout(e,t,i/a,n),l={parentWidth:e,parentHeight:t,width:c.width*a,height:c.height,viewWidth:c.width,viewHeight:c.height};return this.updateViewInfo(l),c}var u=this.serviceHandle.getPageCount(this.whiteboardID),d={zoom:1,page:1,pageCount:u,direction:u>1?s.p.Horizontal:s.p.Center,parentWidth:e,parentHeight:t},p=this.getWhiteboardLayout(e,t,i/u,n);return d.width=p.width*u,d.height=p.height,d.viewWidth=p.width,d.viewHeight=p.height,this.updateViewInfo(d),p},e.prototype.getWhiteboardLayout=function(e,t,o,r){var i=e,n=r*i/o;return(n>t||Math.abs(n-t)<=1)&&(i=t*e/n|0,n=t),{x:(e-i)/2,y:(t-(n|=0))/2,width:i,height:n}},e.prototype.checkParentSize=function(e,t){if(e<=0||t<=0){var o=Object(n.b)(s.j.ZegoWhiteboardViewErrorViewParentNotExist);throw i.f.emit(i.c.Error,o),new Error("无法获取容器宽高")}},e.prototype.createModule=function(e){var t=this;e&&this.toolInstance&&this.stopLocalDrawHandle(this.serviceHandle.getScrollPercent(this.whiteboardID).verticalPercent);var o=this.getFileInfo(),i=document.getElementById(this.viewInfo.parent);o?this.viewInfo.root=i.parentNode.parentNode.id:(this.viewInfo.root=this.viewInfo.parent,i.style.cssText+="position:relative;display:inherit!important;");var n=i.clientWidth,c=i.clientHeight;n&&c||(n=+i.style.width.replace("px",""),c=+i.style.height.replace("px","")),this.checkParentSize(n,c);var l=e&&!o?{x:this.viewInfo.zoomTX/this.viewInfo.viewWidth,y:this.viewInfo.zoomTY/this.viewInfo.viewHeight}:{x:0,y:0},u=o?this.getDocsViewAspect(i,o,n,c):this.getWhiteboardAspect(n,c,e),d=u.x,p=u.y,h=r.a.reservedPrefix,_=h.whiteboardZoom,f=h.whiteboardCon,g=h.whiteboard,m=h.boxContainer,y=h.graphicsContainer,b=document.createDocumentFragment();[y,m].forEach((function(e){var o=document.createElement("div");o.id=""+e+t.whiteboardID,b.appendChild(o)}));var v=Object(a.g)(b);this.graphicsConNode=v[0],this.graphicsBoxConNode=v[1],this.createGraphicsBox();var w=this.viewInfo,S=w.width,I=w.height,E=w.viewWidth,O=w.viewHeight;if(this.whiteboardNode=document.createElement("div"),this.whiteboardNode.id=""+g+this.whiteboardID,this.whiteboardNode.style.cssText+="width:"+S+"px;height:"+I+"px;",this.whiteboardNode.appendChild(b),o)this.parentDom=i,this.zoomNode=i.parentNode,i.innerHTML="",i.appendChild(this.whiteboardNode),this.handleDocsviewEvent(i);else{var P="left:"+d+"px;top:"+p+"px;width:"+E+"px;height:"+O+"px;overflow:hidden;";if(this.parentDom=i.querySelector("#"+f+this.whiteboardID),e&&this.parentDom)this.parentDom.innerHTML="",this.parentDom.style.cssText+=P,this.parentDom.appendChild(this.whiteboardNode),this.setWhiteboardTransform(l.x*E|0,l.y*O|0);else{var k=document.createElement("div");k.id=""+_+this.whiteboardID,this.zoomNode=k;var T=document.createElement("div");T.id=""+f+this.whiteboardID,T.style.cssText=P,T.appendChild(this.whiteboardNode),k.appendChild(T),i.appendChild(k),this.parentDom=T}}r.a.basicState.type!==s.k.ZegoWhiteboardViewToolText&&(this.parentDom.style.userSelect="none"),this.parentDom.addEventListener("dragenter",this.preventDefaultDragEvent),this.serviceHandle.setViewSize(this.whiteboardID,E,O),this.serviceHandle.setSize(this.whiteboardID,S,I)},e.prototype.activitView=function(){var e;if(this.zoomNode){var t=(null===(e=this.getFileInfo())||void 0===e?void 0:e.fileID)||"",o=document.getElementById(this.viewInfo.root);if(o){var i=this.zoomNode.id;Array.from(Object(a.g)(o)).forEach((function(e){e.style.display=e.id===i?"block":"none"}))}var n=t?r.a.basicExtraState.defaultFileBgColor:r.a.basicState.bgColor;this.toolInstance.background.setBackgroundColor(n),this.setDragStyle(this.getToolType()||0)}},e.prototype.updateViewInfo=function(e){Object.assign(this.viewInfo,e)},e.prototype.isChangeStepInnerPage=function(e){var t,o=null===(t=this.getFileInfo())||void 0===t?void 0:t.fileType;if(o===s.d.PPTH5||o===s.d.CUSTOM_H5){var r=this.viewInfo,i=r.page,n=r.pageCount;return i===Math.min(Math.round(e*n)+1,n)}return!1},e.prototype.stopLocalDrawHandle=function(e){var t;try{var o=r.a.basicState.type,i=s.k.ZegoWhiteboardViewToolLaser,n=s.k.ZegoWhiteboardViewToolSelector,a=s.k.ZegoWhiteboardViewToolText,c=this.isChangeStepInnerPage(e);switch(o){case i:var l=this.toolInstance.getInstanceHandle(i);!c&&l&&l.pushActualPlaceHandle();break;case n:var u=this.toolInstance.getInstanceHandle(n);if(!c&&u){var d=document.activeElement;d&&d.id&&this.whiteboardNode.querySelector("#"+d.id)&&"TEXTAREA"===d.tagName?d.blur():(this.toolInstance.updateOffsetAndScrollHandle(),u.mouseupHandle(),u.hideImageEditBox(),u.hideSelectBox())}break;case a:var p=document.activeElement;!c&&p&&p.id&&this.whiteboardNode.querySelector("#"+p.id)&&"TEXTAREA"===p.tagName&&p.blur();break;case s.k.ZegoWhiteboardViewToolPen:var h=this.toolInstance.getInstanceHandle(s.k.ZegoWhiteboardViewToolLine);!c&&h&&(this.toolInstance.updateOffsetAndScrollHandle(),h.mouseupHandle(),null===(t=this.toolInstance.customCursor)||void 0===t||t.pushActualPlaceHandle());break;case s.k.ZegoWhiteboardViewToolRect:case s.k.ZegoWhiteboardViewToolLine:case s.k.ZegoWhiteboardViewToolEllipse:case s.k.ZegoWhitebaordViewToolCustomImage:var _=this.toolInstance.getInstanceHandle(s.k.ZegoWhiteboardViewToolLine);!c&&_&&(this.toolInstance.updateOffsetAndScrollHandle(),_.mouseupHandle())}this.toolInstance.resetImageBox()}catch(e){}},e.prototype.setClassNameHandle=function(e){var t,o=r.a.reservedPrefix,i=o.whiteboard,n=o.whiteboardCon,a=o.whiteboardZoom;null===(t=this.zoomNode.parentNode)||void 0===t||t.querySelectorAll("[id^="+i+"]").forEach((function(t){-1===t.id.indexOf(""+n)&&-1===t.id.indexOf(""+a)&&(t.className=s.k[e]||"")}))},e.prototype.penetrateEventHandle=function(e){var t,o=null===(t=this.getFileInfo())||void 0===t?void 0:t.fileType;if((o===s.d.PPTH5||o===s.d.CUSTOM_H5)&&this.parentDom){var r=this.operationModes.none||e!==s.k.ZegoWhiteboardViewToolClick?"initial":"none";this.parentDom.style.pointerEvents=r,this.graphicsBoxConNode.style.pointerEvents=r}},e.prototype.jumpPage=function(e,t){var o,r=this.viewInfo,i=r.viewWidth,n=r.viewHeight,a=r.pageCount,c=r.direction;a>=1&&(c===s.p.Horizontal?(o=Math.min(Math.round(e*a)+1,a))<=a&&(this.updateViewInfo({offsetPageX:(o-1)*i,page:o}),this.setWhiteboardTransform(this.viewInfo.zoomTX,this.viewInfo.zoomTY)):(o=Math.min(Math.round(t*a)+1,a))<=a&&(this.updateViewInfo({offsetPageY:(o-1)*n,page:o}),this.setWhiteboardTransform(this.viewInfo.zoomTX,this.viewInfo.zoomTY)));this.notifyScrollEvent(this.viewInfo.page,1,e,t)},e.prototype.handleDocsviewEvent=function(e){var t={action:A.b.WbInit,data:this.whiteboardID};e.dispatchEvent(new CustomEvent(A.a.Whiteboard,{detail:t})),e.addEventListener(A.a.Docs,this.docsviewEventCallback)},e.prototype.handleDocsPageEvent=function(e){var t,o=e.page,i=e.pageCount,n=e.step,a=e.percent,s=e.notify,c=e.ofsX,l=this.viewInfo,u=l.isScroll,d=l.viewHeight,p=l.zoom;this.viewInfo.page=o,this.viewInfo.pageCount=i,u||(this.viewInfo.offsetPageY=(o-1)*d),s&&u&&"number"==typeof c&&(t={scaleFactor:p,scaleOffsetX:c,scaleOffsetY:+r.a.scaleModes.sync},this.scaleInfo.y=0),this.emitScroll(0,a,n,s,t),this.notifyScrollEvent(o,n,0,a)},e.prototype.getH5SnapshotResult=function(e){var t=e.dataUrl,o=e.snapshotId;this.snapshotInstances[o].getH5Snapshot(t)},e.prototype.hideSelectBox=function(){var e=this.toolInstance.getInstanceHandle(s.k.ZegoWhiteboardViewToolSelector);e.hideImageEditBox(),e.hideSelectBox()},e.prototype.setDragStyle=function(e){if(this.parentDom){var t=this.toolInstance.getUserAuth(),o=t.scale,r=t.scroll,i=this.operationModes.scale&&!!o&&!e;this.parentDom.style.cursor=i?"move":"auto",this.parentDom.style.touchAction=i?"auto":"none";var n={action:A.b.WbDragTool,enable:this.operationModes.scroll&&!!r,remoteScroll:!!r,isDrag:i};this.parentDom.dispatchEvent(new CustomEvent(A.a.Whiteboard,{detail:n}))}},e.prototype.addImageGraphic=function(e,t,o){var r=this.toolInstance.getInstanceHandle(s.k.ZegoWhiteboardViewToolLine),i=this.toolInstance.transLocationOrigin({clientX:t,clientY:o});return r.drawLocalGraphicImage(e,i.clientX,i.clientY)},e.prototype.initBackground=function(e){this.toolInstance.createBackground(this.whiteboardNode,e)},e.prototype.canReloadView=function(){var e=document.getElementById(this.viewInfo.parent);e.style.cssText+="position:relative;display:block!important;";var t=e.clientWidth,o=e.clientHeight;this.checkParentSize(t,o);var r=this.viewInfo,i=r.viewWidth,n=r.viewHeight,a=this.getWhiteboardAspect(t,o,!0),s=a.x,u=a.y,d=a.width,p=a.height;return!(Math.abs(i-d)<5&&Math.abs(n-p)<5)||(this.parentDom.style.cssText+="left:"+s+"px;top:"+u+"px;",c.a.getInstance().info1(l.e.ReloadViewLayou,{w0:i,h0:n,w:d,h:p}),!1)},e.prototype.reinitView=function(){this.toolInstance.isReloading=!0,this.parentDom=null,this.init(this.viewInfo.parent,!0),this.toolInstance.getInstanceHandle(s.k.ZegoWhiteboardViewToolLaser).updateLaserConSize(),this.toolInstance.isReloading=!1},e.prototype.updateLaser=function(){this.toolInstance.reverseZoomHandle(s.k.ZegoWhiteboardViewToolLaser);var e=this.toolInstance.getInstanceHandle(s.k.ZegoWhiteboardViewToolLaser);e.updateLaserConSize(),e.pushActualPlaceHandle()},e.prototype.remoteUpdateBackgroundImage=function(e){this.toolInstance.background.remoteAddBackgroundImageGraphic(e)},e.prototype.remoteClearBackgroundImage=function(){this.toolInstance.background.updateToLocal(!0).clearBackgroundImage()},e.prototype.createGraphicsBox=function(){this.graphicsBoxConNode.innerHTML='\n        <div class="img-editor-box">\n            <div class="operation-point-desktop left-top cursor-nwse LT"></div>\n            <div class="operation-point-desktop right-top cursor-nesw RT"></div>\n            <div class="operation-point-desktop left-bottom cursor-nesw LB"></div>\n            <div class="operation-point-desktop right-bottom cursor-nwse RB"></div>\n            <div class="operation-point-desktop top cursor-ns T"></div>\n            <div class="operation-point-desktop right cursor-ew R"></div>\n            <div class="operation-point-desktop bottom cursor-ns B"></div>\n            <div class="operation-point-desktop left cursor-ew L"></div>\n        </div>\n        <div class="graphics-box"></div>'},e.prototype.emitScroll=function(e,t,o,r,i){this.serviceHandle.loadCurrentGraphics(this.whiteboardID,e,t),r&&this.serviceHandle.scroll(this.whiteboardID,e,t,o,i)},e.prototype.notifyScrollEvent=function(e,t,o,r){i.f.emit(i.c.ViewScroll,{id:this.whiteboardID,horizontalPercent:o,verticalPercent:r,page:e,step:t});var n=this.getUniqueID();i.f.emit(i.e.SubViewScrollChanged,n,e,t)},e.prototype.emitScaleFactor=function(e,t,o){if(!o){e=0|Math.abs(e),t=0|Math.abs(t);var i=this.viewInfo,n=i.zoom,a=i.width,s=i.height;e=e&&Number((e/a/n).toFixed(7)),t=t&&Number((t/s/n).toFixed(7)),this.scaleInfo.x=e,this.scaleInfo.y=t}r.a.scaleModes.sync&&this.serviceHandle.scale(this.whiteboardID,this.viewInfo.zoom,e,t)},e.prototype.setViewCursorHandle=function(e){var t;null===(t=this.toolInstance)||void 0===t||t.setCustomCursor(e)},e.prototype.hideViewCursorHandle=function(){var e;null===(e=this.toolInstance.customCursor)||void 0===e||e.hide()},e.prototype.scaleToHandle=function(e,t,o,r){var n,a,s,c=this;if(this.activited){if(this.scaleInfo.x=t,this.scaleInfo.y=o,this.viewInfo.zoom=e||1,null===(n=this.toolInstance.customCursor)||void 0===n||n.updateCursorAttr(!0),null===(a=this.toolInstance.customCursor)||void 0===a||a.updateOtherCursor(),this.getFileInfo()){this.scaleInfo.syncTimer&&clearTimeout(this.scaleInfo.syncTimer);var l=r?50:100;this.scaleInfo.syncTimer=window.setTimeout((function(){var i,n={action:A.b.WbScale,scale:e,x:t,y:o,notify:r};c.parentDom&&c.parentDom.dispatchEvent(new CustomEvent(A.a.Whiteboard,{detail:n})),c.updateLaser(),null===(i=c.toolInstance.customCursor)||void 0===i||i.pushActualPlaceHandle()}),l)}else{var u=this.viewInfo,d=u.viewWidth,p=u.viewHeight,h=u.width,_=u.height,f=u.zoom,g=-t*h*f,m=-o*_*f;r&&(g=d*(1-e)*.5|0,m=p*(1-e)*.5|0,this.emitScaleFactor(g,m)),this.setWhiteboardTransform(g,m),this.updateLaser(),null===(s=this.toolInstance.customCursor)||void 0===s||s.pushActualPlaceHandle()}i.f.emit(i.c.ViewScale,this.whiteboardID,this.viewInfo.zoom);var y=this.getUniqueID();i.f.emit(i.e.SubViewScaleChanged,y,this.viewInfo.zoom)}},e.prototype.init=function(e,t){this.viewInfo.parent=e;var o=document.getElementById(""+r.a.reservedPrefix.whiteboard+this.whiteboardID);this.parentDom&&o||this.createModule(!!t),this.initToolHandle(),this.initBackground(!!t||!o),this.updateStateSizeHandle(),this.initDragEvents(),this.activitView();var i=this.serviceHandle.getScrollPercent(this.whiteboardID),n=i.horizontalPercent,a=i.verticalPercent,s=i.pptStep;if(t){this.toolInstance.updateOffsetAndScrollHandle(),this.toolInstance.updateOffsetPage(),this.serviceHandle.isElectron?this.emitScroll(n,a,s,!1):(this.serviceHandle.reloadViewGraphics(this.whiteboardID,this.toolInstance.graphicList),this.updateRemoteToLocal(this.toolInstance.graphicList,[]));var u=this.scaleInfo,d=u.x,p=u.y;-1!==d&&-1!==p&&this.scaleToHandle(this.viewInfo.zoom,d,p,!1)}else{if(this.scrollToHandle(n,a,s,!1),r.a.scaleModes.response){var h=this.serviceHandle.getScale(this.whiteboardID),_=h.scaleFactor,f=h.scaleOffsetX,g=h.scaleOffsetY;this.scaleToHandle(_,f,g,!1)}this.playAnimation(this.serviceHandle.getH5Extra(this.whiteboardID),!1)}c.a.getInstance().info1(l.e.Init,{horizontalPercent:n,verticalPercent:a,step:s});var m=this.zoomNode.parentNode,y=m.clientWidth,b=m.clientHeight;!t&&(Math.abs(y-this.viewInfo.parentWidth)>5||Math.abs(b-this.viewInfo.parentHeight)>5)&&this.reloadView(),this.setViewCursorHandle(t)},e.prototype.reissuedPlayAnimation=function(){this.playAnimation(this.serviceHandle.getH5Extra(this.whiteboardID),!1)},e.prototype.getContentSize=function(){return{width:this.viewInfo.width,height:this.viewInfo.height}},e.prototype.getRootDomID=function(){return this.viewInfo.root},e.prototype.setActivited=function(e,t){e?this.activited=!0:this.viewInfo.root&&this.viewInfo.root!=t||(this.activited=!1)},e.prototype.getActivited=function(){return this.activited},e.prototype.scrollToHandle=function(e,t,o,r){if(this.activited)if(this.stopLocalDrawHandle(t),this.getFileInfo()){var i=this.serviceHandle.getScale(this.whiteboardID),n=i.scaleOffsetX,a=i.scaleOffsetY,s={action:A.b.Page,percent:t,step:o||1,ofsX:n,ofsY:a,notify:r};this.parentDom&&this.parentDom.dispatchEvent(new CustomEvent(A.a.Whiteboard,{detail:s}))}else this.emitScroll(e,t,1,r),this.jumpPage(e,t)},e.prototype.syncScaleToHandle=function(){var e=this.scaleInfo,t=e.x,o=e.y;-1!==t&&-1!==o&&this.emitScaleFactor(t,o,!0)},e.prototype.clearLaserHandle=function(e){this.toolInstance&&this.toolInstance.getInstanceHandle(s.k.ZegoWhiteboardViewToolLaser).clearLaserHandle(e)},e.prototype.clearLocalHandle=function(e){e&&e.includes(1)?this.remoteClearBackgroundImage():(this.toolInstance.clearLocalHandle(),this.createGraphicsBox())},e.prototype.updateRemoteToLocal=function(e,t){var o=this.toolInstance.graphicList.some((function(e){return t.length&&t.includes(e.graphic_id)&&e.type==s.f.BgImage})),r=e.filter((function(e){return e.type==s.f.BgImage}));if(r.length){var i=r.pop();this.remoteUpdateBackgroundImage(i)}o&&this.remoteClearBackgroundImage(),e=e.filter((function(e){return e.type!==s.f.BgImage})),this.toolInstance.updatePushLocalHandle(e,t)},e.prototype.destroyDomHandle=function(){if(this.parentDom){c.a.getInstance().info1(l.e.Destroy_dom,{domID:this.parentDom.id});var e={action:A.b.WbDestroy,data:this.whiteboardID};this.parentDom.dispatchEvent(new CustomEvent(A.a.Whiteboard,{detail:e})),Object(a.o)(this.parentDom.parentElement),this.parentDom=null}},e.prototype.clearCanvasCache=function(){if(this.parentDom){c.a.getInstance().info1(l.e.Clear_canvas,{domID:this.parentDom.id});var e={action:A.b.WbSwitch,data:this.whiteboardID};this.parentDom.dispatchEvent(new CustomEvent(A.a.Whiteboard,{detail:e}))}},e.prototype.clearEvent=function(){if(this.parentDom){c.a.getInstance().info1(l.e.ClearEvent);var e={action:A.b.ClearEvent};this.parentDom.dispatchEvent(new CustomEvent(A.a.Whiteboard,{detail:e}))}},e.prototype.playAnimation=function(e,t){var o;if(this.activited){var r={action:A.b.Animation,data:e,notify:!t};null===(o=this.parentDom)||void 0===o||o.dispatchEvent(new CustomEvent(A.a.Whiteboard,{detail:r}))}},e.prototype.onAuthChange=function(){this.activited&&this.setDragStyle(this.getToolType()||0)},e.prototype.clear=function(){var e=this;if(!this.operationModes.draw)return Promise.resolve(!1);if(!this.toolInstance.getUserAuth().clear)return Object(n.a)(s.j.ZegoWhiteboardViewErrorNoAuthClearGraphic),Promise.resolve(!1);c.a.getInstance().info1(l.e.API_clear,{whiteboardID:this.whiteboardID});var t=this.toolInstance.getInstanceHandle(s.k.ZegoWhiteboardViewToolSelector);return t.hideImageEditBox(),t.hideSelectBox(),this.serviceHandle.clearView(this.whiteboardID,[0]).then((function(){return e.clearLocalHandle(),c.a.getInstance().info1(l.e.Clear_cb,"success"),Promise.resolve(!0)})).catch((function(e){var t=Object(n.a)(s.j.ZegoWhiteboardViewErrorClearFail);return c.a.getInstance().error1(l.e.Clear_cb,t),Promise.resolve(!1)}))},e.prototype.scroll=function(e,t){return isNaN(+e)||isNaN(+t)?(Object(n.a)(s.j.ZegoWhiteboardViewErrorParamInvalid,"参数错误: horizontalPercent、verticalPercent取值为0~1",!0),!1):!!this.operationModes.scroll&&(this.toolInstance.getUserAuth().scroll?(c.a.getInstance().info1(l.e.Scroll,{params:{horizontalPercent:e,verticalPercent:t}}),e<0&&(e=0),e>1&&(e=1),t<0&&(t=0),t>1&&(t=1),e=Number(e.toFixed(7)),t=Number(t.toFixed(7)),c.a.getInstance().info1(l.e.Scroll,{params:{horizontalPercent:e,verticalPercent:t}}),this.viewInfo.pageCount>1&&this.viewInfo.page>0&&(this.scrollToHandle(e,t,1,!0),c.a.getInstance().info1(l.e.Scroll,{transParams:{horizontalPercent:e,verticalPercent:t},status:!0}),!0)):(Object(n.a)(s.j.ZegoWhiteboardViewErrorNoAuthScroll),!1))},e.prototype.getCurrentScrollPercent=function(){var e=B(B({},this.serviceHandle.getScrollPercent(this.whiteboardID)),{direction:this.viewInfo.direction});return c.a.getInstance().info1(l.e.API_getCurrentScrollPercent,{percent:e}),e},e.prototype.getHorizontalPercent=function(){return c.a.getInstance().info1(l.e.API_getHorizontalPercent,{horizontalPercent:this.getCurrentScrollPercent().horizontalPercent}),this.getCurrentScrollPercent().horizontalPercent},e.prototype.getVerticalPercent=function(){return c.a.getInstance().info1(l.e.API_getVerticalPercent,{verticalPercent:this.getCurrentScrollPercent().verticalPercent}),this.getCurrentScrollPercent().verticalPercent},e.prototype.undo=function(){this.operationModes.draw&&(this.serviceHandle.isElectron?this.serviceHandle.undo(this.whiteboardID):this.toolInstance.undoNewHandle(),c.a.getInstance().info1(l.e.API_undo))},e.prototype.redo=function(){this.operationModes.draw&&(this.serviceHandle.isElectron?this.serviceHandle.redo(this.whiteboardID):this.toolInstance.redoNewHandle(),c.a.getInstance().info1(l.e.API_redo))},e.prototype._undoClear=function(){this.toolInstance.undoClearPage()},e.prototype.getAspectRatio=function(){var e=this.serviceHandle.getAspectRatio(this.whiteboardID);return c.a.getInstance().info1(l.e.API_getAspectRatio,{aspectRatio:e}),e},e.prototype.getFileInfo=function(){var e=this.serviceHandle.getFileInfo(this.whiteboardID);return c.a.getInstance().info1(l.e.API_getFileInfo,{fileInfo:e}),e},e.prototype.getID=function(){return this.whiteboardID},e.prototype.getName=function(){return this.serviceHandle.getModName(this.whiteboardID)},e.prototype.getCreateTime=function(){return this.serviceHandle.getCreateTime(this.whiteboardID)},e.prototype.getRoomID=function(){return this.serviceHandle.getRoomID(this.whiteboardID)},e.prototype.getUniqueID=function(){return this.serviceHandle.getUniqueID(this.whiteboardID)},e.prototype.getCurrentPage=function(){var e=this.viewInfo.page||1;return c.a.getInstance().info1(l.e.API_getCurrentPage,{cp:e}),e},e.prototype.getPageCount=function(){var e=this.viewInfo.pageCount||1;return c.a.getInstance().info1(l.e.API_getPageCount,{pageCount:e}),e},e.prototype.setBackgroundImage=function(e,t,o){var r=e instanceof File?{name:e.name,size:e.size,type:e.type}:e;return c.a.getInstance().info1(l.e.API_setBackgroundImage,{address:r,mode:t}),this.toolInstance.background.setBackgroundImage(e,t,o)},e.prototype.clearBackgroundImage=function(){this.toolInstance.background.clearBackgroundImage(),c.a.getInstance().info1(l.e.API_clearBackgroundImage)},e.prototype.setToolType=function(e){var t,o;if(c.a.getInstance().info1(l.e.API_setToolType,{type:e}),e=e||0,!Object(j.o)(e)||this.operationModes.none)return!1;if(e===s.k.ZegoWhiteboardViewToolClick){var i=null===(t=this.getFileInfo())||void 0===t?void 0:t.fileType;if(i!==s.d.PPTH5&&i!==s.d.CUSTOM_H5)return!1}return r.a.basicState.type=e,!this.toolInstance||(e!==s.k.ZegoWhiteboardViewToolPen&&(null===(o=this.toolInstance.customCursor)||void 0===o||o.hide()),this.parentDom.style.userSelect=e!==s.k.ZegoWhiteboardViewToolText?"none":"auto",this.canDraw=this.operationModes.draw&&!!e&&e!==s.k.ZegoWhiteboardViewToolClick,this.setClassNameHandle(e),this.setDragStyle(e),this.penetrateEventHandle(e),this.updateBindEvents(),this.hideSelectBox(),c.a.getInstance().info1(l.e.API_setToolType,"true"),!0)},e.prototype.getToolType=function(){var e=Object(j.e)();return c.a.getInstance().info1(l.e.API_getToolType,{toolType:e}),e},e.prototype.setBrushColor=function(e){var t=Object(j.j)(e);return c.a.getInstance().info1(l.e.API_setBrushColor,{color:e,res:t}),t},e.prototype.getBrushColor=function(){var e=Object(j.b)();return c.a.getInstance().info1(l.e.API_getBrushColor,{color:e}),e},e.prototype.setBrushSize=function(e){var t=Object(j.k)(e);return t&&this.updateStateSizeHandle(),c.a.getInstance().info1(l.e.API_setBrushSize,{thin:e,res:t}),t},e.prototype.getBrushSize=function(){var e=Object(j.c)();return c.a.getInstance().info1(l.e.API_getBrushSize,{size:e}),e},e.prototype.setFontSize=function(e){var t=Object(j.n)(e);return t&&this.updateStateSizeHandle(),c.a.getInstance().info1(l.e.API_setFontSize,{thin:e,res:t}),t},e.prototype.getFontSize=function(){var e=Object(j.d)();return c.a.getInstance().info1(l.e.API_getFontSize,{size:e}),e},e.prototype.setTextSize=function(e){var t=this.setFontSize(e);return c.a.getInstance().info1(l.e.API_setTextSize,{thin:e,res:t}),t},e.prototype.getTextSize=function(){var e=this.getFontSize();return c.a.getInstance().info1(l.e.API_getFontSize,{size:e}),this.getFontSize()},e.prototype.setFontBold=function(e){var t=Object(j.l)(e);return c.a.getInstance().info1(l.e.API_setFontBold,{bold:e,res:t}),t},e.prototype.isFontBold=function(){var e=Object(j.f)();return c.a.getInstance().info1(l.e.API_isFontBold,{res:e}),e},e.prototype.setFontItalic=function(e){var t=Object(j.m)(e);return c.a.getInstance().info1(l.e.API_setFontItalic,{italic:e,res:t}),t},e.prototype.isFontItalic=function(){var e=Object(j.g)();return c.a.getInstance().info1(l.e.API_getFontItalic,{res:e}),e},e.prototype.setBackgroundColor=function(e){return!(!Object(j.i)(e)||!this.toolInstance.enableDraw)&&(this.toolInstance.background.setBackgroundColor(e),c.a.getInstance().info1(l.e.API_setBackgroundColor,{color:e}),!0)},e.prototype.getBackgroundColor=function(){var e=Object(j.a)();return c.a.getInstance().info1(l.e.API_getBackgroundColor,{res:e}),e},e.prototype.setScaleFactor=function(e,t,o){var r=+e;(!r||r<1)&&(r=1),this.viewInfo.zoom!==r&&this.operationModes.scale&&this.getToolType()!==s.k.ZegoWhiteboardViewToolClick&&(this.toolInstance.getUserAuth().scale?(this.scaleToHandle(r,t||0,o||0,!0),c.a.getInstance().info1(l.e.API_setScaleFactor,{params:{zoom:r,x:t,y:o}})):Object(n.a)(s.j.ZegoWhiteboardViewErrorNoAuthScale))},e.prototype.getScaleFactor=function(){var e={scaleFactor:this.viewInfo.zoom,scaleOffsetX:0,scaleOffsetY:0};return c.a.getInstance().info1(l.e.API_getScaleFactor,{scaleFactor:e}),e},e.prototype.getScaleOffsetX=function(){var e=this.getScaleFactor().scaleOffsetX;return c.a.getInstance().info1(l.e.API_getScaleOffsetX,{scaleOffsetX:e}),e},e.prototype.getScaleOffsetY=function(){var e=this.getScaleFactor().scaleOffsetY;return c.a.getInstance().info1(l.e.API_getScaleOffsetY,{scaleOffsetY:e}),e},e.prototype.clearCurrentPage=function(){this.toolInstance.clearPage(this.viewInfo.page||1),c.a.getInstance().info1(l.e.API_clearCurrentPage,{page:this.viewInfo.page||1})},e.prototype.deleteSelectedGraphics=function(){this.toolInstance.deleteSelectedGraphics(s.c.BatchSelete),c.a.getInstance().info1(l.e.API_deleteSelectedGraphics)},e.prototype.addText=function(e,t,o){if(this.operationModes.draw&&this.getToolType()===s.k.ZegoWhiteboardViewToolText)if(!e||!Object(a.l)(t)||!Object(a.l)(o)||t<0||o<0||t>this.viewInfo.viewWidth||o>this.viewInfo.viewHeight)Object(n.a)(s.j.ZegoWhiteboardViewErrorParamInvalid);else if(this.toolInstance.getUserAuth().create){var r=this.toolInstance.getInstanceHandle(s.k.ZegoWhiteboardViewToolText);this.toolInstance.updateOffsetAndScrollHandle();var i=this.toolInstance.transLocationOrigin({clientX:t,clientY:o});t=i.clientX,o=i.clientY,r.addTextGraphics(e,t,o),c.a.getInstance().info1(l.e.API_addText,{params:{text:e,positionX:t,positionY:o}})}else Object(n.a)(s.j.ZegoWhiteboardViewErrorNoAuthCreateGraphic)},e.prototype.addImage=function(e,t,o,i,u){var d=this,p=this.viewInfo.viewWidth,h=this.viewInfo.viewHeight,_=s.o.ZegoWhiteboardViewImageGraphic,f=s.o.ZegoWhiteboardViewImageCustom;if(!i||e!==_&&e!==f||!Object(a.l)(t)||!Object(a.l)(o)||e===_&&(t<0||o<0||t>p||o>h)||e===f&&"string"!=typeof i){var g=Object(n.b)(s.j.ZegoWhiteboardViewErrorParamInvalid);return Promise.reject(g)}if(!this.operationModes.draw)return Promise.reject({});if(!this.toolInstance.getUserAuth().create){g=Object(n.b)(s.j.ZegoWhiteboardViewErrorNoAuthCreateGraphic);return Promise.reject(g)}var m=e===_?10485760:512e3;if("string"==typeof i){var y=i;if(!y.startsWith("https://")){g=Object(n.b)(s.j.ZegoWhiteboardViewErrorGraphicIllegalUrl);return Promise.reject(g)}return new Promise((function(a,u){var p=!0,h=new XMLHttpRequest;h.open("HEAD",y,!0),h.onreadystatechange=function(){if(4==h.readyState){if(200!=h.status){p=!1;var _=404===h.status?s.j.ZegoWhiteboardViewErrorGraphicIllegalUrl:s.j.ZegoWhiteboardViewErrorInvalidRsp;return u(Object(n.b)(_))}var g=(h.getResponseHeader("Content-Type")||"").replace("image/",""),b=+h.getResponseHeader("Content-Length");if(!"jpg,jpeg,png,svg+xml".includes(g)){var v=Object(n.b)(s.j.ZegoWhiteboardViewErrorGraphicImageTypeNotSupport);return u(v)}if(b>m){v=Object(n.b)(s.j.ZegoWhiteboardViewErrorGraphicImageSizeLimit);return u(v)}if(c.a.getInstance().info1(l.e.API_addImage,{params:{type:e,positionX:t,positionY:o,address:i}}),e===f){r.a.basicExtraState.customImage.url=y;var w=new Image;w.setAttribute("crossOrigin","anonymous"),w.onload=function(){r.a.basicExtraState.customImage.w=w.width,r.a.basicExtraState.customImage.h=w.height},w.src=y,a(y)}else d.addImageGraphic(y,t,o).then(a)}},h.onerror=function(){if(p){var e=404===h.status?s.j.ZegoWhiteboardViewErrorGraphicIllegalUrl:s.j.ZegoWhiteboardViewErrorInvalidRsp;u(Object(n.b)(e))}},h.send(null)}))}if(this.serviceHandle.isElectron&&e===_&&"object"===q(i)){if(!/(\.jpg|\.jpeg|\.png|\.svg)$/.test((i=i).path)){g=Object(n.b)(s.j.ZegoWhiteboardViewErrorGraphicImageTypeNotSupport);return Promise.reject(g)}return c.a.getInstance().info1(l.e.API_addImage,{params:{type:e,positionX:t,positionY:o,address:i.path}}),this.serviceHandle.uploadImage(i.path,u).then((function(e){return d.addImageGraphic(e,t,o)}))}var b=(i=i).type.replace("image/","");if(!"jpg,jpeg,png,svg+xml".includes(b)){g=Object(n.b)(s.j.ZegoWhiteboardViewErrorGraphicImageTypeNotSupport);return Promise.reject(g)}if(i.size>m){g=Object(n.b)(s.j.ZegoWhiteboardViewErrorGraphicImageSizeLimit);return Promise.reject(g)}return c.a.getInstance().info1(l.e.API_addImage,{params:{type:e,positionX:t,positionY:o,address:i.name}}),this.serviceHandle.uploadImage(i,u).then((function(e){if(e.code){var r=Object(n.b)(e.code,e.msg);return Promise.reject(B(B({},r),{error:e}))}return d.addImageGraphic(e,t,o)}))},e.prototype.setWhiteboardOperationMode=function(e){if(e&&Object(a.l)(e)){var t=!!(e%2),o=!t&&[2,6,10,14].includes(e),i=!t&&[4,6,12,14].includes(e),u=!t&&[8,10,12,14].includes(e);this.operationModes=Object.freeze({none:t,scroll:o,draw:i,scale:u});var d=r.a.basicState.type;this.toolInstance&&(this.toolInstance.enableDraw=i),this.canDraw=i&&!!d&&d!==s.k.ZegoWhiteboardViewToolClick,this.setDragStyle(d),this.penetrateEventHandle(d),c.a.getInstance().info1(l.e.API_setWhiteboardOperationMode,{params:e,result:this.operationModes})}else Object(n.a)(s.j.ZegoWhiteboardViewErrorParamInvalid)},e.prototype.snapshot=function(e){return R(this,void 0,void 0,(function(){var t,o,r;return H(this,(function(i){switch(i.label){case 0:return t=null==e?void 0:e.userData,o=new N(this.toolInstance,this.toolInstance.background),this.snapshotInstances[o.snapshotId]=o,[4,o.snapshot(t)];case 1:return r=i.sent(),delete this.snapshotInstances[o.snapshotId],c.a.getInstance().info1(l.e.API_snapshot,{snapshotResult:r}),[2,r]}}))}))},e.prototype.reloadView=function(e){if(this.getFileInfo()){var t={action:A.b.ReloadView,data:{options:e}};this.parentDom&&this.parentDom.dispatchEvent(new CustomEvent(A.a.Whiteboard,{detail:t}))}else this.canReloadView()&&this.reinitView();c.a.getInstance().info1(l.e.API_reloadView)},e.prototype.getVisibleSize=function(){var e={width:this.viewInfo.viewWidth,height:this.viewInfo.viewHeight};return c.a.getInstance().info1(l.e.API_getVisibleSize,{size:e}),e},e}(),z=function(){return(z=Object.assign||function(e){for(var t,o=1,r=arguments.length;o<r;o++)for(var i in t=arguments[o])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},F=function(e,t,o,r){return new(o||(o=Promise))((function(i,n){function a(e){try{c(r.next(e))}catch(e){n(e)}}function s(e){try{c(r.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},Z=function(e,t){var o,r,i,n,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(n){return function(s){return function(n){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,r&&(i=2&n[0]?r.return:n[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,n[1])).done)return i;switch(r=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,r=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==n[0]&&2!==n[0])){a=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){a.label=n[1];break}if(6===n[0]&&a.label<i[1]){a.label=i[1],i=n;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(n);break}i[2]&&a.ops.pop(),a.trys.pop();continue}n=t.call(e,a)}catch(e){n=[6,e],r=0}finally{o=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,s])}}},G=function(){function e(e){this.modIdMapInstance={},this.fileInfoMap={},this.signallingDelay=0,this.serviceHandle=e,this.registerLoadfileListener(),this.registerPushCallbackHandle(),this.registerPullCallbackHandle()}return e.prototype.registerLoadfileListener=function(){var e=this;document.body.addEventListener("loadfile",(function(t){var o=t.detail.fileID;e.fileInfoMap[o]=t.detail,c.a.getInstance().info1(l.e.Update_File_Info,{fileID:o,detail:t.detail})}))},e.prototype.registerPushCallbackHandle=function(){var e=this;i.f.on(i.d.PushClearPageGraphics,(function(t,o){e.signallingDelay?setTimeout((function(){e.clearGraphicsPushCallback(t,o)}),e.signallingDelay):e.clearGraphicsPushCallback(t,o)})),i.f.on(i.d.PushDrawPageGraphics,(function(t,o,r){e.signallingDelay?setTimeout((function(){e.drawGraphicsPushCallback(t,o,r)}),e.signallingDelay):e.drawGraphicsPushCallback(t,o,r)})),i.f.on(i.d.PushAddMod,(function(t,o){e.signallingDelay?setTimeout((function(){e.addModPushCallback(t,o)}),e.signallingDelay):e.addModPushCallback(t,o)})),i.f.on(i.d.PushRemovedMod,(function(t,o){e.signallingDelay?setTimeout((function(){e.removedModPushCallback(t,o)}),e.signallingDelay):e.removedModPushCallback(t,o)})),i.f.on(i.d.PushScroll,(function(t,o,r,i){e.signallingDelay?setTimeout((function(){e.scrollPushCallback(t,o,r,i)}),e.signallingDelay):e.scrollPushCallback(t,o,r,i)})),i.f.on(i.d.PushScale,(function(t,o,r,i){e.signallingDelay?setTimeout((function(){e.scalePushCallback(t,o,r,i)}),e.signallingDelay):e.scalePushCallback(t,o,r,i)})),i.f.on(i.d.PushH5ExtraAppended,(function(t,o){e.signallingDelay?setTimeout((function(){e.h5ExtraAppendedPushCallback(t,o)}),e.signallingDelay):e.h5ExtraAppendedPushCallback(t,o)})),i.f.on(i.d.PushAuthChange,(function(t,o){e.onPushAuthChange(t,o)}))},e.prototype.registerPullCallbackHandle=function(){var e=this;i.f.on(i.d.GetPageGraphicsList,(function(t,o,r){var i=e.getMapInstance(t);i&&i.updateRemoteToLocal(o,r)})),i.f.on(i.d.AppendH5Extra,(function(t){var o=t.whiteboardID,r=t.code,n=t.msg,a=t.modExtra,c=t.isH5;0!==r&&(r===s.j.ZegoWhiteboardViewErrorAnimationInfoLimit?i.f.emit(i.c.Error,{code:r,msg:n}):c?e.h5ExtraAppendedPushCallback(o,a):i.f.emit(i.c.Error,{code:r,msg:n}))})),i.f.on(i.d.Scroll,(function(t){var o=t.whiteboardID,r=t.code,i=t.horizontalPercent,n=t.verticalPercent,a=t.step;0!==r&&e.scrollPushCallback(o,i,n,a)})),i.f.on(i.d.Scale,(function(t){var o=t.whiteboardID,r=t.code,i=t.mod_scale;0!==r&&e.scalePushCallback(o,i.scale,i.ofs_x,i.ofs_y)}))},e.prototype.addModPushCallback=function(e,t){var o=this.getMapInstance(e);o||(c.a.getInstance().info1(l.e.Remote_Add,{whiteboardID:e}),o=new V(e,this.serviceHandle),this.setMapInstance(o)),i.f.emit(i.e.RemoteModAdd,o),i.f.emit(i.c.ViewAdd,o)},e.prototype.removedModPushCallback=function(e,t){var o=this.getMapInstance(e);o&&(c.a.getInstance().info1(l.e.Remote_Removed,{whiteboardID:e}),o.destroyDomHandle(),o=null,this.deleteMapInstance(e),i.f.emit(i.e.RemoteModRemoved,t,e),i.f.emit(i.c.ViewRemoved,e))},e.prototype.scrollPushCallback=function(e,t,o,r){var i=this.getMapInstance(e);i&&(c.a.getInstance().warn1(l.e.Remote_Scroll,"whiteboardID="+e+",hPercent="+t+",vPercent="+o+",step="+r),i.scrollToHandle(t,o,r,!1))},e.prototype.scalePushCallback=function(e,t,o,i){var n=this.getMapInstance(e);n&&(c.a.getInstance().warn1(l.e.Remote_Scale,"whiteboardID="+e+",scale="+t+",ofsX="+o+",ofsY="+i),r.a.scaleModes.response&&n.scaleToHandle(t,o,i,!1))},e.prototype.h5ExtraAppendedPushCallback=function(e,t){var o=this.getMapInstance(e);o&&(c.a.getInstance().warn1(l.e.Remote_Extra,"whiteboardID="+e+",modExtra="+t),o.playAnimation(t,!0))},e.prototype.clearGraphicsPushCallback=function(e,t){var o=this.getMapInstance(e);o&&(o.clearLocalHandle(t),o.stopLocalDrawHandle(this.serviceHandle.getScrollPercent(e).verticalPercent))},e.prototype.drawGraphicsPushCallback=function(e,t,o){var r=this.getMapInstance(e);r&&(0!==t.length||o)&&r.updateRemoteToLocal(t,o)},e.prototype.onPushAuthChange=function(e,t){t&&(i.f.emit(i.c.WhiteboardGraphicAuthChange,t),i.f.emit(i.e.RemoteGraphicAuthChange,t)),e&&(i.f.emit(i.c.WhiteboardAuthChange,e),i.f.emit(i.e.RemoteAuthChange,e),e&&Object.values(this.modIdMapInstance).forEach((function(e){return e&&e.onAuthChange()})))},e.prototype.setFileInfo=function(e){var t;if(e.fileInfo){var o=e.fileInfo,r=o.fileID,i=o.fileName,n=this.fileInfoMap[r];(n=n&&n[i])&&(e.aspectWidth=n.width,e.aspectHeight=n.height,e.pageCount=n.pageCount,c.a.getInstance().info1(l.e.Update_File_Info_Set,{fileID:r,detail:(t={fileID:r},t[i]=n,t)}))}},e.prototype.deleteMapInstance=function(e){delete this.modIdMapInstance[e]},e.prototype.getMapInstance=function(e){return this.modIdMapInstance[e]},e.prototype.setMapInstance=function(e){this.modIdMapInstance[e.getID()]=e},e.prototype.setActivitedView=function(e,t){this.serviceHandle.isPlayback?i.f.emit(i.d.AttachedView,[]):Object.values(this.modIdMapInstance).forEach((function(o){o.setActivited(o.getID()==e,t)}))},e.prototype.getActivitedViews=function(){return Object.values(this.modIdMapInstance).filter((function(e){return e.getActivited()}))},e.prototype.checkAttachingParent=function(e){return!!document.getElementById(e)},e.prototype.checkCreatingView=function(e){return!(!e||!e.name||isNaN(+e.aspectWidth)||!+e.aspectWidth||isNaN(+e.aspectHeight)||!+e.aspectHeight||isNaN(+e.pageCount)||!+e.pageCount)},e.prototype.setViewSize=function(e){var t=this.getMapInstance(e);if(t){var o=t.getContentSize(),r=o.width,i=o.height;this.serviceHandle.setSize(e,r,i)}},e.prototype.createErrorStr=function(e){return void 0!==e.code?JSON.stringify(e):""+e},e.prototype.loginRoom=function(e,t,o,r){return this.serviceHandle.loginRoom(e,t,o,r)},e.prototype.logoutRoom=function(e){return this.serviceHandle.logoutRoom(e)},e.prototype.config=function(e){return this.serviceHandle.config(e)},e.prototype.renewToken=function(e,t){return this.serviceHandle.renewToken(e,t)},e.prototype.getCurrentActivitedView=function(){return this.serviceHandle.getCurrentActivitedView()},e.prototype.setDeferredRenderingTime=function(e){this.signallingDelay=e||0},e.prototype.clear=function(e){Object.values(this.modIdMapInstance).forEach((function(t){t&&t.clearLaserHandle(e)})),c.a.getInstance().info1(l.e.API_Clear,{userID:e})},e.prototype.getViewList=function(){return F(this,void 0,void 0,(function(){var e,t,o=this;return Z(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.serviceHandle.getModList()];case 1:return e=r.sent(),Object.keys(this.modIdMapInstance).forEach((function(t){-1===e.indexOf(t)&&o.deleteMapInstance(t)})),e.forEach((function(e){o.modIdMapInstance[e]||o.setMapInstance(new V(e,o.serviceHandle)),o.setViewSize(e)})),c.a.getInstance().info1(l.e.API_GetViewList,Object.keys(this.modIdMapInstance)),[2,Object.values(this.modIdMapInstance).sort((function(e,t){return o.serviceHandle.getCreateTime(t.getID())-o.serviceHandle.getCreateTime(e.getID())}))];case 2:return t=r.sent(),c.a.getInstance().error1(l.e.API_GetViewList_Catch,this.createErrorStr(t)),[2,Promise.reject(void 0!==t.code?t:Object(n.b)(s.j.ZegoWhiteboardViewErrorGetListFail))];case 3:return[2]}}))}))},e.prototype.createView=function(e,t){var o=this;return new Promise((function(r,i){return F(o,void 0,void 0,(function(){var o,a,u,d;return Z(this,(function(p){switch(p.label){case 0:if(!this.checkCreatingView(e))return o=Object(n.b)(s.j.ZegoWhiteboardViewErrorParamInvalid,"参数错误：roomID、name为字符串，aspectWidth、aspectHeight、pageCount为正整数",!0),c.a.getInstance().error1(l.e.API_CreateView_Check,this.createErrorStr(o)),i(o),[2];this.setFileInfo(e),c.a.getInstance().info1(l.e.API_CreateView,{whiteboardModel:e}),p.label=1;case 1:return p.trys.push([1,3,,4]),[4,this.serviceHandle.createMod(e,t)];case 2:return a=p.sent(),(u=this.getMapInstance(a))||(u=new V(a,this.serviceHandle),this.setMapInstance(u),c.a.getInstance().info1(l.e.API_CreateView_Success,"success")),r(u),[3,4];case 3:return d=p.sent(),c.a.getInstance().error1(l.e.API_CreateView_Error,this.createErrorStr(d)),i(void 0!==d.code?d:Object(n.b)(s.j.ZegoWhiteboardViewErrorViewCreateFail)),[3,4];case 4:return[2]}}))}))}))},e.prototype.destroyView=function(e){var t=this;return new Promise((function(o,r){return F(t,void 0,void 0,(function(){var t,i,a;return Z(this,(function(u){switch(u.label){case 0:if(!e||!e.getID)return t=Object(n.b)(s.j.ZegoWhiteboardViewErrorViewNotExist),c.a.getInstance().error1(l.e.API_DestroyView,{whiteboardView:e,errorData:t}),r(t),[2];u.label=1;case 1:return u.trys.push([1,3,,4]),i=e.getID(),[4,this.serviceHandle.destroyMod(i)];case 2:return u.sent(),this.deleteMapInstance(i),e.destroyDomHandle(),e=null,c.a.getInstance().info1(l.e.API_DestroyView_Success,"success"),o(),[3,4];case 3:return a=u.sent(),c.a.getInstance().error1(l.e.API_DestroyView_Error,this.createErrorStr(a)),r(void 0!==a.code?a:Object(n.b)(s.j.ZegoWhiteboardViewErrorDestroyFail)),[3,4];case 4:return[2]}}))}))}))},e.prototype.attachView=function(e,t){var o=this;return new Promise((function(r,i){if(!o.checkAttachingParent(t)){var a=Object(n.b)(s.j.ZegoWhiteboardViewErrorViewParentNotExist);return c.a.getInstance().error1(l.e.API_AttachView_Check_Parent,{parent:t,errorData:a}),void i(a)}if(!e||!e.getID){a=Object(n.b)(s.j.ZegoWhiteboardViewErrorViewNotExist);return c.a.getInstance().error1(l.e.API_AttachView_Null,{whiteboardView:e,errorData:a}),void i(a)}c.a.getInstance().info1(l.e.API_AttachView,{whiteboardID:e.getID(),parent:t});try{var u=e,d=u.getFileInfo();(null==d?void 0:d.fileID)?o.serviceHandle.setFileInfo(o.fileInfoMap[d.fileID].data):o.serviceHandle.setFileInfo({});var p=u.getID();u.init(t),o.setMapInstance(u),o.setActivitedView(p,u.getRootDomID()),u.clearCanvasCache();var h=o.serviceHandle.getScrollPercent(p),_=h.horizontalPercent,f=h.verticalPercent,g=h.pptStep;u.scrollToHandle(_,f,g,!1),u.clearCanvasCache(),c.a.getInstance().info1(l.e.API_AttachView_Success,"success"),u.reissuedPlayAnimation(),r()}catch(e){c.a.getInstance().error1(l.e.API_AttachView_Error,o.createErrorStr(e)),i(Object(n.b)(s.j.ZegoWhiteboardViewErrorAttachFail))}}))},e.prototype.enableSyncScale=function(e){r.a.scaleModes.sync=!!e,e&&this.getActivitedViews().forEach((function(e){return e.syncScaleToHandle()}))},e.prototype.enableResponseScale=function(e){var t=this;r.a.scaleModes.response=!!e,e&&this.getActivitedViews().forEach((function(e){var o=t.serviceHandle.getScale(e.getID()),r=o.scaleFactor,i=o.scaleOffsetX,n=o.scaleOffsetY;e.scaleToHandle(r,i,n,!1)}))},e.prototype.enableHandwriting=function(e){if("boolean"==typeof e){var t=r.a.basicState.attributes,o=JSON.parse(t);o.stroke=!!e,r.a.basicState.attributes=JSON.stringify(o),this.serviceHandle.enableHandwriting(o.stroke),c.a.getInstance().info1(l.e.API_EnableHandwriting_Success,"success")}else{var i=Object(n.b)(s.j.ZegoWhiteboardViewErrorParamInvalid,"参数错误",!0);c.a.getInstance().error1(l.e.API_EnableHandwriting,this.createErrorStr(i))}},e.prototype.enableCustomCursor=function(e){if("boolean"==typeof e){r.a.customCursor.enable=e,Object.values(this.modIdMapInstance).forEach((function(t){t.setViewCursorHandle(),e||t.hideViewCursorHandle()}))}else{var t=Object(n.b)(s.j.ZegoWhiteboardViewErrorParamInvalid,"参数错误",!0);c.a.getInstance().error1(l.e.API_EnableCustomCursor,this.createErrorStr(t))}},e.prototype.enableRemoteCursorVisible=function(e){if("boolean"==typeof e){r.a.customCursor.remoteVisible=e}else{var t=Object(n.b)(s.j.ZegoWhiteboardViewErrorParamInvalid,"参数错误",!0);c.a.getInstance().error1(l.e.API_EnableRemoteCursorVisible,this.createErrorStr(t))}},e.prototype.setCustomCursorAttribute=function(e,t){var o=this,i=t.iconPath;if("string"==typeof i){var a=i;if(!a.startsWith("https://")){var u=Object(n.b)(s.j.ZegoWhiteboardViewErrorGraphicIllegalUrl);return Promise.reject(u)}return new Promise((function(u,d){var p=!0,h=new XMLHttpRequest;h.open("HEAD",a,!0),h.onreadystatechange=function(){if(4==h.readyState){if(200!=h.status){p=!1;var a=404===h.status?s.j.ZegoWhiteboardViewErrorGraphicIllegalUrl:s.j.ZegoWhiteboardViewErrorInvalidRsp;return d(Object(n.b)(a))}var _=(h.getResponseHeader("Content-Type")||"").replace("image/",""),f=+h.getResponseHeader("Content-Length");if(!"png".includes(_)){var g=Object(n.b)(s.j.ZegoWhiteboardViewErrorGraphicImageTypeNotSupport);return d(g)}if(f>51200){g=Object(n.b)(s.j.ZegoWhiteboardViewErrorGraphicImageSizeLimit);return d(g)}c.a.getInstance().info1(l.e.SetCursorImage,{params:{address:i}});var m=new Image;m.onload=function(){if(Math.abs(t.offsetX)>m.width||Math.abs(t.offsetY)>m.height){var a=Object(n.b)(s.j.ZegoWhiteboardViewErrorGraphicCursorOffsetLimit);return d(a)}var c=r.a.customCursor,l=JSON.parse(c.attributes);c.type=e,l.url=i,l.pox_x=t.offsetX,l.pox_y=t.offsetY,c.attributes=JSON.stringify(l),Object.values(o.modIdMapInstance).forEach((function(e){e.setViewCursorHandle()})),u(),m=null},m.src=i}},h.onerror=function(){if(p){var e=404===h.status?s.j.ZegoWhiteboardViewErrorGraphicIllegalUrl:s.j.ZegoWhiteboardViewErrorInvalidRsp;d(Object(n.b)(e))}},h.send(null)}))}var d=(i=i).type.replace("image/","");if(!"png".includes(d)){u=Object(n.b)(s.j.ZegoWhiteboardViewErrorGraphicImageTypeNotSupport);return Promise.reject(u)}if(i.size>51200){u=Object(n.b)(s.j.ZegoWhiteboardViewErrorGraphicImageSizeLimit);return Promise.reject(u)}return new Promise((function(a,u){try{o.serviceHandle.uploadImage(i,(function(){})).then((function(i){if(i.code){var c=Object(n.b)(i.code,i.msg);return Promise.reject(z(z({},c),{error:i}))}var l=new Image;l.onload=function(){if(Math.abs(t.offsetX)>l.width||Math.abs(t.offsetY)>l.height){var c=Object(n.b)(s.j.ZegoWhiteboardViewErrorGraphicCursorOffsetLimit);return u(c)}var d=r.a.customCursor,p=JSON.parse(d.attributes);d.type=e,p.url=i,p.pox_x=t.offsetX,p.pox_y=t.offsetY,d.attributes=JSON.stringify(p),Object.values(o.modIdMapInstance).forEach((function(e){e.setViewCursorHandle()})),a(),l=null},l.src=i}))}catch(e){c.a.getInstance().info1(l.e.API_SetCustomCursorAttribute,{error:e}),u(e)}}))},e.prototype.undoClearAction=function(){this.getActivitedViews().forEach((function(e){return e._undoClear()}))},e.prototype.switchView=function(e){return c.a.getInstance().info1(l.e.API_SwitchView,{whiteboardID:e}),this.serviceHandle.switchView(e)},e.prototype.on=function(e,t){return i.f.on(e,t)},e.prototype.off=function(e,t){return i.f.off(e,t)},e.prototype.setLogConfig=function(e){return this.serviceHandle.setLogConfig(e)},e.prototype.clearLog=function(){return c.a.getInstance().uploadLog()},e}()},function(e,t,o){"use strict";o.d(t,"a",(function(){return q}));o(302),o(303),o(39),o(26),o(47),o(61),o(62),o(63),o(36),o(46),o(53),o(226),o(59),o(49),o(50),o(218),o(55),o(56),o(307),o(37),o(69),o(87);var r,i,n,a,s=o(306),c=(o(379),o(403),o(210),o(105),o(3)),l=o(21),u=o(33),d=function(){return/iPad|iPhone|iPod/i.test(navigator.userAgent)||/Macintosh/i.test(navigator.userAgent)&&navigator.maxTouchPoints>1},p=(d()?1:2)*(window.devicePixelRatio||1),h="zego-docsview-zoom",_="zego-docsview-con",f="zego-docsview-render",g="zego-docsview-iframe",m="zego-whiteboard";!function(e){e[e.PDF=0]="PDF",e[e.PPT=1]="PPT",e[e.H5_PPT=2]="H5_PPT",e[e.H5_CUSTOM=3]="H5_CUSTOM"}(r||(r={})),function(e){e.Load="onDocsLoadPdf",e.GetPageImage="onDocsGetPDFPageImage",e.Uploading="onDocsUploading",e.Convert="onDocsConvertStatus",e.Downloading="onDocsDownloading",e.QueryCache="onDocsCachExist",e.CancelCache="onDocsCancelCache",e.DownloadCache="onDocsDownloadCache",e.LoadFile="docsLoad",e.Upload="docsUpload",e.UploadH5File="docsUploadH5File"}(i||(i={})),function(e){e.InitPlatform="initPlatform",e.GetAllPageStepCount="getAllPageStepCount",e.SetCustomizedConfig="setCustomizedConfig",e.GotoPage="gotoPage",e.PreviousStep="previousStep",e.NextStep="nextStep",e.TriggerElementsClick="triggerElementsClick",e.SnapshotForH5="snapshotForH5",e.StopPlay="stopPlay",e.SetVolume="setVolume",e.HideLoadingStyle="hideLoadingStyle",e.SwitchSpeaker="switchSpeaker"}(n||(n={})),function(e){e.Scale="scale",e.SyncDOMEvent="syncDOMEvent",e.PptOperationAuth="pptOperationAuth"}(a||(a={}));var y=function(){function e(){var e;this.isElectron=!1,this.store=((e={})[c.c.PptStepMode]=1,e[c.c.DisableH5ImageDrag]=!1,e[c.c.UnloadVideoSrc]=!1,e[c.c.DisableH5Mouse]=!1,e[c.c.EnableSizeReducedImages]=!1,e.multiDocsQueue=null,e.syncPPTH5Queue=null,e.syncQueueRuning=!1,e.logLevel="error",e)}return e.prototype.setStore=function(e){return Object.assign(this.store,e),!0},e.prototype.getStore=function(){return this.store},e}(),b=(o(296),o(323),o(325),o(169),o(227),o(115),o(402),o(94),o(228),o(106),o(77),o(405),o(382),o(250),o(123),o(229),o(151),new Image);b.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAN90lEQVR4Xu1dC3BcVRn+/7tJ82ybNu8mezZt6qAoLx2dmm42TZPY2g74Qh3EQZ6KOoMoA47gW1EHfOCgIg8RcQYVEWRgoG0SQjbbUhwc0aK0hdLee7N59f3MY3fvcQ6kJU33ce9/d3Pv9p4z02mb/N/5z/m+797de+55IMjiaQbQ072XnQdpAI+bQBpAGsDjDHi8+/IOIA3gcQY83n15B5AG8DgDHu++vANIA3icAY93X94BpAE8zsCs7quq+jAi1iNijHMeB4CY+CP+LX528ueIGJ/+2Zt/K4oSTyQSGwOBwOZ8YlTeAWaopapqEBEHiAI+yRj7KBHrGEwaYAb1mqZFAGAlRQ1FUaoaGxv3U7BOYqQBptkfHBy8wjCMP1DE4JzfEQgEvk7BOo2RBphWQNO0IQCoJwjCGWMKAecKiDQAAKiq+j1E/DZRkasZY78nYh2Hed4AmqYtAYAoUYlXGWPnErGugHneALqu/5Fz/lmKGoZhtDQ1Nb1AwboFk9EA3f0D303VWEQMcM5Vt3TGajsWlpcH6qorr7SKE/ETk7Ht6tDQXyjYbGIyadDV1ppSP9GOjAboCUf6AGBV0kZzeBkQLsxmh+ayLn99LZQUFZFS7tIHIZEwSNisgjJo0BkKptXYswZYUF4GdVWVJC0OHD4C+w4eImGzDpIGoFHa7G8An89HAu/co5FwOQFJA1intbJiIYg/lDKybz8cOXacAs0NRhrAGq8FPh8s8zdYA01HT8VisCc6TMLmDCQNYI3a+upKmF9WZg00Ha0Pj8L45CQJmzOQCwzgkm9DmSkuKylZ2FBbfVHmyDMjxicm9uojY/+lYHOK4VCR7kksp08BPMHbu9pbn89pB7NYua7rL3DOV1CqnDdvXm1dXd0YBZtLTHffwCr0oXhUT1qkAaZp0TRNDPhQx+x/xBi7LZdCUuuWBjDJnKZp4uqtNhk+MyzGGJtHwM0JRBrABM2apv0QAKhX8FWMsYdMpHEkRBogA+0jIyM1U1NToxR1EHGb3+8/n4KdK4w0QAamdV1/hHN+GUUQznlrIBAQ08RcW6QB0kgTjUZbEokEaZYu5/yxQCDwSdcqP90waYA0Cmma9iIAfIAiYiKRqF+6dOkIBTuXGM8aoK+vrzzm812qcLwIEM/nnG/1+XDblKJsWNvSckBV1SsQkTTJEwBc+9g321yeNEBv/5YWUIz7OId3n3G1IQyBAbecsyxwF+e8inA1TjLGigk4RyCeM8CmcPhKBZS0Azp23vYZhnFNU1PTg46oSUjqKQM829fXVOgreAUAU77N8fkUaPY3Eqh8E/IfxtgFVLATOE8ZoCccuQMAbk5HdH11FcwvK6Vq0cYYC1PBTuA8ZoDNGwD4mlREFxcVAauvJemAiI/5/X7XP/Z5+ktgTzhyGAAWpFKY1ddBcRF52L6BMSZWB+VV8dYdYCDyL+DJZyHbmeSJiD/x+/3fyCvlvTgQ1B2O3IMA1ycTqpk1gk8hLdEbZ4yRvzQ4bRqP3QEG1gLHZ2eTbuexDxGv9fv9v3NaSGp+TxlAkNQbjtzDZ9wFxFUvrn5iybvHPk9/CTzZebFcDRG/I/5fV10JC4iTPBFxld/v7yeaxxUwz90BTrIuhoPLyopuXlJTTd2W5XHG2CdcoaKNRnjWAIKz4eHh6lgsRpqoaRjGLU1NTXfa4N4VUE8bQCig6/oqznnKWbHpVDIMY31TU9MzrlCS2AjPG0DwpmnalwHgVxQO4/F407Jly/J2ibs0wLTqmqb9BgC+SDDBMcbYfALOFRBpgBkyaJomvtGHCMq8yBgjLRgh5MoqRBpgFp2apu0DAMrC/wcZY9dkVZ05qEwaYBbJu3fvrvP5fNQlvDcxxn4+B7plLYU0QBIqVVXtQMQeIstrGWMbzWB7BgbWcgNFrtXAjRpAfreiKE+uDgZ3mMFnI0YaIAWLqqregIi/pJCsKIq/sbFxMBV2UySyROF4G3D+pWQxnMPlXW3BRyi5rWKkAdIwpqrqvYj4eaukAsBhxlhFMlxPf+TTgHA7ADSnqxcBr+oIrcz5kjJpgAzqqqoaQUTLG0Bzzl8IBAItM6vvDoevQ1DuM2soBLiuIxR8wGw8JU4awARrqqoeRMSkV3Q6OOf8gUAgcJ2I6QlHxFV/q4l0p4Xk+uNAGsCEIjt27GgoKSlJ+ZmewQRffU3VLwaA1SZSpQgxPtYZCv2djk+NlAYwyWo0Gu1KJBKbTIafFjY4OgYnxico0FMY5Limo20lKX+6xNIAFmQZHBy80TCMX1iAnAp9Q49CPJGgQE9hEgk8b037yldsVTILLA1gkU1d1+/nnF9rEQYJw4BdGulT5LRUvkSspL293d7tZEaN0gBWlXzrFfIWzvkHrULHJyZBHyHtNXEqFefweldb8B1Wc6eKlwYgMqlpWto1BqmqPXz0GIzuP0DM+haMA/9TV6j1M7YqmQZLAxBZjEaj/kQiQdr0d+zAQTh05Cgx8zQM8abO1pW23zuctQbYuHFjma+o/FzuM/Z3tba+YY/t5Ghd19dyzs+YZm4m1+DIGJyYsPdRrihw+eqgvSHjs84A3eHIjQj8KgA8tTkTB/gnIL+vq7XV9CicGRFFjKZpNwHAT83Gz4zbpUchYfPJADl2dLStfI6SX2DOGgP0hMPnAvhuB+CpZ/kiPAsJ+HHnqiD1cMekPG/fufPV0uLid1oVIRtPBgiwl4OxqjMU+p/V/GeNAfq2bFmeiPPHAfh55kjI3shab//ANzniD6gLS7PxZIAAm2MFyiViaxtz/X87Ku/vAL29mwO80HgcAN9rpfO+RGxRe3u7rY2qu/sHrkbEU8vClgf8oGDGQ1TOaOaho8dgzOaTAQD8rTMUvNQKB3l/BwiHw/VToHQDJNnrJzMTE52hYEnmsOQR3eEtaxCMpwCg8GREYUEBLG0Up8hZL2P7D8KhozafDADu7AwFb7GSPW/vAE/19VWVFhRu5Tz9e/V0ZCDC9o7W4LusEPbmVdPffx6iT4gfmI21s8NINp4MQIHrO4PBe832KS8N8MzWrQvmTcVfBQDa5XY6Oxs6Q8EPmyVsQzhcX8CVJwHh/bMxZaUl0FBD2U8aIBsDRNPtiYEB6ztXBcWdMWPJOwP09fUVJ3yFYieORRl7ZzKAc/hrV1vwU5nCX3rppcKDJyaeRoAPJYtdzhpBIewxYBgcXtf0TOlN/x4RtxtgrDcz/pFXBnj00Ud9lXVLjnIA8md3KhYReC8Av7UjFPpHsphN4XCHD5QbOMAlyX5fs3gRVCygrQ8ZGtsLx06MmxbYTCDn8ExXW3B9pti8MkBPOMIzdcjm748iwq8NQ3mkq61lm6jruYGB9xkcxa4iKd8Ain2FxGMgpRw9fgKG94qlCNkvCHB3Ryh4Q7qa88YAPeGIeI1Wk32aUtYoxvnFEHLyU09nwJoa6mFe4amHAUtNfE3VgfMc+hr5jZ2trSlnN+eFAbr7I9sQ4T2WmJ2j4MUVC6GKeobg3v1w5PgcnCGIysWdrS1PJ6PE9QboDW/u4cA75khPS2kKCwtgaQPtQeT4+DhER/daymcjeA+AsT7ZcLGrDdA7sJl8WIMNskxD/XW1UFKcH4dHI2Dv5LHD69etW3fawYWuNUDPwOa7gPOvmFZjjgMXzi+H2srFpKxi2FcM/8514cDv7wq1nrbQxZUGyNSouSZudj47x8dm4+WPnf7PPqsxE9eOnBuYqVF2CMgGdklNFZSX0vaG3D04BLF4PBvNINUhDUCi7W1QeWkJLCEO9+47eAgOHD5iswX24NIANvgTw7zLGpeQhnsnp2KgDlG3HbDR6FlQaQAbXNZULoaK+eWkGtShEZicmiJhswmSBiCyWVpSDI21tIFIcdsXt383FGkAogpiooeY8GG1iC984oufW4o0AEEJO7uJZ2WSB6HNqSDSABbJLCkqAj/xGBmx+EMsAnFTkQawqIYQX5jAasnGlG+rOc3ESwOYYWk6ZtGC+VC9mDbxKBeTPCw0PWVo3hggG521U0fl4ormqkULSfvzTMXjG3er0Z/YyZ9LbFd76/Mn68806urIUHAuO2+2bk3TngAAy2cJcM5j8Xi8urm5Wawedn2RBkgikaqqX0DE31LU45x/LhAIPEzBOoGRBpjFuq7ryznn/wYAytueJxhjH3dCSGpORw0AAA9xzl211z6rr/1ISXHxhRRC9wyN3DU5OZkXt/6T/UNEsbjlylT9zel3AODwMmDygxwpAtjFiMOjxCFSlJKVTR8oie1iMmjgGQOISR7imZ8y3Cs2ehAjfnlZpAHeks3Owg7xmle87s3LIg0AkO+TPGwZz+sGEJM8xGteyqnhE5NToA2P2OLfcbDXDVC1qAIWL0x5onxaffThURifPG2WteN6Wm7AHBkgebs4VACCYzMl5peVLqqvrrrAMmniQICjx/TR/Qd2UbCuwmTQoDMUbE/XXuv7obik92Kl8YoVK8SxMBnX/iVp8k7G2Dku6YqjzchbA2ia9i0A+D6FPURc5/f7SfsDUvK5GZOXBohGoy3xeLwPEecRyL2XMSaWi8sCAHlpAF3Xn+acZ9w8YbbCnPNRRVGW+v3+7O7mkMdWyjsDaJr2NQD4GZHzyxhjfyZiz0pY3hngrFTBwU5JAzhIvhtSSwO4QQUH2yAN4CD5bkgtDeAGFRxsgzSAg+S7IbU0gBtUcLAN0gAOku+G1NIAblDBwTZIAzhIvhtSSwO4QQUH2yAN4CD5bkgtDeAGFRxsgzSAg+S7IbU0gBtUcLAN0gAOku+G1P8HXF8j+YvhwMkAAAAASUVORK5CYII=";var v=o(4),w=o(1),S=o(2);function I(e){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var E,O=function(){return(O=Object.assign||function(e){for(var t,o=1,r=arguments.length;o<r;o++)for(var i in t=arguments[o])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},P=function(e,t,o,r){return new(o||(o=Promise))((function(i,n){function a(e){try{c(r.next(e))}catch(e){n(e)}}function s(e){try{c(r.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},k=function(e,t){var o,r,i,n,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(n){return function(s){return function(n){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,r&&(i=2&n[0]?r.return:n[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,n[1])).done)return i;switch(r=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,r=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==n[0]&&2!==n[0])){a=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){a.label=n[1];break}if(6===n[0]&&a.label<i[1]){a.label=i[1],i=n;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(n);break}i[2]&&a.ops.pop(),a.trys.pop();continue}n=t.call(e,a)}catch(e){n=[6,e],r=0}finally{o=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,s])}}},T=function(){for(var e=0,t=0,o=arguments.length;t<o;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<o;t++)for(var n=arguments[t],a=0,s=n.length;a<s;a++,i++)r[i]=n[a];return r},x=function(){function e(e,t,o){var n=this;this.parent="",this.id="",this.wbId="",this.urlObject="",this.canvasArray=[],this.renderMode=r.PDF,this.isTouch="ontouchstart"in window||navigator.maxTouchPoints>0,this.renderMaxZoom=p,this.viewInfo={ticking:!1,percent:0,total:1,sheet:0,sheetName:"",parentWidth:0,parentHeight:0,width:0,height:0,viewWidth:0,viewHeight:0,rate:1,canvasMaxPage:5,scrollTop:0,scrollLeft:0,lastTime:0,lastTimeId:0,scrollTimeId:0,isParentScale:!1,fillPPT:!1,h5CDNUsedMap:{},imgInfo:{isSmall:!1,isScale:!1,width:0,height:0,min_w:640,min_h:400},firstInfo:{page:0,step:0,h5Extra:"",loadedFile:!1,scrollTop:0},maxSteps:{},isClearCanvas:!1,filePageSize:void 0},this.zoomInfo={zoom:1,x:0,y:0,tx:0,ty:0,isDrag:!1,enableScroll:!0,remoteScroll:!0,dragRectTop:0,dragRectBottom:0},this.ppth5Info={page:1,step:1,scene:0,targetPage:0,targetStep:0,lastStep:-1,goPage:0,goStep:0,notify:!0,loaded:!1,scale:1,goTimer:0,syncTimer:0,pageChangeTimer:0,p:"",loadRetryTimer:0},this.fileInfo={},this.vpageImgCache={},this.vpageAspecCache={},this.vpageDrawImgCache={},this.domEventListeners=null,this.loadFileListenerMap={},this.PPTReady=!1,this.speakerLabel="",this.loadFileCallback=function(){var e=n.getLoadFileModelForCallback();n.loadFileListenerMap[e.fileID]&&"function"==typeof n.loadFileListenerMap[e.fileID]?n.loadFileListenerMap[e.fileID](e):v.f.emit(v.a.LoadFile,e),w.a.getInstance().info1(S.b.LoadFileCallback)},this.reloadViewCallback=function(){var e={action:u.b.ReloadView,data:n.getLoadFileModelForCallback()};if(n.docDom.dispatchEvent(new CustomEvent(u.a.Docs,{detail:e})),n.renderMode===r.PDF){var t=n.zoomInfo.zoom,o=n.viewInfo.scrollLeft*t|0,i=n.viewInfo.scrollTop*t|0;n.docDom.scrollTo(o,i),n.renderDom.scrollTo(o,i),clearTimeout(n.viewInfo.scrollTimeId),n.viewInfo.scrollTimeId=window.setTimeout((function(){n.viewInfo.ticking=!1}),34)}else n.setDocsViewDomTransform(n.zoomInfo.tx,n.zoomInfo.ty);w.a.getInstance().info1(S.b.ReloadViewCallback)},this.handleWhiteboardEvent=function(e){var t=e&&e.detail,o=t.action;if(w.a.getInstance().info1(S.b.Zegoeventwb,{data:t}),o===u.b.Page)n.handleWhiteboardPageEvent(t);else if(o===u.b.WbScale){var r=t,i=r.scale,a=r.x,s=r.y,c=r.notify;n.handleSetScaleFactor(i,a,s,c)}else if(o===u.b.WbDragTool)n.handleWhiteboardDragToolEvent(t);else if(o===u.b.WbInit)n.handleWhiteboardInitEvent(t);else if(o===u.b.Animation)n.handleWhiteboardAnimationEvent(t);else if(o===u.b.WbDestroy)n.unloadFile();else if(o===u.b.Snapshot)n.docsSnapshot(t);else if(o===u.b.ReloadView){var l=t.data.options;n.reloadView(l)}else o==u.b.WbSwitch?n.reloadCanvas():o==u.b.ClearEvent&&window.removeEventListener("message",n.handleIframeMessage)},this.handleIframeMessage=function(e){var t=e.data;if(t&&"zegodocsview"===t.source){var o=t.action,r=t.res,i=t.hash;if(!i||i==="#"+n.id)if("syncDOMEvent"!==o&&"getH5SnapshotResult"!==o&&w.a.getInstance().info1(S.b.H5_iframe,{data:t}),w.a.getInstance().info1(S.b.H5_iframe,{action:o,res:r}),"syncCurrentPage"===o)n.syncCurrentPage(r);else if("syncCurrentStep"===o&&n.ppth5Info.loaded)n.syncCurrentStep(r);else if("syncCurrentPageStep"===o)n.syncCurrentPageStep(r);else if("syncCurrentElement"===o)n.syncCurrentElement(r);else if("syncDOMEvent"===o&&n.domEventListeners){var a=n.domEventListeners[r.type];a&&a(r)}else if("syncCurrentError"===o)n.syncCurrentError(r);else if("onload"===o)n.initIframe();else if("didLoadFinish"===o)w.a.getInstance().info1(S.b.DidLoadFinish,{fileid:n.fileInfo.file_id,time:(new Date).toLocaleString()}),n.ppth5Info.loadRetryTimer&&clearTimeout(n.ppth5Info.loadRetryTimer),n.PPTReady&&v.f.emit(v.b.LoadFinish,n.fileInfo.file_id),(n.resolveSpeaker||n.rejectSpeaker)&&n.setDynamicPPTH5Speaker();else if("getAllPageStepCount"===o)n.viewInfo.maxSteps=Object.freeze(JSON.parse(r));else if("getH5SnapshotResult"===o)n.getH5SnapshotResult(r);else if("switchSpeakerFinish"===o&&(n.resolveSpeaker||n.rejectSpeaker)){var s=r.code,c=r.message;"boolean"==typeof r?n.resolveSpeaker(!0):n.rejectSpeaker({code:s,message:c})}}},this.handleScrollEvent=function(e){n.zoomInfo.enableScroll&&!n.viewInfo.ticking&&(requestAnimationFrame((function(){n.ppth5Info.notify=!0;var t=n.zoomInfo,o=t.zoom,r=t.dragRectTop,i=t.dragRectBottom,a=e.target,s=Math.ceil(a.scrollTop),c=Math.ceil(a.scrollLeft),l=Math.ceil(s/o),u=Math.ceil(c/o),d=Math.ceil(s-n.viewInfo.percent*n.viewInfo.height*o);u!==n.viewInfo.scrollLeft?(n.viewInfo.scrollLeft=u,n.renderDom.scrollLeft=c,n.postSyncDragMessage(c,d)):l!==n.viewInfo.scrollTop&&(n.renderDom.scrollTop=s,1==o||s<r||s>i?(n.updateCurViewMax(s,o),n.onScrollCallback(c,s)):n.postSyncDragMessage(c,d),n.viewInfo.scrollTop=l),n.viewInfo.ticking=!1})),n.viewInfo.ticking=!0)},this.handleDragStart=function(e){n.zoomInfo.x=n.zoomInfo.y=0;var t=n.zoomInfo,o=t.isDrag,i=t.enableScroll,a=t.zoom;if(o){if(!i&&1===a)return;var s=e instanceof MouseEvent?e:e.changedTouches[0],c=s.clientX,l=s.clientY;if(n.renderMode===r.PDF){var u=n.docDom.getBoundingClientRect(),d=u.bottom;if(c>u.right-15||l>d-15)return;n.zoomInfo.tx=n.docDom.scrollLeft||n.viewInfo.scrollLeft*a,n.zoomInfo.ty=n.docDom.scrollTop||n.viewInfo.scrollTop*a}(a>1||n.viewInfo.height>n.viewInfo.viewHeight)&&(n.zoomInfo.x=c,n.zoomInfo.y=l)}},this.handleDragMove=function(e,t){if(n.zoomInfo.isDrag&&n.zoomInfo.x){if(e instanceof MouseEvent&&!t&&e.buttons<1)return;"touchmove"===e.type&&e.preventDefault(),n.ppth5Info.notify=!0,n.renderMode===r.PDF?n.dragPDF(e,!!t):n.dragPPT(e,!!t)}},this.handleDragEnd=function(e){n.handleDragMove(e,!0)},this.serviceHandle=e,this.id=t,this.setSheet(o),this.serviceHandle.registerEventHandler(this.id,i.Load,(function(e){n.viewInfo.firstInfo.loadedFile=!0,n.tranlateFileAspec(e),Object.assign(n.fileInfo,e),n.checkRenderType(),n.loadCurrentSheet(!0)})),v.f.on(v.b.LoadFinish,this.loadFileCallback)}return e.prototype.clearCanvasCache=function(){if(this.getFileType()==c.e.ZegoDocsViewFileTypeIMG){for(var e=0,t=this.canvasArray.length;e<t;e++)this.canvasArray[e].width=this.canvasArray[e].height=0;this.viewInfo.isClearCanvas=!0}},e.prototype.reloadCanvas=function(){return P(this,void 0,void 0,(function(){return k(this,(function(e){switch(e.label){case 0:return this.viewInfo.isClearCanvas?[4,this.drawImg("",this.canvasArray[0])]:[3,2];case 1:e.sent(),this.viewInfo.isClearCanvas=!1,e.label=2;case 2:return[2]}}))}))},e.prototype.getCanvasSize=function(){var e;return(null===(e=this.canvasArray)||void 0===e?void 0:e[0])?this.canvasArray[0].width*this.canvasArray[0].height:0},e.prototype.unload=function(){for(var e=0,t=this.canvasArray.length;e<t;e++)this.canvasArray[e].width=this.canvasArray[e].height=0;window.removeEventListener("message",this.handleIframeMessage),URL.revokeObjectURL(this.urlObject),this.urlObject=null,this.docDom=null,this.renderDom=null,this.iframeDom=null,this.loadingDom=null,this.canvasArray=null,this.fileInfo=null,this.vpageImgCache=null,this.vpageDrawImgCache=null,this.domEventListeners=null,this.loadFileListener=null,this.serviceHandle.removeEventHandler(this.id)},e.prototype.setParentWidthHeight=function(){var e=document.getElementById(this.parent);e.style.cssText+="position:relative;display:inherit!important;";var t=e.clientWidth,o=e.clientHeight;if(t<=0||o<=0)throw v.f.emit(v.c.Error,Object(l.b)(c.d.ZegoDocsViewErrorSizeInvalid)),new Error("无法获取容器宽高");w.a.getInstance().info1(S.b.SetParentWidthHeight,{clientWidth:t,clientHeight:o}),this.viewInfo.parentWidth=t,this.viewInfo.parentHeight=o},e.prototype.setDocsViewDomOverflow=function(){var e=this.zoomInfo,t=e.zoom,o=e.enableScroll;if(w.a.getInstance().info1(S.b.SetDocsViewDomOverflow,{zoom:t,enableScroll:o}),t>1){var i=this.renderMode===r.PDF&&o?"auto":"hidden";this.docDom.style.overflowX=i,this.docDom.style.overflowY=i,this.renderDom&&(this.renderDom.style.overflowX=i,this.renderDom.style.overflowY=i)}else{var n=this.viewInfo,a=n.height,s=n.viewHeight;w.a.getInstance().info1(S.b.SetDocsViewDomOverflow,{height:a,viewHeight:s});i=this.renderMode===r.PDF&&o&&a>s?" auto":"hidden";this.docDom.style.overflowX="hidden",this.docDom.style.overflowY=i,this.renderDom&&(this.renderDom.style.overflowX="hidden",this.renderDom.style.overflowY=i)}},e.prototype.setDocsViewDomTransform=function(e,t){var o=function(e,t,o){return"transform:translate("+e+"px,"+t+"px) scale("+o+");"},r=this.zoomInfo.zoom,i=t-(this.ppth5Info.page-1)*this.viewInfo.viewHeight*r,n=this.renderDom.firstChild;n.style.cssText+=o(e,t,r),(n=this.getDocViewChild()).style.cssText+=o(e,i,r)},e.prototype.getCanvasSplit=function(e){var t=this.viewInfo,o=t.canvasMaxPage,r=t.total,i=(e-1)/o|0;return{index:i,start:i*o+1,end:Math.min(i*o+o,r)}},e.prototype.getCanvasHeight=function(e){var t=this.viewInfo,o=t.sheet,i=t.total,n=t.height,a=t.viewHeight,s=t.canvasMaxPage,l=this.vpageAspecCache[o],u=l.h[e]||0;if(u)return u;if(this.getFileType()===c.e.ZegoDocsViewFileTypeIMG)return u=n,l.h[e]=u,u;if(this.renderMode===r.PPT)return u=a,l.h[e]=u,u;for(var d=e?l.p[e*s]+1:l.vs,p=l.p[Math.min((e+1)*s,i)],h=d;h<=p;h++)u+=l[h].h;return u=Math.round(u),l.h[e]=u,u},e.prototype.getImgErrorAspec=function(e,t,o){var r=128*this.renderMaxZoom;return[(e-r)/2,o+=(t-r)/2,r,r]},e.prototype.clearImgError=function(e,t,o,r){e.clearRect.apply(e,this.getImgErrorAspec(t,o,r))},e.prototype.drawImgError=function(e,t,o,r,i){e.drawImage.apply(e,T([b],this.getImgErrorAspec(t,o,r))),w.a.getInstance().error1(S.b.Draw_error,{p:this.ppth5Info.page,vpage:i})},e.prototype.drawDividingLine=function(e,t,o,r,i,n,a){e.lineWidth=this.renderMaxZoom,e.beginPath(),a?(e.moveTo(o,0),e.lineTo(o,n)):(e.moveTo(0,r),e.lineTo(i,r)),e.stroke()},e.prototype.getCurrentCDNHost=function(e){return/^https?:\/\//.test(e)&&e.indexOf(".zego.im")>0?e.substr(0,e.indexOf(".zego.im")+8):""},e.prototype.changeDecryptImageCDNHost=function(e,t,o,r){var i=this,n=this.getCurrentCDNHost(o),a=this.getCDNHostList();if(n&&a.length){t[n]=1;var s=(a.findIndex((function(e){return e===n}))+1)%a.length;if(!t[a[s]]){var c=o.replace(n,a[s]);return this.serviceHandle.decryptImage(c).then((function(t){return e.src=t})).catch((function(){return i.changeDecryptImageCDNHost(e,t,c,r)})),void w.a.getInstance().info1(S.b.Draw_img_cdn,{src:c,action:"DecryptImage"})}}var l={src:o,action:"DecryptImageLoadError",usedMap:t};this.postErrorMessage(l),w.a.getInstance().error1(S.b.Draw_img_error,{error:l}),r()},e.prototype.changeImageCDNHost=function(e,t,o,r){var i,n=this.getCurrentCDNHost(e.src),a=this.getCDNHostList();switch(o){case"ppt":i=S.b.Draw_ppt_cdn;break;case"pdf":i=S.b.Draw_pdf_cdn;break;case"img":i=S.b.Draw_img_cdn;break;default:i=""}if(n&&a.length){t[n]=1;var s=(a.findIndex((function(e){return e===n}))+1)%a.length;if(!t[a[s]])return e.src=e.src.replace(n,a[s])+(r?"?p="+r:""),w.a.getInstance().info1(i,{src:e.src,page:r}),!0}var l={src:e.src,page:r,action:"ImageLoadError",code:c.d.ZegoDocsViewErrorNetworkTimeout};return this.postErrorMessage(l),w.a.getInstance().error1(i,{error:l}),!1},e.prototype.changeH5CDNHost=function(){var e=this,t=this.viewInfo.h5CDNUsedMap,o=this.iframeDom.src,r=this.getCurrentCDNHost(o),i=this.getCDNHostList();if(r&&i.length){t[r]=(t[r]||0)+1;var n=(i.findIndex((function(e){return e===r}))+1)%i.length,a=i[n];if(n>0&&!t[a])return this.iframeDom.src=o.replace(r,a),this.ppth5Info.loadRetryTimer&&clearTimeout(this.ppth5Info.loadRetryTimer),this.ppth5Info.loadRetryTimer=window.setTimeout((function(){return e.changeH5CDNHost()}),3e4),void w.a.getInstance().info1(S.b.Draw_h5_cdn,{src:this.iframeDom.src});if(0==n&&1==t[a]){for(var s=1;s<i.length;s++)t[i[s]]=0;if(1==i.length){this.renderDom.removeChild(this.iframeDom);var l=this.vpageAspecCache[0][1],u=l.w,d=l.h;this.createIFrame(g+this.id,u,d),this.iframeDom.src=o,this.renderDom.appendChild(this.iframeDom)}else this.iframeDom.src=o.replace(r,a);return this.ppth5Info.loadRetryTimer&&clearTimeout(this.ppth5Info.loadRetryTimer),this.ppth5Info.loadRetryTimer=window.setTimeout((function(){return e.changeH5CDNHost()}),3e4),void w.a.getInstance().info1(S.b.Draw_h5_cdn_retry,{src:this.iframeDom.src})}}this.ppth5Info.loadRetryTimer&&clearTimeout(this.ppth5Info.loadRetryTimer);var p={src:o,action:"H5LoadError",code:c.d.ZegoDocsViewErrorNetworkTimeout};this.postErrorMessage(p),w.a.getInstance().error1(S.b.Draw_h5_error,{error:p})},e.prototype.drawPPT=function(e,t,o,r,i){var n=this;return new Promise((function(a,s){t*=n.renderMaxZoom,o*=n.renderMaxZoom;var u={},d=i.getContext("2d");if(!d)return v.f.emit(v.c.Error,Object(l.b)(c.d.ZegoDocsViewErrorGetContextFail)),s();var p=new Image;p.setAttribute("crossOrigin","anonymous"),p.onload=n.delayDraw((function(){d.clearRect(0,0,t,o),d.fillStyle="white",d.fillRect(0,0,t,o),d.drawImage(p,0,0,t,o),w.a.getInstance().info1(S.b.Draw_ppt,{p:n.ppth5Info.page,vpage:e,w:t,h:o}),a()})),p.onerror=function(r){n.changeImageCDNHost(p,u,"ppt",e)||(d.clearRect(0,0,t,o),n.drawImgError(d,t,o,0,e),s(r))},p.src=/^https?:\/\//.test(r)?r+"?p="+e:"data:image/png;base64,"+r}))},e.prototype.drawPDF=function(e,t,o,r,i,n,a){var s=this;o*=this.renderMaxZoom,r*=this.renderMaxZoom,i*=this.renderMaxZoom,n*=this.renderMaxZoom;var u=this.vpageAspecCache[this.viewInfo.sheet],d=this.getCanvasSplit(e),p=d.index,h=d.start,_=d.end,f=this.canvasArray[p].getContext("2d");return f?this.vpageDrawImgCache[t]?(w.a.getInstance().info1(S.b.Draw_pdf_cache_aspec,""+!u.o),u.o?this.addtionalDraw(f,a,o,0):this.addtionalDraw(f,a,0,r),Promise.resolve()):e<h||e>_?Promise.resolve():(t-=u.vs-1,new Promise((function(c,l){var d={},p=new Image;p.setAttribute("crossOrigin","anonymous"),p.onload=s.delayDraw((function(){s.clearImgError(f,i,n,r),f.fillStyle="white",w.a.getInstance().info1(S.b.Draw_pdf_no_cache_aspec,""+!u.o),u.o?(f.fillRect(o,0,i,n),f.drawImage(p,o,0,i,n),s.addtionalDraw(f,a,o,0)):(f.fillRect(0,r,i,n),f.drawImage(p,0,r,i,n),s.addtionalDraw(f,a,0,r)),s.vpageDrawImgCache[t]=1,t>1&&t===u.p[e-1]+1&&s.drawDividingLine(f,e,o,r,i,n,u.o),c()})),p.onerror=function(a){s.changeImageCDNHost(p,d,"pdf",t)||(s.drawImgError(f,i,n,r,t),s.vpageDrawImgCache[t]=0,t>1&&t===u.p[e-1]+1&&s.drawDividingLine(f,e,o,r,i,n,u.o),l(a))},p.src=/^https?:\/\//.test(a)?a+"?p="+t:"data:image/png;base64,"+a}))):(v.f.emit(v.c.Error,Object(l.b)(c.d.ZegoDocsViewErrorGetContextFail)),w.a.getInstance().info1(S.b.Draw_pdf,"Get canvas context Fail"),Promise.reject())},e.prototype.drawImg=function(e,t){var o=this;return new Promise((function(r,i){var n={},a=o.viewInfo,s=a.parentWidth,u=a.parentHeight,d=a.viewWidth,p=a.viewHeight,h=a.rate,_=o.vpageAspecCache[0][1],f=t.getContext("2d");if(!f)return v.f.emit(v.c.Error,Object(l.b)(c.d.ZegoDocsViewErrorGetContextFail)),i();var g=new Image;if(g.setAttribute("crossOrigin","anonymous"),g.onload=function(){var e=o.viewInfo.imgInfo,i=e.min_w,n=e.min_h,a=g.width,c=g.height,l=c/a,m=a<=i&&c<=n,y=a<=1440&&l<=2.2&&l>=614/1280;if(o.viewInfo.imgInfo.isSmall=m,o.viewInfo.imgInfo.isScale=y,o.viewInfo.imgInfo.width=a,o.viewInfo.imgInfo.height=c,o.clearImgError(f,d*o.renderMaxZoom,p*o.renderMaxZoom,0),m||y){var b=m?Math.min(i,s)/a:s/a,v=m?Math.min(n,u)/c:u/c,I=Math.min(b,v),E=(s-(P=a*I|0))/2,O=(u-(k=c*I|0))/2;Object.assign(_,{x:E,y:O,w:P,h:k}),o.viewInfo.height=_.h,o.updateDocsViewLayout(E,O,P,k),o.setCanvasWidthHeight(t,P,k),f.fillStyle="white",f.fillRect(0,0,t.width,t.height),f.drawImage(g,0,0,t.width,t.height),w.a.getInstance().info1(S.b.Draw_img_scale,{width:a,height:c,draw_w:P,draw_h:k,rate:I})}else{var P=a*h|0,k=c*h|0;O=Math.max((u-k)/2,0);Object.assign(_,{x:0,y:O,w:s,h:k}),o.viewInfo.height=_.h,o.updateDocsViewLayout(0,O,s,Math.min(u,k)),o.setCanvasWidthHeight(t,s,k),f.fillStyle="white",f.fillRect(0,0,t.width,t.height),f.drawImage(g,0,0,t.width,t.height),w.a.getInstance().info1(S.b.Draw_img_full,{width:a,height:c,draw_w:P,draw_h:k,rate:h})}var T=o.getFile();T.max_width=_.w,T.total_height=_.h,r()},""==e&&o.getFileType()==c.e.ZegoDocsViewFileTypeIMG&&o.urlObject)return o.setCanvasWidthHeight(t,s,u),void(g.src=o.urlObject);if(/^https?:\/\//.test(e)){var m=function(){o.setCanvasWidthHeight(t,s,u),o.drawImgError(f,t.width,t.height,0,1),i()};o.serviceHandle.decryptImage(e).then((function(e){o.urlObject=e,g.src=e})).catch((function(){return o.changeDecryptImageCDNHost(g,n,e,m)}))}else g.onerror=function(){o.changeImageCDNHost(g,n,"img")||(o.setCanvasWidthHeight(t,s,u),o.drawImgError(f,t.width,t.height,0,1),i())},g.src="file://"+e}))},e.prototype.createDocsView=function(){var e=this,t=_+this.id;if(!document.getElementById(t)){this.canvasArray=[],this.vpageDrawImgCache={};var o=document.createElement("div");o.id=f+this.id,this.renderDom=o,(o=document.createElement("div")).id=t,o.setAttribute("data-page",this.viewInfo.total+""),o.setAttribute("data-mode",this.renderMode+""),o.addEventListener(u.a.Whiteboard,this.handleWhiteboardEvent),this.docDom=o;var r=document.createElement("div");r.id=h+this.id,r.appendChild(this.renderDom),this.createImageLoading(r),r.appendChild(this.docDom),document.getElementById(this.parent).appendChild(r),o.addEventListener("scroll",this.handleScrollEvent),o.addEventListener("mousedown",this.handleDragStart),o.addEventListener("mousemove",this.handleDragMove),o.addEventListener("mouseup",this.handleDragEnd),o.addEventListener("mouseleave",this.handleDragEnd),o.addEventListener("touchstart",this.handleDragStart),o.addEventListener("touchmove",this.handleDragMove),o.addEventListener("touchend",this.handleDragEnd),o.addEventListener("touchcancel",this.handleDragEnd),this.serviceHandle.existCanvasDrawLimit&&window.addEventListener("unload",(function(){e.releaseCanvas(1)}))}},e.prototype.createImageLoading=function(e){if(this.renderMode===r.PDF||this.renderMode===r.PPT){var t=document.createElementNS("http://www.w3.org/2000/svg","svg");t.setAttribute("xmlns","http://www.w3.org/2000/svg"),t.setAttribute("version","1.1"),t.setAttribute("viewBox","0 0 1024 1024"),t.setAttribute("width","48"),t.setAttribute("height","48"),t.setAttribute("class","loading"),t.innerHTML='<path d="M834.7648 736.3584a5.632 5.632 0 1 0 11.264 0 5.632 5.632 0 0 0-11.264 0z m-124.16 128.1024a11.1616 11.1616 0 1 0 22.3744 0 11.1616 11.1616 0 0 0-22.3744 0z m-167.3216 65.8944a16.7936 16.7936 0 1 0 33.6384 0 16.7936 16.7936 0 0 0-33.6384 0zM363.1616 921.6a22.3744 22.3744 0 1 0 44.7488 0 22.3744 22.3744 0 0 0-44.7488 0z m-159.744-82.0224a28.0064 28.0064 0 1 0 55.9616 0 28.0064 28.0064 0 0 0-56.0128 0zM92.672 700.16a33.6384 33.6384 0 1 0 67.2256 0 33.6384 33.6384 0 0 0-67.2256 0zM51.2 528.9984a39.168 39.168 0 1 0 78.336 0 39.168 39.168 0 0 0-78.336 0z m34.1504-170.0864a44.8 44.8 0 1 0 89.6 0 44.8 44.8 0 0 0-89.6 0zM187.904 221.7984a50.432 50.432 0 1 0 100.864 0 50.432 50.432 0 0 0-100.864 0zM338.432 143.36a55.9616 55.9616 0 1 0 111.9232 0 55.9616 55.9616 0 0 0-111.9744 0z m169.0112-4.9152a61.5936 61.5936 0 1 0 123.2384 0 61.5936 61.5936 0 0 0-123.2384 0z m154.7776 69.632a67.1744 67.1744 0 1 0 134.3488 0 67.1744 67.1744 0 0 0-134.3488 0z m110.0288 130.816a72.8064 72.8064 0 1 0 145.5616 0 72.8064 72.8064 0 0 0-145.5616 0z m43.7248 169.472a78.3872 78.3872 0 1 0 156.8256 0 78.3872 78.3872 0 0 0-156.8256 0z" fill="#cdcdcd"></path>',this.loadingDom=t,e.appendChild(this.loadingDom)}},e.prototype.showImageLoading=function(e){this.loadingDom.style.display=e?"block":"none"},e.prototype.hideOtherDocsView=function(){var e=document.getElementById(this.parent);if(e){var t=h+this.serviceHandle.getStore()[this.parent+"_activited"];Array.from(e.children||e.childNodes).forEach((function(e){e.style.display=e.id==t?"block":"none"}))}},e.prototype.updateDocsViewLayout=function(e,t,o,r){e|=0,t|=0,o|=0,r|=0,this.viewInfo.width=o,this.viewInfo.viewWidth=o,this.viewInfo.viewHeight=r;var i="width:"+o+"px;height:"+r+"px;";this.docDom.style.cssText+=i,this.renderDom.style.cssText+=i,this.docDom.parentElement.style.cssText=i+"left:"+e+"px;top:"+t+"px;",w.a.getInstance().info1(S.b.UpdateDocsViewLayout,{x:e,y:t,w:o,h:r,h0:this.viewInfo.height})},e.prototype.setCanvasWidthHeight=function(e,t,o){e.style.cssText+="width:"+t+"px;height:"+o+"px;",e.width=t*this.renderMaxZoom,e.height=o*this.renderMaxZoom,this.getFileType()==c.e.ZegoDocsViewFileTypeIMG&&this.serviceHandle.calcCanvasSize(this.id)},e.prototype.createCanvas=function(){if(this.canvasArray.length)return!1;var e=document.createElement("canvas");e.setAttribute("data-i","0"),this.canvasArray.push(e);var t=this.viewInfo,o=t.parentWidth,i=t.parentHeight,n=t.height,a=t.sheet,s=t.canvasMaxPage,l=t.fillPPT,u=this.getFileType();if(u===c.e.ZegoDocsViewFileTypeIMG)return this.updateDocsViewLayout(0,0,o,i),!0;var d=this.vpageAspecCache[0][1],p=d.x,h=d.y,_=d.w,f=d.h;if(this.renderMode===r.PPT)this.setCanvasWidthHeight(e,_,f),this.updateDocsViewLayout(p,h,_,f);else{var g=l?_:o;this.setCanvasWidthHeight(e,g,this.getCanvasHeight(0));var m=this.getPageCount();if(m>s){m=Math.ceil(m/s);for(var y=0,b=this.vpageAspecCache[a],v=0;v<m;v++)y+=this.getCanvasHeight(v);if(y=n-y,Math.abs(y)>10&&m>2){var I=y>0?1:-1;y*=I;var E=Math.ceil(m>y?m/y:1);I=1==E?Math.round(I*y/m):I;var O="diff="+y+",step="+E+",count="+m+",equal="+this.getFile().isEqualAspec;w.a.getInstance().info1(S.b.Pdf_diff_canvas,{log:O});for(v=1;v<=m;)b.h[v]+=I,v+=E}for(v=1;v<m;v++){var P=document.createElement("canvas");P.setAttribute("data-i",v+"");var k=l?_:o;this.setCanvasWidthHeight(P,k,this.getCanvasHeight(v)),this.canvasArray.push(P)}}if(u===c.e.ZegoDocsViewFileTypeELS&&this.getDocViewChild())this.resetVisibleSize();else if(l)this.updateDocsViewLayout(p,h,_,f);else{var T=Math.max((i-n)/2,0),x=Math.min(i,n);this.updateDocsViewLayout(0,T,o,x)}}return!0},e.prototype.renderCanvas=function(){var e=this.zoomInfo.zoom,t=this.viewInfo,o=t.width,i=t.height,n=this.getDocViewChild(),a=!!n,s="width:"+o+"px;height:"+i+"px;"+(e>1?"transform:scale("+e+");":"");if(n||(n=document.createElement("div"),this.docDom.appendChild(n)),n.style.cssText=s,a){if(this.getFileType()==c.e.ZegoDocsViewFileTypeELS){var l=document.createDocumentFragment();this.canvasArray.forEach((function(e){return l.appendChild(e)})),(n=this.renderDom.firstChild).style.cssText=s,n.innerHTML="",n.appendChild(l)}}else if(this.renderMode===r.PPT)this.renderDom.appendChild(this.canvasArray[0]);else{var u=document.createDocumentFragment();(n=document.createElement("div")).style.cssText=s,this.canvasArray.forEach((function(e){return n.appendChild(e)})),u.appendChild(n),this.renderDom.appendChild(u)}this.setDocsViewDomOverflow(),this.viewInfo.firstInfo.scrollTop>0&&this.handleScroll(this.viewInfo.firstInfo.scrollTop),this.viewInfo.firstInfo.scrollTop=-1},e.prototype.drawCanvas=function(e,t){var o=this,i=this.renderMode===r.PPT;i&&(e=e.filter((function(e){return e.virtual_page_number===o.ppth5Info.page}))),this.createDocsView(),this.showImageLoading(!0);for(var n=this.createCanvas(),a=this.canvasArray[0],s=0,c=0,l={id:this.id},u=[],d=this.vpageAspecCache[this.viewInfo.sheet],p=0;p<e.length;++p){var h=e[p],_=h.image_data,f=h.image_path,g=h.virtual_page_number;if(_)if(i){var m=d[g],y=m.w,b=m.h,v=this.drawPPT(g,y,b,_,a);u.push(v)}else{var I=d[g],E=I.p;y=I.w,b=I.h,v=this.drawPDF(E,g,c,s,y,b,_);u.push(v),s+=b,c+=y,l[g]=this.vpageDrawImgCache[g]}else if(f){v=this.drawImg(f,a);u.push(v)}}if(this.canvasArray.length>1){var O=this.canvasArray.reduce((function(e,t){return e+t.height/o.renderMaxZoom}),0),P=this.viewInfo.height-O;this.canvasArray.forEach((function(e,t){t!==o.canvasArray.length-1&&(e.style.marginBottom=P/(o.canvasArray.length-1)+"px")})),w.a.getInstance().info1(S.b.Draw_cache,{log:l})}var k=function(){o.docDom&&n&&o.renderCanvas(),o.hideOtherDocsView(),t&&t(),o.showImageLoading(!1)};Promise.all(u).then(k,k)},e.prototype.getIframeDom=function(){return this.iframeDom},e.prototype.drawHtml=function(e,t){var o=this;this.createDocsView();var r=g+this.id;if(!document.getElementById(r)){var i=this.vpageAspecCache[0][1],n=i.x,a=i.y,s=i.w,c=i.h,l=this.getFile().page_list[0].width;(this.isTouch||s-l>4)&&(this.ppth5Info.scale=Number((s/l).toFixed(4))),this.createIFrame(r,s,c);var u=this.serviceHandle.getStore();this.iframeDom.src=e[0].image_data+"?logLevel="+u.logLevel+"&disableH5Mouse="+u.disableH5Mouse+"#"+this.id,this.ppth5Info.loadRetryTimer&&clearTimeout(this.ppth5Info.loadRetryTimer),this.ppth5Info.loadRetryTimer=window.setTimeout((function(){return o.changeH5CDNHost()}),3e4);var d="width:"+s+"px;height:"+this.viewInfo.height+"px;",p=document.createElement("div");p.style.cssText=d,this.docDom.appendChild(p),this.renderDom.style.zIndex="1",this.renderDom.appendChild(this.iframeDom),this.updateDocsViewLayout(n,a,s,c),this.setDocsViewDomOverflow(),window.addEventListener("message",this.handleIframeMessage)}this.hideOtherDocsView(),!this.PPTReady&&t&&t()},e.prototype.createIFrame=function(e,t,o){var r=document.createElement("iframe");r.id=e,r.allow="autoplay;camera;microphone",r.width=t+"",r.height=o+"",this.iframeDom=r},e.prototype.execDraw=function(e,t){var o=this,i=e,n=e;if(this.renderMode===r.PDF){var a=this.getCanvasSplit(e);i=a.start,n=a.end}var s=this.getAllVirtualInPageRange(i-1,n-1);this.startGetImageByVirtualPageList(s,(function(e){o.renderMode===r.H5_PPT||o.renderMode===r.H5_CUSTOM?o.drawHtml(e,t):o.drawCanvas(e,t)}))},e.prototype.execScrollFileAndDraw=function(e,t,o){var r=this;if(this.canvasArray.length>1){var i=Date.now(),n=i-this.viewInfo.lastTime;if(this.viewInfo.lastTime=i,n<100)return this.viewInfo.lastTimeId&&clearTimeout(this.viewInfo.lastTimeId),void(this.viewInfo.lastTimeId=window.setTimeout((function(){o?o.forEach((function(e){return r.execDraw(e,t)})):r.execDraw(r.ppth5Info.page,t);var i={p:r.ppth5Info.page,page:e,zoom:r.zoomInfo.zoom,pages:o};w.a.getInstance().info1(S.b.Draw_scrolled,{log:i})}),100))}this.execDraw(e,t)},e.prototype.onScrollCallback=function(e,t){var o=this.viewInfo,r=o.total,i=o.width,n=o.height,a=o.viewHeight,s=o.scrollTop;if(n>a){var c=this.zoomInfo.zoom,l=this.getPageByScrollTop(t),u=Number((t/n/c).toFixed(7));this.ppth5Info.page=l,this.triggerOnScrollEventListener(t,l,u);var d=e&&Number((e/i/c).toFixed(7));if(this.postPageChangeMessage(d),this.ppth5Info.page!==l){if(this.execScrollFileAndDraw(l),this.viewInfo.isParentScale)(p=document.getElementById(this.parent))&&this.drawPDFBlank(p.clientHeight,t/c)}else if(l>1&&l<r)if(this.viewInfo.isParentScale){var p;(p=document.getElementById(this.parent))&&this.drawPDFBlank(p.clientHeight,t/c)}else{var h=t>s*c?1:-1;this.getCanvasSplit(l).index!==this.getCanvasSplit(l+h).index&&this.execScrollFileAndDraw(l+h)}}else this.postSyncDragMessage(e,t)},e.prototype.getLoadFileModelForAPI=function(e){var t={parent:this.parent,fileID:e.file_id,fileName:e.file_list[0].file_name,fileType:e.file_type,fileUrls:e.file_urls,pageCount:e.file_list[0].page_count,width:e.width,height:e.height};return e.file_hash?t.fileHash=e.file_hash:t.seq=e.seq,e.file_type===c.e.ZegoDocsViewFileTypeELS&&(t.name=e.file_list[0].name,t.sheets=e.file_list.map((function(e){return e.file_name}))),t},e.prototype.getLoadFileModelForCallback=function(){var e,t=this.viewInfo,o=t.width,r=t.height,i=t.filePageSize,n=this.getFile(),a=this.getFileType(),s={parent:this.parent,fileID:this.fileInfo.file_id,fileName:n.file_name,fileType:a,pageCount:n.page_count,width:o,height:r};this.fileInfo.file_hash?s.fileHash=this.fileInfo.file_hash:s.seq=this.fileInfo.seq,this.parent&&(s.viewID=_+this.id);var l=((e={fileID:s.fileID})[s.fileName]={width:o,height:r,pageCount:s.pageCount},e.data={width:o,height:r,pageCount:s.pageCount,filePageSize:i},e);return a===c.e.ZegoDocsViewFileTypeELS&&(s.name=n.name,s.sheets=this.fileInfo.file_list.map((function(e){return l[e.file_name]={width:e.max_width,height:e.total_height,pageCount:e.page_count},e.file_name}))),document.body.dispatchEvent(new CustomEvent("loadfile",{detail:l})),s},e.prototype.loadCurrentSheet=function(e,t){var o=this.getFile();if(o){var i=this.getFileType();this.viewInfo.width=o.max_width,this.viewInfo.height=o.total_height,this.viewInfo.total=o.page_count,this.viewInfo.rate=o.rate,this.viewInfo.filePageSize=o.filePageSize,i===c.e.ZegoDocsViewFileTypePPT?this.renderMode=r.PPT:i===c.e.ZegoDocsViewFileTypeDynamicPPTH5?this.renderMode=r.H5_PPT:i===c.e.ZegoDocsViewFileTypeCustomH5&&(this.renderMode=r.H5_CUSTOM),i===c.e.ZegoDocsViewFileTypeELS&&t&&(this.docDom.scrollTop=0,this.renderDom.scrollTop=0,this.canvasArray.length=0),this.execScrollFileAndDraw(this.ppth5Info.page,e?this.loadFileCallback:void 0)}},e.prototype.resetDocsViewLayout=function(e,t){var o=this.viewInfo,r=o.parentWidth,i=o.parentHeight,n=o.viewWidth,a=o.viewHeight;if(Math.abs(e-n)<5&&Math.abs(t-a)<5){var s=(r-e)/2,c=(i-t)/2;return this.docDom.parentElement.style.cssText+="left:"+s+"px;top:"+c+"px;",w.a.getInstance().info1(S.b.ReloadViewLayou,{w0:n,h0:a,w:e,h:t}),!1}return!0},e.prototype.canReloadView=function(){var e=this.viewInfo.viewWidth;this.setParentWidthHeight();var t=this.viewInfo,o=t.parentWidth,i=t.parentHeight,n=t.height,a=t.viewHeight;if(this.renderMode===r.PPT||this.renderMode===r.H5_PPT||this.renderMode===r.H5_CUSTOM||this.viewInfo.fillPPT){var s=this.fileInfo.file_list[0].page_list[0],l=s.width;return((v=s.height*(b=o)/l)>i||Math.abs(v-i)<=1)&&(b=i*o/v|0,v=i),this.viewInfo.fillPPT||(v|=0),this.resetDocsViewLayout(b,v)}if(this.getFileType()===c.e.ZegoDocsViewFileTypeIMG){var u=this.viewInfo.imgInfo,d=u.isSmall,p=u.isScale,h=(l=u.width,u.height),_=u.min_w,f=u.min_h;if(d||p){var g=d?Math.min(_,o)/l:o/l,m=d?Math.min(f,i)/h:i/h,y=Math.min(g,m),b=l*y|0,v=h*y|0;return this.resetDocsViewLayout(b,v)}}if(Math.abs(o-e)<5){var I=Math.max((i-n)/2,0),E=Math.min(i,n);return this.updateDocsViewLayout(0,I,o,E),w.a.getInstance().info1(S.b.ReloadViewLayou,{w0:e,h0:a,w:o,h:E}),!1}return!0},e.prototype.checkPPT2PDF=function(e,t){if(e===c.e.ZegoDocsViewFileTypePDF){var o=t.page_list[0],r=o.width,i=o.height,n=Number((i/r).toFixed(3));if(n<=1&&n>=614/1280)return t.page_list.map((function(e){return Number((e.height/e.width).toFixed(3))})).every((function(e){return e===n}))}return!1},e.prototype.calculateFileAspec=function(e,t){var o=e.page_list[0],r=o.width,i=o.height,n=r,a=i,s=r,c=i;if(!t){n=0,a=0,s=Number.MAX_SAFE_INTEGER,c=Number.MAX_SAFE_INTEGER;for(var l=0,u=e.page_list;l<u.length;l++){var d=u[l];d.width>n&&(n=d.width),d.width<s&&(s=d.width),d.height>a&&(a=d.height),d.height<c&&(c=d.height)}}return e.origin_max_width=n,e.max_width=n,e.min_width=s,e.max_height=a,e.min_height=c,e},e.prototype.checkRenderType=function(){8==this.fileInfo.expect_file_type&&this.postErrorMessage(c.d.ZegoDocsViewErrorUnsupportRenderType)},e.prototype.calculateFileAspecWithNoParent=function(e){for(var t=e.file_type,o=this.viewInfo.sheetName,r=function(r){var n=e.file_list[r];if(t===c.e.ZegoDocsViewFileTypeELS?(n.page_count=n.page_list.length,n.file_name===o&&(i.viewInfo.sheet=r)):n.page_count||(n.page_count=n.page_list.length),t===c.e.ZegoDocsViewFileTypePPT||t===c.e.ZegoDocsViewFileTypeDynamicPPTH5||t===c.e.ZegoDocsViewFileTypeCustomH5){var a=n.page_list[0],s=a.width,l=a.height;n.max_width=s,n.total_height=l*n.page_count}else{var u=i.checkPPT2PDF(t,n);if(i.viewInfo.fillPPT=u,u){var d=n.page_list[0];s=d.width,l=d.height;n.max_width=s,n.total_height=l*n.page_count}else{var p=i.calculateFileAspec(n,u),h=p.max_width,_=p.min_width,f=p.max_height,g=p.min_height,m=Math.abs(h-_)<5&&Math.abs(f-g)<5,y=0;m?y=n.page_count*f:n.page_list.forEach((function(e){y+=e.height*h/e.width})),n.max_width=h,n.total_height=Math.round(y)}}},i=this,n=0;n<e.file_list.length;++n)r(n)},e.prototype.tranlateFileAspec=function(e){var t=this;this.setParentWidthHeight();for(var o=e.file_type,r=this.viewInfo,i=r.sheetName,n=r.parentWidth,a=r.parentHeight,s=function(r){var s={vs:1,p:{0:0},h:{}};l.vpageAspecCache[r]=s;var u=e.file_list[r];if(o===c.e.ZegoDocsViewFileTypeELS?(u.page_count=u.page_list.length,u.file_name===i&&(l.viewInfo.sheet=r)):u.page_count||(u.page_count=u.page_list.length),o===c.e.ZegoDocsViewFileTypePPT||o===c.e.ZegoDocsViewFileTypeDynamicPPTH5||o===c.e.ZegoDocsViewFileTypeCustomH5){var d=u.page_list[0],p=d.width;((y=(g=d.height)*(m=n)/p)>a||Math.abs(y-a)<=1)&&(m=a*n/y|0,y=a),u.max_width=m,u.total_height=y*u.page_count|0,u.rate=n/p,u.filePageSize={width:p,height:g};for(var h={p:1,x:(n-m)/2,y:(a-(y|=0))/2,w:m,h:y},_=1;_<=u.page_count;++_)s[_]=O(O({},h),{p:_}),s.p[_]=1}else{s.vs=u.page_list[0].virtual_page_list[0].virtual_page_number,s.o=!1;var f=l.checkPPT2PDF(o,u);if(l.viewInfo.fillPPT=f,f){var g,m,y,b=u.page_list[0];p=b.width;((y=(g=b.height)*(m=n)/p)>a||Math.abs(y-a)<=1)&&(m=a*n/y|0,y=a),u.isEqualAspec=!0,u.max_width=m,u.total_height=y*u.page_count|0,u.rate=n/p,u.filePageSize={width:p,height:g,fillPPT:!0};var v={p:1,x:(n-m)/2,y:(a-y)/2,w:m,h:y},w=s.vs-1;u.page_list.forEach((function(e,t){w+=e.virtual_page_list.length,s.p[t+1]=w;for(var o=0,r=e.virtual_page_list;o<r.length;o++){var i=r[o];s[i.virtual_page_number]=O(O({},v),{p:t+1})}}))}else{var S=l.calculateFileAspec(u,f),I=S.max_width,E=S.min_width,P=S.max_height,k=S.min_height;u.rate=n/I;var T=Math.abs(I-E)<5&&Math.abs(P-k)<5,x=T?u.page_count*P*n/E:0,C=s.vs-1;u.page_list.forEach((function(e,t){var o=e.virtual_page_list.length;C+=o,s.p[t+1]=C;var r={p:t+1,x:0,y:0,w:n};T?r.h=Number((x/u.page_count/o).toFixed(4)):(r.h=Number((e.height*n/I/o).toFixed(4)),x+=e.height*n/I);for(var i=0,a=e.virtual_page_list;i<a.length;i++){var c=a[i];s[c.virtual_page_number]=r}})),u.isEqualAspec=T,u.max_width=n,u.total_height=Math.round(x)}var A=Math.floor(16e3*u.page_count/(l.renderMaxZoom*u.total_height))||1;if(window.navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)?A=1:A>=5&&(A=5),l.viewInfo.canvasMaxPage=A,l.serviceHandle.existCanvasDrawLimit){!function e(){if(!(t.renderMaxZoom<=1)){for(var o=t.vpageAspecCache[0][1].w,r=u.page_count,i=Math.ceil(r/A),a=f?o:n,c=0,l=0,d=0;d<i;d++){for(var p=0,h=d?s.p[d*A]+1:s.vs,_=s.p[Math.min((d+1)*A,r)],g=h;g<=_;g++)p+=s[g].h;var m=a*(p=Math.round(p));c=m>c?m:c,l+=m}var y=c*t.renderMaxZoom*t.renderMaxZoom>16777216;if(l*t.renderMaxZoom*t.renderMaxZoom>100663296||y)return t.renderMaxZoom>3?t.renderMaxZoom--:t.renderMaxZoom=(10*t.renderMaxZoom-1)/10,e()}}()}}},l=this,u=0;u<e.file_list.length;++u)s(u)},e.prototype.handleScroll=function(e,t,o){var i=this;if(this.docDom){var n=this.zoomInfo,a=n.zoom,s=n.enableScroll,c=this.viewInfo,l=c.height,u=c.total,d=this.ppth5Info.page,p=this.renderMode===r.PDF;if(p&&(s&&(this.viewInfo.ticking=!0,clearTimeout(this.viewInfo.scrollTimeId),this.viewInfo.scrollTimeId=window.setTimeout((function(){return i.viewInfo.ticking=!1}),34)),this.docDom.scrollTop=e,this.renderDom.scrollTop=e,this.viewInfo.scrollTop=Math.ceil(e/a)),this.renderMode===r.PDF||this.renderMode===r.PPT){if(this.viewInfo.isParentScale){this.execScrollFileAndDraw(d);var h=document.getElementById(this.parent);h&&this.drawPDFBlank(h.clientHeight,this.viewInfo.scrollTop)}else this.execScrollFileAndDraw(d);t="number"==typeof t?t:Number((p?e/l/a:(d-1)/u).toFixed(7)),this.triggerOnScrollEventListener(e,d,t),this.postPageChangeMessage(o)}}},e.prototype.getScrollTopByPage=function(e){var t=this.zoomInfo.zoom;if(this.viewInfo.total<=1||e<=1)return this.updateCurViewMax(0,t),0;if(this.renderMode!==r.PDF)return(e-1)*this.viewInfo.viewHeight*t+2;for(var o=this.vpageAspecCache[this.viewInfo.sheet],i=o.p[e-1],n=0,a=o.vs;a<=i;a++)n+=o[a].h;return n*=t,this.updateCurViewMax(n,t),n},e.prototype.getPageByScrollTop=function(e){var t=this.viewInfo,o=t.sheet,i=t.viewHeight,n=t.total,a=this.zoomInfo.zoom,s=this.getFileType(),l=Math.ceil(.5*i);if(s===c.e.ZegoDocsViewFileTypeIMG)return 1;if(this.renderMode!==r.PDF)return Math.round(e/a/i)+1;for(var u=this.vpageAspecCache[o],d=-l,p=u.vs;d<=e&&u[p];)d+=u[p].h*a,p++;return Math.min(n,Math.max(1,u[p-1].p))},e.prototype.getDocViewChild=function(){return this.docDom.firstChild},e.prototype.postWhiteboardMessage=function(e,t){if(this.wbId){var o={action:e,data:t};this.docDom&&this.docDom.dispatchEvent(new CustomEvent(u.a.Docs,{detail:o}))}},e.prototype.postSyncDragMessage=function(e,t,o){if(o||this.renderMode===r.PDF||(this.zoomInfo.tx=e,this.zoomInfo.ty=t),this.wbId){var i={action:u.b.SyncDrag,x:e,y:t,scale:this.zoomInfo.zoom,notify:this.ppth5Info.notify};this.docDom.dispatchEvent(new CustomEvent(u.a.Docs,{detail:i}))}},e.prototype.postPageChangeMessage=function(e){if(this.wbId){var t={action:u.b.Page,page:this.ppth5Info.page,step:this.ppth5Info.step,pageCount:this.viewInfo.total,ofsX:e,percent:this.viewInfo.percent,notify:this.ppth5Info.notify};this.docDom.dispatchEvent(new CustomEvent(u.a.Docs,{detail:t})),this.renderMode!==r.PDF&&this.setDocsViewDomTransform(this.zoomInfo.tx,this.zoomInfo.ty)}},e.prototype.validateFileInfo=function(e,t){return!t&&(w.a.getInstance().warn1(e,"fileinfo is null"),!0)},e.prototype.postStepChangeMessage=function(){if(!this.validateFileInfo(S.b.PostStepChangeMessage,this.fileInfo)){var e={parent:this.parent,page:this.ppth5Info.page,step:this.ppth5Info.step,fileID:this.getFileID(),fileType:this.getFileType(),fileName:this.getFile().file_name,notify:this.ppth5Info.notify};this.ppth5Info.scene&&(e.scene=this.ppth5Info.scene),w.a.getInstance().info1(S.b.Emit_StepChange,{payload:e}),v.f.emit(v.a.StepChange,e),this.triggerH5OnScrollEventListener(),this.postPageChangeMessage(),this.ppth5Info.scene=0}},e.prototype.postErrorMessage=function(e){if(2000001!==(e="object"===I(e)?e:Object(l.b)(e)).code)if(1e3===e.code||1001===e.code)this.postWhiteboardMessage(u.b.WbError,e.code);else if(String(e.code).startsWith("3"))this.postWhiteboardMessage(u.b.WbError,e.code);else{var t=O({parent:this.parent,fileID:this.getFileID(),fileType:this.getFileType(),fileName:this.getFile().file_name},e);w.a.getInstance().info1(S.b.Emit_Error,{payload:t}),v.f.emit(v.c.Error,t)}},e.prototype.triggerOnScrollEventListener=function(e,t,o){this.viewInfo.percent=o;var r=this.getFile(),i={parent:this.parent,percent:o,page:t,y:e,fileID:this.fileInfo.file_id,fileType:this.getFileType(),fileName:r.file_name,name:r.name||""};w.a.getInstance().info1(S.b.Emit_Scroll,{payload:i}),v.f.emit(v.a.Scroll,i)},e.prototype.triggerH5OnScrollEventListener=function(){var e=this.ppth5Info.page,t=(e-1)*this.viewInfo.viewHeight,o=Number(((e-1)/this.viewInfo.total).toFixed(7));this.triggerOnScrollEventListener(t,e,o)},e.prototype.postMessage2iframe=function(e,t){var o=this.iframeDom;o&&o.contentWindow&&o.contentWindow.postMessage({source:"zegodocsview",action:e,args:t||[]},"*")},e.prototype.handleWhiteboardPageEvent=function(e){var t=e.percent,o=e.step,i=e.notify,n=e.ofsX,a=e.ofsY;this.ppth5Info.notify=i;var s=0,c=1;i?(c=Math.min(Math.round(t*this.viewInfo.total)+1,this.viewInfo.total),s=this.getScrollTopByPage(c)):(s=Math.floor((t+a)*this.viewInfo.height*this.zoomInfo.zoom),c=this.getPageByScrollTop(s));var l={oldpage:this.ppth5Info.page,oldstep:this.ppth5Info.step,page:c,step:o};if(w.a.getInstance().info1(S.b.Zegoeventwb_page,{log:l}),this.renderMode===r.H5_PPT||this.renderMode===r.H5_CUSTOM)this.syncWhiteboardPPTH5Queue(c,o);else{this.ppth5Info.page=c;var u=i&&this.renderMode===r.PDF?n:void 0;this.handleScroll(s,t,u)}},e.prototype.handleWhiteboardDragToolEvent=function(e){var t=e.enable,o=this.zoomInfo.enableScroll;this.zoomInfo.enableScroll=t,this.zoomInfo.remoteScroll=e.remoteScroll,this.zoomInfo.isDrag=e.isDrag,o!==t&&(this.setDocsViewDomOverflow(),this.postMessage2iframe(n.SetCustomizedConfig,[a.PptOperationAuth,JSON.stringify({scroll:+t})]))},e.prototype.handleWhiteboardInitEvent=function(e){var t=this;this.wbId=e.data,setTimeout((function(){var e={action:u.b.DocsAspect,data:JSON.parse(JSON.stringify(t.vpageAspecCache[t.viewInfo.sheet]))};t.docDom.dispatchEvent(new CustomEvent(u.a.Docs,{detail:e}))}))},e.prototype.handleWhiteboardAnimationEvent=function(e){this.ppth5Info.notify=!1,e.notify?(this.viewInfo.firstInfo.page=this.ppth5Info.page,this.viewInfo.firstInfo.step=this.ppth5Info.step,this.viewInfo.firstInfo.h5Extra=e.data):this.playAnimation(e.data)},e.prototype.tryInitPageStep=function(e,t){var o=this;if(this.ppth5Info.goPage&&this.ppth5Info.goStep){if(this.ppth5Info.goTimer&&clearTimeout(this.ppth5Info.goTimer),this.ppth5Info.goPage===e&&this.ppth5Info.goStep===t)return void(this.ppth5Info.goPage=this.ppth5Info.goStep=0);this.ppth5Info.goTimer=window.setTimeout((function(){var r=o.ppth5Info,i=r.goPage,n=r.goStep;i&&n&&(o.execGotoPage(i,n,!1),w.a.getInstance().info1(S.b.H5_init_timeout,{id:o.id,page:e,step:t,h5:o.ppth5Info}))}),2e3)}},e.prototype.setDynamicPPTH5Speaker=function(){return this.speakerLabel?this.fileInfo.file_type!==c.e.ZegoDocsViewFileTypeDynamicPPTH5?(w.a.getInstance().info1(S.b.SetDynamicPPTH5Speaker,{file_type:this.fileInfo.file_type}),this.rejectSpeaker(Object(l.b)(c.d.ZegoDocsViewErrorSwitchSpeakerFail))):this.iframeDom&&this.iframeDom.contentWindow?void this.iframeDom.contentWindow.postMessage({source:"zegodocsview",action:n.SwitchSpeaker,args:[this.speakerLabel]},"*"):(w.a.getInstance().info1(S.b.SetDynamicPPTH5Speaker,"iframeDom 不存在"),this.rejectSpeaker(Object(l.b)(c.d.ZegoDocsViewErrorSwitchSpeakerFail))):(w.a.getInstance().warn1(S.b.SetDynamicPPTH5Speaker,"speaker label 值不存在"),void this.rejectSpeaker(Object(l.b)(c.d.ZegoDocsViewErrorParamInvalid)))},e.prototype.switchSpeaker=function(e){var t=this;return new Promise((function(o,r){if(w.a.getInstance().info1(S.b.API_switchSpeaker,{label:e}),!e||"string"!=typeof e)return r(Object(l.b)(c.d.ZegoDocsViewErrorParamInvalid));t.speakerLabel=e,t.resolveSpeaker=o,t.rejectSpeaker=r,t.setDynamicPPTH5Speaker()}))},e.prototype.syncCurrentPageStep=function(e){var t=!1;if(!this.ppth5Info.loaded){w.a.getInstance().info1(S.b.H5_init_page,{id:this.id,h5:this.ppth5Info}),this.ppth5Info.loaded=!0;var o=this.ppth5Info,r=o.targetPage,i=o.targetStep;r&&i&&(this.ppth5Info.page=r,this.ppth5Info.step=i,this.gotoPage(!1),t=!0)}!t&&Object.assign(this.ppth5Info,e),this.ppth5Info.page===this.ppth5Info.targetPage&&this.ppth5Info.step===this.ppth5Info.targetStep&&(this.ppth5Info.targetPage=0,this.ppth5Info.targetStep=0),t||(this.firstNeedPlayAnimation(),this.postStepChangeMessage(),this.execSyncPPTH5Queue())},e.prototype.syncCurrentPage=function(e){var t=this;if(this.ppth5Info.loaded){"boolean"==typeof e.notify&&(this.ppth5Info.notify=e.notify);var o=+e.page+1,r=(e.step||0)+1;this.ppth5Info.pageChangeTimer&&clearTimeout(this.ppth5Info.pageChangeTimer),this.ppth5Info.pageChangeTimer=window.setTimeout((function(e){t.ppth5Info.page=e[0],t.ppth5Info.step=e[1],t.ppth5Info.scene=e[2],t.postStepChangeMessage()}),2e3,[o,r,e.scene]),this.tryInitPageStep(o,r)}else{w.a.getInstance().info1(S.b.H5_init_page,{id:this.id,h5:this.ppth5Info}),this.ppth5Info.loaded=!0;var i=this.ppth5Info,n=i.targetPage,a=i.targetStep;n>1?(this.ppth5Info.goPage=n,this.ppth5Info.goStep=a,this.ppth5Info.page=n,this.gotoPage(!1)):a<=1&&(this.postStepChangeMessage(),this.firstNeedPlayAnimation())}},e.prototype.syncCurrentStep=function(e){this.ppth5Info.pageChangeTimer&&clearTimeout(this.ppth5Info.pageChangeTimer);var t=e.page+1,o=+e.step+1,r=this.ppth5Info.lastStep;if(this.ppth5Info.lastStep=t===this.ppth5Info.page?o:-1,0!=o&&(0!=r||1!=o)&&("boolean"==typeof e.notify&&(this.ppth5Info.notify=e.notify),w.a.getInstance().info1(S.b.H5_step,{id:this.id,page:t,step:o,notify:e.notify,h5:this.ppth5Info}),o===this.ppth5Info.step&&t===this.ppth5Info.page||(this.ppth5Info.page=t,this.ppth5Info.step=o,this.tryInitPageStep(t,o),this.ppth5Info.targetPage||this.ppth5Info.targetStep||(w.a.getInstance().info1(S.b.H5_queue_done,{id:this.id,page:t,step:o,action:"step"}),this.firstNeedPlayAnimation(),this.postStepChangeMessage(),this.execSyncPPTH5Queue(),this.execMultiDocsQueue())),this.ppth5Info.page===this.ppth5Info.targetPage)){var i="h5step:"+t+","+o+"-"+this.ppth5Info.page+","+this.ppth5Info.targetStep+")";this.ppth5Info.targetStep<o?this.previousStep(this.ppth5Info.notify,i):this.ppth5Info.targetStep>o?this.nextStep(this.ppth5Info.notify,i):(this.ppth5Info.targetPage=0,this.ppth5Info.targetStep=0,this.ppth5Info.goPage=0,this.ppth5Info.goStep=0,w.a.getInstance().info1(S.b.H5_queue_done,{id:this.id,page:t,step:o,action:"page"}),this.firstNeedPlayAnimation(),this.postStepChangeMessage(),this.execSyncPPTH5Queue(),this.execMultiDocsQueue())}},e.prototype.syncCurrentElement=function(e){var t={parent:this.parent,page:this.ppth5Info.page,step:this.ppth5Info.step,fileID:this.getFileID(),fileType:this.getFileType(),fileName:this.getFile().file_name,data:e};if(v.f.emit(v.a.PlayAnimation,t),this.wbId){var o={action:u.b.Animation,data:e,notify:!0};this.docDom.dispatchEvent(new CustomEvent(u.a.Docs,{detail:o}))}},e.prototype.syncCurrentError=function(e){e.code===c.d.ZegoDocsViewErrorNetworkTimeout?(this.ppth5Info.loadRetryTimer&&clearTimeout(this.ppth5Info.loadRetryTimer),this.changeH5CDNHost()):this.postErrorMessage(e)},e.prototype.initIframe=function(){var e=this;this.postMessage2iframe(n.InitPlatform,[4]),this.postMessage2iframe(n.GetAllPageStepCount),this.renderMode===r.H5_PPT&&this.postMessage2iframe(n.SetCustomizedConfig,[a.Scale,this.ppth5Info.scale]),this.domEventListeners&&this.postMessage2iframe(n.SetCustomizedConfig,[a.SyncDOMEvent]),this.postMessage2iframe(n.SetCustomizedConfig,[a.PptOperationAuth,JSON.stringify({scroll:+this.zoomInfo.enableScroll})]);var t=this.serviceHandle.getStore();[c.c.UnloadVideoSrc,c.c.PptStepMode,c.c.DisableH5ImageDrag].forEach((function(o){return e.postMessage2iframe(n.SetCustomizedConfig,[o,t[o]])}))},e.prototype.dragPDF=function(e,t){var o=this.zoomInfo,r=o.tx,i=o.ty,n=o.zoom,a=o.enableScroll,s=o.remoteScroll,c=o.dragRectTop,d=o.dragRectBottom,p=this.viewInfo,h=p.width,_=p.height,f=p.viewHeight,g=p.percent,m=e instanceof MouseEvent?e:e.changedTouches[0],y=m.clientX,b=m.clientY,v=r+this.zoomInfo.x-y,w=i+this.zoomInfo.y-b,S=h*(n-1);S=Math.floor(S),v<0?v=0:v>S&&(v=S);var I=a?0:Math.ceil(g*_*n);if(S=a?_*n-f:I+(n-1)*f,S=Math.floor(S),w<I?w=I:w>S&&(w=S),a&&(this.viewInfo.scrollLeft=Math.ceil(v/n),this.viewInfo.scrollTop=Math.ceil(w/n)),this.viewInfo.ticking=!0,this.docDom.scrollTo(v,w),this.renderDom.scrollTo(v,w),t)if(this.zoomInfo.x=0,this.zoomInfo.y=0,this.viewInfo.ticking=!1,n>1&&w>=c&&w<=d)this.postSyncDragMessage(v,w-g*_*n);else{if(!a)return!s&&this.postWhiteboardMessage(u.b.WbError,l.a.ZegoWhiteboardViewErrorNoAuthScroll),this.viewInfo.ticking=!0,this.docDom.scrollTo(r,i),this.renderDom.scrollTo(r,i),void(this.viewInfo.ticking=!1);this.updateCurViewMax(w,n),this.onScrollCallback(v,w)}},e.prototype.dragPPT=function(e,t){var o=this.zoomInfo,r=o.tx,i=o.ty,n=o.zoom,a=this.viewInfo,s=a.viewWidth,c=a.viewHeight,l=e instanceof MouseEvent?e:e.changedTouches[0],u=l.clientX,d=l.clientY,p=r+u-this.zoomInfo.x,h=i+d-this.zoomInfo.y,_=s*(1-n);p>0?p=0:p<_&&(p=_),_=c*(1-n),h>0?h=0:h<_&&(h=_),t&&(this.zoomInfo.x=0,this.zoomInfo.y=0,this.postSyncDragMessage(p,h,!t)),this.setDocsViewDomTransform(p,h)},e.prototype.handleSetScaleFactor=function(e,t,o,i){var n=this;this.ppth5Info.notify=i,this.zoomInfo.zoom=e;var a=this.viewInfo,s=a.viewWidth,c=a.viewHeight,l=a.width,u=a.height,d=a.scrollTop,p=a.percent;if(this.setDocsViewDomOverflow(),this.renderMode===r.PDF){var h=this.getDocViewChild();h.style.cssText+="transform:scale("+e+");",(h=this.renderDom.firstChild).style.cssText+="transform:scale("+e+");";var _=t*l*e,f=(o+p)*u*e;i&&(_=s*(e-1)*.5,f=(f=d)*e+c*(e-1)*.5),_=Math.round(_),f=Math.round(f),this.viewInfo.ticking=!0,this.docDom.scrollTo(_,f),this.renderDom.scrollTo(_,f),this.postSyncDragMessage(_,f-p*u*e),this.updateCurViewMax(Math.ceil(p*u*e),e),clearTimeout(this.viewInfo.scrollTimeId),this.viewInfo.scrollTimeId=window.setTimeout((function(){n.viewInfo.ticking=!1}),34)}else{_=Math.round(i?s*(1-e)*.5:-t*l*e),f=Math.round(i?c*(1-e)*.5:-o*u*e);this.setDocsViewDomTransform(_,f),this.postSyncDragMessage(_,f)}this.wbId||(this.zoomInfo.isDrag=e>1,this.docDom.style.cursor=e>1?"move":"auto"),this.renderMode!==r.PDF&&this.renderMode!==r.PPT||this.loadCurrentSheet()},e.prototype.updateCurViewMax=function(e,t){t>1?(this.zoomInfo.dragRectTop=e-2,this.zoomInfo.dragRectBottom=Math.ceil(e+this.viewInfo.viewHeight*(t-1))):(this.zoomInfo.dragRectTop=0,this.zoomInfo.dragRectBottom=0)},e.prototype.drawPDFBlank=function(e,t){var o=this;if(!(this.canvasArray.length<2)){for(var r=t,i=0,n=0;n<r;)n+=this.getCanvasHeight(i++);var a=i>0?i-1:0;for(r+=e,i=0,n=0;n<r;){var s=this.getCanvasHeight(i++);if(n+=s,0===s)break}for(var c=this.viewInfo,l=c.canvasMaxPage,u=c.isParentScale,d=i>0?i-1:0,p=[];a<=d;a++)p.push(a*l+1);if(u)this.execScrollFileAndDraw(p[0],void 0,p);else{p.forEach((function(e){return o.execDraw(e,void 0)}));var h={id:this.id,pages:p};w.a.getInstance().info1(S.b.Draw_scrolled,{log:h})}}},e.prototype.firstNeedPlayAnimation=function(){var e=this.viewInfo.firstInfo,t=e.page,o=e.step,r=e.h5Extra;t&&r&&t==this.ppth5Info.page&&o==this.ppth5Info.step&&(this.playAnimation(r),this.viewInfo.firstInfo.page=0,this.viewInfo.firstInfo.step=0)},e.prototype.getAllVirtualInPageRange=function(e,t){var o=this.getFile().page_list,r=[];e<0&&(e=0),t>=o.length&&(t=o.length-1);for(var i=e;i<=t;++i)for(var n=0,a=o[i].virtual_page_list;n<a.length;n++){var s=a[n];r.push(s.virtual_page_number)}return r},e.prototype.startGetImageByVirtualPageList=function(e,t){for(var o=[],r=this.vpageImgCache[this.viewInfo.sheet],i=0;i<e.length;){var n=r&&r[e[i]];n?(o.push(n),e.splice(i,1)):i++}this.getImageByVirtualPageList(o,e,t)},e.prototype.sortVirtualPageListRule=function(e,t){return e.virtual_page_number-t.virtual_page_number},e.prototype.getImageByVirtualPageList=function(e,t,o){var r=this;if(t.length<=0)return e.sort(this.sortVirtualPageListRule),void o(e);this.serviceHandle.registerEventHandler(this.id,i.GetPageImage,(function(i){for(var n=i.virtual_page_number,a=0;a<t.length;++a)if(t[a]==n){t.splice(a,1);break}var s=r.vpageImgCache[r.viewInfo.sheet]||{};s[n]=i,r.vpageImgCache[r.viewInfo.sheet]=s;var c=!1;for(a=0;a<e.length;++a)e[a].virtual_page_number==n&&(e[a]=i,c=!0);c||e.push(i),r.getImageByVirtualPageList(e,t,o)}));var n=this.viewInfo,a=n.sheet,s=n.rate;this.serviceHandle.getPageImage(this.id,{sheet:a,rate:s*this.renderMaxZoom*1.5,virtual_page_number:t[0],virtual_start:this.vpageAspecCache[a].vs-1,res:this.fileInfo})},e.prototype.getFile=function(){return this.fileInfo.file_list[this.viewInfo.sheet]},e.prototype.execGotoPage=function(e,t,o){e!==this.ppth5Info.page?(this.ppth5Info.page=e,this.ppth5Info.step=this.renderMode===r.H5_CUSTOM?t:1,this.gotoPage(o)):t<this.ppth5Info.step?this.previousStep(this.ppth5Info.notify,"execGotoPage("+e+","+t+","+this.ppth5Info.step+")"):t>this.ppth5Info.step?this.nextStep(this.ppth5Info.notify,"execGotoPage("+e+","+t+","+this.ppth5Info.step+")"):t!==this.ppth5Info.step||1===this.ppth5Info.targetPage&&1===this.ppth5Info.targetStep||(this.ppth5Info.targetPage=0,this.ppth5Info.targetStep=0)},e.prototype.runGotoPageQueue=function(e,t,o,r){var i=this;this.ppth5Info.targetPage=e,this.ppth5Info.targetStep=t,this.execGotoPage(e,t,o);var n=this.ppth5Info.loaded?1e3:2e4;this.ppth5Info.syncTimer&&clearTimeout(this.ppth5Info.syncTimer),this.validateFileInfo(S.b.RunGotoPageQueue,this.fileInfo)||(this.ppth5Info.syncTimer=window.setTimeout((function(){return i[r](!0)}),n))},e.prototype.syncWhiteboardPPTH5Queue=function(e,t){var o=this,r=this.ppth5Info,i=r.page,n=r.step,a=r.loaded,s=r.notify;if(e!=i||t!=n){var c={page:e,step:t,notify:s,loaded:a,id:this.id},l=this.serviceHandle.getStore();l.syncPPTH5Queue=l.syncPPTH5Queue&&l.syncPPTH5Queue.length?l.syncPPTH5Queue.filter((function(e){return e.id===o.id})):[];var u=l.syncPPTH5Queue[l.syncPPTH5Queue.length-1];if(!u||u.page===e&&u.step===t)u||(l.syncPPTH5Queue=[c],w.a.getInstance().info1(S.b.H5_wbqueue_init,{task:c}),this.runGotoPageQueue(c.page,c.step,c.notify,"execSyncPPTH5Queue"));else{var d={page:i,step:n,task:c,queue:l.syncPPTH5Queue.map((function(e){return e.page+"-"+e.step})).join()};l.syncPPTH5Queue.push(c),w.a.getInstance().info1(S.b.H5_wbqueue_push,{log:d})}}},e.prototype.execSyncPPTH5Queue=function(e){var t=this.serviceHandle.getStore(),o=t.syncPPTH5Queue,r=e&&t.syncQueueRuning;if(r&&this.execQueueTimeout(o),t.syncQueueRuning=!1,o&&o.length){t.syncQueueRuning=!0;var i=o.shift();r&&!o[0]||(i=o[0]),i&&(w.a.getInstance().info1(S.b.H5_wbqueue_pop,{timeout:e,task:i,store:t}),this.runGotoPageQueue(i.page,i.step,i.notify,"execSyncPPTH5Queue"))}},e.prototype.execMultiDocsQueue=function(e){var t=this;if(!this.validateFileInfo(S.b.ExecMultiDocsQueue,this.fileInfo)){var o=this.serviceHandle.getStore(),r=o.multiDocsQueue;if(e&&o.syncQueueRuning&&this.execQueueTimeout(r),o.syncQueueRuning=!1,r&&r.length){o.syncQueueRuning=!0;var i=[],n=r.shift();i.push(n);for(var a=0;a<r.length;a++){var s=r[a];s&&s.id!==n.id&&s.p!==n.p&&(n=s,i.push(n),r.splice(a,1))}w.a.getInstance().info1(S.b.H5_mdqueue_pop,{timeout:e,tasks:i,store:o}),i.forEach((function(e){t.serviceHandle.execViewFuction("runGotoPageQueue",e.id,T(e.args,["execMultiDocsQueue"]))}))}}},e.prototype.execQueueTimeout=function(e){if(e&&e.length){for(var t=[],o=0;o<e.length-1;o++)e[o]&&!e[o].loaded&&(t.push(e[o]),e.splice(o,1));var r={id:this.id,loaded:this.ppth5Info.loaded,queue:e,tasks:t};w.a.getInstance().info1(S.b.H5_queue_timeout,{log:r})}this.ppth5Info.loaded=!0,this.ppth5Info.targetPage=0,this.ppth5Info.targetStep=0,this.postStepChangeMessage(),this.postMessage2iframe(n.HideLoadingStyle)},e.prototype.gotoPage=function(e){this.ppth5Info.notify=e,this.renderMode===r.H5_PPT?(w.a.getInstance().info1(S.b.GotoPage,{id:this.id,notify:e,page:this.ppth5Info.page}),this.postMessage2iframe(n.GotoPage,[this.ppth5Info.page-1,e])):this.renderMode===r.H5_CUSTOM?this.postMessage2iframe(n.GotoPage,[this.ppth5Info.page,this.ppth5Info.step,e]):this.handleScroll(this.getScrollTopByPage(this.ppth5Info.page))},e.prototype.checkParamsPage=function(e){var t=this.getPageCount();return e<1?e=1:e>t?e=t:e|=0,e},e.prototype.delayDraw=function(e){var t=this;return function(o){t.isAppleDevice()?setTimeout(e.bind(t,o)):e(o)}},e.prototype.addtionalDraw=function(e,t,o,r){this.isAppleDevice()&&setTimeout((function(){try{var i=e.getImageData(o+5,r+5,3,3).data,n=!1,a="";i.forEach((function(e,t){(t+1)%4!=0?a+=e:("000"===a&&(n=!0),a="")})),n&&(v.f.emit(v.c.Error,Object(l.b)(c.d.ZegoDocsViewErrorDrawImageFail)),w.a.getInstance().error1(S.b.Addtional_draw,"isTransparent:"+n+",img:"+t))}catch(e){w.a.getInstance().error1(S.b.Addtional_draw,e)}}),500)},e.prototype.isAppleDevice=function(){var e=navigator.userAgent,t=e.includes("Mac"),o=!e.includes("Chrome")&&e.includes("Safari");return this.isTouch?t:o},e.prototype.getCDNHostList=function(){return this.fileInfo.cdn_hosts||[]},e.prototype.docsSnapshot=function(e){var t=e.ctx,o=e.snapshotId;this.renderMode===r.H5_PPT||this.renderMode===r.H5_CUSTOM?this.postMessage2iframe(n.SnapshotForH5,[o]):this.snapshotForStatic(t)},e.prototype.getH5SnapshotResult=function(e){var t=O(O({},e),{action:u.b.H5Snapshot});this.docDom.dispatchEvent(new CustomEvent(u.a.Docs,{detail:t}))},e.prototype.snapshotForStatic=function(e){var t=this.viewInfo,o=t.width,r=t.height,i=t.viewWidth,n=t.viewHeight,a=t.scrollTop,s=t.sheet,c=Math.min(o,i),l=Math.min(r,n),u=this.getCanvasInds(n,a);e.clearRect(0,0,i,n);for(var d=0,p=0;p<=u[0];)d+=this.getCanvasHeight(p++);var h=(a-d+this.vpageAspecCache[s].h[u[0]])*this.renderMaxZoom,_=c*this.renderMaxZoom,f=l*this.renderMaxZoom;if(e.drawImage(this.canvasArray[u[0]],0,h,_,f,0,0,c,l),2===u.length){var g=d-a,m=(l-g)*this.renderMaxZoom;e.drawImage(this.canvasArray[u[1]],0,0,_,m,0,g,c,l-g)}},e.prototype.getCanvasInds=function(e,t){if(this.canvasArray.length<2)return[0];for(var o=0,r=0;r<t;)r+=this.getCanvasHeight(o++);var i=o>0?o-1:0,n=t+e;for(o=0,r=0;r<n;){var a=this.getCanvasHeight(o++);if(r+=a,0===a)break}var s=o>0?o-1:0;return i===s?[i]:[i,s]},e.prototype.setSheet=function(e){"string"==typeof e?this.viewInfo.sheetName=e:"number"==typeof e&&(this.viewInfo.sheet=e)},e.prototype.resetVisibleSize=function(){if(this.docDom&&this.renderMode===r.PDF){var e=document.getElementById(this.parent),t=e.clientWidth,o=e.clientHeight,i="width:"+t+"px;height:"+o+"px;",n=this.docDom.parentElement;this.docDom.style.cssText+=i+"overflow: hidden auto;",this.renderDom.style.cssText+=i+"overflow: hidden auto;",n.style.cssText+=i+"top:"+Math.max(0,(o-this.viewInfo.height)/2)+"px;",this.drawPDFBlank(o,this.viewInfo.scrollTop),this.viewInfo.isParentScale=!0}},e.prototype.addDOMEventListener=function(e,t){this.domEventListeners||(this.domEventListeners={}),this.domEventListeners[e]=t},e.prototype.enableDOMEvent=function(e){var t=this.docDom&&this.docDom.parentElement;t&&this.renderMode===r.H5_PPT&&(t.style.cssText+="pointer-events:"+(e?"initial":"none")+";")},e.prototype.setParent=function(e){this.parent=e,this.ppth5Info.p=e},e.prototype.mergeRemoteFileInfo=function(e){this.parent?this.tranlateFileAspec(e):this.calculateFileAspecWithNoParent(e);var t=e.file_list[this.viewInfo.sheet],o=t.max_width,r=t.total_height,i=t.filePageSize;return this.viewInfo.width=o,this.viewInfo.filePageSize=i,this.viewInfo.height=r,Object.assign(this.fileInfo,e),Promise.resolve(this.getLoadFileModelForCallback())},e.prototype.getExcelSheetNameList=function(){return this.fileInfo.file_type===c.e.ZegoDocsViewFileTypeELS?this.fileInfo.file_list.map((function(e){return e.file_name})):[]},e.prototype.loadFile=function(e,t,o,r){var i,n=this;return this.PPTReady=(null==r?void 0:r.PPTReady)||!1,this.loadFileListenerMap[e]=o,this.serviceHandle.setStore(((i={})[this.parent+"_activited"]=this.id,i)),this.viewInfo.ticking=!1,this.fileInfo.file_id===e&&this.viewInfo.firstInfo.loadedFile?(setTimeout((function(){n.hideOtherDocsView(),n.loadFileCallback()})),Promise.resolve(this.getLoadFileModelForAPI(this.fileInfo))):this.serviceHandle.load(this.id,{fileID:e,authKey:t,loadOption:r},!0).then((function(e){return n.getLoadFileModelForAPI(e)}))},e.prototype.unloadFile=function(){var e,t,o=null===(e=this.docDom)||void 0===e?void 0:e.parentElement;o&&(null===(t=o.parentElement)||void 0===t||t.removeChild(o),w.a.getInstance().info1(S.b.API_unloadFile)),this.serviceHandle.execViewFuction("unloadFile",this.id,[])},e.prototype.getContentSize=function(){var e={width:this.viewInfo.width,height:this.viewInfo.height};return w.a.getInstance().info1(S.b.API_getContentSize,{size:e}),e},e.prototype.getVisibleSize=function(){var e={width:this.viewInfo.viewWidth,height:this.viewInfo.viewHeight};return w.a.getInstance().info1(S.b.API_getVisibleSize,{size:e}),e},e.prototype.getFileID=function(){var e=this.fileInfo.file_id;return w.a.getInstance().info1(S.b.API_getFileID,{id:e}),e},e.prototype.getFileType=function(){var e=this.fileInfo.file_type;return w.a.getInstance().info1(S.b.API_getFileType,{type:e}),e},e.prototype.getCurrentPage=function(){var e=this.ppth5Info.page;return w.a.getInstance().info1(S.b.API_getCurrentPage,{page:e}),e},e.prototype.getCurrentStep=function(){var e=this.ppth5Info.step;return w.a.getInstance().info1(S.b.API_getCurrentStep,{step:e}),e},e.prototype.getPageCount=function(){var e=this.viewInfo.total;return w.a.getInstance().info1(S.b.API_getPageCount,{pageCount:e}),e},e.prototype.getPPTNotes=function(e){e=this.checkParamsPage(e);var t=this.fileInfo.notes[e-1]||"";return w.a.getInstance().info1(S.b.API_getPPTNotes,{note:t}),t},e.prototype.getThumbnailUrlList=function(){return w.a.getInstance().info1(S.b.API_getThumbnailUrlList,{thumbnails:this.fileInfo.thumbnails}),this.fileInfo.thumbnails},e.prototype.getVerticalPercent=function(){return w.a.getInstance().info1(S.b.API_getVerticalPercent,{verticalPercent:this.viewInfo.percent}),this.viewInfo.percent},e.prototype.scrollTo=function(e,t){this.ppth5Info.notify=void 0===t||!!t;var o=Math.ceil(this.viewInfo.height*e*this.zoomInfo.zoom),r=this.getPageByScrollTop(o);this.ppth5Info.page=r,this.handleScroll(o),-1!==this.viewInfo.firstInfo.scrollTop&&(this.viewInfo.firstInfo.scrollTop=o),w.a.getInstance().info1(S.b.API_scrollTo,{id:this.id,params:e,page:r,top:o})},e.prototype.flipPage=function(e,t,o){e=this.checkParamsPage(e),t="number"==typeof t?Math.max(1,0|t):1,o=void 0===o||!!o,this.ppth5Info.notify=o;var i=this.renderMode===r.H5_PPT||this.renderMode===r.H5_CUSTOM,n=i&&this.viewInfo.maxSteps[e-1];if(n&&t>n)w.a.getInstance().info1(S.b.API_flipPage,{actionMsg:"error step",params:{page:e,step:t,maxStep:n}});else if(i&&this.wbId)this.syncWhiteboardPPTH5Queue(e,t);else{i&&(this.ppth5Info.targetPage=e,this.ppth5Info.targetStep=t);var a=this.ppth5Info.loaded,s=this.serviceHandle.getStore();if(i&&(a||!a&&(e>1||t>1))){if(s.multiDocsQueue&&s.syncQueueRuning){for(var c=!0,l=this.id,u=s.multiDocsQueue.length-1;u>=0;u--){var d=s.multiDocsQueue[u];if(d.id==l&&d.args.page==e&&d.args.step==t){c=!1;break}}if(c){var p={p:this.parent,id:this.id,loaded:a,args:[e,t,o]};return s.multiDocsQueue.push(p),void w.a.getInstance().info1(S.b.H5_mdqueue_push,{task:p})}}s.syncQueueRuning=!0,s.multiDocsQueue=s.multiDocsQueue||[]}s.multiDocsQueue?this.runGotoPageQueue(e,t,o,"execMultiDocsQueue"):(-1!==this.viewInfo.firstInfo.scrollTop&&(this.viewInfo.firstInfo.scrollTop=this.getScrollTopByPage(e)),this.execGotoPage(e,t,o)),w.a.getInstance().info1(S.b.API_flipPage,{id:this.id,params:{page:e,step:t}})}},e.prototype.previousStep=function(e,t){var o=this.ppth5Info,r=o.page,i=o.step;1===r&&1===i||(e=void 0===e||!!e,this.zoomInfo.enableScroll||!e||1!==i?(this.ppth5Info.notify=e,this.postMessage2iframe(n.PreviousStep,[e]),e&&this.postWhiteboardMessage(u.b.Step,""),w.a.getInstance().info1(S.b.API_previousStep,{id:this.id,notify:e,action:t})):!this.zoomInfo.remoteScroll&&this.postWhiteboardMessage(u.b.WbError,l.a.ZegoWhiteboardViewErrorNoAuthScroll))},e.prototype.nextStep=function(e,t){var o=this.ppth5Info,r=o.page,i=o.step;e=void 0===e||!!e,this.zoomInfo.enableScroll||!e||i!==this.viewInfo.maxSteps[r-1]?(this.ppth5Info.notify=e,this.postMessage2iframe(n.NextStep,[e]),e&&this.postWhiteboardMessage(u.b.Step,""),w.a.getInstance().info1(S.b.API_nextStep,{id:this.id,notify:e,action:t})):!this.zoomInfo.remoteScroll&&this.postWhiteboardMessage(u.b.WbError,l.a.ZegoWhiteboardViewErrorNoAuthScroll)},e.prototype.switchSheet=function(e){this.getFileType()===c.e.ZegoDocsViewFileTypeELS&&this.viewInfo.sheet!==e&&e>=0&&e<this.fileInfo.file_list.length&&(this.viewInfo.sheet=e,this.vpageDrawImgCache={},this.loadCurrentSheet(!1,!0),w.a.getInstance().info1(S.b.API_switchSheet,{id:this.id,params:e}))},e.prototype.setScaleFactor=function(e,t,o){var i=e;(!i||i<1)&&(i=1),this.zoomInfo.zoom!==i&&(this.renderMode!==r.H5_PPT&&this.renderMode!==r.H5_CUSTOM||this.iframeDom)&&(this.renderMode!==r.PDF&&this.renderMode!==r.PPT||this.canvasArray[0])&&(w.a.getInstance().info1(S.b.API_setScaleFactor,{zoom:i,x:t,y:o}),this.handleSetScaleFactor(i,t||0,o||0,!0))},e.prototype.getScaleFactor=function(){return{scaleFactor:this.zoomInfo.zoom,scaleOffsetX:0,scaleOffsetY:0}},e.prototype.playAnimation=function(e){this.postMessage2iframe(n.TriggerElementsClick,[e]),w.a.getInstance().info1(S.b.API_playAnimation,{data:e})},e.prototype.stopPlay=function(e){this.postMessage2iframe(n.StopPlay,[e]),w.a.getInstance().info1(S.b.API_stopPlay,{pageNumber:e})},e.prototype.setVolume=function(e){this.postMessage2iframe(n.SetVolume,[e]),w.a.getInstance().info1(S.b.API_setVolume,{volume:e})},e.prototype.releaseCanvas=function(e){var t,o=this,r=e==c.h.All?null===(t=document.querySelector("#"+this.parent))||void 0===t?void 0:t.querySelectorAll("canvas"):this.renderDom.querySelectorAll("canvas");r&&Array.from(r).forEach((function(e){o.serviceHandle.releaseCanvas(e)}))},e.prototype.reloadView=function(e){w.a.getInstance().info1(S.b.API_reloadView,{options:e});var t=e||{forceReload:!1,reloadType:1},o=t.forceReload,i=t.reloadType;if(o||this.canReloadView()){var s=this.viewInfo.scrollLeft/this.viewInfo.width,c=this.viewInfo.scrollTop/this.viewInfo.height,l=this.zoomInfo.tx/this.viewInfo.viewWidth,u=this.zoomInfo.ty/this.viewInfo.viewHeight;this.tranlateFileAspec(this.fileInfo);var d=this.getFile();if(this.viewInfo.width=d.max_width,this.viewInfo.filePageSize=d.filePageSize,this.viewInfo.height=d.total_height,this.viewInfo.total=d.page_count,this.viewInfo.rate=d.rate,this.ppth5Info.notify=!1,this.renderMode===r.H5_PPT||this.renderMode===r.H5_CUSTOM){var p=this.vpageAspecCache[0][1],h=p.x,_=p.y,f=p.w,g=p.h;this.iframeDom.width=f,this.iframeDom.height=g,this.postSyncDragMessage(l*f|0,u*g|0),this.updateDocsViewLayout(h,_,f,g),this.setDocsViewDomOverflow(),this.getDocViewChild().style.cssText+="width:"+this.viewInfo.width+"px;height:"+this.viewInfo.height+"px;",this.reloadViewCallback();var m=this.getFile().page_list[0].width;this.ppth5Info.scale=Number((f/m).toFixed(4)),this.renderMode===r.H5_PPT&&this.postMessage2iframe(n.SetCustomizedConfig,[a.Scale,this.ppth5Info.scale])}else{if(w.a.getInstance().info1(S.b.ReloadView_safari,{safari:this.isAppleDevice(),forceReload:o}),this.isAppleDevice()&&o&&(this.releaseCanvas(i),w.a.getInstance().info1(S.b.ReleaseCanvas,"done")),this.canvasArray=[],this.vpageDrawImgCache={},this.docDom.innerHTML="",this.renderDom.innerHTML="",this.renderMode===r.PDF)this.viewInfo.ticking=!0,this.viewInfo.scrollLeft=s*this.viewInfo.width,this.viewInfo.scrollTop=c*this.viewInfo.height;else{var y=this.vpageAspecCache[0][1];f=y.w,g=y.h;this.postSyncDragMessage(l*f|0,u*g|0)}this.execScrollFileAndDraw(this.ppth5Info.page,this.reloadViewCallback)}}},e}(),C=o(182),A=o(78),D=o.n(A),M=(E=function(e,t){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}E(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),L=function(){return(L=Object.assign||function(e){for(var t,o=1,r=arguments.length;o<r;o++)for(var i in t=arguments[o])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},N=function(e,t,o,r){return new(o||(o=Promise))((function(i,n){function a(e){try{c(r.next(e))}catch(e){n(e)}}function s(e){try{c(r.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},j=function(e,t){var o,r,i,n,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(n){return function(s){return function(n){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,r&&(i=2&n[0]?r.return:n[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,n[1])).done)return i;switch(r=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,r=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==n[0]&&2!==n[0])){a=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){a.label=n[1];break}if(6===n[0]&&a.label<i[1]){a.label=i[1],i=n;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(n);break}i[2]&&a.ops.pop(),a.trys.pop();continue}n=t.call(e,a)}catch(e){n=[6,e],r=0}finally{o=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,s])}}},q=function(e){function t(t){var o,r=e.call(this)||this;r.listeners={},r.docsviews={},r.canvasMaxSize=2e6,r.canvasAmountSize=0,r.env="prod",r.requestStatus=1,r.accessConfig={appID:0,isAccesshub:!0,isTestEnv:!1,userID:"",env:"",token:""},r.existCanvasDrawLimit=!1,r.initSDK(t),r.getConnectedResult=new Promise((function(e){return N(r,void 0,void 0,(function(){var o=this;return j(this,(function(r){switch(r.label){case 0:return[4,this.initAccess(t)];case 1:return r.sent(),[4,new Promise((function(t){1===o.requestStatus?(v.f.on(v.d.AccesshubConnected,(function(){o.requestStatus=2,t(o.requestStatus)})),v.f.on(v.d.DirectConnected,(function(){o.requestStatus=3,t(o.requestStatus)}))):e(o.requestStatus)}))];case 2:return r.sent(),v.f.off(v.d.AccesshubConnected),v.f.off(v.d.DirectConnected),e(this.requestStatus),[2]}}))}))})),r.zegoDocs=new s.a(t);try{if(d()||(o=navigator.userAgent.toLowerCase()).indexOf("applewebkit")>-1&&o.indexOf("mobile")>-1&&o.indexOf("safari")>-1&&-1===o.indexOf("linux")&&-1===o.indexOf("android")&&-1===o.indexOf("chrome")&&-1===o.indexOf("ios")&&-1===o.indexOf("browser")){Date.now();r.probeHasCanvasAreaLimit()}}catch(e){}return r}return M(t,e),t.prototype.initSDK=function(e){var t=this;Object(w.b)(0,e,"Docs",{Docs_VER:"2.10.0"}),w.a.getInstance().initInfo({appID:e.appID,version:"2.10.0",isTestEnv:!!e.isTestEnv,isProd:!0}),w.a.getInstance().initRoomInfo({roomID:"",userID:e.userID,token:e.token,logLevel:w.a.getInstance().getLogLevel()}),this.accessConfig.env="alpha"!==this.accessConfig.env&&e.isTestEnv?"test":"prod",v.f.off(v.d.AccesshubConnected),v.f.off(v.d.DirectConnected),v.f.on(v.d.AccesshubConnected,(function(){t.requestStatus=2})),v.f.on(v.d.DirectConnected,(function(){t.requestStatus=3}))},t.prototype.initAccess=function(e){return N(this,void 0,void 0,(function(){var t,o,r,i,n,a,s;return j(this,(function(c){switch(c.label){case 0:return[4,this.getAccesshubConfig(e)];case 1:return t=c.sent(),o=e.appID,r=e.isAccesshub,i=e.isTestEnv,n=e.userID,a=e.token,this.accessConfig.appID=o,this.accessConfig.isAccesshub=r,this.accessConfig.isTestEnv=i,this.accessConfig.userID=n,this.accessConfig.token=a,t?0===(s=t.config).code?this.accessConfig.isAccesshub=s.data.initConfig.is_access_hub:(this.accessConfig.isAccesshub=!1,w.a.getInstance().error1(S.a.Cloud_setting,"query accesshub config error!, code: "+s.code)):this.accessConfig.isAccesshub=!1,[4,C.a.setAccesshubConfig(this.accessConfig)];case 2:return c.sent(),[2]}}))}))},t.prototype.getAccesshubConfig=function(e){return N(this,void 0,void 0,(function(){var t,o,r;return j(this,(function(i){switch(i.label){case 0:return t=e.appID,[4,D.a.post("https://cloud-setting-api.zego.im/cloud-setting/get",{product:"docsshare",files:["config"],appid:t,id_name:e.userID,token:e.token,mode:"online"})];case 1:if(o=i.sent(),r=o.data,w.a.getInstance().info1(S.a.GetAccesshubConfig,{res:r}),0==r.code)return[2,r.data];throw r}}))}))},t.prototype.renewToken=function(e){return this.zegoDocs.renewToken(e)},t.prototype.setLogConfig=function(e){return e.logLevel&&(this.setStore({logLevel:e.logLevel}),Object.values(this.docsviews).forEach((function(t){var o=t.getIframeDom();if(o){var r=o.contentWindow;r&&r.postMessage({logLevel:e.logLevel,source:"logLevel"},"*")}}))),w.a.getInstance().setLogConfig(e)},t.prototype.clearLog=function(){return w.a.getInstance().uploadLog()},t.prototype.setTestEnv=function(e){this.zegoDocs.setTestEnv(e),e&&(this.env="test",this.accessConfig.env="test")},t.prototype.setConfig=function(e,t){var o,r;return w.a.getInstance().info1(S.a.API_setConfig,{key:e,value:t}),["set_alpha_env","dynamicPPT_HD","dynamicPPT_AutomaticPage",c.c.Domain,c.c.ThumbnailMode,c.c.EnableSizeReducedImages].includes(e)?(r=this.zegoDocs.setConfig(e,t),"set_alpha_env"==e&&(this.env="alpha",this.accessConfig.env="alpha")):r=this.setStore(((o={})[e]=t,o)),r},t.prototype.getConfig=function(e){return e===c.c.Domain||e===c.c.ThumbnailMode?this.zegoDocs.getConfig(e):this.getStore()[e]},t.prototype.calcCanvasSize=function(e){this.canvasAmountSize=0;var t=0;for(var o in this.docsviews){var r=this.docsviews[o];if(r.getFileType()==c.e.ZegoDocsViewFileTypeIMG){var i=r.getCanvasSize();this.canvasAmountSize+=i,i>t&&(t=i)}}this.canvasMaxSize=t,this.canvasAmountSize>this.canvasMaxSize&&this.clearCanvasCache(e)},t.prototype.clearCanvasCache=function(e){for(var t in this.docsviews){var o=this.docsviews[t];if(e!==o.id&&o.getFileType()==c.e.ZegoDocsViewFileTypeIMG){var r=o.getCanvasSize();if(this.canvasAmountSize-=r,o.clearCanvasCache(),this.canvasAmountSize<this.canvasMaxSize)break}}},t.prototype.execViewFuction=function(e,t,o){if("unloadFile"===e)return this.docsviews[t].unload(),this.docsviews[t]=null,void delete this.docsviews[t];var r=this.docsviews[t];r&&r[e].apply(r,o)},t.prototype.registerEventHandler=function(e,t,o){this.listeners[t]=this.listeners[t]||{},this.listeners[t][e]=o},t.prototype.removeEventHandler=function(e){for(var t in this.listeners)this.listeners[t][e]=null},t.prototype.load=function(e,t,o){return N(this,void 0,void 0,(function(){var r=this;return j(this,(function(i){switch(i.label){case 0:return[4,this.getConnectedResult];case 1:return i.sent(),[2,this.zegoDocs.loadFile(t.fileID,t.loadOption).then(this.resolveLoad.bind(this,e,t.fileID,o)).catch((function(){return r.zegoDocs.loadFile(t.fileID).then(r.resolveLoad.bind(r,e,t.fileID,o)).catch((function(e){throw e=e||{code:c.d.ZegoDocsViewErrorNetworkTimeout,message:"网络超时"},v.f.emit(v.c.Error,L(L({},t),e)),w.a.getInstance().error1(S.a.Load_error,{params:t,result:e}),e}))}))]}}))}))},t.prototype.cacheFile=function(e,t){return N(this,void 0,void 0,(function(){return j(this,(function(o){switch(o.label){case 0:return[4,this.getConnectedResult];case 1:return o.sent(),[2,this.zegoDocs.cacheFile(e,t)]}}))}))},t.prototype.cancelCacheFile=function(e){return this.zegoDocs.cancelCacheFile(e)},t.prototype.getPageImage=function(e,t){var o=this.listeners[i.GetPageImage][e];o&&o(this.transImage(t))},t.prototype.decryptImage=function(e){return N(this,void 0,void 0,(function(){return j(this,(function(t){return[2,this.zegoDocs.decryptImage(e)]}))}))},t.prototype.on=function(e,t){return v.f.on(e,t)},t.prototype.off=function(e,t){return v.f.off(e,t)},t.prototype.getVersion=function(){return this.zegoDocs.getVersion()},t.prototype.createView=function(e,t){var o={ID:e=(e||Date.now()+Math.floor(1e3*Math.random()))+"",sheet:t},r=this.docsviews[e];if(r)return w.a.getInstance().info1(S.a.CreateView,{actionMsg:"find in cache",params:o}),r;var i=document.getElementById(m+e);if(i=i&&i.parentElement){var n=i.id.replace(_,"");if(r=this.docsviews[n])return this.docsviews[e]=r,o.wbID=n,w.a.getInstance().info1(S.a.CreateView,{actionMsg:"find in cache on whiteboard",params:o}),r}return r=new x(this,e,t||0),this.docsviews[e]=r,w.a.getInstance().info1(S.a.CreateView,{params:o}),r},t.prototype.setDocsViewParent=function(e,t){e.setParent(t)},t.prototype.getDocsViewFileInfo=function(e,t,o){return N(this,void 0,void 0,(function(){return j(this,(function(r){switch(r.label){case 0:return[4,this.getConnectedResult];case 1:return r.sent(),[2,this.zegoDocs.loadFile(t,o).then((function(t){return e.mergeRemoteFileInfo(t)}))]}}))}))},t.prototype.uploadFile=function(e,t,o,r,i){return N(this,void 0,void 0,(function(){var n;return j(this,(function(a){return n=r&&"function"==typeof r?r:function(e){v.f.emit(v.a.Upload,Object.assign(e,o))},[2,this.zegoDocs.uploadFile({file:e,renderType:t,onProgress:n,uploadOptions:i})]}))}))},t.prototype.cancelUploadFile=function(e){return N(this,void 0,void 0,(function(){return j(this,(function(t){return[2,this.zegoDocs.cancelUploadFile({fileHash:e})]}))}))},t.prototype.uploadH5File=function(e,t,o){return N(this,void 0,void 0,(function(){return j(this,(function(r){return[2,this.zegoDocs.uploadH5File(e,t,o)]}))}))},t.prototype.resolveLoad=function(e,t,o,r){if(o&&r.file_type!==c.e.ZegoDocsViewFileTypeAudio&&r.file_type!==c.e.ZegoDocsViewFileTypeVideo){var n=this.listeners[i.Load][e];n&&setTimeout((function(){return n(r)}))}var a=L(L({},r),{preload:void 0,notes:void 0,thumbnails:void 0,file_list:void 0,file_urls:void 0});return w.a.getInstance().info1(S.a.ResolveLoad,{params:t,result:a}),r},t.prototype.transImage=function(e){var t=e.file_id,o=e.virtual_page_number,r=e.virtual_start,i=e.res,n=e.sheet,a=i.file_type===c.e.ZegoDocsViewFileTypeIMG,s=i.file_list[n].page_list[o-r-1].src;return{error_code:0,file_id:t,image_data:a?"":s,image_path:a?s:"",virtual_page_number:o}},t.prototype.probeHasCanvasAreaLimit=function(){var e=document.createElement("canvas");e.width=4101,e.height=4101;var t=e.getContext("2d");if(null==t)return this.existCanvasDrawLimit=!0;t.fillStyle="rgba(245,172,193)",t.fillRect(0,0,4101,4101);var o=t.getImageData(4097,4097,4,4),r=o[0],i=o[1],n=o[2];return this.releaseCanvas(e),this.existCanvasDrawLimit=245!==r||172!==i||193!==n,this.existCanvasDrawLimit},t.prototype.releaseCanvas=function(e){e.width=1,e.height=1;var t=e.getContext("2d");t&&t.clearRect(0,0,1,1)},t}(y)},function(e,t,o){"use strict";var r=o(6),i=o(184).left,n=o(83),a=o(84),s=o(152);r({target:"Array",proto:!0,forced:!n("reduce")||!s&&a>79&&a<83},{reduce:function(e){var t=arguments.length;return i(this,e,t,t>1?arguments[1]:void 0)}})},function(e,t,o){var r=o(380),i=o(404);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var n={insert:"head",singleton:!1};r(i,n);e.exports=i.locals||{}},function(e,t,o){(t=o(381)(!1)).push([e.i,"[id^='zego-docsview-zoom'],\n[id^='zego-docsview-render'],\n[id^='zego-docsview-render'] > div,\n[id^='zego-docsview-con'],\n[id^='zego-docsview-con'] > div {\n  position: absolute;\n  left: 0;\n  top: 0;\n}\n\n/* [id^='zego-docsview-con'], */\n[id^='zego-docsview-con'] > div,\n[id^='zego-docsview-render'] > div,\n[id^='zego-docsview-iframe'] {\n  transform-origin: 0 0;\n}\n\n[id^='zego-docsview-render'] {\n  text-align: initial;\n}\n\n[id^='zego-docsview-render'] iframe {\n  border: none;\n}\n[id^='zego-docsview-render'] canvas {\n  display: block;\n  transform-origin: 0 0;\n}\n\n[id^='zego-docsview-zoom'] svg.loading {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  margin: -24px;\n  display: none;\n  animation: loading 2s infinite linear;\n  -webkit-animation: loading 2s infinite linear;\n  -moz-animation: loading 2s infinite linear;\n  -o-animation: loading 2s infinite linear;\n}\n@keyframes loading {\n  from {\n    transform: rotate(0deg);\n    -ms-transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n    -ms-transform: rotate(360deg);\n  }\n}\n@-webkit-keyframes loading {\n  from {\n    -webkit-transform: rotate(0deg);\n  }\n  to {\n    -webkit-transform: rotate(360deg);\n  }\n}\n@-moz-keyframes loading {\n  from {\n    -moz-transform: rotate(0deg);\n  }\n  to {\n    -moz-transform: rotate(360deg);\n  }\n}\n@-o-keyframes loading {\n  from {\n    -o-transform: rotate(0deg);\n  }\n  to {\n    -o-transform: rotate(360deg);\n  }\n}\n",""]),e.exports=t},function(e,t,o){"use strict";var r=o(6),i=o(31).every;r({target:"Array",proto:!0,forced:!o(83)("every")},{every:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,o){var r=o(380),i=o(407);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var n={insert:"head",singleton:!1};r(i,n);e.exports=i.locals||{}},function(e,t,o){(t=o(381)(!1)).push([e.i,"#zego-whiteboard-input {\n  position: absolute;\n  width: 0px;\n  height: 0px;\n  padding: 0px;\n  border: none;\n}\n\n[id^='zego-whiteboard-zoom'] {\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  user-select:none;\n}\n\n[id^='zego-whiteboard-con'],\n[id^='zego-whiteboard-con'] > div {\n  transform-origin: 0 0;\n}\n\n[id^='zego-whiteboard'] {\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n  position: absolute;\n}\n[id^='zego-whiteboard'] *,\n[id^='zego-whiteboard'] ::after,\n[id^='zego-whiteboard'] ::before {\n  box-sizing: border-box !important;\n}\n[id^='zego-whiteboard'] [id^='zego-graphics-bg-container'] {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n  display: flex;\n}\n[id^='zego-whiteboard'] [id^='zego-graphics-bgImage-container'] {\n  flex: 1;\n}\n[id^='zego-whiteboard'] [id^='zego-graphics-container'] {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n  overflow: hidden;\n}\n\n[id^='zego-graphics-container'] [id^='zego-laser'] {\n  transition: transform 0.2s linear, left 0.2s linear, right 0.2s linear;\n  -moz-transition: transform 0.2s linear, left 0.2s linear, right 0.2s linear; /* Firefox 4 */\n  -webkit-transition: transform 0.2s linear, left 0.2s linear, right 0.2s linear; /* Safari 和 Chrome */\n  -o-transition: transform 0.2s linear, left 0.2s linear, right 0.2s linear; /* Opera */\n  -ms-transition: transform 0.2s linear, left 0.2s linear, right 0.2s linear;\n  margin-left: -8px;\n  margin-top: -8px;\n}\n\n/* [id^='zego-graphics-container'] path.transition {\n    transition: transform 0.2s linear;\n    -moz-transition: transform 0.2s linear;\n    -webkit-transition: transform 0.2s linear;\n    -o-transition: transform 0.2s linear;\n    -ms-transition: transform 0.2s linear;\n}\n\n[id^='zego-graphics-container'] line.transition {\n    transition: x1 0.2s linear, y1 0.2s linear, x2 0.2s linear, y2 0.2s linear, transform 0.2s linear;\n    -moz-transition: x1 0.2s linear, y1 0.2s linear, x2 0.2s linear, y2 0.2s linear, transform 0.2s linear;\n    -webkit-transition: x1 0.2s linear, y1 0.2s linear, x2 0.2s linear, y2 0.2s linear, transform 0.2s linear;\n    -o-transition: x1 0.2s linear, y1 0.2s linear, x2 0.2s linear, y2 0.2s linear, transform 0.2s linear;\n    -ms-transition: x1 0.2s linear, y1 0.2s linear, x2 0.2s linear, y2 0.2s linear, transform 0.2s linear;\n}\n\n[id^='zego-graphics-container'] rect.transition {\n    transition: x 0.2s linear, y 0.2s linear, width 0.2s linear, height 0.2s linear, transform 0.2s linear;\n    -moz-transition: x 0.2s linear, y 0.2s linear, width 0.2s linear, height 0.2s linear, transform 0.2s linear;\n    -webkit-transition: x 0.2s linear, y 0.2s linear, width 0.2s linear, height 0.2s linear, transform 0.2s linear;\n    -o-transition: x 0.2s linear, y 0.2s linear, width 0.2s linear, height 0.2s linear, transform 0.2s linear;\n    -ms-transition: x 0.2s linear, y 0.2s linear, width 0.2s linear, height 0.2s linear, transform 0.2s linear;\n}\n\n[id^='zego-graphics-container'] ellipse.transition {\n    transition: cx 0.2s linear, cy 0.2s linear, rx 0.2s linear, ry 0.2s linear, transform 0.2s linear;\n    -moz-transition: cx 0.2s linear, cy 0.2s linear, rx 0.2s linear, ry 0.2s linear, transform 0.2s linear;\n    -webkit-transition: cx 0.2s linear, cy 0.2s linear, rx 0.2s linear, ry 0.2s linear, transform 0.2s linear;\n    -o-transition: cx 0.2s linear, cy 0.2s linear, rx 0.2s linear, ry 0.2s linear, transform 0.2s linear;\n    -ms-transition: cx 0.2s linear, cy 0.2s linear, rx 0.2s linear, ry 0.2s linear, transform 0.2s linear;\n} */\n\n[id^='zego-whiteboard'] [id^='zego-box-container'] {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n  overflow: hidden;\n}\n[id^='zego-whiteboard'] svg {\n  transform-origin: 0px 0px 0px;\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  margin: 0px;\n  padding: 0px;\n  left: 0;\n  right: 0;\n  pointer-events: none;\n}\n[id^='zego-whiteboard'] textarea {\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  border: none;\n  outline: none;\n  background: transparent;\n  resize: none;\n  position: absolute;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0;\n  padding: 0;\n  line-height: 1;\n  font-family: inherit;\n  font-size: inherit;\n  box-sizing: border-box;\n  color: inherit;\n  font-style: inherit;\n  font-weight: inherit;\n  white-space: pre-wrap;\n  word-break: break-all;\n  overflow: hidden;\n}\n[id^='zego-whiteboard'] pre {\n  display: block;\n  visibility: hidden;\n  margin: 0px 0px;\n  font-family: inherit;\n  font-size: inherit;\n  color: inherit;\n  font-style: inherit;\n  font-weight: inherit;\n  line-height: 1;\n  padding: 0;\n  overflow: hidden;\n}\n[id^='zego-graphics-box'] {\n  position: absolute;\n}\n[id^='zego-textarea'] {\n  position: absolute;\n  border: 1px dashed transparent;\n  overflow: hidden;\n}\n[id^='zego-other-container'] {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n  cursor: none;\n  overflow: hidden;\n}\n[id^='zego-other-container'] div {\n  box-sizing: border-box;\n}\n[id^='zego-laser'] {\n  width: 16px;\n  height: 16px;\n  border-radius: 50%;\n  background: rgba(255, 78, 51, 1);\n  border: 2px solid rgba(255, 144, 128, 1);\n  box-shadow: 0px 0px 8px 0px rgba(254, 94, 70, 0.7);\n  position: absolute;\n  left: 0;\n  top: 0;\n}\n\n[id^='zego-cursor'] {\n  position: absolute;\n  left: 0;\n  top: 0;\n  /* cursor: none; */\n}\n\n[id^='zego-cursor'] > img {\n  user-select: none;\n  -webkit-user-drag: none;\n  /* cursor: none; */\n}\n\n[id^='zego-box-container'] .img-editor-box,\n[id^='zego-box-container'] .graphics-box {\n  display: none;\n  position: absolute;\n  overflow: visible;\n  margin: 0;\n  padding: 0;\n  z-index: 2;\n  border: 2px solid #b0b3b8;\n  box-shadow: 0 0 1px 0 #ffffff, inset 0 0 1px 0 #ffffff;\n  transform-origin: 0px 0px 0px;\n  transition: border 0.3s;\n  -moz-transition: border 0.3s; /* Firefox 4 */\n  -webkit-transition: border 0.3s; /* Safari 和 Chrome */\n  -o-transition: border 0.3s; /* Opera */\n}\n\n[id^='zego-box-container'] .operation-point-desktop {\n  width: 12px;\n  height: 12px;\n  position: absolute;\n  background-color: #ffffff;\n  border: 2px solid #b0b3b8;\n}\n[id^='zego-box-container'] .operation-point-desktop:active,\n[id^='zego-box-container'] .operation-point-desktop:hover {\n  transform: scale(1.5);\n  border: 2px solid #eb98c7;\n}\n\n[id^='zego-box-container'] .operation-point-desktop.left-top {\n  left: -6px;\n  top: -6px;\n  cursor: nwse-resize;\n}\n[id^='zego-box-container'] .operation-point-desktop.right-top {\n  right: -6px;\n  top: -6px;\n  cursor: nesw-resize;\n}\n[id^='zego-box-container'] .operation-point-desktop.left-bottom {\n  left: -6px;\n  bottom: -6px;\n  cursor: nesw-resize;\n}\n[id^='zego-box-container'] .operation-point-desktop.right-bottom {\n  right: -6px;\n  bottom: -6px;\n  cursor: nwse-resize;\n}\n[id^='zego-box-container'] .operation-point-desktop.top {\n  top: -6px;\n  cursor: ns-resize;\n}\n[id^='zego-box-container'] .operation-point-desktop.right {\n  right: -6px;\n  cursor: ew-resize;\n}\n[id^='zego-box-container'] .operation-point-desktop.bottom {\n  bottom: -6px;\n  cursor: ns-resize;\n}\n[id^='zego-box-container'] .operation-point-desktop.left {\n  left: -6px;\n  cursor: ew-resize;\n}\n",""]),e.exports=t},function(e,t,o){var r=o(6),i=o(409);r({global:!0,forced:parseInt!=i},{parseInt:i})},function(e,t,o){var r=o(11),i=o(8),n=o(7),a=o(24),s=o(248).trim,c=o(249),l=r.parseInt,u=r.Symbol,d=u&&u.iterator,p=/^[+-]?0x/i,h=n(p.exec),_=8!==l(c+"08")||22!==l(c+"0x16")||d&&!i((function(){l(Object(d))}));e.exports=_?function(e,t){var o=s(a(e));return l(o,t>>>0||(h(p,o)?16:10))}:l},function(e,t,o){var r=o(6),i=o(411);r({global:!0,forced:parseFloat!=i},{parseFloat:i})},function(e,t,o){var r=o(11),i=o(8),n=o(7),a=o(24),s=o(248).trim,c=o(249),l=n("".charAt),u=r.parseFloat,d=r.Symbol,p=d&&d.iterator,h=1/u(c+"-0")!=-1/0||p&&!i((function(){u(Object(p))}));e.exports=h?function(e){var t=s(a(e)),o=u(t);return 0===o&&"-"==l(t,0)?-0:o}:u},function(e,t,o){"use strict";var r=o(6),i=o(295).start;r({target:"String",proto:!0,forced:o(413)},{padStart:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,o){var r=o(66);e.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(r)},function(e,t,o){"use strict";var r=t;function i(){r.util._configure(),r.Writer._configure(r.BufferWriter),r.Reader._configure(r.BufferReader)}r.build="minimal",r.Writer=o(396),r.BufferWriter=o(416),r.Reader=o(397),r.BufferReader=o(417),r.util=o(190),r.rpc=o(418),r.roots=o(420),r.configure=i,i()},function(e,t,o){"use strict";e.exports=i;var r=o(190);function i(e,t){this.lo=e>>>0,this.hi=t>>>0}var n=i.zero=new i(0,0);n.toNumber=function(){return 0},n.zzEncode=n.zzDecode=function(){return this},n.length=function(){return 1};var a=i.zeroHash="\0\0\0\0\0\0\0\0";i.fromNumber=function(e){if(0===e)return n;var t=e<0;t&&(e=-e);var o=e>>>0,r=(e-o)/4294967296>>>0;return t&&(r=~r>>>0,o=~o>>>0,++o>4294967295&&(o=0,++r>4294967295&&(r=0))),new i(o,r)},i.from=function(e){if("number"==typeof e)return i.fromNumber(e);if(r.isString(e)){if(!r.Long)return i.fromNumber(parseInt(e,10));e=r.Long.fromString(e)}return e.low||e.high?new i(e.low>>>0,e.high>>>0):n},i.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,o=~this.hi>>>0;return t||(o=o+1>>>0),-(t+4294967296*o)}return this.lo+4294967296*this.hi},i.prototype.toLong=function(e){return r.Long?new r.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var s=String.prototype.charCodeAt;i.fromHash=function(e){return e===a?n:new i((s.call(e,0)|s.call(e,1)<<8|s.call(e,2)<<16|s.call(e,3)<<24)>>>0,(s.call(e,4)|s.call(e,5)<<8|s.call(e,6)<<16|s.call(e,7)<<24)>>>0)},i.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},i.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},i.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},i.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,o=this.hi>>>24;return 0===o?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:o<128?9:10}},function(e,t,o){"use strict";e.exports=n;var r=o(396);(n.prototype=Object.create(r.prototype)).constructor=n;var i=o(190);function n(){r.call(this)}function a(e,t,o){e.length<40?i.utf8.write(e,t,o):t.utf8Write?t.utf8Write(e,o):t.write(e,o)}n._configure=function(){n.alloc=i._Buffer_allocUnsafe,n.writeBytesBuffer=i.Buffer&&i.Buffer.prototype instanceof Uint8Array&&"set"===i.Buffer.prototype.set.name?function(e,t,o){t.set(e,o)}:function(e,t,o){if(e.copy)e.copy(t,o,0,e.length);else for(var r=0;r<e.length;)t[o++]=e[r++]}},n.prototype.bytes=function(e){i.isString(e)&&(e=i._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(n.writeBytesBuffer,t,e),this},n.prototype.string=function(e){var t=i.Buffer.byteLength(e);return this.uint32(t),t&&this._push(a,t,e),this},n._configure()},function(e,t,o){"use strict";e.exports=n;var r=o(397);(n.prototype=Object.create(r.prototype)).constructor=n;var i=o(190);function n(e){r.call(this,e)}n._configure=function(){i.Buffer&&(n.prototype._slice=i.Buffer.prototype.slice)},n.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},n._configure()},function(e,t,o){"use strict";t.Service=o(419)},function(e,t,o){"use strict";e.exports=i;var r=o(190);function i(e,t,o){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");r.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(o)}(i.prototype=Object.create(r.EventEmitter.prototype)).constructor=i,i.prototype.rpcCall=function e(t,o,i,n,a){if(!n)throw TypeError("request must be specified");var s=this;if(!a)return r.asPromise(e,s,t,o,i,n);if(s.rpcImpl)try{return s.rpcImpl(t,o[s.requestDelimited?"encodeDelimited":"encode"](n).finish(),(function(e,o){if(e)return s.emit("error",e,t),a(e);if(null!==o){if(!(o instanceof i))try{o=i[s.responseDelimited?"decodeDelimited":"decode"](o)}catch(e){return s.emit("error",e,t),a(e)}return s.emit("data",o,t),a(null,o)}s.end(!0)}))}catch(e){return s.emit("error",e,t),void setTimeout((function(){a(e)}),0)}else setTimeout((function(){a(Error("already ended"))}),0)},i.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},function(e,t,o){"use strict";e.exports={}},,function(e,t){var o={utf8:{stringToBytes:function(e){return o.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(o.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],o=0;o<e.length;o++)t.push(255&e.charCodeAt(o));return t},bytesToString:function(e){for(var t=[],o=0;o<e.length;o++)t.push(String.fromCharCode(e[o]));return t.join("")}}};e.exports=o},function(e,t,o){var r,i,n,a,s;r=o(434),i=o(422).utf8,n=o(435),a=o(422).bin,(s=function(e,t){e.constructor==String?e=t&&"binary"===t.encoding?a.stringToBytes(e):i.stringToBytes(e):n(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||e.constructor===Uint8Array||(e=e.toString());for(var o=r.bytesToWords(e),c=8*e.length,l=1732584193,u=-271733879,d=-1732584194,p=271733878,h=0;h<o.length;h++)o[h]=16711935&(o[h]<<8|o[h]>>>24)|4278255360&(o[h]<<24|o[h]>>>8);o[c>>>5]|=128<<c%32,o[14+(c+64>>>9<<4)]=c;var _=s._ff,f=s._gg,g=s._hh,m=s._ii;for(h=0;h<o.length;h+=16){var y=l,b=u,v=d,w=p;l=_(l,u,d,p,o[h+0],7,-680876936),p=_(p,l,u,d,o[h+1],12,-389564586),d=_(d,p,l,u,o[h+2],17,606105819),u=_(u,d,p,l,o[h+3],22,-1044525330),l=_(l,u,d,p,o[h+4],7,-176418897),p=_(p,l,u,d,o[h+5],12,1200080426),d=_(d,p,l,u,o[h+6],17,-1473231341),u=_(u,d,p,l,o[h+7],22,-45705983),l=_(l,u,d,p,o[h+8],7,1770035416),p=_(p,l,u,d,o[h+9],12,-1958414417),d=_(d,p,l,u,o[h+10],17,-42063),u=_(u,d,p,l,o[h+11],22,-1990404162),l=_(l,u,d,p,o[h+12],7,1804603682),p=_(p,l,u,d,o[h+13],12,-40341101),d=_(d,p,l,u,o[h+14],17,-1502002290),l=f(l,u=_(u,d,p,l,o[h+15],22,1236535329),d,p,o[h+1],5,-165796510),p=f(p,l,u,d,o[h+6],9,-1069501632),d=f(d,p,l,u,o[h+11],14,643717713),u=f(u,d,p,l,o[h+0],20,-373897302),l=f(l,u,d,p,o[h+5],5,-701558691),p=f(p,l,u,d,o[h+10],9,38016083),d=f(d,p,l,u,o[h+15],14,-660478335),u=f(u,d,p,l,o[h+4],20,-405537848),l=f(l,u,d,p,o[h+9],5,568446438),p=f(p,l,u,d,o[h+14],9,-1019803690),d=f(d,p,l,u,o[h+3],14,-187363961),u=f(u,d,p,l,o[h+8],20,1163531501),l=f(l,u,d,p,o[h+13],5,-1444681467),p=f(p,l,u,d,o[h+2],9,-51403784),d=f(d,p,l,u,o[h+7],14,1735328473),l=g(l,u=f(u,d,p,l,o[h+12],20,-1926607734),d,p,o[h+5],4,-378558),p=g(p,l,u,d,o[h+8],11,-2022574463),d=g(d,p,l,u,o[h+11],16,1839030562),u=g(u,d,p,l,o[h+14],23,-35309556),l=g(l,u,d,p,o[h+1],4,-1530992060),p=g(p,l,u,d,o[h+4],11,1272893353),d=g(d,p,l,u,o[h+7],16,-155497632),u=g(u,d,p,l,o[h+10],23,-1094730640),l=g(l,u,d,p,o[h+13],4,681279174),p=g(p,l,u,d,o[h+0],11,-358537222),d=g(d,p,l,u,o[h+3],16,-722521979),u=g(u,d,p,l,o[h+6],23,76029189),l=g(l,u,d,p,o[h+9],4,-640364487),p=g(p,l,u,d,o[h+12],11,-421815835),d=g(d,p,l,u,o[h+15],16,530742520),l=m(l,u=g(u,d,p,l,o[h+2],23,-995338651),d,p,o[h+0],6,-198630844),p=m(p,l,u,d,o[h+7],10,1126891415),d=m(d,p,l,u,o[h+14],15,-1416354905),u=m(u,d,p,l,o[h+5],21,-57434055),l=m(l,u,d,p,o[h+12],6,1700485571),p=m(p,l,u,d,o[h+3],10,-1894986606),d=m(d,p,l,u,o[h+10],15,-1051523),u=m(u,d,p,l,o[h+1],21,-2054922799),l=m(l,u,d,p,o[h+8],6,1873313359),p=m(p,l,u,d,o[h+15],10,-30611744),d=m(d,p,l,u,o[h+6],15,-1560198380),u=m(u,d,p,l,o[h+13],21,1309151649),l=m(l,u,d,p,o[h+4],6,-145523070),p=m(p,l,u,d,o[h+11],10,-1120210379),d=m(d,p,l,u,o[h+2],15,718787259),u=m(u,d,p,l,o[h+9],21,-343485551),l=l+y>>>0,u=u+b>>>0,d=d+v>>>0,p=p+w>>>0}return r.endian([l,u,d,p])})._ff=function(e,t,o,r,i,n,a){var s=e+(t&o|~t&r)+(i>>>0)+a;return(s<<n|s>>>32-n)+t},s._gg=function(e,t,o,r,i,n,a){var s=e+(t&r|o&~r)+(i>>>0)+a;return(s<<n|s>>>32-n)+t},s._hh=function(e,t,o,r,i,n,a){var s=e+(t^o^r)+(i>>>0)+a;return(s<<n|s>>>32-n)+t},s._ii=function(e,t,o,r,i,n,a){var s=e+(o^(t|~r))+(i>>>0)+a;return(s<<n|s>>>32-n)+t},s._blocksize=16,s._digestsize=16,e.exports=function(e,t){if(null==e)throw new Error("Illegal argument "+e);var o=r.wordsToBytes(s(e,t));return t&&t.asBytes?o:t&&t.asString?a.bytesToString(o):r.bytesToHex(o)}},,,,,,,,,,function(e,t,o){o(6)({target:"Number",stat:!0},{isInteger:o(214)})},function(e,t){var o,r;o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&r.rotl(e,8)|4278255360&r.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=r.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],o=0,r=0;o<e.length;o++,r+=8)t[r>>>5]|=e[o]<<24-r%32;return t},wordsToBytes:function(e){for(var t=[],o=0;o<32*e.length;o+=8)t.push(e[o>>>5]>>>24-o%32&255);return t},bytesToHex:function(e){for(var t=[],o=0;o<e.length;o++)t.push((e[o]>>>4).toString(16)),t.push((15&e[o]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],o=0;o<e.length;o+=2)t.push(parseInt(e.substr(o,2),16));return t},bytesToBase64:function(e){for(var t=[],r=0;r<e.length;r+=3)for(var i=e[r]<<16|e[r+1]<<8|e[r+2],n=0;n<4;n++)8*r+6*n<=8*e.length?t.push(o.charAt(i>>>6*(3-n)&63)):t.push("=");return t.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var t=[],r=0,i=0;r<e.length;i=++r%4)0!=i&&t.push((o.indexOf(e.charAt(r-1))&Math.pow(2,-2*i+8)-1)<<2*i|o.indexOf(e.charAt(r))>>>6-2*i);return t}},e.exports=r},function(e,t){function o(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}e.exports=function(e){return null!=e&&(o(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&o(e.slice(0,0))}(e)||!!e._isBuffer)}},function(e,t,o){"use strict";o.r(t),o.d(t,"ZegoSuperBoardManager",(function(){return G}));o(39),o(26),o(47),o(61),o(62),o(63),o(36),o(46),o(53),o(433),o(94),o(168),o(169),o(250),o(106),o(167),o(77),o(123),o(49),o(50),o(124),o(402);var r,i,n,a,s,c,l,u,d,p,h,_,f=o(400),g=o(399),m=o(401),y=o(1),b=o(2),v=o(4),w=o(54),S=o(3),I=(o(59),o(423)),E=o.n(I),O=o(9);!function(e){e[e.CURRENT=1]="CURRENT",e[e.ALL=2]="ALL"}(r||(r={})),function(e){e[e.None=0]="None",e[e.Pen=1]="Pen",e[e.Text=2]="Text",e[e.Line=4]="Line",e[e.Rect=8]="Rect",e[e.Ellipse=16]="Ellipse",e[e.Selector=32]="Selector",e[e.Eraser=64]="Eraser",e[e.Laser=128]="Laser",e[e.Click=256]="Click",e[e.CustomImage=512]="CustomImage"}(i||(i={})),function(e){e[e.None=1]="None",e[e.Draw=4]="Draw",e[e.Scroll=2]="Scroll",e[e.Zoom=8]="Zoom"}(n||(n={})),function(e){e[e.Graphic=0]="Graphic",e[e.Custom=1]="Custom"}(a||(a={})),function(e){e[e.Left=0]="Left",e[e.Right=1]="Right",e[e.Bottom=2]="Bottom",e[e.Top=3]="Top",e[e.Center=4]="Center"}(s||(s={})),function(e){e.DisableH5ImageDrag="disableH5ImageDrag",e.PptStepMode="pptStepMode",e.Domain="domain",e.ThumbnailMode="thumbnailMode",e.DisableH5Mouse="disableH5Mouse",e.EnableSizeReducedImages="enableSizeReducedImages"}(c||(c={})),function(e){e[e.Unknown=0]="Unknown",e[e.PPT=1]="PPT",e[e.DOC=2]="DOC",e[e.ELS=4]="ELS",e[e.PDF=8]="PDF",e[e.IMG=16]="IMG",e[e.TXT=32]="TXT",e[e.DynamicPPTH5=512]="DynamicPPTH5",e[e.CustomH5=4096]="CustomH5"}(l||(l={})),function(e){e[e.UPLOADING=1]="UPLOADING",e[e.UPLOADED=2]="UPLOADED",e[e.WAITING=4]="WAITING",e[e.CONVERTING=8]="CONVERTING",e[e.CONVERTED=16]="CONVERTED",e[e.CONVERTFAIL=32]="CONVERTFAIL",e[e.CONVERTCANCEL=64]="CONVERTCANCEL"}(u||(u={})),function(e){e[e.Vector=1]="Vector",e[e.IMG=2]="IMG",e[e.VectorAndIMG=3]="VectorAndIMG",e[e.DynamicPPTH5=6]="DynamicPPTH5",e[e.CustomH5=7]="CustomH5"}(d||(d={})),function(e){e[e.ZegoSuperBoardSuccess=0]="ZegoSuperBoardSuccess",e[e.ZegoSuperBoardErrorInternal=3100001]="ZegoSuperBoardErrorInternal",e[e.ZegoSuperBoardErrorParamInvalid=3100002]="ZegoSuperBoardErrorParamInvalid",e[e.ZegoSuperBoardErrorNetworkTimeout=3100003]="ZegoSuperBoardErrorNetworkTimeout",e[e.ZegoSuperBoardErrorNetworkDisconnect=3100004]="ZegoSuperBoardErrorNetworkDisconnect",e[e.ZegoSuperBoardErrorResponse=3100005]="ZegoSuperBoardErrorResponse",e[e.ZegoSuperBoardErrorRequestTooFrequent=3100006]="ZegoSuperBoardErrorRequestTooFrequent",e[e.ZegoSuperBoardErrorVersionMismatch=3100007]="ZegoSuperBoardErrorVersionMismatch",e[e.ZegoSuperBoardErrorLogFolderNotAccess=3140010]="ZegoSuperBoardErrorLogFolderNotAccess",e[e.ZegoSuperBoardErrorCacheFolderNotAccess=3140011]="ZegoSuperBoardErrorCacheFolderNotAccess",e[e.ZegoSuperBoardErrorNoLoginRoom=3110001]="ZegoSuperBoardErrorNoLoginRoom",e[e.ZegoSuperBoardErrorUserNotExist=3110002]="ZegoSuperBoardErrorUserNotExist",e[e.ZegoSuperBoardErrorViewNotExist=3120001]="ZegoSuperBoardErrorViewNotExist",e[e.ZegoSuperBoardErrorViewCreateFail=3120002]="ZegoSuperBoardErrorViewCreateFail",e[e.ZegoSuperBoardErrorViewModifyFail=3120003]="ZegoSuperBoardErrorViewModifyFail",e[e.ZegoSuperBoardErrorViewNameLimit=3120004]="ZegoSuperBoardErrorViewNameLimit",e[e.ZegoSuperBoardErrorViewParentNotExist=3120005]="ZegoSuperBoardErrorViewParentNotExist",e[e.ZegoSuperBoardErrorViewNumLimit=3120006]="ZegoSuperBoardErrorViewNumLimit",e[e.ZegoSuperBoardErrorAnimationInfoLimit=3120007]="ZegoSuperBoardErrorAnimationInfoLimit",e[e.ZegoSuperBoardErrorGraphicNotExist=3130001]="ZegoSuperBoardErrorGraphicNotExist",e[e.ZegoSuperBoardErrorGraphicCreateFail=3130002]="ZegoSuperBoardErrorGraphicCreateFail",e[e.ZegoSuperBoardErrorGraphicModifyFail=3130003]="ZegoSuperBoardErrorGraphicModifyFail",e[e.ZegoSuperBoardErrorGraphicUnableDraw=3130004]="ZegoSuperBoardErrorGraphicUnableDraw",e[e.ZegoSuperBoardErrorGraphicDataLimit=3130005]="ZegoSuperBoardErrorGraphicDataLimit",e[e.ZegoSuperBoardErrorGraphicNumLimit=3130006]="ZegoSuperBoardErrorGraphicNumLimit",e[e.ZegoSuperBoardErrorGraphicTextLimit=3130007]="ZegoSuperBoardErrorGraphicTextLimit",e[e.ZegoSuperBoardErrorGraphicImageSizeLimit=3130008]="ZegoSuperBoardErrorGraphicImageSizeLimit",e[e.ZegoSuperBoardErrorGraphicImageTypeNotSupport=3130009]="ZegoSuperBoardErrorGraphicImageTypeNotSupport",e[e.ZegoSuperBoardErrorGraphicIllegalAddress=3130010]="ZegoSuperBoardErrorGraphicIllegalAddress",e[e.ZegoWhiteboardViewErrorGraphicCursorOffsetLimit=3130011]="ZegoWhiteboardViewErrorGraphicCursorOffsetLimit",e[e.ZegoSuperBoardErrorInitFail=3140001]="ZegoSuperBoardErrorInitFail",e[e.ZegoSuperBoardErrorGetListFail=3140002]="ZegoSuperBoardErrorGetListFail",e[e.ZegoSuperBoardErrorCreateFail=3140003]="ZegoSuperBoardErrorCreateFail",e[e.ZegoSuperBoardErrorDestroyFail=3140004]="ZegoSuperBoardErrorDestroyFail",e[e.ZegoSuperBoardErrorAttachFail=3140005]="ZegoSuperBoardErrorAttachFail",e[e.ZegoSuperBoardErrorClearFail=3140006]="ZegoSuperBoardErrorClearFail",e[e.ZegoSuperBoardErrorScrollFail=3140007]="ZegoSuperBoardErrorScrollFail",e[e.ZegoSuperBoardErrorUndoFail=3140008]="ZegoSuperBoardErrorUndoFail",e[e.ZegoSuperBoardErrorRedoFail=3140009]="ZegoSuperBoardErrorRedoFail",e[e.ZegoSuperBoardErrorSwitchFail=3140012]="ZegoSuperBoardErrorSwitchFail",e[e.ZegoSuperBoardErrorNoAuthScale=3150001]="ZegoSuperBoardErrorNoAuthScale",e[e.ZegoSuperBoardErrorNoAuthScroll=3150002]="ZegoSuperBoardErrorNoAuthScroll",e[e.ZegoSuperBoardErrorNoAuthCreateGraphic=3150003]="ZegoSuperBoardErrorNoAuthCreateGraphic",e[e.ZegoSuperBoardErrorNoAuthUpdateGraphic=3150004]="ZegoSuperBoardErrorNoAuthUpdateGraphic",e[e.ZegoSuperBoardErrorNoAuthMoveGraphic=3150005]="ZegoSuperBoardErrorNoAuthMoveGraphic",e[e.ZegoSuperBoardErrorNoAuthDeleteGraphic=3150006]="ZegoSuperBoardErrorNoAuthDeleteGraphic",e[e.ZegoSuperBoardErrorNoAuthClearGraphic=3150007]="ZegoSuperBoardErrorNoAuthClearGraphic",e[e.ZegoSuperBoardErrorDocParamInvalid=3100002]="ZegoSuperBoardErrorDocParamInvalid",e[e.ZegoSuperBoardErrorFileNotExist=3111001]="ZegoSuperBoardErrorFileNotExist",e[e.ZegoSuperBoardErrorUploadFailed=3111002]="ZegoSuperBoardErrorUploadFailed",e[e.ZegoSuperBoardErrorUnsupportRenderType=3111003]="ZegoSuperBoardErrorUnsupportRenderType",e[e.ZegoSuperBoardErrorFileEncrypt=3121001]="ZegoSuperBoardErrorFileEncrypt",e[e.ZegoSuperBoardErrorFileSizeLimit=3121002]="ZegoSuperBoardErrorFileSizeLimit",e[e.ZegoSuperBoardErrorFileSheetLimit=3121003]="ZegoSuperBoardErrorFileSheetLimit",e[e.ZegoSuperBoardErrorConvertFail=3121004]="ZegoSuperBoardErrorConvertFail",e[e.ZegoSuperBoardErrorConvertCancel=3121005]="ZegoSuperBoardErrorConvertCancel",e[e.ZegoSuperBoardErrorFileContentEmpty=3121006]="ZegoSuperBoardErrorFileContentEmpty",e[e.ZegoSuperBoardErrorFileReadOnly=3121007]="ZegoSuperBoardErrorFileReadOnly",e[e.ZegoSuperBoardErrorConvertElementNotSupported=3121008]="ZegoSuperBoardErrorConvertElementNotSupported",e[e.ZegoSuperBoardErrorConvertFileTypeInvalid=3121009]="ZegoSuperBoardErrorConvertFileTypeInvalid",e[e.ZegoSuperBoardErrorFileCorruption=3131018]="ZegoSuperBoardErrorFileCorruption",e[e.ZegoSuperBoardErrorFileContentIncomplete=3131019]="ZegoSuperBoardErrorFileContentIncomplete",e[e.ZegoSuperBoardErrorAuthParamInvalid=3131001]="ZegoSuperBoardErrorAuthParamInvalid",e[e.ZegoSuperBoardErrorFilePathNotAccess=3131002]="ZegoSuperBoardErrorFilePathNotAccess",e[e.ZegoSuperBoardErrorInitFailed=3131003]="ZegoSuperBoardErrorInitFailed",e[e.ZegoSuperBoardErrorSizeInvalid=3131004]="ZegoSuperBoardErrorSizeInvalid",e[e.ZegoSuperBoardErrorFreeSpaceLimit=3131005]="ZegoSuperBoardErrorFreeSpaceLimit",e[e.ZegoSuperBoardErrorUploadNotSupported=3131006]="ZegoSuperBoardErrorUploadNotSupported",e[e.ZegoSuperBoardErrorUploadDuplicated=3131007]="ZegoSuperBoardErrorUploadDuplicated",e[e.ZegoSuperBoardErrorEmptyDomain=3131008]="ZegoSuperBoardErrorEmptyDomain",e[e.ZegoSuperBoardErrorDuplicateInit=3131009]="ZegoSuperBoardErrorDuplicateInit",e[e.ZegoSuperBoardErrorServerFileNotExist=3131010]="ZegoSuperBoardErrorServerFileNotExist",e[e.ZegoSuperBoardErrorDocLogFolderNotAccess=3131011]="ZegoSuperBoardErrorDocLogFolderNotAccess",e[e.ZegoSuperBoardErrorDocCacheFolderNotAccess=3131012]="ZegoSuperBoardErrorDocCacheFolderNotAccess",e[e.ZegoSuperBoardErrorDocDataFolderNotAccess=3131013]="ZegoSuperBoardErrorDocDataFolderNotAccess",e[e.ZegoSuperBoardErrorCacheNotSupported=3131014]="ZegoSuperBoardErrorCacheNotSupported",e[e.ZegoSuperBoardErrorCacheFailed=3131015]="ZegoSuperBoardErrorCacheFailed",e[e.ZegoSuperBoardErrorZipFileInvalid=3131016]="ZegoSuperBoardErrorZipFileInvalid",e[e.ZegoSuperBoardErrorH5FileInvalid=3131017]="ZegoSuperBoardErrorH5FileInvalid",e[e.ZegoBridgeErrorNotReady=3112001]="ZegoBridgeErrorNotReady",e[e.ZegoBridgeErrorParamInvalid=3112002]="ZegoBridgeErrorParamInvalid",e[e.ZegoBridgeErrorRecordListLimit=3112003]="ZegoBridgeErrorRecordListLimit",e[e.ZegoBridgeErrorH5=3112006]="ZegoBridgeErrorH5",e[e.ZegoSuperBoardErrorConvertFileUnsafe=3121010]="ZegoSuperBoardErrorConvertFileUnsafe",e[e.ZegoSuperBoardErrorConvertElementNotExported=3121011]="ZegoSuperBoardErrorConvertElementNotExported",e[e.ZegoSuperBoardErrorRequestFailure=3100009]="ZegoSuperBoardErrorRequestFailure",e[e.ZegoSuperBoardErrorWhiteboardTokenInvalid=3100010]="ZegoSuperBoardErrorWhiteboardTokenInvalid",e[e.ZegoSuperBoardErrorDocsTokenInvalid=3100011]="ZegoSuperBoardErrorDocsTokenInvalid",e[e.ZegoSuperBoardErrorGetContextFail=3130021]="ZegoSuperBoardErrorGetContextFail",e[e.ZegoSuperBoardErrorDrawImageFail=3130022]="ZegoSuperBoardErrorDrawImageFail",e[e.ZegoSuperBoardErrorSwitchSpeakerFail=3130023]="ZegoSuperBoardErrorSwitchSpeakerFail"}(p||(p={})),function(e){e[e.PNG=1]="PNG",e[e.SVG=2]="SVG"}(h||(h={})),function(e){e[e.Caching=1]="Caching",e[e.Cached=2]="Cached"}(_||(_={}));var P,k,T=o(35),x=((P={})[p.ZegoSuperBoardErrorInternal]="内部错误",P[p.ZegoSuperBoardErrorParamInvalid]="参数错误",P[p.ZegoSuperBoardErrorNetworkTimeout]="网络超时",P[p.ZegoSuperBoardErrorNetworkDisconnect]="网络断开",P[p.ZegoSuperBoardErrorResponse]="网络回包错误",P[p.ZegoSuperBoardErrorRequestTooFrequent]="请求过于频繁",P[p.ZegoSuperBoardErrorNoLoginRoom]="未登录房间",P[p.ZegoSuperBoardErrorUserNotExist]="用户不存在",P[p.ZegoSuperBoardErrorViewNotExist]="白板view不存在",P[p.ZegoSuperBoardErrorViewCreateFail]="创建白板view失败",P[p.ZegoSuperBoardErrorViewModifyFail]="修改白板view失败",P[p.ZegoSuperBoardErrorViewNameLimit]="白板view名称或者content过长",P[p.ZegoSuperBoardErrorViewParentNotExist]="白板view的parent不存在",P[p.ZegoSuperBoardErrorViewNumLimit]="超过白板最大数量限制",P[p.ZegoSuperBoardErrorGraphicNotExist]="图元不存在",P[p.ZegoSuperBoardErrorGraphicCreateFail]="创建图元错误",P[p.ZegoSuperBoardErrorGraphicModifyFail]="修改图元错误",P[p.ZegoSuperBoardErrorGraphicUnableDraw]="未开启绘制",P[p.ZegoSuperBoardErrorGraphicDataLimit]="图元数据大小超过限制",P[p.ZegoSuperBoardErrorGraphicNumLimit]="超过图元最大数量限制",P[p.ZegoSuperBoardErrorGraphicTextLimit]="文本字数超过上限",P[p.ZegoSuperBoardErrorGraphicImageSizeLimit]="图片图元大小超限制",P[p.ZegoSuperBoardErrorGraphicImageTypeNotSupport]="不支持的图片类型",P[p.ZegoSuperBoardErrorGraphicIllegalAddress]="无效图片地址",P[p.ZegoWhiteboardViewErrorGraphicCursorOffsetLimit]="光标设置偏移值超出限制",P[p.ZegoSuperBoardErrorInitFail]="初始化失败",P[p.ZegoSuperBoardErrorGetListFail]="拉取白板view列表失败",P[p.ZegoSuperBoardErrorCreateFail]="创建白板view失败",P[p.ZegoSuperBoardErrorDestroyFail]="销毁白板view失败",P[p.ZegoSuperBoardErrorAttachFail]="attach白板view失败",P[p.ZegoSuperBoardErrorClearFail]="清空白板view失败",P[p.ZegoSuperBoardErrorScrollFail]="滚动白板view失败",P[p.ZegoSuperBoardErrorUndoFail]="撤销操作失败",P[p.ZegoSuperBoardErrorRedoFail]="重做操作失败",P[p.ZegoSuperBoardErrorNoAuthScale]="无白板缩放权限",P[p.ZegoSuperBoardErrorNoAuthScroll]="无白板滚动权限",P[p.ZegoSuperBoardErrorNoAuthCreateGraphic]="无图元创建权限",P[p.ZegoSuperBoardErrorNoAuthUpdateGraphic]="无图元编辑权限",P[p.ZegoSuperBoardErrorNoAuthMoveGraphic]="无图元移动权限",P[p.ZegoSuperBoardErrorNoAuthDeleteGraphic]="无图元删除权限",P[p.ZegoSuperBoardErrorNoAuthClearGraphic]="无白板清空权限",P[p.ZegoSuperBoardErrorAnimationInfoLimit]="动画信息过长",P[p.ZegoSuperBoardErrorFileNotExist]="找不到对应的本地文件",P[p.ZegoSuperBoardErrorUploadFailed]="上传失败",P[p.ZegoSuperBoardErrorUnsupportRenderType]="不支持渲染模式",P[p.ZegoSuperBoardErrorFileEncrypt]="需要转码的文件被加密",P[p.ZegoSuperBoardErrorFileSizeLimit]="文件内容过大",P[p.ZegoSuperBoardErrorFileSheetLimit]="文件页数过多",P[p.ZegoSuperBoardErrorConvertFail]="格式转换失败",P[p.ZegoSuperBoardErrorConvertCancel]="格式转换被取消",P[p.ZegoSuperBoardErrorFileContentEmpty]="文件内容为空",P[p.ZegoSuperBoardErrorFileReadOnly]="文件为只读模式",P[p.ZegoSuperBoardErrorConvertElementNotSupported]="\t源文件中存在不支持转码的元素",P[p.ZegoSuperBoardErrorConvertFileTypeInvalid]="文件后缀名不符合 ZEGO 定义的文件规范",P[p.ZegoSuperBoardErrorFileCorruption]="文件损坏",P[p.ZegoSuperBoardErrorFileContentIncomplete]="文件内容不完整",P[p.ZegoSuperBoardErrorAuthParamInvalid]="认证参数错误",P[p.ZegoSuperBoardErrorInitFailed]="初始化失败",P[p.ZegoSuperBoardErrorFreeSpaceLimit]="本地空间不足",P[p.ZegoSuperBoardErrorUploadNotSupported]="不支持文件上传功能",P[p.ZegoSuperBoardErrorUploadDuplicated]="正在上传相同文件",P[p.ZegoSuperBoardErrorEmptyDomain]="空域名",P[p.ZegoSuperBoardErrorSizeInvalid]="无法获取当前 view 宽高",P[p.ZegoSuperBoardErrorServerFileNotExist]="找不到对应的转码后文件",P[p.ZegoSuperBoardErrorCacheNotSupported]="不支持预加载该文件",P[p.ZegoSuperBoardErrorCacheFailed]="预加载失败",P[p.ZegoSuperBoardErrorZipFileInvalid]="无效的 ZIP 文件",P[p.ZegoSuperBoardErrorH5FileInvalid]="无效的 H5 文件",P[p.ZegoSuperBoardErrorConvertFileUnsafe]="源文件中存在安全隐患，无法正常打开",P[p.ZegoSuperBoardErrorConvertElementNotExported]="转码结束后存在图片、音视频文件未正常导出",P[p.ZegoSuperBoardErrorInternal]="内部错误",P[p.ZegoSuperBoardErrorNetworkTimeout]="网络超时",P[p.ZegoSuperBoardErrorDuplicateInit]="已初始化",P[p.ZegoSuperBoardErrorRequestFailure]="请求失败",P[p.ZegoSuperBoardErrorGetContextFail]="Get canvas context Fail",P[p.ZegoSuperBoardErrorDrawImageFail]="Cavnas DrawImage Fail",P[p.ZegoBridgeErrorNotReady]="H5 没有调用 getReady",P[p.ZegoBridgeErrorParamInvalid]="参数错误",P[p.ZegoBridgeErrorRecordListLimit]="recordList 字节长度超过限制",P[p.ZegoBridgeErrorH5]="H5 内部代码执行出错",P),C=((k={})[T.b.ZegoWhiteboardViewErrorInternal]=p.ZegoSuperBoardErrorInternal,k[T.b.ZegoWhiteboardViewErrorParamInvalid]=p.ZegoSuperBoardErrorParamInvalid,k[T.b.ZegoWhiteboardViewErrorNetworkTimeout]=p.ZegoSuperBoardErrorNetworkTimeout,k[T.b.ZegoWhiteboardViewErrorNetworkDisconnect]=p.ZegoSuperBoardErrorNetworkDisconnect,k[T.b.ZegoWhiteboardViewErrorInvalidRsp]=p.ZegoSuperBoardErrorResponse,k[T.b.ZegoWhiteboardViewErrorRequestTooMany]=p.ZegoSuperBoardErrorRequestTooFrequent,k[T.b.ZegoWhiteboardViewErrorVersionMismatch]=p.ZegoSuperBoardErrorVersionMismatch,k[T.b.ZegoWhiteboardViewErrorNoLoginRoom]=p.ZegoSuperBoardErrorNoLoginRoom,k[T.b.ZegoWhiteboardViewErrorUserNotExist]=p.ZegoSuperBoardErrorUserNotExist,k[T.b.ZegoWhiteboardViewErrorViewNotExist]=p.ZegoSuperBoardErrorViewNotExist,k[T.b.ZegoWhiteboardViewErrorViewCreateFail]=p.ZegoSuperBoardErrorViewCreateFail,k[T.b.ZegoWhiteboardViewErrorViewModifyFail]=p.ZegoSuperBoardErrorViewModifyFail,k[T.b.ZegoWhiteboardViewErrorViewNameLimit]=p.ZegoSuperBoardErrorViewNameLimit,k[T.b.ZegoWhiteboardViewErrorViewParentNotExist]=p.ZegoSuperBoardErrorViewParentNotExist,k[T.b.ZegoWhiteboardViewErrorViewNumLimit]=p.ZegoSuperBoardErrorViewNumLimit,k[T.b.ZegoWhiteboardViewErrorAnimationInfoLimit]=p.ZegoSuperBoardErrorAnimationInfoLimit,k[T.b.ZegoWhiteboardViewErrorGraphicNotExist]=p.ZegoSuperBoardErrorGraphicNotExist,k[T.b.ZegoWhiteboardViewErrorGraphicCreateFail]=p.ZegoSuperBoardErrorGraphicCreateFail,k[T.b.ZegoWhiteboardViewErrorGraphicModifyFail]=p.ZegoSuperBoardErrorGraphicModifyFail,k[T.b.ZegoWhiteboardViewErrorGraphicUnableDraw]=p.ZegoSuperBoardErrorGraphicUnableDraw,k[T.b.ZegoWhiteboardViewErrorGraphicDataLimit]=p.ZegoSuperBoardErrorGraphicDataLimit,k[T.b.ZegoWhiteboardViewErrorGraphicNumLimit]=p.ZegoSuperBoardErrorGraphicNumLimit,k[T.b.ZegoWhiteboardViewErrorGraphicTextLimit]=p.ZegoSuperBoardErrorGraphicTextLimit,k[T.b.ZegoWhiteboardViewErrorGraphicImageSizeLimit]=p.ZegoSuperBoardErrorGraphicImageSizeLimit,k[T.b.ZegoWhiteboardViewErrorGraphicImageTypeNotSupport]=p.ZegoSuperBoardErrorGraphicImageTypeNotSupport,k[T.b.ZegoWhiteboardViewErrorInitFail]=p.ZegoSuperBoardErrorInitFail,k[T.b.ZegoWhiteboardViewErrorGetListFail]=p.ZegoSuperBoardErrorGetListFail,k[T.b.ZegoWhiteboardViewErrorCreateFail]=p.ZegoSuperBoardErrorCreateFail,k[T.b.ZegoWhiteboardViewErrorDestroyFail]=p.ZegoSuperBoardErrorDestroyFail,k[T.b.ZegoWhiteboardViewErrorAttachFail]=p.ZegoSuperBoardErrorAttachFail,k[T.b.ZegoWhiteboardViewErrorClearFail]=p.ZegoSuperBoardErrorClearFail,k[T.b.ZegoWhiteboardViewErrorScrollFail]=p.ZegoSuperBoardErrorScrollFail,k[T.b.ZegoWhiteboardViewErrorUndoFail]=p.ZegoSuperBoardErrorUndoFail,k[T.b.ZegoWhiteboardViewErrorRedoFail]=p.ZegoSuperBoardErrorRedoFail,k[T.b.ZegoWhiteboardViewErrorNoAuthScale]=p.ZegoSuperBoardErrorNoAuthScale,k[T.b.ZegoWhiteboardViewErrorNoAuthScroll]=p.ZegoSuperBoardErrorNoAuthScroll,k[T.b.ZegoWhiteboardViewErrorNoAuthCreateGraphic]=p.ZegoSuperBoardErrorNoAuthCreateGraphic,k[T.b.ZegoWhiteboardViewErrorNoAuthUpdateGraphic]=p.ZegoSuperBoardErrorNoAuthUpdateGraphic,k[T.b.ZegoWhiteboardViewErrorNoAuthMoveGraphic]=p.ZegoSuperBoardErrorNoAuthMoveGraphic,k[T.b.ZegoWhiteboardViewErrorNoAuthDeleteGraphic]=p.ZegoSuperBoardErrorNoAuthDeleteGraphic,k[T.b.ZegoWhiteboardViewErrorNoAuthClearGraphic]=p.ZegoSuperBoardErrorNoAuthClearGraphic,k[T.b.ZegoWhiteboardViewErrorGraphicIllegalUrl]=p.ZegoSuperBoardErrorGraphicIllegalAddress,k[T.b.ZegoWhiteboardViewErrorGraphicCursorOffsetLimit]=p.ZegoWhiteboardViewErrorGraphicCursorOffsetLimit,k[T.b.ZegoWhiteboardViewErrorLogFolderNotAccess]=p.ZegoSuperBoardErrorLogFolderNotAccess,k[T.b.ZegoWhiteboardViewErrorCacheFolderNotAccess]=p.ZegoSuperBoardErrorCacheFolderNotAccess,k[T.b.ZegoWhiteboardViewErrorTokenInvalid]=p.ZegoSuperBoardErrorWhiteboardTokenInvalid,k[S.d.ZegoDocsViewErrorInternal]=p.ZegoSuperBoardErrorInternal,k[S.d.ZegoDocsViewErrorNetworkTimeout]=p.ZegoSuperBoardErrorNetworkTimeout,k[S.d.ZegoDocsViewErrorParamInvalid]=p.ZegoSuperBoardErrorDocParamInvalid,k[S.d.ZegoDocsViewErrorFileNotExist]=p.ZegoSuperBoardErrorFileNotExist,k[S.d.ZegoDocsViewErrorUploadFailed]=p.ZegoSuperBoardErrorUploadFailed,k[S.d.ZegoDocsViewErrorUnsupportRenderType]=p.ZegoSuperBoardErrorUnsupportRenderType,k[S.d.ZegoDocsViewErrorFileEncrypt]=p.ZegoSuperBoardErrorFileEncrypt,k[S.d.ZegoDocsViewErrorFileSizeLimit]=p.ZegoSuperBoardErrorFileSizeLimit,k[S.d.ZegoDocsViewErrorFileSheetLimit]=p.ZegoSuperBoardErrorFileSheetLimit,k[S.d.ZegoDocsViewErrorConvertFail]=p.ZegoSuperBoardErrorConvertFail,k[S.d.ZegoDocsViewErrorConvertCancel]=p.ZegoSuperBoardErrorConvertCancel,k[S.d.ZegoDocsViewErrorFileContentEmpty]=p.ZegoSuperBoardErrorFileContentEmpty,k[S.d.ZegoDocsViewErrorFileReadOnly]=p.ZegoSuperBoardErrorFileReadOnly,k[S.d.ZegoDocsViewErrorConvertElementNotSupported]=p.ZegoSuperBoardErrorConvertElementNotSupported,k[S.d.ZegoDocsViewErrorConvertFileTypeInvalid]=p.ZegoSuperBoardErrorConvertFileTypeInvalid,k[S.d.ZegoDocsViewErrorFileCorruption]=p.ZegoSuperBoardErrorFileCorruption,k[S.d.ZegoDocsViewErrorFileContentIncomplete]=p.ZegoSuperBoardErrorFileContentIncomplete,k[S.d.ZegoDocsViewErrorAuthParamInvalid]=p.ZegoSuperBoardErrorAuthParamInvalid,k[S.d.ZegoDocsViewErrorFilePathNotAccess]=p.ZegoSuperBoardErrorFilePathNotAccess,k[S.d.ZegoDocsViewErrorInitFailed]=p.ZegoSuperBoardErrorInitFailed,k[S.d.ZegoDocsViewErrorSizeInvalid]=p.ZegoSuperBoardErrorSizeInvalid,k[S.d.ZegoDocsViewErrorFreeSpaceLimit]=p.ZegoSuperBoardErrorFreeSpaceLimit,k[S.d.ZegoDocsViewErrorUploadNotSupported]=p.ZegoSuperBoardErrorUploadNotSupported,k[S.d.ZegoDocsViewErrorUploadDuplicated]=p.ZegoSuperBoardErrorUploadDuplicated,k[S.d.ZegoDocsViewErrorEmptyDomain]=p.ZegoSuperBoardErrorEmptyDomain,k[S.d.ZegoDocsViewErrorServerFileNotExist]=p.ZegoSuperBoardErrorServerFileNotExist,k[S.d.ZegoDocsViewErrorCacheNotSupported]=p.ZegoSuperBoardErrorCacheNotSupported,k[S.d.ZegoDocsViewErrorCacheFailed]=p.ZegoSuperBoardErrorCacheFailed,k[S.d.ZegoDocsViewErrorZipFileInvalid]=p.ZegoSuperBoardErrorZipFileInvalid,k[S.d.ZegoDocsViewErrorH5FileInvalid]=p.ZegoSuperBoardErrorH5FileInvalid,k[S.d.ZegoDocsViewErrorHaveInit]=p.ZegoSuperBoardErrorDuplicateInit,k[S.d.ZegoDocsViewErrorConvertFileUnsafe]=p.ZegoSuperBoardErrorConvertFileUnsafe,k[S.d.ZegoDocsViewErrorConvertElementNotExported]=p.ZegoSuperBoardErrorConvertElementNotExported,k[S.d.ZegoDocsViewErrorRequestFailure]=p.ZegoSuperBoardErrorRequestFailure,k[S.d.ZegoDocsViewErrorTokenInvalid]=p.ZegoSuperBoardErrorDocsTokenInvalid,k[S.d.ZegoDocsViewErrorGetContextFail]=p.ZegoSuperBoardErrorGetContextFail,k[S.d.ZegoDocsViewErrorDrawImageFail]=p.ZegoSuperBoardErrorDrawImageFail,k[S.d.ZegoDocsViewErrorSwitchSpeakerFail]=p.ZegoSuperBoardErrorSwitchSpeakerFail,k[60011]=p.ZegoSuperBoardErrorAuthParamInvalid,k[10001]="H5 没有调用 getReady",k[10002]="参数错误",k[10003]="recordList 字节长度超过限制",k[10006]="H5 内部代码执行出错",k),A=function(){return E()("webSuperboard"+((new Date).getTime()+Math.round(1e3*Math.random())))},D=function(){return Object(O.d)()},M=function(e,t){var o;return{code:o=function(e){return C[e]||e}(e),message:t=x[o]||t||x[p.ZegoSuperBoardErrorInternal]}};function L(e){var t;try{t=new Blob([e]).size}catch(o){t=unescape(encodeURIComponent(e)).length}return t}var N=function(e){if(L(e)<=128)return e;for(var t=e.length/2|0,o=t,r=t+1;o>0&&r<e.length;){var i=e.substr(0,o)+"..."+e.substr(r);if(L(i)<=128)return i;o--,r++}return e},j=function(){function e(){if(this.parentDomID="",this.isUseBoardView=!0,this.curSubView=null,e.instance)return e.instance;e.instance=this}return e.getInstance=function(){return this.instance||(this.instance=new e)},e.prototype.setParentDomID=function(e){return this.parentDomID=e,y.a.getInstance().info1(b.c.SetParentDomID,{parentDomID:e}),this},e.prototype.getParentDomID=function(){return y.a.getInstance().info1(b.c.GetParentDomID,{parentDomID:this.parentDomID}),this.parentDomID},e.prototype.enableUseBoardView=function(e){this.isUseBoardView=e},e.prototype.setCurrentSuperBoardSubView=function(e,t){return y.a.getInstance().info1(b.c.SetCurrentSuperBoardSubView,{subView:null==e?void 0:e.getModel(),sheetIndex:t}),this.isUseBoardView?(this.curSubView=e,this.curSubView&&this.curSubView.switchWhiteboardView(t)):this.curSubView=null,this},e.prototype.getCurrentSuperBoardSubView=function(){var e;return y.a.getInstance().info1(b.c.API_getCurrentSuperBoardSubView,{curSubView:null===(e=this.curSubView)||void 0===e?void 0:e.getModel()}),this.curSubView},e.prototype.switchSuperBoardSubView=function(e,t){return y.a.getInstance().info1(b.c.API_switchSuperBoardSubView,{uniqueID:e,sheetIndex:t}),new Promise((function(o,r){v.f.emit(v.e.SyncSwitchMod,e,t,o,r)}))},e}(),q=(o(296),function(e,t,o,r){return new(o||(o=Promise))((function(i,n){function a(e){try{c(r.next(e))}catch(e){n(e)}}function s(e){try{c(r.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))}),B=function(e,t){var o,r,i,n,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(n){return function(s){return function(n){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,r&&(i=2&n[0]?r.return:n[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,n[1])).done)return i;switch(r=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,r=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==n[0]&&2!==n[0])){a=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){a.label=n[1];break}if(6===n[0]&&a.label<i[1]){a.label=i[1],i=n;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(n);break}i[2]&&a.ops.pop(),a.trys.pop();continue}n=t.call(e,a)}catch(e){n=[6,e],r=0}finally{o=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,s])}}},R=function(){function e(e,t,o){var r;this.curDocsView=null,this.whiteboardViews=e,this.docsViews=t;var i=e.findIndex((function(e){return!!e}));this.switchWhiteboardView(i);var n,a=this.curWhiteboardView.getFileInfo(),s=[];if(o)if(a&&a.fileType===l.ELS){var c=null===(r=this.curDocsView)||void 0===r?void 0:r.getExcelSheetNameList();c&&c.findIndex((function(t,o){e.map((function(e){var o;(null===(o=e.getFileInfo())||void 0===o?void 0:o.fileName)==t&&s.push(e.getID())}))}))}else s.push(this.curWhiteboardView.getID());(n=this.curWhiteboardView.getUniqueID())||(n=a&&a.fileType===l.ELS?a.fileID:this.curWhiteboardView.getID()),this.model=Object.freeze({uniqueID:n,name:this.curWhiteboardView.getName(),createTime:this.curWhiteboardView.getCreateTime(),fileID:a?a.fileID:"",fileType:a?a.fileType:0,whiteboardIDList:o?s:e.map((function(e){return e.getID()}))})}return e.prototype.getWhiteboardViewList=function(){return this.whiteboardViews},e.prototype.getCurrentWhiteboardView=function(){return this.curWhiteboardView},e.prototype.findWhiteboardView=function(e){return this.whiteboardViews[e]||this.whiteboardViews[0]},e.prototype.switchWhiteboardView=function(e){this.curWhiteboardView=this.whiteboardViews[e],this.curDocsView=this.docsViews[e]},e.prototype.insertView=function(e,t,o){this.whiteboardViews[e]=t,this.docsViews[e]=o,this.model.whiteboardIDList[e]=t.getID()},e.prototype.getModel=function(){return this.model},e.prototype.getPageCount=function(){var e=this.curWhiteboardView.getPageCount();return y.a.getInstance().info1(b.c.API_getPageCount,{pageCount:e}),e},e.prototype.getCurrentPage=function(){var e=this.curWhiteboardView.getCurrentPage();return y.a.getInstance().info1(b.c.API_getCurrentPage,{currentPage:e}),e},e.prototype.getCurrentStep=function(){var e=this.curDocsView?this.curDocsView.getCurrentStep():1;return y.a.getInstance().info1(b.c.API_getCurrentStep,{currentStep:e}),e},e.prototype.getVisibleSize=function(){var e=this.curWhiteboardView.getVisibleSize();return y.a.getInstance().info1(b.c.API_getVisibleSize,{visibleSize:e}),e},e.prototype.flipToPage=function(e){y.a.getInstance().info1(b.c.API_flipToPage,{page:e});var t=(e-1)/this.getPageCount();return y.a.getInstance().info1(b.c.FlipToPage,{percent:t}),this.model.fileID?this.curWhiteboardView.scroll(0,t):this.curWhiteboardView.scroll(t,0)},e.prototype.flipToPrePage=function(){var e=this.getCurrentPage();return y.a.getInstance().info1(b.c.API_flipToPrePage,{page:e-1}),e>1&&this.flipToPage(e-1)},e.prototype.flipToNextPage=function(){var e=this.getCurrentPage();return y.a.getInstance().info1(b.c.API_flipToNextPage,{page:e+1}),e<this.getPageCount()&&this.flipToPage(e+1)},e.prototype.switchSpeaker=function(e){var t=this;return y.a.getInstance().info1(b.c.API_switchSpeaker,{label:e}),new Promise((function(o,r){return q(t,void 0,void 0,(function(){var t,i;return B(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),this.curDocsView?[4,this.curDocsView.switchSpeaker(e)]:[2,o(!0)];case 1:return t=n.sent(),o(t),[3,3];case 2:return i=n.sent(),r(M(i.code,i.message)),[3,3];case 3:return[2]}}))}))}))},e.prototype.preStep=function(){y.a.getInstance().info1(b.c.API_preStep,"API.preStep"),this.curDocsView&&this.curDocsView.previousStep()},e.prototype.nextStep=function(){y.a.getInstance().info1(b.c.API_nextStep),this.curDocsView&&this.curDocsView.nextStep()},e.prototype.addText=function(e,t,o){y.a.getInstance().info1(b.c.API_addText,{text:e,positionX:t,positionY:o}),this.curWhiteboardView.addText(e,t,o)},e.prototype.addImage=function(e,t,o,r,i){var n=this;return y.a.getInstance().info1(b.c.API_addImage,{type:e,positionX:t,positionY:o,address:r}),new Promise((function(a,s){return q(n,void 0,void 0,(function(){var n,c,l;return B(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,this.curWhiteboardView.addImage(e,t,o,r,i)];case 1:return n=u.sent(),a(n),[3,3];case 2:return c=u.sent(),l=M(c.code,c.msg),y.a.getInstance().error1(b.c.API_addImage,{transErr:l}),s(l),[3,3];case 3:return[2]}}))}))}))},e.prototype.setBackgroundImage=function(e,t,o){var r=this;return y.a.getInstance().info1(b.c.API_setBackgroundImage,{address:e,mode:t}),new Promise((function(i,n){return q(r,void 0,void 0,(function(){var r,a,s;return B(this,(function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,this.curWhiteboardView.setBackgroundImage(e,t,o)];case 1:return r=c.sent(),i(r),[3,3];case 2:return a=c.sent(),s=M(a.code,a.msg),y.a.getInstance().error1(b.c.API_setBackgroundImage,s),n(s),[3,3];case 3:return[2]}}))}))}))},e.prototype.clearBackgroundImage=function(){y.a.getInstance().info1(b.c.API_clearBackgroundImage),this.curWhiteboardView.clearBackgroundImage()},e.prototype.clearAllPage=function(){return y.a.getInstance().info1(b.c.API_clearAllPage),this.curWhiteboardView.clear()},e.prototype.clearCurrentPage=function(){y.a.getInstance().info1(b.c.API_clearCurrentPage),this.curWhiteboardView.clearCurrentPage()},e.prototype.clearSelected=function(){y.a.getInstance().info1(b.c.API_clearSelected),this.curWhiteboardView.deleteSelectedGraphics()},e.prototype.undo=function(){y.a.getInstance().info1(b.c.API_undo),this.curWhiteboardView.undo()},e.prototype.redo=function(){y.a.getInstance().info1(b.c.API_redo),this.curWhiteboardView.redo()},e.prototype.setScaleFactor=function(e,t,o){y.a.getInstance().info1(b.c.API_setScaleFactor,{scaleFactor:e,scaleOffsetX:t,scaleOffsetY:o}),this.curWhiteboardView.setScaleFactor(e,t,o)},e.prototype.getScaleFactor=function(){var e=this.curWhiteboardView.getScaleFactor();return y.a.getInstance().info1(b.c.API_getScaleFactor,{scaleFactor:e}),e},e.prototype.setOperationMode=function(e){y.a.getInstance().info1(b.c.API_setOperationMode,{mode:e}),this.curWhiteboardView.setWhiteboardOperationMode(e)},e.prototype.snapshot=function(e){var t=this;return y.a.getInstance().info1(b.c.API_snapshot,{customData:e}),new Promise((function(o,r){return q(t,void 0,void 0,(function(){var t,i;return B(this,(function(n){try{t=this.curWhiteboardView.snapshot(e),o(t)}catch(e){i=M(e.code,e.msg),r(i)}return[2]}))}))}))},e.prototype.reloadView=function(e){y.a.getInstance().info1(b.c.API_reloadView),this.curWhiteboardView.reloadView(e)},e.prototype.getCurrentSheetName=function(){var e=this.model.fileID&&this.model.fileType===l.ELS?this.curWhiteboardView.getFileInfo().fileName:"";return y.a.getInstance().info1(b.c.API_getCurrentSheetName,{currentSheetName:e}),e},e.prototype.getExcelSheetNameList=function(){var e=this.curDocsView?this.curDocsView.getExcelSheetNameList():[];return y.a.getInstance().info1(b.c.API_getExcelSheetNameList,{list:e}),e},e.prototype.getThumbnailUrlList=function(){var e=this.curDocsView?this.curDocsView.getThumbnailUrlList():[];return y.a.getInstance().info1(b.c.API_getThumbnailUrlList,{list:e}),e},e.prototype.getPPTNotes=function(e){var t=this.curDocsView?this.curDocsView.getPPTNotes(e):"";return y.a.getInstance().info1(b.c.API_getPPTNotes,{page:e,notes:t}),t},e.prototype.stopPlayPPTVideo=function(e){y.a.getInstance().info1(b.c.API_stopPlayPPTVideo,{page:e}),this.curDocsView&&this.curDocsView.stopPlay(e)},e}(),H=function(e){var t=this;this.standarWebRTC={},this.RTC={},this.RTM={},this.RTC=e,this.RTM=this.RTC.hasOwnProperty("zegoWebRTM")?this.RTC.zegoWebRTM:this.RTC.RTM,this.standarWebRTC={},this.standarWebRTC.RTCType=this.RTC.hasOwnProperty("zegoWebRTM")?1:0,this.standarWebRTC.SDKType=1;var o=this.standarWebRTC.RTCType;this.standarWebRTC.getVersion=function(){return t.standarWebRTC.RTCType?t.RTM.getVersion():e.getCurrentVersion()},this.standarWebRTC.isSwitch=function(){return!!t.RTM.isUseNetAgent&&t.RTM.isUseNetAgent()},this.standarWebRTC.isPB=function(){return!!t.RTM.sendPB},this.standarWebRTC.setDebugVerbose=function(e){if(o)return!!t.RTC.setDebugVerbose&&t.RTC.setDebugVerbose(e)},this.standarWebRTC.setLogConfig=function(){return o?t.RTC.setLogConfig:t.RTC.stateCenter},this.standarWebRTC.getState=function(){return o?t.RTC.zegoWebRTM.stateCenter:t.zegoWebRTC.RTM.stateCenter},this.standarWebRTC.getSocket=function(){var e;return o?t.RTM.socketCenter||(null===(e=t.RTM.modules)||void 0===e?void 0:e.service):t.zegoWebRTC.RTM.service},this.standarWebRTC.getHeader=function(e){return o?t.RTM.getHeader(e):t.zegoWebRTC.RTM.getHeader(e)},this.standarWebRTC.sendMessage=function(e,o,r,i){return t.standarWebRTC.getSocket().sendMessage(e,o,r,i)},this.standarWebRTC.setAccess=function(e){return t.RTM.setAccess(e)},this.standarWebRTC.isUseNetAgent=function(){return!!o&&!!t.RTM.isUseNetAgent&&t.RTM.isUseNetAgent()},this.standarWebRTC.sendSwitchMessage=function(e,r,i,n){return o?t.RTM.sendSwitchMessage(e,r,i,n):t.zegoWebRTC.RTM.sendSwitchMessage(e,r,i,n)},this.standarWebRTC.getReqHead=function(e){var r;if(o){if(r=t.RTM.getReqHead(e))return r}else if(r=t.zegoWebRTC.RTM.getReqHead(e))return r},this.standarWebRTC.onSwitchMessage=function(e){return o?t.RTM.onSwitchMessage(e):t.zegoWebRTC.RTM.onSwitchMessage(e)},this.standarWebRTC.sendPB=function(e){return!!o&&t.RTM.sendPB(e)},this.standarWebRTC.setSdkLoginRelateService=function(e){return o?t.RTM.setSdkLoginRelateService(e):t.zegoWebRTC.RTM.setSdkLoginRelateService(e)},this.standarWebRTC.setProtoFormat=function(e){return!!o&&t.RTM.setProtoFormat(e)},this.standarWebRTC.on=function(e,r){return o?t.RTM.on(e,r):t.zegoWebRTC.RTM.on(e,r)},this.standarWebRTC.off=function(e){return o?t.RTM.off(e):_super.prototype.off.call(t,e)},this.standarWebRTC._on=function(e,r){return o?t.RTC.zegoWebRTM._on(e,r):t.zegoWebRTC.RTM._on(e,r)}},V=function(){return(V=Object.assign||function(e){for(var t,o=1,r=arguments.length;o<r;o++)for(var i in t=arguments[o])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},z=function(e,t,o,r){return new(o||(o=Promise))((function(i,n){function a(e){try{c(r.next(e))}catch(e){n(e)}}function s(e){try{c(r.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},F=function(e,t){var o,r,i,n,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(n){return function(s){return function(n){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,r&&(i=2&n[0]?r.return:n[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,n[1])).done)return i;switch(r=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,r=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==n[0]&&2!==n[0])){a=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){a.label=n[1];break}if(6===n[0]&&a.label<i[1]){a.label=i[1],i=n;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(n);break}i[2]&&a.ops.pop(),a.trys.pop();continue}n=t.call(e,a)}catch(e){n=[6,e],r=0}finally{o=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,s])}}},Z=function(){function e(){this.subViews=[],this.isUseBoardView=!0,this.isLoginAttached=!1,this.viewAddTaskList=[],this.viewAddTaskIndex=0,this.viewAddTaskPending=!1,this.whiteboardViewMaxLength=50,this.localSwitch=!1,this.logConfig={logLevel:"debug",remoteLogLevel:"debug"}}return e.prototype.init=function(e,t){if(e&&t&&t.parentDomID&&t.appID&&t.token||Promise.reject(new Error("参数错误，初始化失败")),Object(y.b)(0,t,"SuperBoard",{SUPER_VER:this.getSDKVersion()}),!Number.isInteger(t.appID))return Promise.reject(new Error("appid must be positive integer number and not empty"));var o=V({userID:"",isTestEnv:!1},t);this.zegoDocsService=new m.a(o);var r=new H(e);return this.zegoWhiteboard=new f.a(new g.a(r)),y.a.getInstance().info1(b.c.Init,t),this.getSuperBoardView().setParentDomID(t.parentDomID),this.bindRoomStateUpdate(),this.bindEvents(),Promise.resolve(!0)},e.prototype.bindRoomStateUpdate=function(){var e=this;v.f.on(v.d.SuperRoomDisConnected,(function(){e.subViews=[],e.isLoginAttached=!1,e.getSuperBoardView().setCurrentSuperBoardSubView(null,0)})),v.f.on(v.d.SuperRoomConnected,(function(){e.connectedSwitchViewEvent()}))},e.prototype.bindEvents=function(){var e=this;v.f.on(v.e.SyncSwitchMod,(function(t,o,r,i){e.onSyncSwitchViewEvent(t,o,r,i)})),v.f.on(v.e.RemoteSwitchMod,(function(t,o){if(e.localSwitch){var r=e.subViews.find((function(e){return e.getModel().uniqueID==t})),i=0;r&&(i=r.getWhiteboardViewList().findIndex((function(e){return e.getID()==o})),v.f.emit(v.e.RemoteSubViewSwitched,t,i))}else if(e.viewAddTaskList.length){e.viewAddTaskHandle({name:"RemoteSwitchMod",fn:function(){return z(e,void 0,void 0,(function(){return F(this,(function(e){switch(e.label){case 0:return[4,this.onRemoteSwitchViewEvent(t,o)];case 1:return e.sent(),[2]}}))}))}})}else e.onRemoteSwitchViewEvent(t,o)})),v.f.on(v.e.RemoteModAdd,(function(t){if(e.isLoginAttached){e.stopVideo();e.viewAddTaskHandle({name:"RemoteModAdd",fn:function(){return z(e,void 0,void 0,(function(){return F(this,(function(e){switch(e.label){case 0:return[4,this.onRemoteModAddEvent(t)];case 1:return e.sent(),[2]}}))}))}})}})),v.f.on(v.e.RemoteModRemoved,(function(t,o){e.viewAddTaskHandle({name:"RemoteModRemoved",fn:function(){e.onRemoteModRemovedEvent(t,o)}})}))},e.prototype.connectedSwitchViewEvent=function(){return z(this,void 0,void 0,(function(){var e,t,o;return F(this,(function(r){switch(r.label){case 0:return this.isLoginAttached?[4,this.querySuperBoardSubViewModelList(!0)]:[2];case 1:return r.sent(),e=this.zegoWhiteboard.getCurrentActivitedView(),t=e[0],o=e[1],t?(v.f.emit(v.e.RemoteSwitchMod,t,o),[2]):[2]}}))}))},e.prototype.viewAddTaskHandle=function(e){return z(this,void 0,void 0,(function(){return F(this,(function(t){switch(t.label){case 0:if(this.viewAddTaskList.push(e),this.viewAddTaskPending&&this.viewAddTaskList.length)return[2];t.label=1;case 1:return this.viewAddTaskIndex<=this.viewAddTaskList.length?(this.viewAddTaskPending=!0,this.viewAddTaskList[this.viewAddTaskIndex]?[4,this.viewAddTaskList[this.viewAddTaskIndex].fn()]:[3,3]):[3,5];case 2:t.sent(),t.label=3;case 3:this.viewAddTaskIndex++,t.label=4;case 4:return[3,1];case 5:return this.viewAddTaskList.length=0,this.viewAddTaskIndex=0,this.viewAddTaskPending=!1,[2]}}))}))},e.prototype.setCustomizedConfig=function(e,t){return y.a.getInstance().info1(b.c.SetCustomizedConfig,{key:e,value:t}),"localSwitch"===e?(this.localSwitch="true"==t,!0):this.zegoDocsService.setConfig(e,t)},e.prototype.getCustomizedConfig=function(e){var t=this.zegoDocsService.getConfig(e);return y.a.getInstance().info1(b.c.GetCustomizedConfig,{key:e,value:t}),t},e.prototype.on=function(e,t){var o;return"error"==e&&t&&(o=function(e){var o=String(e.code);o.startsWith("10")||(o.startsWith("31")||(e=M(e.code,e.msg||e.message)),y.a.getInstance().error1(b.c.OnError,{error:e}),t(e))}),v.f.on(e,o||t)},e.prototype.off=function(e,t){return v.f.off(e,t)},e.prototype.getSDKVersion=function(){return"2.11.0"},e.prototype.getSuperBoardView=function(){var e=j.getInstance();return e.enableUseBoardView(this.isUseBoardView),y.a.getInstance().info1(b.c.API_getSuperBoardView,JSON.stringify(""+!!e)),e},e.prototype.enableSuperBoardView=function(e){y.a.getInstance().info1(b.c.EnableSuperBoardView,{enable:e}),this.isUseBoardView=e},e.prototype.getSuperBoardSubView=function(e){var t=this.isUseBoardView?null:this.subViews.find((function(t){return t.getModel().uniqueID===e}))||null;return y.a.getInstance().info1(b.c.GetSuperBoardSubView,{uniqueID:e,subView:null==t?void 0:t.getModel()}),t},e.prototype.attachSuperBoardSubView=function(e,t){var o=this;if(y.a.getInstance().info1(b.c.AttachSuperBoardSubView,{view:e.getModel(),parentDomID:t}),this.isUseBoardView)return Promise.reject(new Error("仅限于不使用 ZegoSuperBoardView 的场景"));var r=e;if(!r||!r.getCurrentWhiteboardView())return Promise.reject(new Error("白板不存在"));var i=r.getCurrentWhiteboardView(),n=i.getRootDomID();if(n&&n!==t)return y.a.getInstance().error1(b.c.AttachSuperBoardSubView,{rootDomID:n,parentDomID:t}),Promise.reject(new Error("不允许挂载到多个容器"));var a=r.getModel().fileID;return a?new Promise((function(e,r){var n,s=null===(n=i.getFileInfo())||void 0===n?void 0:n.fileName,c=o.zegoDocsService.createView(i.getID(),s);o.zegoDocsService.setDocsViewParent(c,t),c.loadFile(a,"",(function(t){y.a.getInstance().error1(b.c.AttachSuperBoardSubView,{fileID:a,fileName:s,whiteboardID:i.getID(),viewID:t.viewID}),o.zegoWhiteboard.attachView(i,t.viewID).then(e,r)})).catch(r)})):(y.a.getInstance().info1(b.c.AttachSuperBoardSubView,{whiteboardViewID:i.getID(),parentDomID:t}),this.zegoWhiteboard.attachView(i,t))},e.prototype.createWhiteboardView=function(e){return z(this,void 0,void 0,(function(){var t,o,r,i;return F(this,(function(n){switch(n.label){case 0:return n.trys.push([0,5,,6]),this.stopVideo(),[4,this.zegoWhiteboard.getViewList()];case 1:return n.sent().length>=this.whiteboardViewMaxLength?[2,Promise.reject(M(p.ZegoSuperBoardErrorViewNumLimit))]:(e.perPageWidth|=0,e.perPageHeight|=0,e.pageCount|=0,t={uniqueID:A(),name:N(e.name),aspectWidth:e.perPageWidth*e.pageCount,aspectHeight:e.perPageHeight,pageCount:e.pageCount},y.a.getInstance().info1(b.c.CreateWhiteboardView,{model:t}),[4,this.zegoWhiteboard.createView(t)]);case 2:return o=n.sent(),r=new R([o],[],this.localSwitch),this.isUseBoardView?(this.getSuperBoardView().setCurrentSuperBoardSubView(r,0),[4,this.zegoWhiteboard.attachView(o,this.getSuperBoardView().getParentDomID())]):[3,4];case 3:n.sent(),this.zegoWhiteboard.switchView(o.getID()),n.label=4;case 4:return this.subViews.push(r),y.a.getInstance().info1(b.c.API_CreateWhiteboardView,{subViewModel:r.getModel()}),this.lastSwitchUniqueID=t.uniqueID,this.lastSwitchWhiteboardID=o.getID(),[2,r.getModel()];case 5:throw i=n.sent(),M(i.code,i.msg);case 6:return[2]}}))}))},e.prototype.createFileView=function(e){var t=this;return y.a.getInstance().info1(b.c.API_CreateFileView,{config:e}),new Promise((function(o,r){return z(t,void 0,void 0,(function(){var t,i,n,a,s,c,l,u,d,h,_,f,g=this;return F(this,(function(m){switch(m.label){case 0:t=e.fileID,i=this.getSuperBoardView().getParentDomID(),n=A(),a=D(),m.label=1;case 1:return m.trys.push([1,3,,4]),this.stopVideo(),s=this.zegoDocsService.createView(a),[4,this.zegoDocsService.getDocsViewFileInfo(s,e.fileID)];case 2:return c=m.sent(),[3,4];case 3:return l=m.sent(),[2,r(M(l.code,l.msg))];case 4:return[4,this.zegoWhiteboard.getViewList()];case 5:if(u=m.sent(),c.fileType===S.e.ZegoDocsViewFileTypeELS){if((d=null===(f=c.sheets)||void 0===f?void 0:f.length)&&u.length+d>=this.whiteboardViewMaxLength)return r(M(p.ZegoSuperBoardErrorViewNumLimit)),[2]}else if(u.length>=this.whiteboardViewMaxLength)return r(M(p.ZegoSuperBoardErrorViewNumLimit)),[2];return h=function(e){return z(g,void 0,void 0,(function(){var c,l,u,d,p,h,_,f,g,m;return F(this,(function(v){switch(v.label){case 0:y.a.getInstance().info1(b.c.OnCreateView,{fileType:e.fileType,sheets:e.sheets}),v.label=1;case 1:if(v.trys.push([1,16,,17]),e.fileType!==S.e.ZegoDocsViewFileTypeELS)return[3,10];c=e.sheets,l=[],u=[],d=c.length-1,v.label=2;case 2:return d>0?[4,this.createExcelRestFileView(i,n,t,c[d])]:[3,5];case 3:p=v.sent(),h=p[0],_=p[1],l.push(h),u.push(_),v.label=4;case 4:return d--,[3,2];case 5:return[4,this.createAndAttachFileView(n,a,e)];case 6:return f=v.sent(),l.push(f),u.push(s),l.reverse(),u.reverse(),g=new R(l,u,this.localSwitch),this.subViews.push(g),this.isUseBoardView?(this.getSuperBoardView().setCurrentSuperBoardSubView(g,0),y.a.getInstance().info1(b.c.SwitchView,{whiteboardID:a}),[4,this.zegoWhiteboard.attachView(f,e.viewID)]):[3,9];case 7:return v.sent(),[4,this.zegoWhiteboard.switchView(a)];case 8:v.sent(),v.label=9;case 9:return o(g.getModel()),[3,15];case 10:return[4,this.createAndAttachFileView(n,a,e)];case 11:return f=v.sent(),g=new R([f],[s],this.localSwitch),this.subViews.push(g),this.isUseBoardView?(this.getSuperBoardView().setCurrentSuperBoardSubView(g,0),y.a.getInstance().info1(b.c.SwitchView,{whiteboardID:a}),[4,this.zegoWhiteboard.attachView(f,e.viewID)]):[3,14];case 12:return v.sent(),[4,this.zegoWhiteboard.switchView(a)];case 13:v.sent(),v.label=14;case 14:this.lastSwitchUniqueID=n,this.lastSwitchWhiteboardID=a,o(g.getModel()),v.label=15;case 15:return[3,17];case 16:return m=v.sent(),m=M(m.code,m.msg),r(m),[3,17];case 17:return[2]}}))}))},c.fileType!=S.e.ZegoDocsViewFileTypeVideo&&c.fileType!=S.e.ZegoDocsViewFileTypeAudio?[3,7]:[4,s.loadFile(t,"",void 0)];case 6:return _=m.sent(),[2,o(_.fileUrls)];case 7:this.isUseBoardView?(this.zegoDocsService.setDocsViewParent(s,i),s.loadFile(t,"",h).catch((function(e){r(M(e.code,e.msg))}))):(y.a.getInstance().info1(b.c.GetDocsViewFileInfo,{fileID:t}),this.zegoDocsService.getDocsViewFileInfo(s,t).then(h).catch((function(e){r(M(e.code,e.msg))}))),m.label=8;case 8:return[2]}}))}))}))},e.prototype.destroySuperBoardSubView=function(e){var t,o=this;y.a.getInstance().info1(b.c.API_DestroySuperBoardSubView,{uniqueID:e});var r=this.subViews.findIndex((function(t){return t.getModel().uniqueID==e}));if(-1!=r){var i=null===(t=this.getSuperBoardView().getCurrentSuperBoardSubView())||void 0===t?void 0:t.getModel().uniqueID,n=this.subViews.splice(r,1)[0].getWhiteboardViewList().map((function(e){return z(o,void 0,void 0,(function(){return F(this,(function(t){switch(t.label){case 0:return[4,this.zegoWhiteboard.destroyView(e)];case 1:return t.sent(),[2]}}))}))}));return Promise.all(n).then((function(){return z(o,void 0,void 0,(function(){return F(this,(function(e){switch(e.label){case 0:return[4,this.findZorderSubView(i)];case 1:return e.sent(),[2]}}))}))})).catch((function(e){}))}return Promise.reject(new Error("白板不存在"))},e.prototype.findZorderSubView=function(e){return z(this,void 0,void 0,(function(){var t,o,r,i,n;return F(this,(function(a){switch(a.label){case 0:return this.isUseBoardView?0===this.subViews.length?[3,2]:(t=this.zegoWhiteboard.getCurrentActivitedView(),o=t[0],r=t[1],y.a.getInstance().info1(b.c.CurrentActivitedView,{UniqueID:o,whiteboardID:r}),(i=this.subViews.find((function(e){return e.getModel().uniqueID==o})))&&e!==o?(n=i.getWhiteboardViewList().findIndex((function(e){return e.getID()==r})),[4,this.onSyncSwitchViewEvent(o,n)]):[2]):[2];case 1:return a.sent(),[3,3];case 2:this.getSuperBoardView().setCurrentSuperBoardSubView(null,0),a.label=3;case 3:return[2]}}))}))},e.prototype.querySuperBoardSubViewModelList=function(e){return z(this,void 0,void 0,(function(){var t,o,r,i,n,a,s,c,l,u,d,p,h;return F(this,(function(_){switch(_.label){case 0:return this.subViews.length&&!e?(t=this.subViews.map((function(e){return e.getModel()})),y.a.getInstance().info1(b.c.API_querySuperBoardSubViewModelList,{modelList:t}),[2,Promise.resolve(t)]):[4,this.zegoWhiteboard.getViewList()];case 1:o=_.sent(),r={},o.forEach((function(e){var t=e,o=t.getUniqueID();r[o]?r[o].push(t):r[o]=[t]})),i=Object.keys(r),n=function(e){var t,o,n,s;return F(this,(function(c){switch(c.label){case 0:return t=i[e],a.subViews.find((function(e){return e.getModel().uniqueID===t}))?[3,2]:(o=r[t],[4,a.generateDocsViews(o,null===(c=o[0].getFileInfo())||void 0===c?void 0:c.fileID)]);case 1:n=c.sent(),s=new R(o,n,a.localSwitch),a.subViews.push(s),c.label=2;case 2:return[2]}}))},a=this,s=0,_.label=2;case 2:return s<i.length?[5,n(s)]:[3,5];case 3:_.sent(),_.label=4;case 4:return s++,[3,2];case 5:return c=this.zegoWhiteboard.getCurrentActivitedView(),l=c[0],u=c[1],(d=this.subViews.find((function(e){return e.getModel().uniqueID==l})))?(p=d.getWhiteboardViewList().findIndex((function(e){return e.getID()==u})),this.getSuperBoardView().setCurrentSuperBoardSubView(d,p)):this.getSuperBoardView().setCurrentSuperBoardSubView(null,0),this.isLoginAttached=!0,h=this.subViews.map((function(e){return e.getModel()})),y.a.getInstance().info1(b.c.API_querySuperBoardSubViewModelList,{modelList:h}),[2,Promise.resolve(h)]}}))}))},e.prototype.clearCache=function(){return y.a.getInstance().info1(b.c.API_ClearCach,"clearCache"),this.zegoWhiteboard.clear()},e.prototype.setDeferredRenderingTime=function(e){y.a.getInstance().info1(b.c.API_ClearCasetDeferredRenderingTimech,{delay:e}),this.zegoWhiteboard.setDeferredRenderingTime(e)},e.prototype.enableSyncScale=function(e){y.a.getInstance().info1(b.c.API_EnableSyncScale,{enable:e}),this.zegoWhiteboard.enableSyncScale(e)},e.prototype.enableResponseScale=function(e){y.a.getInstance().info1(b.c.API_EnableResponseScale,{enable:e}),this.zegoWhiteboard.enableResponseScale(e)},e.prototype.enableHandwriting=function(e){y.a.getInstance().info1(b.c.API_EnableHandwriting,{enable:e}),this.zegoWhiteboard.enableHandwriting(e)},e.prototype.enableCustomCursor=function(e){y.a.getInstance().info1(b.c.API_EnableCustomCursor,{enable:e}),this.zegoWhiteboard.enableCustomCursor(e)},e.prototype.enableRemoteCursorVisible=function(e){y.a.getInstance().info1(b.c.API_EnableRemoteCursorVisible,{enable:e}),this.zegoWhiteboard.enableRemoteCursorVisible(e)},e.prototype.setCustomCursorAttribute=function(e,t){var o=this;return y.a.getInstance().info1(b.c.API_EnableCustomCursor_Param,{type:e,attr:t}),new Promise((function(r,i){return z(o,void 0,void 0,(function(){var o,n;return F(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,this.zegoWhiteboard.setCustomCursorAttribute(e,t)];case 1:return o=a.sent(),r(o),[3,3];case 2:return n=a.sent(),i(M(n.code,n.msg)),[3,3];case 3:return[2]}}))}))}))},e.prototype.setToolType=function(e){y.a.getInstance().info1(b.c.API_SetToolType,{type:e});var t=Object(w.o)(e);return t&&this.zegoWhiteboard.getActivitedViews().forEach((function(t){return t.setToolType(e)})),t},e.prototype.getToolType=function(){var e=Object(w.e)();return y.a.getInstance().info1(b.c.API_GetToolType,{val:e}),e},e.prototype.setFontBold=function(e){return y.a.getInstance().info1(b.c.API_SetFontBold,{isBold:e}),Object(w.l)(e)},e.prototype.isFontBold=function(){var e=Object(w.f)();return y.a.getInstance().info1(b.c.API_GetToolType_FontBold,{val:e}),e},e.prototype.setFontItalic=function(e){return y.a.getInstance().info1(b.c.API_SetFontItalic,{isItalic:e}),Object(w.m)(e)},e.prototype.isFontItalic=function(){var e=Object(w.g)();return y.a.getInstance().info1(b.c.API_IsFontItalic,{val:e}),e},e.prototype.setFontSize=function(e){y.a.getInstance().info1(b.c.API_SetFontSize,{size:e});var t=Object(w.n)(e);return t&&this.zegoWhiteboard.getActivitedViews().forEach((function(t){return t.setFontSize(e)})),t},e.prototype.getFontSize=function(){var e=Object(w.d)();return y.a.getInstance().info1(b.c.API_GetFontSize,{val:e}),e},e.prototype.setBrushSize=function(e){y.a.getInstance().info1(b.c.API_SetBrushSize,{size:e});var t=Object(w.k)(e);return t&&this.zegoWhiteboard.getActivitedViews().forEach((function(t){return t.setBrushSize(e)})),t},e.prototype.getBrushSize=function(){var e=Object(w.c)();return y.a.getInstance().info1(b.c.API_GetBrushSize,{val:e}),e},e.prototype.setBrushColor=function(e){return y.a.getInstance().info1(b.c.API_SetBrushColor,{color:e}),Object(w.j)(e)},e.prototype.getBrushColor=function(){var e=Object(w.b)();return y.a.getInstance().info1(b.c.API_GetBrushColor,{val:e}),e},e.prototype.setWhiteboardBackgroundColor=function(e){y.a.getInstance().info1(b.c.API_SetWhiteboardBackgroundColor,{color:e});var t=Object(w.i)(e);return t&&this.zegoWhiteboard.getActivitedViews().forEach((function(t){return t.setBackgroundColor(e)})),t},e.prototype.isHandwritingEnabled=function(){var e=Object(w.h)();return y.a.getInstance().info1(b.c.API_IsHandwritingEnabled,{val:e}),e},e.prototype.getWhiteboardBackgroundColor=function(){var e=Object(w.a)();return y.a.getInstance().info1(b.c.API_GetBackgroundColor,{val:e}),e},e.prototype.uploadFile=function(e,t,o,r){var i=this;return y.a.getInstance().info1(b.c.API_UploadFile,{file:e,renderType:t,uploadOptions:r}),new Promise((function(n,a){return z(i,void 0,void 0,(function(){var i,s;return F(this,(function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,this.zegoDocsService.uploadFile(e,t,{},o,r)];case 1:return i=c.sent(),n(i),[3,3];case 2:return s=c.sent(),a(M(s.code,s.msg)),[3,3];case 3:return[2]}}))}))}))},e.prototype.cancelUploadFile=function(e){var t=this;return y.a.getInstance().info1(b.c.API_CancelUploadFile,{fileHash:e}),new Promise((function(o,r){return z(t,void 0,void 0,(function(){var t,i;return F(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.zegoDocsService.cancelUploadFile(e)];case 1:return t=n.sent(),o(t),[3,3];case 2:return i=n.sent(),r(M(i.code,i.msg)),[3,3];case 3:return[2]}}))}))}))},e.prototype.uploadH5File=function(e,t,o){var r=this;return y.a.getInstance().info1(b.c.API_UploadH5File,{fileObject:function(){return{lastModified:e.lastModified,name:e.name,size:e.size,type:e.type}},config:t}),new Promise((function(i,n){return z(r,void 0,void 0,(function(){var r,a;return F(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,this.zegoDocsService.uploadH5File(e,t,o)];case 1:return r=s.sent(),i(r),[3,3];case 2:return a=s.sent(),n(M(a.code,a.msg)),[3,3];case 3:return[2]}}))}))}))},e.prototype.cacheFile=function(e,t){var o=this;return y.a.getInstance().info1(b.c.API_CacheFile,{fileID:e}),new Promise((function(r,i){return z(o,void 0,void 0,(function(){var o,n;return F(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,this.zegoDocsService.cacheFile(e,t)];case 1:return o=a.sent(),r(o),[3,3];case 2:return n=a.sent(),i(M(n.code,n.msg)),[3,3];case 3:return[2]}}))}))}))},e.prototype.cancelCacheFile=function(e){return this.zegoDocsService.cancelCacheFile(e)},e.prototype.setLogConfig=function(e){return e.logLevel&&(this.logConfig.logLevel=e.logLevel),this.zegoDocsService.setLogConfig(e)},e.prototype.clearLog=function(){return y.a.getInstance().uploadLog()},e.prototype.renewToken=function(e){return y.a.getInstance().updateDocToken(e),this.zegoDocsService.renewToken(e)},e.prototype.createAndAttachFileView=function(e,t,o){return z(this,void 0,void 0,(function(){var r;return F(this,(function(i){switch(i.label){case 0:return r={uniqueID:e,name:N(o.name||o.fileName),aspectWidth:o.width,aspectHeight:o.height,pageCount:o.pageCount,fileInfo:{fileID:o.fileID,fileName:o.fileName,fileType:o.fileType}},y.a.getInstance().info1(b.c.CreateAndAttachFileView,{model:r,whiteboardID:t,viewID:o.viewID}),[4,this.zegoWhiteboard.createView(r,t)];case 1:return[2,i.sent()]}}))}))},e.prototype.createExcelRestFileView=function(e,t,o,r){var i=this;return new Promise((function(n,a){var s=D(),c=i.zegoDocsService.createView(s,r);i.isUseBoardView&&i.zegoDocsService.setDocsViewParent(c,e),i.zegoDocsService.getDocsViewFileInfo(c,o).then((function(e){return z(i,void 0,void 0,(function(){var o,i,l;return F(this,(function(u){switch(u.label){case 0:o={uniqueID:t,name:N(e.name),aspectWidth:e.width,aspectHeight:e.height,pageCount:e.pageCount,fileInfo:{fileID:e.fileID,fileName:r,fileType:e.fileType}},y.a.getInstance().info1(b.c.CreateExcelRestFileView,{model:o,whiteboardID:s}),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,this.zegoWhiteboard.createView(o,s)];case 2:return i=u.sent(),n([i,c]),[3,4];case 3:return l=u.sent(),a(M(l.code,l.msg)),[3,4];case 4:return[2]}}))}))}))}))},e.prototype.stopVideo=function(){var e=this.getSuperBoardView().getCurrentSuperBoardSubView();(y.a.getInstance().info1(b.c.StopVideo,{fileID:null==e?void 0:e.getModel().fileID,fileType:null==e?void 0:e.getModel().fileType}),e)&&((e.getModel().fileID&&e.getModel().fileType===l.CustomH5||e.getModel().fileType===l.DynamicPPTH5)&&e.stopPlayPPTVideo(0))},e.prototype.generateDocsViews=function(e,t){var o=this;if(t){var r=e.map((function(e,r){var i=o.zegoDocsService.createView(e.getID(),r);return o.zegoDocsService.getDocsViewFileInfo(i,t).then((function(){return i}))}));return Promise.all(r)}return Promise.resolve([])},e.prototype.emitRemoteSubViewAddEvent=function(e,t,o){var r=this.subViews.find((function(t){return t.getModel().uniqueID===e}));r||(r=new R([t],o?[o]:[],this.localSwitch),this.subViews.push(r)),this.isUseBoardView&&this.getSuperBoardView().setCurrentSuperBoardSubView(r,0),y.a.getInstance().info1(b.c.RemoteSubViewAdd,{uniqueID:e}),v.f.emit(v.e.RemoteSubViewAdd,e)},e.prototype.onSyncSwitchViewEvent=function(e,t,o,r){return z(this,void 0,void 0,(function(){var i,n,a,s,c,u,d,p,h=this;return F(this,(function(_){switch(_.label){case 0:if(!this.isUseBoardView)return[2,r&&r(!1)];if(y.a.getInstance().info1(b.c.OnSyncSwitchViewEvent,{uniqueID:e,sheetIndex:t}),this.stopVideo(),!(i=this.subViews.find((function(t){return t.getModel().uniqueID==e}))))return[3,8];_.label=1;case 1:return _.trys.push([1,6,,7]),i.getModel().fileType===l.ELS?(n=i.getExcelSheetNameList(),t="number"==typeof t?t:+n.findIndex((function(e){return e===i.getCurrentSheetName()}))):t=0,a=i.findWhiteboardView(t),s=a.getID(),[4,this.zegoWhiteboard.switchView(s)];case 2:return _.sent(),c=this.getSuperBoardView().getParentDomID(),(u=i.getModel().fileID)?(d=this.zegoDocsService.createView(s,t),this.zegoDocsService.setDocsViewParent(d,c),this.getSuperBoardView().setCurrentSuperBoardSubView(i,t),d.loadFile(u,"",(function(e){return z(h,void 0,void 0,(function(){var t;return F(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.zegoWhiteboard.attachView(a,e.viewID)];case 1:return i.sent(),o&&o(!0),[3,3];case 2:return t=i.sent(),r&&r(M(t.code,t.msg)),[3,3];case 3:return[2]}}))}))})),[3,5]):[3,3];case 3:return this.getSuperBoardView().setCurrentSuperBoardSubView(i,0),[4,this.zegoWhiteboard.attachView(a,c)];case 4:_.sent(),o&&o(!0),_.label=5;case 5:return this.lastSwitchUniqueID=e,this.lastSwitchWhiteboardID=s,[3,7];case 6:return p=_.sent(),r&&r(M(p.code,p.msg)),[3,7];case 7:return[3,9];case 8:y.a.getInstance().error1(b.c.OnSyncSwitchViewEvent_Error,"白板不存在"),r&&r(new Error("白板不存在")),_.label=9;case 9:return[2]}}))}))},e.prototype.onRemoteSwitchViewEvent=function(e,t){return!this.isUseBoardView||this.lastSwitchUniqueID===e&&this.lastSwitchWhiteboardID===t?(y.a.getInstance().warn1(b.c.OnRemoteSwitchViewEvent,"切换白板与当前展示相同"),Promise.resolve()):this.switchView(e,t)},e.prototype.switchView=function(e,t){return z(this,void 0,void 0,(function(){var o,r,i,n,a,s,c=this;return F(this,(function(l){switch(l.label){case 0:return y.a.getInstance().info1(b.c.SwitchView,{uniqueID:e,whiteboardID:t}),this.stopVideo(),(o=this.subViews.find((function(t){return t.getModel().uniqueID==e})))?(r=o.getWhiteboardViewList().findIndex((function(e){return e.getID()==t})),i=o.findWhiteboardView(r),n=this.getSuperBoardView().getParentDomID(),(a=o.getModel().fileID)?(s=this.zegoDocsService.createView(t,r),this.zegoDocsService.setDocsViewParent(s,n),y.a.getInstance().info1(b.c.SwitchView,{whiteboardID:i.getID(),uniqueID:e,fileID:a,msg:"切换文件白板"}),s.loadFile(a,"",(function(t){return z(c,void 0,void 0,(function(){var n;return F(this,(function(a){switch(a.label){case 0:return y.a.getInstance().info1(b.c.SwitchView_LoadFile,{viewID:t.viewID}),this.getSuperBoardView().setCurrentSuperBoardSubView(o,r),[4,this.zegoWhiteboard.attachView(i,t.viewID)];case 1:return a.sent(),(null==(n=this.getSuperBoardView().getCurrentSuperBoardSubView())?void 0:n.getModel().uniqueID)==e?v.f.emit(v.e.RemoteSubViewExcelSwitched,e,r):v.f.emit(v.e.RemoteSubViewSwitched,e),[2]}}))}))})),[3,3]):[3,1]):[3,4];case 1:return y.a.getInstance().info1(b.c.SwitchView,{whiteboardID:i.getID(),uniqueID:e,msg:"切换白板"}),this.getSuperBoardView().setCurrentSuperBoardSubView(o,0),[4,this.zegoWhiteboard.attachView(i,n)];case 2:l.sent(),v.f.emit(v.e.RemoteSubViewSwitched,e),l.label=3;case 3:this.lastSwitchUniqueID=e,this.lastSwitchWhiteboardID=t,l.label=4;case 4:return[2]}}))}))},e.prototype.onRemoteModAddEvent=function(e){return z(this,void 0,void 0,(function(){var t,o,r,i,n,a,s,c,l,u,d,p,h,_,f;return F(this,(function(g){switch(g.label){case 0:return this.isLoginAttached?(t=this.getSuperBoardView().getParentDomID(),o=e.getID(),r=e.getFileInfo(),i=e.getUniqueID(),y.a.getInstance().info1(b.c.OnRemoteModAddEvent,{uniqueID:i,whiteboardID:o,file:r}),(n=this.subViews.find((function(e){return e.getModel().uniqueID===i})))?r?(s=r.fileID,a=r.fileName,r.fileType!==S.e.ZegoDocsViewFileTypeELS?[3,5]:(u=n.getExcelSheetNameList(),d=u.findIndex((function(e){return e===a})),f=this.zegoDocsService.createView(o,a),this.isUseBoardView&&this.zegoDocsService.setDocsViewParent(f,t),n.getWhiteboardViewList().reduce((function(e,t){return t?++e:e}),0)+1<u.length?[4,this.zegoDocsService.getDocsViewFileInfo(f,s)]:[3,2])):[3,7]:[3,9]):[2];case 1:return g.sent(),n.insertView(d,e,f),[3,4];case 2:return[4,this.zegoDocsService.getDocsViewFileInfo(f,s)];case 3:g.sent(),n.insertView(d,e,f),n.switchWhiteboardView(0),v.f.emit(v.e.RemoteSubViewAdd,i),g.label=4;case 4:return[3,6];case 5:y.a.getInstance().info1(b.c.RemoteSubViewAdd,{uniqueID:i}),v.f.emit(v.e.RemoteSubViewAdd,i),g.label=6;case 6:return[3,8];case 7:y.a.getInstance().info1(b.c.RemoteSubViewAdd,{uniqueID:i}),v.f.emit(v.e.RemoteSubViewAdd,i),g.label=8;case 8:return[3,18];case 9:return r?(s=r.fileID,c=r.fileName,r.fileType!==S.e.ZegoDocsViewFileTypeELS?[3,11]:(f=this.zegoDocsService.createView(o,c),this.isUseBoardView&&this.zegoDocsService.setDocsViewParent(f,t),[4,this.zegoDocsService.getDocsViewFileInfo(f,s)])):[3,17];case 10:return l=g.sent(),u=l.sheets,d=u.findIndex((function(e){return e===c})),(p=this.subViews.find((function(e){return e.getModel().uniqueID===i})))||(_=[],(h=[])[d]=e,_[d]=f,p=new R(h,_,this.localSwitch),this.subViews.push(p),p.switchWhiteboardView(d),this.getSuperBoardView().setCurrentSuperBoardSubView(p,d),1===u.length&&this.emitRemoteSubViewAddEvent(i,e,f)),[3,16];case 11:f=this.zegoDocsService.createView(o),g.label=12;case 12:return g.trys.push([12,14,,15]),[4,this.zegoDocsService.getDocsViewFileInfo(f,s)];case 13:return g.sent(),[3,15];case 14:return g.sent(),[3,15];case 15:this.emitRemoteSubViewAddEvent(i,e,f),g.label=16;case 16:return[3,18];case 17:this.emitRemoteSubViewAddEvent(i,e),g.label=18;case 18:return[2]}}))}))},e.prototype.onRemoteModRemovedEvent=function(e,t){var o=this.subViews.findIndex((function(t){return t.getModel().uniqueID===e}));if(-1==o)y.a.getInstance().info1(b.c.RemoteSubViewRemoved,{uniqueID:e}),v.f.emit(v.e.RemoteSubViewRemoved,e);else{var r=this.subViews[o],i=r.getModel(),n=i.fileType;if(i.fileID&&n==l.ELS){var a=r.getWhiteboardViewList(),s=a.findIndex((function(e){return e.getID()==t}));if(a.splice(s,1),0!==a.reduce((function(e,t){return t?++e:e}),0))return}this.subViews.splice(o,1),this.isUseBoardView&&0===this.subViews.length&&this.getSuperBoardView().setCurrentSuperBoardSubView(null,0),y.a.getInstance().info1(b.c.RemoteSubViewRemoved,{uniqueID:e}),v.f.emit(v.e.RemoteSubViewRemoved,e)}},e}(),G=function(){function e(){if(e.instance)return e.instance;this.zegoSuperBoardService=new Z,e.instance=this}return e.getInstance=function(){return this.instance||(this.instance=new e)},e.prototype.init=function(e,t){return this.zegoSuperBoardService.init(e,t)},e.prototype.setCustomizedConfig=function(e,t){return this.zegoSuperBoardService.setCustomizedConfig(e,t)},e.prototype.getCustomizedConfig=function(e){return this.zegoSuperBoardService.getCustomizedConfig(e)},e.prototype.on=function(e,t){return this.zegoSuperBoardService.on(e,t)},e.prototype.off=function(e,t){return this.zegoSuperBoardService.off(e,t)},e.prototype.getSDKVersion=function(){return this.zegoSuperBoardService.getSDKVersion()},e.prototype.getSuperBoardView=function(){return this.zegoSuperBoardService.getSuperBoardView()},e.prototype.enableSuperBoardView=function(e){this.zegoSuperBoardService.enableSuperBoardView(e)},e.prototype.getSuperBoardSubView=function(e){return this.zegoSuperBoardService.getSuperBoardSubView(e)},e.prototype.attachSuperBoardSubView=function(e,t){return this.zegoSuperBoardService.attachSuperBoardSubView(e,t)},e.prototype.createWhiteboardView=function(e){return this.zegoSuperBoardService.createWhiteboardView(e)},e.prototype.createFileView=function(e){return this.zegoSuperBoardService.createFileView(e)},e.prototype.destroySuperBoardSubView=function(e){return this.zegoSuperBoardService.destroySuperBoardSubView(e)},e.prototype.querySuperBoardSubViewList=function(){return this.zegoSuperBoardService.querySuperBoardSubViewModelList()},e.prototype.clearCache=function(){return this.zegoSuperBoardService.clearCache()},e.prototype.setDeferredRenderingTime=function(e){this.zegoSuperBoardService.setDeferredRenderingTime(e)},e.prototype.enableSyncScale=function(e){this.zegoSuperBoardService.enableSyncScale(e)},e.prototype.enableResponseScale=function(e){this.zegoSuperBoardService.enableResponseScale(e)},e.prototype.enableHandwriting=function(e){this.zegoSuperBoardService.enableHandwriting(e)},e.prototype.enableCustomCursor=function(e){this.zegoSuperBoardService.enableCustomCursor(e)},e.prototype.enableRemoteCursorVisible=function(e){this.zegoSuperBoardService.enableRemoteCursorVisible(e)},e.prototype.setCustomCursorAttribute=function(e,t){return this.zegoSuperBoardService.setCustomCursorAttribute(e,t)},e.prototype.setToolType=function(e){return this.zegoSuperBoardService.setToolType(e)},e.prototype.getToolType=function(){return this.zegoSuperBoardService.getToolType()},e.prototype.setFontBold=function(e){return this.zegoSuperBoardService.setFontBold(e)},e.prototype.isFontBold=function(){return this.zegoSuperBoardService.isFontBold()},e.prototype.setFontItalic=function(e){return this.zegoSuperBoardService.setFontItalic(e)},e.prototype.isFontItalic=function(){return this.zegoSuperBoardService.isFontItalic()},e.prototype.setFontSize=function(e){return this.zegoSuperBoardService.setFontSize(e)},e.prototype.getFontSize=function(){return this.zegoSuperBoardService.getFontSize()},e.prototype.setBrushSize=function(e){return this.zegoSuperBoardService.setBrushSize(e)},e.prototype.getBrushSize=function(){return this.zegoSuperBoardService.getBrushSize()},e.prototype.setBrushColor=function(e){return this.zegoSuperBoardService.setBrushColor(e)},e.prototype.getBrushColor=function(){return this.zegoSuperBoardService.getBrushColor()},e.prototype.setWhiteboardBackgroundColor=function(e){return this.zegoSuperBoardService.setWhiteboardBackgroundColor(e)},e.prototype.getWhiteboardBackgroundColor=function(){return this.zegoSuperBoardService.getWhiteboardBackgroundColor()},e.prototype.isHandwritingEnabled=function(){return this.zegoSuperBoardService.isHandwritingEnabled()},e.prototype.uploadFile=function(e,t,o,r){return this.zegoSuperBoardService.uploadFile(e,t,o,r)},e.prototype.cancelUploadFile=function(e){return this.zegoSuperBoardService.cancelUploadFile(e)},e.prototype.uploadH5File=function(e,t,o){return this.zegoSuperBoardService.uploadH5File(e,t,o)},e.prototype.cacheFile=function(e,t){return this.zegoSuperBoardService.cacheFile(e,t)},e.prototype.cancelCacheFile=function(e){return this.zegoSuperBoardService.cancelCacheFile(e)},e.prototype.setLogConfig=function(e){return this.zegoSuperBoardService.setLogConfig(e)},e.prototype.clearLog=function(){return this.zegoSuperBoardService.clearLog()},e.prototype.renewToken=function(e){return this.zegoSuperBoardService.renewToken(e)},e}()}])}));